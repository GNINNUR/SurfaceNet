---------------- start ----------------
Fri Sep 30 15:45:08 CEST 2016
max threads: 2
max memory: 6000 MB
time limit: 9 hours
gpu device id: 0
.VGGface_MVS-train.sh.1  1
---------------------------------------

This is VGGface_MVS-train5.py
Using gpu device 0: GeForce GTX TITAN X (CNMeM is enabled with initial size: 95.0% of memory, cuDNN 4007)
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
VGGface_MVS-train5.py:243: UserWarning: The parameter 'updates' of theano.function() expects an OrderedDict, got <type 'dict'>. Using a standard dictionary here results in non-deterministic behavior. You should use an OrderedDict if you are using Python 2.7 (theano.compat.OrderedDict for older python), or use a list of (shared, update) pairs. Do not just convert your dictionary to this type before the call as the conversion will still be non-deterministic.
  get_dist_from_feature_embed(feature_embed), updates=updates)
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027210
||Xanchor-Xpos||_2  counter: 
[   1    2    8   15   61  114  233  462  826 1405 2080 2921 3655 4064 3663
 2534 1127  315   31    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    3    7   26   54   59  144  233  366  629 1066 1853 3028 4748
 5605 3847 1491  326   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.55808538  0.58730265  0.61651992  0.64573719  0.67495446  0.70417173
  0.733389    0.76260627  0.79182354  0.82104081  0.85025808  0.87947535
  0.90869262  0.93790989  0.96712716  0.99634443  1.0255617   1.05477897
  1.08399624  1.11321351  1.14243078]
distance difference  counter: 
(array([   5,    5,   18,   35,   97,  227,  544, 1239, 2379, 4281, 5747,
       5150, 2513,  864,  290,   88,   24,   11,    0,    1]), array([ -2.62172490e-01,  -2.24686392e-01,  -1.87200293e-01,
        -1.49714194e-01,  -1.12228096e-01,  -7.47419968e-02,
        -3.72558981e-02,   2.30200589e-04,   3.77162993e-02,
         7.52023980e-02,   1.12688497e-01,   1.50174595e-01,
         1.87660694e-01,   2.25146793e-01,   2.62632892e-01,
         3.00118990e-01,   3.37605089e-01,   3.75091188e-01,
         4.12577286e-01,   4.50063385e-01,   4.87549484e-01]))
||Xanchor-Xpos||_2  counter: 
[   4   12   35   75   94  132  188  286  399  546  684  794  984 1153 1140
  925  578  179   33    5]
||Xanchor-Xneg||_2  counter: 
[   1    1    2    2    2   13   15   37   52   99  130  261  445  758 1185
 1811 1908 1171  314   39]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.3183904   0.35800316  0.39761592  0.43722869  0.47684145  0.51645421
  0.55606697  0.59567974  0.6352925   0.67490526  0.71451803  0.75413079
  0.79374355  0.83335631  0.87296908  0.91258184  0.9521946   0.99180736
  1.03142013  1.07103289  1.11064565]
distance difference  counter: 
(array([   3,   11,    7,   21,   31,   55,   74,  133,  244,  404,  709,
       1180, 1856, 2174, 1037,  248,   45,   10,    3,    1]), array([-0.77440023, -0.70563706, -0.63687388, -0.56811071, -0.49934753,
       -0.43058436, -0.36182118, -0.293058  , -0.22429483, -0.15553165,
       -0.08676848, -0.0180053 ,  0.05075787,  0.11952105,  0.18828422,
        0.2570474 ,  0.32581058,  0.39457375,  0.46333693,  0.5321001 ,
        0.60086328]))
train/val Accuracy = 0.674568415682 / 0.648981324278 
 with threshold: [[ 0.95903686]]
============ epoch 1 ===========
training loss:		0.027198
||Xanchor-Xpos||_2  counter: 
[   2    3   11   22   59  117  273  448  758 1313 2011 2711 3458 3812 3767
 2774 1432  466   72    7]
||Xanchor-Xneg||_2  counter: 
[   1    1    4   10   21   51   65  149  226  372  586  933 1657 2740 4385
 5138 4409 2122  569   79]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56644654  0.59457578  0.62270502  0.65083426  0.67896349  0.70709273
  0.73522197  0.76335121  0.79148045  0.81960968  0.84773892  0.87586816
  0.9039974   0.93212664  0.96025587  0.98838511  1.01651435  1.04464359
  1.07277282  1.10090206  1.1290313 ]
distance difference  counter: 
(array([   5,    6,   12,   26,   61,  150,  323,  742, 1516, 2959, 4765,
       5612, 4334, 2005,  682,  208,   80,   19,   10,    3]), array([-0.2728425 , -0.23669922, -0.20055594, -0.16441265, -0.12826937,
       -0.09212609, -0.05598281, -0.01983953,  0.01630375,  0.05244703,
        0.08859031,  0.12473359,  0.16087687,  0.19702015,  0.23316343,
        0.26930671,  0.30544999,  0.34159327,  0.37773655,  0.41387983,
        0.45002311]))
||Xanchor-Xpos||_2  counter: 
[   8    8   27   68  104  141  225  306  395  548  726  884 1035 1186 1147
  904  419   98   15    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2    2   14   19   32   53   99  143  297  492  879 1436
 1888 1882  820  170   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.31011966  0.35092577  0.39173189  0.432538    0.47334411  0.51415022
  0.55495634  0.59576245  0.63656856  0.67737468  0.71818079  0.7589869
  0.79979302  0.84059913  0.88140524  0.92221136  0.96301747  1.00382358
  1.0446297   1.08543581  1.12624192]
distance difference  counter: 
(array([   2,    1,    4,    6,   22,   31,   43,   92,  121,  242,  435,
        714, 1152, 1951, 2257,  934,  194,   40,    3,    2]), array([-0.86580104, -0.79523138, -0.72466172, -0.65409206, -0.5835224 ,
       -0.51295274, -0.44238309, -0.37181343, -0.30124377, -0.23067411,
       -0.16010445, -0.0895348 , -0.01896514,  0.05160452,  0.12217418,
        0.19274384,  0.2633135 ,  0.33388315,  0.40445281,  0.47502247,
        0.54559213]))
train/val Accuracy = 0.673292797007 / 0.652498180936 
 with threshold: [[ 0.95759949]]
============ epoch 2 ===========
training loss:		0.027185
||Xanchor-Xpos||_2  counter: 
[   1    2    7   26   48  101  234  464  817 1435 2156 2965 3785 4169 3704
 2383  967  231   21    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    6    6   16   39   56  138  224  359  616 1102 1893 3392 5176
 5613 3507 1156  198   21]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.54628223  0.57640423  0.60652624  0.63664824  0.66677024  0.69689225
  0.72701425  0.75713625  0.78725826  0.81738026  0.84750226  0.87762426
  0.90774627  0.93786827  0.96799027  0.99811228  1.02823428  1.05835628
  1.08847829  1.11860029  1.14872229]
distance difference  counter: 
(array([   4,    3,   11,   18,   39,  105,  241,  517,  981, 1934, 3497,
       5026, 5292, 3602, 1476,  505,  171,   64,   21,   11]), array([-0.27787551, -0.24338145, -0.20888738, -0.17439331, -0.13989924,
       -0.10540517, -0.07091111, -0.03641704, -0.00192297,  0.0325711 ,
        0.06706516,  0.10155923,  0.1360533 ,  0.17054737,  0.20504144,
        0.2395355 ,  0.27402957,  0.30852364,  0.34301771,  0.37751177,
        0.41200584]))
||Xanchor-Xpos||_2  counter: 
[  12   11   22   55   72  141  176  285  365  512  653  832 1037 1102 1171
  986  596  183   32    3]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    2    8   11   15   24   48   77  145  247  427  720 1135
 1813 2034 1202  305   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29939803  0.33998971  0.38058138  0.42117305  0.46176472  0.50235639
  0.54294806  0.58353973  0.6241314   0.66472307  0.70531474  0.74590641
  0.78649808  0.82708975  0.86768142  0.90827309  0.94886476  0.98945643
  1.03004811  1.07063978  1.11123145]
distance difference  counter: 
(array([   2,    2,    2,    4,    8,   21,   20,   41,   86,  121,  218,
        355,  718, 1284, 2091, 2301,  780,  157,   28,    7]), array([-0.99250269, -0.91786523, -0.84322777, -0.76859031, -0.69395285,
       -0.61931539, -0.54467793, -0.47004046, -0.395403  , -0.32076554,
       -0.24612808, -0.17149062, -0.09685316, -0.0222157 ,  0.05242176,
        0.12705922,  0.20169668,  0.27633414,  0.3509716 ,  0.42560906,
        0.50024652]))
train/val Accuracy = 0.67624798027 / 0.650739752607 
 with threshold: [[ 0.95712814]]
============ epoch 3 ===========
training loss:		0.027173
||Xanchor-Xpos||_2  counter: 
[   2    2    6   21   49  106  237  453  830 1389 2123 2975 3662 4041 3779
 2437 1094  271   38    3]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    6   23   34   75  142  245  389  611 1050 1863 3261 4984
 5411 3752 1397  253   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.55013579  0.57977959  0.60942339  0.63906719  0.66871099  0.6983548
  0.7279986   0.7576424   0.7872862   0.81693     0.8465738   0.8762176
  0.9058614   0.9355052   0.965149    0.9947928   1.0244366   1.05408041
  1.08372421  1.11336801  1.14301181]
distance difference  counter: 
(array([   1,    2,    2,    3,   16,   39,  106,  253,  624, 1359, 2886,
       4992, 6241, 4466, 1740,  547,  181,   42,   13,    5]), array([-0.35172608, -0.3121221 , -0.27251811, -0.23291412, -0.19331013,
       -0.15370614, -0.11410215, -0.07449816, -0.03489417,  0.00470981,
        0.0443138 ,  0.08391779,  0.12352178,  0.16312577,  0.20272976,
        0.24233375,  0.28193774,  0.32154173,  0.36114571,  0.4007497 ,
        0.44035369]))
||Xanchor-Xpos||_2  counter: 
[   7   11   27   72   80  139  226  308  419  557  727  901 1032 1197 1188
  850  417   78   10    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    3    5   10   18   39   47  111  150  314  515  877 1478
 2057 1736  762  118    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30685577  0.34799394  0.3891321   0.43027027  0.47140844  0.51254661
  0.55368477  0.59482294  0.63596111  0.67709928  0.71823744  0.75937561
  0.80051378  0.84165195  0.88279012  0.92392828  0.96506645  1.00620462
  1.04734279  1.08848095  1.12961912]
distance difference  counter: 
(array([   2,    0,    3,    2,    7,   13,   23,   30,   62,  107,  230,
        340,  667, 1171, 2097, 2359,  918,  171,   37,    7]), array([-1.02106786, -0.94499712, -0.86892638, -0.79285564, -0.71678489,
       -0.64071415, -0.56464341, -0.48857267, -0.41250193, -0.33643119,
       -0.26036045, -0.18428971, -0.10821897, -0.03214823,  0.04392251,
        0.11999325,  0.196064  ,  0.27213474,  0.34820548,  0.42427622,
        0.50034696]))
train/val Accuracy = 0.672591206735 / 0.647889886005 
 with threshold: [[ 0.95587721]]
============ epoch 4 ===========
training loss:		0.027161
||Xanchor-Xpos||_2  counter: 
[   4   10   30   54  110  258  460  826 1348 2019 2727 3498 3866 3764 2702
 1328  434   66   13    1]
||Xanchor-Xneg||_2  counter: 
[   1    4    9   17   35   74  163  226  363  564  998 1694 2835 4361 5429
 4290 1905  482   65    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.59208679  0.62032355  0.64856031  0.67679707  0.70503383  0.73327059
  0.76150734  0.7897441   0.81798086  0.84621762  0.87445438  0.90269114
  0.9309279   0.95916466  0.98740141  1.01563817  1.04387493  1.07211169
  1.10034845  1.12858521  1.15682197]
distance difference  counter: 
(array([   6,    1,   16,   23,   64,  139,  316,  774, 1504, 2898, 4912,
       5706, 4257, 1925,  650,  217,   79,   25,    5,    1]), array([-0.27306664, -0.23683952, -0.20061241, -0.16438529, -0.12815818,
       -0.09193106, -0.05570394, -0.01947683,  0.01675029,  0.0529774 ,
        0.08920452,  0.12543164,  0.16165875,  0.19788587,  0.23411298,
        0.2703401 ,  0.30656722,  0.34279433,  0.37902145,  0.41524856,
        0.45147568]))
||Xanchor-Xpos||_2  counter: 
[   6   11   23   67   70  146  195  309  421  560  708  811 1067 1146 1183
  936  464  108   13    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    7    7   16   36   51  105  141  275  480  823 1412
 1953 1834  930  161   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29883108  0.34005636  0.38128165  0.42250693  0.46373222  0.5049575
  0.54618279  0.58740808  0.62863336  0.66985865  0.71108393  0.75230922
  0.79353451  0.83475979  0.87598508  0.91721036  0.95843565  0.99966093
  1.04088622  1.08211151  1.12333679]
distance difference  counter: 
(array([   3,    0,    2,    2,    6,   13,   29,   33,   61,  124,  204,
        365,  638, 1136, 1864, 2405, 1098,  212,   41,   10]), array([-1.00376129, -0.92929298, -0.85482467, -0.78035636, -0.70588804,
       -0.63141973, -0.55695142, -0.48248311, -0.4080148 , -0.33354649,
       -0.25907817, -0.18460986, -0.11014155, -0.03567324,  0.03879507,
        0.11326338,  0.1877317 ,  0.26220001,  0.33666832,  0.41113663,
        0.48560494]))
train/val Accuracy = 0.67437707288 / 0.648071792384 
 with threshold: [[ 0.95517267]]
untile now, the train_val_mean_acc: [0.66349386643887798]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.270778
||Xanchor-Xpos||_2  counter: 
[   2    1   10   33   70  133  257  516  906 1485 2210 2896 3667 3937 3585
 2400 1069  288   51    2]
||Xanchor-Xneg||_2  counter: 
[   2    2    4    9   18   46   62  156  238  389  670 1129 1870 3275 5008
 5390 3622 1327  271   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56968737  0.59782498  0.62596259  0.6541002   0.68223782  0.71037543
  0.73851304  0.76665065  0.79478827  0.82292588  0.85106349  0.8792011
  0.90733871  0.93547633  0.96361394  0.99175155  1.01988916  1.04802678
  1.07616439  1.104302    1.13243961]
distance difference  counter: 
(array([   1,    1,    8,   10,   40,   89,  180,  491, 1068, 2206, 3815,
       5549, 5456, 3068, 1031,  341,  108,   42,   10,    4]), array([-0.29190072, -0.25548554, -0.21907036, -0.18265517, -0.14623999,
       -0.10982481, -0.07340962, -0.03699444, -0.00057926,  0.03583593,
        0.07225111,  0.10866629,  0.14508148,  0.18149666,  0.21791185,
        0.25432703,  0.29074221,  0.3271574 ,  0.36357258,  0.39998776,
        0.43640295]))
||Xanchor-Xpos||_2  counter: 
[   2    9   13   31   69  108  158  231  369  453  600  799  957 1133 1237
 1092  703  236   44    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    0    4    9   13   19   44   70  130  208  365  617 1112
 1745 2068 1422  377   42]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27686569  0.31781618  0.35876666  0.39971714  0.44066763  0.48161811
  0.5225686   0.56351908  0.60446957  0.64542005  0.68637054  0.72732102
  0.76827151  0.80922199  0.85017247  0.89112296  0.93207344  0.97302393
  1.01397441  1.0549249   1.09587538]
distance difference  counter: 
(array([   1,    0,    1,    4,    6,    6,   23,   48,   75,  137,  247,
        500,  905, 1797, 2658, 1512,  282,   37,    6,    1]), array([-1.04898155, -0.96754652, -0.88611149, -0.80467646, -0.72324144,
       -0.64180641, -0.56037138, -0.47893635, -0.39750133, -0.3160663 ,
       -0.23463127, -0.15319624, -0.07176121,  0.00967381,  0.09110884,
        0.17254387,  0.2539789 ,  0.33541392,  0.41684895,  0.49828398,
        0.57971901]))
train/val Accuracy = 0.674419593503 / 0.637763764249 
 with threshold: [[ 0.95300488]]
============ epoch 1 ===========
training loss:		0.269549
||Xanchor-Xpos||_2  counter: 
[   1    1    1    4   12   35   91  221  512 1029 1771 2744 3951 4633 4324
 2878 1094  203   13    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    6    9   27   83  138  263  489  891 1690 3290 5514
 6181 3808  999  121    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.48377347  0.51679633  0.54981918  0.58284204  0.6158649   0.64888775
  0.68191061  0.71493347  0.74795632  0.78097918  0.81400204  0.84702489
  0.88004775  0.91307061  0.94609346  0.97911632  1.01213918  1.04516203
  1.07818489  1.11120775  1.1442306 ]
distance difference  counter: 
(array([   2,    0,    1,    0,    3,    4,   21,   86,  282,  782, 2185,
       4735, 7305, 5608, 1940,  429,  105,   25,    3,    2]), array([-0.45187557, -0.40491466, -0.35795375, -0.31099285, -0.26403194,
       -0.21707103, -0.17011013, -0.12314922, -0.07618831, -0.02922741,
        0.0177335 ,  0.06469441,  0.11165531,  0.15861622,  0.20557713,
        0.25253803,  0.29949894,  0.34645985,  0.39342075,  0.44038166,
        0.48734257]))
||Xanchor-Xpos||_2  counter: 
[   1    9   15   46   63  112  171  247  361  465  577  818  967 1170 1206
 1122  610  242   41    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    0    4    7   12   22   45   71  141  206  387  649 1129
 1757 2040 1382  355   38]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27867281  0.31904756  0.35942231  0.39979706  0.44017181  0.48054656
  0.52092131  0.56129606  0.60167081  0.64204556  0.68242031  0.72279506
  0.76316981  0.80354456  0.84391931  0.88429406  0.92466881  0.96504356
  1.00541831  1.04579306  1.08616781]
distance difference  counter: 
(array([   1,    4,    0,    2,   10,   21,   38,   66,  103,  206,  357,
        678, 1229, 2242, 2370,  771,  124,   19,    4,    1]), array([-0.96539032, -0.88706618, -0.80874204, -0.7304179 , -0.65209376,
       -0.57376961, -0.49544547, -0.41712133, -0.33879719, -0.26047305,
       -0.1821489 , -0.10382476, -0.02550062,  0.05282352,  0.13114766,
        0.20947181,  0.28779595,  0.36612009,  0.44444423,  0.52276838,
        0.60109252]))
train/val Accuracy = 0.671762054596 / 0.640734901771 
 with threshold: [[ 0.94358432]]
============ epoch 2 ===========
training loss:		0.268345
||Xanchor-Xpos||_2  counter: 
[   1    0    8   19   41   91  222  362  682 1260 1921 2819 3479 4128 3900
 2741 1389  383   71    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    4    4   16   32   49  114  196  314  556  987 1618 2944 4761
 5670 4048 1785  380   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53758806  0.56612832  0.59466857  0.62320883  0.65174909  0.68028934
  0.7088296   0.73736986  0.76591011  0.79445037  0.82299063  0.85153088
  0.88007114  0.9086114   0.93715165  0.96569191  0.99423217  1.02277242
  1.05131268  1.07985294  1.10839319]
distance difference  counter: 
(array([   2,    4,    7,   34,   64,  118,  283,  638, 1284, 2382, 3943,
       5290, 4882, 2867, 1124,  392,  124,   56,   18,    6]), array([-0.25120863, -0.21764936, -0.18409009, -0.15053082, -0.11697155,
       -0.08341227, -0.049853  , -0.01629373,  0.01726554,  0.05082481,
        0.08438408,  0.11794336,  0.15150263,  0.1850619 ,  0.21862117,
        0.25218044,  0.28573971,  0.31929899,  0.35285826,  0.38641753,
        0.4199768 ]))
||Xanchor-Xpos||_2  counter: 
[   3    8   22   44   70  114  138  259  357  467  605  814  998 1156 1222
 1047  664  217   37    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    5    9   13   28   50   74  120  206  377  671 1117
 1794 2087 1325  336   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27601385  0.31606995  0.35612606  0.39618216  0.43623827  0.47629437
  0.51635047  0.55640658  0.59646268  0.63651878  0.67657489  0.71663099
  0.75668709  0.7967432   0.8367993   0.8768554   0.91691151  0.95696761
  0.99702371  1.03707982  1.07713592]
distance difference  counter: 
(array([   1,    1,    1,    3,    9,   22,   27,   55,   85,  146,  257,
        455,  847, 1508, 2390, 1838,  500,   82,   17,    2]), array([-0.9499644 , -0.87615445, -0.8023445 , -0.72853454, -0.65472459,
       -0.58091463, -0.50710468, -0.43329472, -0.35948477, -0.28567481,
       -0.21186486, -0.1380549 , -0.06424495,  0.009565  ,  0.08337496,
        0.15718491,  0.23099487,  0.30480482,  0.37861478,  0.45242473,
        0.52623469]))
train/val Accuracy = 0.673569181053 / 0.639886005336 
 with threshold: [[ 0.93452517]]
============ epoch 3 ===========
training loss:		0.267163
||Xanchor-Xpos||_2  counter: 
[   3    7   24   65  112  229  409  758 1146 1711 2427 3018 3587 3702 3172
 2026  828  242   48    4]
||Xanchor-Xneg||_2  counter: 
[   2    7    9   26   47   41  117  192  289  531  793 1310 2180 3634 4905
 4922 3081 1134  271   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.58420521  0.60989423  0.63558324  0.66127225  0.68696127  0.71265028
  0.7383393   0.76402831  0.78971733  0.81540634  0.84109536  0.86678437
  0.89247339  0.9181624   0.94385142  0.96954043  0.99522945  1.02091846
  1.04660748  1.07229649  1.09798551]
distance difference  counter: 
(array([   2,    4,   12,   41,   83,  235,  524, 1091, 2262, 4158, 5643,
       5209, 2762,  999,  351,   91,   35,    6,    9,    1]), array([-0.24388531, -0.20784454, -0.17180377, -0.135763  , -0.09972224,
       -0.06368147, -0.0276407 ,  0.00840007,  0.04444084,  0.0804816 ,
        0.11652237,  0.15256314,  0.18860391,  0.22464468,  0.26068544,
        0.29672621,  0.33276698,  0.36880775,  0.40484852,  0.44088928,
        0.47693005]))
||Xanchor-Xpos||_2  counter: 
[  12   12   32   58   72  148  182  283  370  484  631  806  982 1141 1162
  989  627  214   38    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    7   13   19   37   45   89  130  215  433  691 1202
 1670 1984 1295  369   46]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30233684  0.34031834  0.37829984  0.41628133  0.45426283  0.49224433
  0.53022582  0.56820732  0.60618882  0.64417031  0.68215181  0.72013331
  0.7581148   0.7960963   0.8340778   0.87205929  0.91004079  0.94802229
  0.98600378  1.02398528  1.06196678]
distance difference  counter: 
(array([   1,    2,    1,   10,    9,   17,   34,   55,   85,  194,  278,
        464,  959, 1670, 2383, 1631,  365,   69,   16,    3]), array([-0.9293592 , -0.85600834, -0.78265748, -0.70930662, -0.63595576,
       -0.5626049 , -0.48925405, -0.41590319, -0.34255233, -0.26920147,
       -0.19585061, -0.12249975, -0.04914889,  0.02420197,  0.09755282,
        0.17090368,  0.24425454,  0.3176054 ,  0.39095626,  0.46430712,
        0.53765798]))
train/val Accuracy = 0.672612467047 / 0.639340286199 
 with threshold: [[ 0.92573218]]
============ epoch 4 ===========
training loss:		0.266003
||Xanchor-Xpos||_2  counter: 
[   3    5   18   37  102  181  360  681 1144 1800 2551 3306 3798 4036 3083
 1693  577  131   11    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    3   10   31   51   90  171  323  557  872 1461 2568 4143 5375
 4751 2388  622   93    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.55823129  0.58554572  0.61286015  0.64017458  0.667489    0.69480343
  0.72211786  0.74943229  0.77674671  0.80406114  0.83137557  0.85869
  0.88600442  0.91331885  0.94063328  0.96794771  0.99526213  1.02257656
  1.04989099  1.07720542  1.10451984]
distance difference  counter: 
(array([   1,    5,   21,   25,   73,  158,  329,  730, 1421, 2480, 3966,
       5091, 4649, 2701, 1215,  412,  161,   42,   25,   13]), array([-0.22663537, -0.19477037, -0.16290537, -0.13104036, -0.09917536,
       -0.06731036, -0.03544536, -0.00358036,  0.02828464,  0.06014964,
        0.09201464,  0.12387964,  0.15574464,  0.18760964,  0.21947464,
        0.25133964,  0.28320464,  0.31506965,  0.34693465,  0.37879965,
        0.41066465]))
||Xanchor-Xpos||_2  counter: 
[   6   15   32   66   77  144  190  308  395  489  658  739  941 1133 1175
 1021  588  223   43    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    4   13   18   36   59   83  133  231  418  689 1145
 1677 1918 1387  369   63]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30501091  0.34220178  0.37939264  0.4165835   0.45377436  0.49096522
  0.52815608  0.56534694  0.6025378   0.63972866  0.67691952  0.71411038
  0.75130124  0.7884921   0.82568296  0.86287382  0.90006468  0.93725554
  0.9744464   1.01163726  1.04882812]
distance difference  counter: 
(array([   1,    3,    1,    5,   12,   19,   30,   57,   86,  153,  274,
        442,  793, 1405, 2271, 1958,  607,  100,   23,    6]), array([-0.90955591, -0.83873597, -0.76791602, -0.69709608, -0.62627614,
       -0.55545619, -0.48463625, -0.4138163 , -0.34299636, -0.27217641,
       -0.20135647, -0.13053653, -0.05971658,  0.01110336,  0.08192331,
        0.15274325,  0.22356319,  0.29438314,  0.36520308,  0.43602303,
        0.50684297]))
train/val Accuracy = 0.669550982226 / 0.641462527286 
 with threshold: [[ 0.91673875]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.658283
||Xanchor-Xpos||_2  counter: 
[   5   15   32   70  159  386  677 1154 1708 2564 3286 3743 3600 2976 1857
  897  323   61    5    0]
||Xanchor-Xneg||_2  counter: 
[   2    2    5   27   41   73  168  303  502  955 1588 2690 3998 4634 4125
 2712 1248  373   66    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.57831281  0.60610131  0.63388981  0.66167831  0.68946681  0.71725531
  0.74504381  0.77283231  0.80062081  0.82840931  0.8561978   0.8839863
  0.9117748   0.9395633   0.9673518   0.9951403   1.0229288   1.0507173
  1.0785058   1.1062943   1.13408279]
distance difference  counter: 
(array([   3,    3,    5,   21,   82,  171,  451, 1056, 2041, 3665, 5396,
       5593, 3282, 1203,  384,  101,   41,   14,    5,    1]), array([ -2.57241398e-01,  -2.20496267e-01,  -1.83751136e-01,
        -1.47006005e-01,  -1.10260874e-01,  -7.35157430e-02,
        -3.67706120e-02,  -2.54809856e-05,   3.67196500e-02,
         7.34647810e-02,   1.10209912e-01,   1.46955043e-01,
         1.83700174e-01,   2.20445305e-01,   2.57190436e-01,
         2.93935567e-01,   3.30680698e-01,   3.67425829e-01,
         4.04170960e-01,   4.40916091e-01,   4.77661222e-01]))
||Xanchor-Xpos||_2  counter: 
[   4    5   16   41   65   86  151  266  361  495  584  885 1008 1173 1228
  995  655  197   31    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    4    6   12   27   44   80  142  206  383  721 1156
 1786 2032 1249  363   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25667989  0.29428853  0.33189718  0.36950582  0.40711446  0.4447231
  0.48233174  0.51994038  0.55754902  0.59515767  0.63276631  0.67037495
  0.70798359  0.74559223  0.78320087  0.82080951  0.85841815  0.8960268
  0.93363544  0.97124408  1.00885272]
distance difference  counter: 
(array([   1,    1,    1,    2,   11,   27,   37,   59,  125,  237,  428,
        770, 1393, 2365, 2121,  533,  108,   20,    6,    1]), array([-0.89995855, -0.82432235, -0.74868615, -0.67304995, -0.59741375,
       -0.52177756, -0.44614136, -0.37050516, -0.29486896, -0.21923276,
       -0.14359656, -0.06796036,  0.00767584,  0.08331204,  0.15894824,
        0.23458444,  0.31022063,  0.38585683,  0.46149303,  0.53712923,
        0.61276543]))
train/val Accuracy = 0.658495620376 / 0.543536260005 
 with threshold: [[ 0.91839693]]
============ epoch 1 ===========
training loss:		2.553697
||Xanchor-Xpos||_2  counter: 
[   3    2    4   29   34  112  284  602 1044 1813 2678 3441 4105 3887 2902
 1701  686  164   27    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    4   14   37   71  147  259  518  972 1674 3001 4478 4988
 4119 2223  837  156   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.47567973  0.50301603  0.53035233  0.55768863  0.58502493  0.61236123
  0.63969753  0.66703383  0.69437013  0.72170643  0.74904273  0.77637904
  0.80371534  0.83105164  0.85838794  0.88572424  0.91306054  0.94039684
  0.96773314  0.99506944  1.02240574]
distance difference  counter: 
(array([   1,    1,    5,   11,   15,   65,  200,  450,  975, 2069, 3719,
       5432, 5507, 3248, 1230,  404,  123,   41,   17,    5]), array([-0.26088363, -0.22563182, -0.19038001, -0.1551282 , -0.11987639,
       -0.08462458, -0.04937277, -0.01412096,  0.02113085,  0.05638266,
        0.09163447,  0.12688628,  0.16213809,  0.1973899 ,  0.23264171,
        0.26789352,  0.30314533,  0.33839713,  0.37364894,  0.40890075,
        0.44415256]))
||Xanchor-Xpos||_2  counter: 
[   6   12   31   53   85  124  205  267  408  532  740  867 1099 1201 1149
  882  459  108   18    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    1    5    4   23   35   46  104  156  296  513  871 1378
 1896 1834  875  190   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25228935  0.28603027  0.31977119  0.35351211  0.38725302  0.42099394
  0.45473486  0.48847577  0.52221669  0.55595761  0.58969852  0.62343944
  0.65718036  0.69092127  0.72466219  0.75840311  0.79214402  0.82588494
  0.85962586  0.89336677  0.92710769]
distance difference  counter: 
(array([   3,    0,    5,    9,   17,   28,   46,   90,  167,  293,  502,
        936, 1749, 2438, 1531,  353,   61,   12,    5,    1]), array([-0.78686446, -0.71648279, -0.64610112, -0.57571945, -0.50533779,
       -0.43495612, -0.36457445, -0.29419278, -0.22381111, -0.15342945,
       -0.08304778, -0.01266611,  0.05771556,  0.12809723,  0.1984789 ,
        0.26886056,  0.33924223,  0.4096239 ,  0.48000557,  0.55038724,
        0.6207689 ]))
train/val Accuracy = 0.658134195085 / 0.541414018918 
 with threshold: [[ 0.83451053]]
============ epoch 2 ===========
training loss:		2.467436
||Xanchor-Xpos||_2  counter: 
[   6   11   16   70  175  340  675 1154 1801 2717 3320 3786 3593 2888 1748
  854  306   46   11    1]
||Xanchor-Xneg||_2  counter: 
[   1    6    9   20   40   90  176  296  545  942 1674 2795 4106 4647 4137
 2456 1185  341   48    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.47612697  0.49927796  0.52242895  0.54557994  0.56873093  0.59188192
  0.61503291  0.63818389  0.66133488  0.68448587  0.70763686  0.73078785
  0.75393884  0.77708983  0.80024082  0.82339181  0.8465428   0.86969379
  0.89284478  0.91599577  0.93914676]
distance difference  counter: 
(array([   1,    4,    6,   31,   77,  184,  481, 1065, 2339, 4238, 5950,
       5239, 2599,  911,  258,   91,   32,    8,    3,    1]), array([-0.20713238, -0.17134114, -0.13554989, -0.09975864, -0.06396739,
       -0.02817615,  0.0076151 ,  0.04340635,  0.07919759,  0.11498884,
        0.15078009,  0.18657134,  0.22236258,  0.25815383,  0.29394508,
        0.32973633,  0.36552757,  0.40131882,  0.43711007,  0.47290132,
        0.50869256]))
||Xanchor-Xpos||_2  counter: 
[   6   11   42   67   85  134  249  307  428  554  736  909 1104 1186 1114
  778  421   99   16    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    7    7   23   40   71  106  173  288  557  901 1460
 1901 1701  834  169    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.242669    0.27263833  0.30260766  0.33257699  0.36254632  0.39251566
  0.42248499  0.45245432  0.48242365  0.51239298  0.54236231  0.57233164
  0.60230097  0.6322703   0.66223963  0.69220896  0.7221783   0.75214763
  0.78211696  0.81208629  0.84205562]
distance difference  counter: 
(array([   3,    1,    5,   18,   25,   43,   53,  104,  188,  278,  471,
        819, 1389, 1974, 1907,  728,  175,   51,   11,    3]), array([-0.62368506, -0.56547169, -0.50725831, -0.44904494, -0.39083157,
       -0.33261819, -0.27440482, -0.21619144, -0.15797807, -0.0997647 ,
       -0.04155132,  0.01666205,  0.07487543,  0.1330888 ,  0.19130217,
        0.24951555,  0.30772892,  0.3659423 ,  0.42415567,  0.48236904,
        0.54058242]))
train/val Accuracy = 0.660515349945 / 0.541414018918 
 with threshold: [[ 0.75787601]]
============ epoch 3 ===========
training loss:		2.396287
||Xanchor-Xpos||_2  counter: 
[   1    0    2    6   26   77  223  482  904 1640 2573 3586 4222 4079 3130
 1687  703  155   19    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    2    8   12   54  101  237  444  841 1628 2959 4495 5249
 4235 2358  745  136   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.37570551  0.3993368   0.42296809  0.44659937  0.47023066  0.49386195
  0.51749324  0.54112453  0.56475582  0.5883871   0.61201839  0.63564968
  0.65928097  0.68291226  0.70654354  0.73017483  0.75380612  0.77743741
  0.8010687   0.82469998  0.84833127]
distance difference  counter: 
(array([   5,   19,   23,   66,  166,  322,  665, 1389, 2484, 3865, 5132,
       4553, 2912, 1162,  487,  170,   63,   19,    9,    7]), array([ -1.15732856e-01,  -8.69134303e-02,  -5.80940045e-02,
        -2.92745788e-02,  -4.55152988e-04,   2.83642728e-02,
         5.71836986e-02,   8.60031243e-02,   1.14822550e-01,
         1.43641976e-01,   1.72461402e-01,   2.01280827e-01,
         2.30100253e-01,   2.58919679e-01,   2.87739105e-01,
         3.16558531e-01,   3.45377956e-01,   3.74197382e-01,
         4.03016808e-01,   4.31836234e-01,   4.60655659e-01]))
||Xanchor-Xpos||_2  counter: 
[   8    9   28   51   77  130  190  296  374  487  663  862 1070 1104 1241
  923  528  180   24    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    0    6    7   17   37   51   97  139  246  448  804 1233
 1817 1917 1090  312   23]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20799668  0.23545962  0.26292256  0.29038549  0.31784843  0.34531137
  0.37277431  0.40023725  0.42770018  0.45516312  0.48262606  0.510089
  0.53755193  0.56501487  0.59247781  0.61994075  0.64740368  0.67486662
  0.70232956  0.7297925   0.75725543]
distance difference  counter: 
(array([   1,    1,    5,    8,   15,   26,   34,   63,  132,  177,  337,
        593, 1063, 1760, 2242, 1325,  347,   86,   25,    6]), array([ -6.56056345e-01,  -5.96415755e-01,  -5.36775166e-01,
        -4.77134576e-01,  -4.17493987e-01,  -3.57853398e-01,
        -2.98212808e-01,  -2.38572219e-01,  -1.78931630e-01,
        -1.19291040e-01,  -5.96504509e-02,  -9.86158848e-06,
         5.96307278e-02,   1.19271317e-01,   1.78911906e-01,
         2.38552496e-01,   2.98193085e-01,   3.57833675e-01,
         4.17474264e-01,   4.77114853e-01,   5.36755443e-01]))
train/val Accuracy = 0.661216940216 / 0.54268736357 
 with threshold: [[ 0.6884843]]
============ epoch 4 ===========
training loss:		2.337605
||Xanchor-Xpos||_2  counter: 
[   1    4   14   36   82  210  442  805 1376 2129 2891 3575 3819 3446 2458
 1434  600  161   31    4]
||Xanchor-Xneg||_2  counter: 
[   1    2    2   12   36   55  121  188  386  647 1155 1997 3135 4343 4603
 3675 2099  811  214   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.3807779   0.39979804  0.41881818  0.43783832  0.45685846  0.4758786
  0.49489874  0.51391888  0.53293902  0.55195916  0.5709793   0.58999944
  0.60901958  0.62803972  0.64705986  0.66608     0.68510014  0.70412028
  0.72314042  0.74216056  0.7611807 ]
distance difference  counter: 
(array([   3,    6,   29,   73,  158,  412,  923, 1930, 3443, 5070, 5479,
       3567, 1548,  552,  207,   77,   27,   10,    2,    2]), array([-0.09806656, -0.06741631, -0.03676606, -0.00611581,  0.02453443,
        0.05518468,  0.08583493,  0.11648518,  0.14713543,  0.17778568,
        0.20843593,  0.23908618,  0.26973642,  0.30038667,  0.33103692,
        0.36168717,  0.39233742,  0.42298767,  0.45363792,  0.48428817,
        0.51493841]))
||Xanchor-Xpos||_2  counter: 
[   8    5   26   45   91  114  197  271  392  512  648  885 1037 1190 1184
  922  530  172   16    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    0    6    5   26   29   47   94  152  240  462  811 1223
 1777 1932 1097  318   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18891039  0.21385509  0.23879978  0.26374448  0.28868917  0.31363387
  0.33857856  0.36352326  0.38846795  0.41341264  0.43835734  0.46330203
  0.48824673  0.51319142  0.53813612  0.56308081  0.5880255   0.6129702
  0.63791489  0.66285959  0.68780428]
distance difference  counter: 
(array([   3,    1,    4,    1,   10,   23,   38,   78,  127,  232,  426,
        777, 1339, 2170, 1982,  785,  190,   49,   10,    1]), array([-0.6008752 , -0.54191901, -0.48296283, -0.42400664, -0.36505046,
       -0.30609427, -0.24713809, -0.1881819 , -0.12922572, -0.07026953,
       -0.01131335,  0.04764284,  0.10659902,  0.16555521,  0.22451139,
        0.28346758,  0.34242376,  0.40137995,  0.46033613,  0.51929232,
        0.5782485 ]))
train/val Accuracy = 0.662088612977 / 0.542444821732 
 with threshold: [[ 0.625056]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027169
||Xanchor-Xpos||_2  counter: 
[   2    0    3   12   39   98  227  450  854 1523 2237 3250 3987 4303 3621
 2056  704  142   10    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    3   18   29   62  102  231  361  705 1234 2233 3945 5603
 5406 2786  718   79    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.54414505  0.57480676  0.60546848  0.6361302   0.66679192  0.69745363
  0.72811535  0.75877707  0.78943878  0.8201005   0.85076222  0.88142394
  0.91208565  0.94274737  0.97340909  1.0040708   1.03473252  1.06539424
  1.09605595  1.12671767  1.15737939]
distance difference  counter: 
(array([   1,    2,    1,    7,   10,   49,  142,  317,  867, 1946, 3783,
       5973, 6009, 3119,  913,  284,   68,   19,    6,    2]), array([-0.34729451, -0.30648644, -0.26567838, -0.22487031, -0.18406225,
       -0.14325418, -0.10244612, -0.06163805, -0.02082999,  0.01997808,
        0.06078614,  0.10159421,  0.14240227,  0.18321034,  0.2240184 ,
        0.26482647,  0.30563453,  0.3464426 ,  0.38725066,  0.42805873,
        0.4688668 ]))
||Xanchor-Xpos||_2  counter: 
[   7    5   35   58   75  144  203  260  403  590  675  852 1102 1116 1241
  866  452  138   24    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    1    5   10   25   30   50   95  143  272  487  817 1338
 1957 1809  983  202   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.31879944  0.35842852  0.3980576   0.43768668  0.47731576  0.51694484
  0.55657392  0.596203    0.63583208  0.67546116  0.71509025  0.75471933
  0.79434841  0.83397749  0.87360657  0.91323565  0.95286473  0.99249381
  1.03212289  1.07175197  1.11138105]
distance difference  counter: 
(array([   1,    1,    1,    7,   15,   18,   36,   74,  111,  186,  360,
        650, 1260, 2090, 2342,  912,  150,   22,    8,    2]), array([-0.92416793, -0.84926496, -0.77436199, -0.69945902, -0.62455605,
       -0.54965308, -0.47475011, -0.39984714, -0.32494417, -0.2500412 ,
       -0.17513824, -0.10023527, -0.0253323 ,  0.04957067,  0.12447364,
        0.19937661,  0.27427958,  0.34918255,  0.42408552,  0.49898849,
        0.57389146]))
train/val Accuracy = 0.671953397398 / 0.637460586951 
 with threshold: [[ 0.95672622]]
============ epoch 1 ===========
training loss:		0.027048
||Xanchor-Xpos||_2  counter: 
[   2    5   22   39   74  167  338  651 1060 1694 2408 3207 3718 3934 3312
 1940  742  181   22    2]
||Xanchor-Xneg||_2  counter: 
[   0    4    3   10   18   57   95  176  282  484  760 1252 2252 3748 5280
 5022 2939  944  174   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.58002472  0.60761384  0.63520297  0.66279209  0.69038122  0.71797034
  0.74555947  0.77314859  0.80073771  0.82832684  0.85591596  0.88350509
  0.91109421  0.93868334  0.96627246  0.99386159  1.02145071  1.04903983
  1.07662896  1.10421808  1.13180721]
distance difference  counter: 
(array([   2,    5,    4,   19,   32,  118,  245,  579, 1355, 2660, 4457,
       5938, 4812, 2236,  721,  237,   71,   19,    6,    2]), array([-0.28811467, -0.25098923, -0.2138638 , -0.17673837, -0.13961294,
       -0.1024875 , -0.06536207, -0.02823664,  0.00888879,  0.04601423,
        0.08313966,  0.12026509,  0.15739052,  0.19451596,  0.23164139,
        0.26876682,  0.30589225,  0.34301769,  0.38014312,  0.41726855,
        0.45439398]))
||Xanchor-Xpos||_2  counter: 
[   7    9   35   60   83  117  210  272  405  517  688  811 1011 1164 1124
  954  544  195   33    7]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    1    9   21   29   53   99  133  243  454  729 1227
 1776 1906 1190  331   41]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.32046896  0.35893696  0.39740496  0.43587296  0.47434096  0.51280896
  0.55127696  0.58974496  0.62821296  0.66668096  0.70514897  0.74361697
  0.78208497  0.82055297  0.85902097  0.89748897  0.93595697  0.97442497
  1.01289297  1.05136097  1.08982897]
distance difference  counter: 
(array([   2,    1,    3,    1,   10,   24,   38,   62,   87,  169,  276,
        543,  919, 1657, 2358, 1633,  376,   67,   14,    6]), array([-0.90084153, -0.82981123, -0.75878093, -0.68775063, -0.61672033,
       -0.54569003, -0.47465973, -0.40362943, -0.33259913, -0.26156883,
       -0.19053853, -0.11950822, -0.04847792,  0.02255238,  0.09358268,
        0.16461298,  0.23564328,  0.30667358,  0.37770388,  0.44873418,
        0.51976448]))
train/val Accuracy = 0.675652691555 / 0.638491389765 
 with threshold: [[ 0.94758689]]
============ epoch 2 ===========
training loss:		0.026929
||Xanchor-Xpos||_2  counter: 
[   3    7   13   32   77  180  376  676 1211 1949 2710 3521 4124 3833 2907
 1446  379   71    3    0]
||Xanchor-Xneg||_2  counter: 
[   0    2    5    8   23   49   97  177  324  534  919 1558 2783 4626 5610
 4422 1930  398   48    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56094581  0.58995868  0.61897156  0.64798443  0.6769973   0.70601018
  0.73502305  0.76403593  0.7930488   0.82206167  0.85107455  0.88008742
  0.90910029  0.93811317  0.96712604  0.99613892  1.02515179  1.05416466
  1.08317754  1.11219041  1.14120328]
distance difference  counter: 
(array([   1,    5,    8,   15,   66,  123,  249,  606, 1158, 2277, 3817,
       5165, 5144, 3098, 1182,  395,  135,   47,   18,    9]), array([-0.26682681, -0.2323575 , -0.1978882 , -0.16341889, -0.12894958,
       -0.09448028, -0.06001097, -0.02554166,  0.00892764,  0.04339695,
        0.07786626,  0.11233556,  0.14680487,  0.18127418,  0.21574348,
        0.25021279,  0.2846821 ,  0.3191514 ,  0.35362071,  0.38809001,
        0.42255932]))
||Xanchor-Xpos||_2  counter: 
[   8   13   25   55   97  137  189  274  430  551  661  853 1074 1223 1203
  886  441  104   22    0]
||Xanchor-Xneg||_2  counter: 
[   0    2    0    3    4    5   18   39   49   87  155  278  510  831 1436
 1958 1804  898  159   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30242398  0.34216962  0.38191526  0.4216609   0.46140654  0.50115218
  0.54089782  0.58064346  0.6203891   0.66013474  0.69988038  0.73962602
  0.77937165  0.81911729  0.85886293  0.89860857  0.93835421  0.97809985
  1.01784549  1.05759113  1.09733677]
distance difference  counter: 
(array([   1,    1,    1,    6,    7,   13,   31,   42,  100,  134,  235,
        459,  849, 1608, 2440, 1834,  402,   64,   15,    4]), array([-0.98485762, -0.90851215, -0.83216669, -0.75582123, -0.67947576,
       -0.6031303 , -0.52678483, -0.45043937, -0.3740939 , -0.29774844,
       -0.22140297, -0.14505751, -0.06871204,  0.00763342,  0.08397889,
        0.16032435,  0.23666981,  0.31301528,  0.38936074,  0.46570621,
        0.54205167]))
train/val Accuracy = 0.677991325793 / 0.640613630851 
 with threshold: [[ 0.93763505]]
============ epoch 3 ===========
training loss:		0.026812
||Xanchor-Xpos||_2  counter: 
[   3   10   24   52  142  253  490  913 1542 2257 3134 3689 4090 3577 2168
  924  223   26    1    0]
||Xanchor-Xneg||_2  counter: 
[   0    3    7   14   30   72  131  204  430  619 1192 2117 3562 5213 5362
 3250 1098  199   14    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.57695931  0.60514074  0.63332217  0.6615036   0.68968503  0.71786647
  0.7460479   0.77422933  0.80241076  0.83059219  0.85877362  0.88695505
  0.91513648  0.94331791  0.97149934  0.99968077  1.0278622   1.05604363
  1.08422506  1.1124065   1.14058793]
distance difference  counter: 
(array([   3,    4,   14,   23,   56,  111,  337,  735, 1637, 3121, 5053,
       5835, 4182, 1682,  504,  152,   55,    9,    4,    1]), array([-0.2727446 , -0.23582586, -0.19890712, -0.16198838, -0.12506964,
       -0.0881509 , -0.05123217, -0.01431343,  0.02260531,  0.05952405,
        0.09644279,  0.13336153,  0.17028027,  0.207199  ,  0.24411774,
        0.28103648,  0.31795522,  0.35487396,  0.3917927 ,  0.42871144,
        0.46563017]))
||Xanchor-Xpos||_2  counter: 
[   5    7   28   42   78  109  183  280  392  544  633  814 1042 1145 1228
 1015  510  164   26    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1    1   10   10   35   44   86  150  229  442  790 1272
 1894 1938 1082  241   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29161721  0.33099777  0.37037833  0.40975889  0.44913945  0.48852001
  0.52790057  0.56728113  0.60666169  0.64604225  0.68542281  0.72480337
  0.76418393  0.80356449  0.84294505  0.8823256   0.92170616  0.96108672
  1.00046728  1.03984784  1.0792284 ]
distance difference  counter: 
(array([   1,    0,    3,    3,    7,   15,   25,   50,   77,  143,  239,
        480,  825, 1534, 2442, 1872,  431,   78,   17,    4]), array([-0.96037978, -0.88575932, -0.81113886, -0.7365184 , -0.66189795,
       -0.58727749, -0.51265703, -0.43803657, -0.36341611, -0.28879565,
       -0.21417519, -0.13955474, -0.06493428,  0.00968618,  0.08430664,
        0.1589271 ,  0.23354756,  0.30816801,  0.38278847,  0.45740893,
        0.53202939]))
train/val Accuracy = 0.674589675993 / 0.639522192578 
 with threshold: [[ 0.93013635]]
============ epoch 4 ===========
training loss:		0.026698
||Xanchor-Xpos||_2  counter: 
[   5    7   19   59  108  236  463  813 1306 1922 2720 3337 3911 3736 2800
 1444  510  109   12    1]
||Xanchor-Xneg||_2  counter: 
[   2    3   10   18   30   64  112  208  361  529  897 1576 2708 4310 5308
 4384 2290  604   92   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.5786463   0.6050753   0.6315043   0.65793329  0.68436229  0.71079129
  0.73722029  0.76364928  0.79007828  0.81650728  0.84293628  0.86936527
  0.89579427  0.92222327  0.94865227  0.97508126  1.00151026  1.02793926
  1.05436826  1.08079726  1.10722625]
distance difference  counter: 
(array([   1,    0,    6,   19,   42,  136,  306,  726, 1501, 3066, 5011,
       5896, 4292, 1746,  509,  188,   52,   15,    4,    2]), array([-0.27740416, -0.24013619, -0.20286823, -0.16560026, -0.12833229,
       -0.09106433, -0.05379636, -0.01652839,  0.02073957,  0.05800754,
        0.09527551,  0.13254347,  0.16981144,  0.20707941,  0.24434737,
        0.28161534,  0.31888331,  0.35615127,  0.39341924,  0.43068721,
        0.46795517]))
||Xanchor-Xpos||_2  counter: 
[   6    7   26   44   81  126  161  268  388  539  633  805 1103 1143 1169
 1014  492  199   38    4]
||Xanchor-Xneg||_2  counter: 
[   0    2    1    1    4   10   20   24   45   90  140  225  424  751 1268
 1835 1966 1110  306   24]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28890866  0.32783003  0.3667514   0.40567277  0.44459414  0.48351552
  0.52243689  0.56135826  0.60027963  0.639201    0.67812237  0.71704374
  0.75596511  0.79488648  0.83380786  0.87272923  0.9116506   0.95057197
  0.98949334  1.02841471  1.06733608]
distance difference  counter: 
(array([   3,    0,    2,    4,    9,   18,   32,   45,   94,  141,  221,
        436,  792, 1411, 2127, 2068,  686,  124,   29,    4]), array([-0.91004372, -0.83962927, -0.76921483, -0.69880039, -0.62838595,
       -0.55797151, -0.48755707, -0.41714262, -0.34672818, -0.27631374,
       -0.2058993 , -0.13548486, -0.06507041,  0.00534403,  0.07575847,
        0.14617291,  0.21658735,  0.28700179,  0.35741624,  0.42783068,
        0.49824512]))
train/val Accuracy = 0.677948805171 / 0.639704098957 
 with threshold: [[ 0.92148601]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.265826
||Xanchor-Xpos||_2  counter: 
[   1    7   13   41  104  196  398  783 1325 2055 2865 3556 3878 3489 2566
 1481  567  156   31    6]
||Xanchor-Xneg||_2  counter: 
[   0    1    3    7   35   47  106  195  369  611 1064 1952 3172 4467 4744
 3674 2053  799  200   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.54694384  0.5754358   0.60392775  0.6324197   0.66091166  0.68940361
  0.71789556  0.74638751  0.77487947  0.80337142  0.83186337  0.86035533
  0.88884728  0.91733923  0.94583119  0.97432314  1.00281509  1.03130704
  1.059799    1.08829095  1.1167829 ]
distance difference  counter: 
(array([   1,    0,    4,    4,   25,   61,  153,  378,  975, 2072, 3851,
       5799, 5663, 3136,  998,  297,   72,   23,    3,    3]), array([-0.31721497, -0.27832515, -0.23943534, -0.20054552, -0.16165571,
       -0.12276589, -0.08387608, -0.04498626, -0.00609645,  0.03279337,
        0.07168318,  0.110573  ,  0.14946281,  0.18835263,  0.22724244,
        0.26613226,  0.30502207,  0.34391189,  0.3828017 ,  0.42169152,
        0.46058133]))
||Xanchor-Xpos||_2  counter: 
[  10   10   36   70  108  171  220  344  449  560  709  897 1040 1178 1115
  810  391  109   17    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    4    4   15   25   42   66  107  152  332  507  914 1355
 1922 1744  838  201   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29327357  0.32934008  0.3654066   0.40147311  0.43753963  0.47360614
  0.50967265  0.54573917  0.58180568  0.6178722   0.65393871  0.69000522
  0.72607174  0.76213825  0.79820477  0.83427128  0.8703378   0.90640431
  0.94247082  0.97853734  1.01460385]
distance difference  counter: 
(array([   1,    2,    4,    8,   10,   24,   29,   55,  119,  184,  243,
        468,  801, 1332, 2000, 2000,  781,  139,   41,    5]), array([-0.83319473, -0.76739835, -0.70160198, -0.6358056 , -0.57000922,
       -0.50421284, -0.43841646, -0.37262008, -0.30682371, -0.24102733,
       -0.17523095, -0.10943457, -0.04363819,  0.02215818,  0.08795456,
        0.15375094,  0.21954732,  0.2853437 ,  0.35114008,  0.41693645,
        0.48273283]))
train/val Accuracy = 0.662194914534 / 0.542566092651 
 with threshold: [[ 0.91391065]]
============ epoch 1 ===========
training loss:		0.255365
||Xanchor-Xpos||_2  counter: 
[   4    9   15   53  156  279  528 1068 1539 2319 3114 3696 3788 3245 2175
 1052  374   92   12    0]
||Xanchor-Xneg||_2  counter: 
[   2    5    4   18   33   83  159  237  436  829 1318 2397 3697 4653 4372
 3085 1529  535  112   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.51010245  0.53570935  0.56131625  0.58692314  0.61253004  0.63813694
  0.66374384  0.68935073  0.71495763  0.74056453  0.76617143  0.79177832
  0.81738522  0.84299212  0.86859902  0.89420591  0.91981281  0.94541971
  0.97102661  0.9966335   1.0222404 ]
distance difference  counter: 
(array([   3,    2,    8,   13,   40,   98,  247,  588, 1286, 2506, 4222,
       5727, 5030, 2533,  806,  282,   81,   31,   11,    4]), array([-0.25348434, -0.21786647, -0.18224861, -0.14663074, -0.11101288,
       -0.07539501, -0.03977714, -0.00415928,  0.03145859,  0.06707645,
        0.10269432,  0.13831218,  0.17393005,  0.20954791,  0.24516578,
        0.28078365,  0.31640151,  0.35201938,  0.38763724,  0.42325511,
        0.45887297]))
||Xanchor-Xpos||_2  counter: 
[   5   11   25   49   80  131  218  285  430  531  689  844 1100 1219 1167
  874  440  130   15    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    3    5    8   17   26   53   88  171  296  503  824 1315
 1912 1845  946  215   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24550189  0.27936349  0.31322508  0.34708667  0.38094827  0.41480986
  0.44867146  0.48253305  0.51639465  0.55025624  0.58411784  0.61797943
  0.65184103  0.68570262  0.71956422  0.75342581  0.78728741  0.821149
  0.85501059  0.88887219  0.92273378]
distance difference  counter: 
(array([   1,    3,    6,    2,    7,   20,   33,   53,  101,  180,  308,
        511,  969, 1690, 2334, 1539,  402,   68,   15,    4]), array([-0.82909989, -0.76069399, -0.69228809, -0.6238822 , -0.5554763 ,
       -0.4870704 , -0.4186645 , -0.3502586 , -0.2818527 , -0.2134468 ,
       -0.1450409 , -0.076635  , -0.0082291 ,  0.0601768 ,  0.1285827 ,
        0.1969886 ,  0.2653945 ,  0.3338004 ,  0.4022063 ,  0.4706122 ,
        0.53901809]))
train/val Accuracy = 0.659324772515 / 0.546082949309 
 with threshold: [[ 0.82988617]]
============ epoch 2 ===========
training loss:		0.246738
||Xanchor-Xpos||_2  counter: 
[   2    7    9   24   62  168  387  796 1460 2237 3221 3945 4122 3497 2240
  982  281   69    8    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    3   10   24   63   91  205  367  693 1250 2343 3904 5081 4658
 3125 1319  327   51    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.43542603  0.46079303  0.48616003  0.51152702  0.53689402  0.56226102
  0.58762802  0.61299502  0.63836202  0.66372902  0.68909602  0.71446302
  0.73983002  0.76519702  0.79056402  0.81593101  0.84129801  0.86666501
  0.89203201  0.91739901  0.94276601]
distance difference  counter: 
(array([   2,    3,    7,   24,   48,  130,  296,  650, 1430, 2805, 4519,
       5744, 4466, 2188,  803,  267,  100,   31,    3,    2]), array([-0.20747434, -0.17403348, -0.14059262, -0.10715176, -0.07371091,
       -0.04027005, -0.00682919,  0.02661167,  0.06005252,  0.09349338,
        0.12693424,  0.1603751 ,  0.19381595,  0.22725681,  0.26069767,
        0.29413852,  0.32757938,  0.36102024,  0.3944611 ,  0.42790195,
        0.46134281]))
||Xanchor-Xpos||_2  counter: 
[   6   18   32   65   87  163  187  329  408  527  671  870 1073 1132 1134
  865  487  166   25    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    4    5    9   27   24   58  102  173  289  467  807 1206
 1867 1786 1080  302   38]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2390745   0.2686364   0.29819829  0.32776019  0.35732208  0.38688398
  0.41644588  0.44600777  0.47556967  0.50513157  0.53469346  0.56425536
  0.59381726  0.62337915  0.65294105  0.68250295  0.71206484  0.74162674
  0.77118864  0.80075053  0.83031243]
distance difference  counter: 
(array([   2,    4,    9,   12,   23,   36,   49,   98,  181,  286,  494,
        843, 1503, 2075, 1831,  616,  135,   38,    8,    3]), array([-0.66335779, -0.60187482, -0.54039184, -0.47890887, -0.41742589,
       -0.35594292, -0.29445994, -0.23297697, -0.171494  , -0.11001102,
       -0.04852805,  0.01295493,  0.0744379 ,  0.13592088,  0.19740385,
        0.25888683,  0.3203698 ,  0.38185278,  0.44333575,  0.50481873,
        0.5663017 ]))
train/val Accuracy = 0.663045326984 / 0.545537230172 
 with threshold: [[ 0.75445622]]
============ epoch 3 ===========
training loss:		0.239627
||Xanchor-Xpos||_2  counter: 
[   1    2   10   32   98  206  427  849 1353 2120 2874 3508 3880 3536 2562
 1343  574  121   22    0]
||Xanchor-Xneg||_2  counter: 
[   0    1   10    7   24   59   97  192  360  662 1146 1984 3315 4443 4566
 3647 2023  789  160   33]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.41068178  0.43212975  0.45357772  0.47502568  0.49647365  0.51792161
  0.53936958  0.56081754  0.58226551  0.60371347  0.62516144  0.6466094
  0.66805737  0.68950534  0.7109533   0.73240127  0.75384923  0.7752972
  0.79674516  0.81819313  0.83964109]
distance difference  counter: 
(array([   1,    1,    2,   10,   40,  107,  273,  683, 1648, 3183, 5331,
       6226, 3885, 1468,  459,  134,   51,   13,    2,    1]), array([-0.21060805, -0.1745514 , -0.13849475, -0.10243809, -0.06638144,
       -0.03032479,  0.00573186,  0.04178851,  0.07784517,  0.11390182,
        0.14995847,  0.18601512,  0.22207177,  0.25812842,  0.29418508,
        0.33024173,  0.36629838,  0.40235503,  0.43841168,  0.47446834,
        0.51052499]))
||Xanchor-Xpos||_2  counter: 
[   5   10   21   54   70  124  198  251  392  531  647  844 1044 1164 1148
  973  552  190   24    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    2   10   15   30   51   77  142  248  465  741 1172
 1826 1933 1149  341   42]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19900361  0.22679212  0.25458063  0.28236914  0.31015766  0.33794617
  0.36573468  0.39352319  0.42131171  0.44910022  0.47688873  0.50467724
  0.53246576  0.56025427  0.58804278  0.61583129  0.64361981  0.67140832
  0.69919683  0.72698534  0.75477386]
distance difference  counter: 
(array([   2,    4,    3,   13,   26,   22,   45,   83,  138,  255,  381,
        676, 1118, 1855, 2080, 1129,  329,   63,   19,    5]), array([-0.61767888, -0.5600765 , -0.50247412, -0.44487174, -0.38726937,
       -0.32966699, -0.27206461, -0.21446223, -0.15685985, -0.09925747,
       -0.04165509,  0.01594729,  0.07354966,  0.13115204,  0.18875442,
        0.2463568 ,  0.30395918,  0.36156156,  0.41916394,  0.47676632,
        0.53436869]))
train/val Accuracy = 0.66009014372 / 0.543718166384 
 with threshold: [[ 0.68580873]]
============ epoch 4 ===========
training loss:		0.233764
||Xanchor-Xpos||_2  counter: 
[   4   18   39   80  160  334  704 1167 1843 2649 3277 3770 3581 2883 1823
  876  244   55    8    3]
||Xanchor-Xneg||_2  counter: 
[   0    2   10   17   45   81  175  337  514  930 1607 2773 4042 4587 4007
 2678 1247  390   64   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.39163944  0.41061885  0.42959826  0.44857767  0.46755708  0.4865365
  0.50551591  0.52449532  0.54347473  0.56245414  0.58143355  0.60041296
  0.61939237  0.63837178  0.65735119  0.6763306   0.69531001  0.71428943
  0.73326884  0.75224825  0.77122766]
distance difference  counter: 
(array([   4,   10,   17,   37,   85,  215,  515, 1049, 2285, 3946, 5405,
       5189, 2955, 1214,  392,  133,   48,   12,    5,    2]), array([-0.13144943, -0.09977689, -0.06810434, -0.0364318 , -0.00475925,
        0.02691329,  0.05858584,  0.09025838,  0.12193093,  0.15360347,
        0.18527602,  0.21694856,  0.24862111,  0.28029365,  0.3119662 ,
        0.34363874,  0.37531129,  0.40698383,  0.43865637,  0.47032892,
        0.50200146]))
||Xanchor-Xpos||_2  counter: 
[   3    7   22   28   86  123  182  277  384  478  629  776 1022 1177 1226
  988  588  205   40    5]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    4    7   16   24   46   82  129  242  432  725 1110
 1692 1955 1309  427   44]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17493342  0.20038729  0.22584117  0.25129504  0.27674892  0.30220279
  0.32765667  0.35311055  0.37856442  0.4040183   0.42947217  0.45492605
  0.48037992  0.5058338   0.53128767  0.55674155  0.58219542  0.6076493
  0.63310317  0.65855705  0.68401092]
distance difference  counter: 
(array([   2,    2,    7,   10,   16,   33,   56,  124,  182,  276,  552,
        909, 1630, 2164, 1622,  505,  118,   29,    8,    1]), array([-0.56176126, -0.50426228, -0.44676331, -0.38926433, -0.33176535,
       -0.27426638, -0.2167674 , -0.15926842, -0.10176945, -0.04427047,
        0.01322851,  0.07072748,  0.12822646,  0.18572544,  0.24322441,
        0.30072339,  0.35822237,  0.41572134,  0.47322032,  0.5307193 ,
        0.58821827]))
train/val Accuracy = 0.660536610256 / 0.546143584768 
 with threshold: [[ 0.62302951]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.361763
||Xanchor-Xpos||_2  counter: 
[  29  296 1371 2345 2244 2105 1959 1843 1626 1527 1468 1417 1268 1187 1018
  808  599  313   86    8]
||Xanchor-Xneg||_2  counter: 
[   8   85  571 1966 2368 2041 1912 1873 1664 1581 1425 1337 1317 1194 1163
 1098  872  662  329   52]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25793508  0.3005843   0.34323352  0.38588274  0.42853196  0.47118118
  0.5138304   0.55647962  0.59912884  0.64177806  0.68442728  0.7270765
  0.76972572  0.81237494  0.85502416  0.89767338  0.9403226   0.98297182
  1.02562104  1.06827026  1.11091948]
distance difference  counter: 
(array([   2,    3,    8,   25,   35,  133,  286,  655, 1312, 2438, 3564,
       4225, 3991, 3401, 2186,  930,  241,   65,   16,    2]), array([ -2.24194646e-01,  -1.86908787e-01,  -1.49622929e-01,
        -1.12337071e-01,  -7.50512123e-02,  -3.77653539e-02,
        -4.79495525e-04,   3.68063629e-02,   7.40922213e-02,
         1.11378080e-01,   1.48663938e-01,   1.85949796e-01,
         2.23235655e-01,   2.60521513e-01,   2.97807372e-01,
         3.35093230e-01,   3.72379088e-01,   4.09664947e-01,
         4.46950805e-01,   4.84236664e-01,   5.21522522e-01]))
||Xanchor-Xpos||_2  counter: 
[   8   23   27   51   91  127  227  279  402  488  680  812 1012 1189 1143
  984  517  163   23    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    4    3    7   18   33   52  110  125  232  436  760 1255
 1850 1921 1106  297   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11985958  0.13462232  0.14938505  0.16414778  0.17891051  0.19367324
  0.20843598  0.22319871  0.23796144  0.25272417  0.2674869   0.28224964
  0.29701237  0.3117751   0.32653783  0.34130056  0.3560633   0.37082603
  0.38558876  0.40035149  0.41511422]
distance difference  counter: 
(array([   1,    1,    4,    9,   33,   46,  107,  222,  427,  815, 1524,
       2416, 1794,  632,  149,   51,   12,    1,    1,    1]), array([-0.22871564, -0.18065597, -0.1325963 , -0.08453663, -0.03647696,
        0.01158271,  0.05964238,  0.10770206,  0.15576173,  0.2038214 ,
        0.25188107,  0.29994074,  0.34800041,  0.39606008,  0.44411976,
        0.49217943,  0.5402391 ,  0.58829877,  0.63635844,  0.68441811,
        0.73247778]))
train/val Accuracy = 0.52855259801 / 0.5 
 with threshold: [[ 0.63174871]]
============ epoch 1 ===========
training loss:		2.101529
||Xanchor-Xpos||_2  counter: 
[  49  433 1589 2436 2387 2092 1878 1849 1634 1617 1433 1388 1291 1142  956
  689  418  203   30    4]
||Xanchor-Xneg||_2  counter: 
[  14  125  817 2118 2295 2203 1956 1780 1678 1521 1481 1428 1315 1182 1132
  983  775  548  152   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.09861294  0.11481012  0.1310073   0.14720447  0.16340165  0.17959883
  0.19579601  0.21199318  0.22819036  0.24438754  0.26058472  0.27678189
  0.29297907  0.30917625  0.32537343  0.3415706   0.35776778  0.37396496
  0.39016213  0.40635931  0.42255649]
distance difference  counter: 
(array([   2,    2,    5,   18,   53,  157,  466, 1076, 1904, 2417, 2674,
       2749, 2846, 2758, 2729, 2250, 1058,  282,   60,   12]), array([ 0.08664864,  0.11654591,  0.14644318,  0.17634044,  0.20623771,
        0.23613498,  0.26603224,  0.29592951,  0.32582678,  0.35572404,
        0.38562131,  0.41551858,  0.44541584,  0.47531311,  0.50521038,
        0.53510764,  0.56500491,  0.59490218,  0.62479944,  0.65469671,
        0.68459398]))
||Xanchor-Xpos||_2  counter: 
[   7   11   19   62   67  143  199  324  403  548  719  900 1134 1243 1202
  874  318   70    3    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    4    4   13   20   34   62   94  181  270  566  907 1572
 2050 1728  629  103    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04137935  0.04728201  0.05318466  0.05908732  0.06498998  0.07089263
  0.07679529  0.08269794  0.0886006   0.09450325  0.10040591  0.10630856
  0.11221122  0.11811387  0.12401653  0.12991918  0.13582184  0.14172449
  0.14762715  0.1535298   0.15943246]
distance difference  counter: 
(array([   1,    2,    2,   25,   64,  144,  314,  652, 1155, 1730, 1789,
       1166,  598,  304,  150,   82,   35,   21,    8,    4]), array([ 0.39370912,  0.41296564,  0.43222215,  0.45147867,  0.47073518,
        0.48999169,  0.50924821,  0.52850472,  0.54776124,  0.56701775,
        0.58627427,  0.60553078,  0.62478729,  0.64404381,  0.66330032,
        0.68255684,  0.70181335,  0.72106987,  0.74032638,  0.7595829 ,
        0.77883941]))
train/val Accuracy = 0.529275448593 / 0.5 
 with threshold: [[ 0.23536535]]
============ epoch 2 ===========
training loss:		2.065739
||Xanchor-Xpos||_2  counter: 
[  28  281 1377 2433 2398 2171 2025 1859 1655 1631 1422 1417 1268 1167  956
  773  426  189   37    5]
||Xanchor-Xneg||_2  counter: 
[   9   86  514 1820 2346 2233 2059 1883 1722 1573 1578 1392 1295 1273 1152
 1001  847  538  166   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03711224  0.04315057  0.04918891  0.05522724  0.06126558  0.06730391
  0.07334224  0.07938058  0.08541891  0.09145725  0.09749558  0.10353391
  0.10957225  0.11561058  0.12164892  0.12768725  0.13372558  0.13976392
  0.14580225  0.15184059  0.15787892]
distance difference  counter: 
(array([   3,   26,   60,  235,  635, 1153, 1517, 1776, 1801, 1962, 2034,
       2124, 2202, 2290, 2317, 2063, 1002,  259,   51,    8]), array([ 0.48622733,  0.50416761,  0.52210789,  0.54004817,  0.55798845,
        0.57592873,  0.59386901,  0.61180929,  0.62974957,  0.64768985,
        0.66563013,  0.68357041,  0.70151069,  0.71945097,  0.73739125,
        0.75533153,  0.77327181,  0.79121209,  0.80915237,  0.82709265,
        0.84503293]))
||Xanchor-Xpos||_2  counter: 
[   4   16   29   68  133  211  332  520  697  899 1205 1376 1408  945  336
   53   11    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    3   11   17   33   50  151  224  469  918 1584 2248 1702
  625  157   31   16    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01531022  0.01796267  0.02061511  0.02326756  0.02592001  0.02857245
  0.0312249   0.03387735  0.03652979  0.03918224  0.04183469  0.04448713
  0.04713958  0.04979202  0.05244447  0.05509692  0.05774936  0.06040181
  0.06305426  0.0657067   0.06835915]
distance difference  counter: 
(array([   3,   20,   39,  163,  482, 1242, 2005, 1880, 1196,  630,  296,
        161,   60,   34,   20,    9,    4,    1,    0,    1]), array([ 0.71811545,  0.72870763,  0.7392998 ,  0.74989198,  0.76048416,
        0.77107634,  0.78166851,  0.79226069,  0.80285287,  0.81344505,
        0.82403722,  0.8346294 ,  0.84522158,  0.85581376,  0.86640593,
        0.87699811,  0.88759029,  0.89818247,  0.90877464,  0.91936682,
        0.929959  ]))
train/val Accuracy = 0.532762139638 / 0.5 
 with threshold: [[ 0.08900106]]
============ epoch 3 ===========
training loss:		2.060859
||Xanchor-Xpos||_2  counter: 
[  18  350 1816 3005 2951 2757 2410 2152 1961 1834 1555 1266  889  429  108
   15    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   3   62  633 2049 2722 2669 2421 2219 2102 1953 1920 1647 1361  985  522
  155   66   23    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01493234  0.01781117  0.02069     0.02356883  0.02644766  0.0293265
  0.03220533  0.03508416  0.03796299  0.04084182  0.04372065  0.04659948
  0.04947831  0.05235714  0.05523597  0.05811481  0.06099364  0.06387247
  0.0667513   0.06963013  0.07250896]
distance difference  counter: 
(array([   2,    7,   24,   60,  141,  293,  841, 1357, 1787, 2057, 2116,
       2256, 2326, 2483, 2643, 2562, 1845,  626,   86,    6]), array([ 0.70694274,  0.71797163,  0.72900052,  0.74002941,  0.7510583 ,
        0.7620872 ,  0.77311609,  0.78414498,  0.79517387,  0.80620276,
        0.81723166,  0.82826055,  0.83928944,  0.85031833,  0.86134722,
        0.87237611,  0.88340501,  0.8944339 ,  0.90546279,  0.91649168,
        0.92752057]))
||Xanchor-Xpos||_2  counter: 
[  19   94  304  734 1385 2158 2257  952  220   82   24    4    6    2    0
    4    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    1   28   76  298 1007 2492 2526 1045  384  165   82   51   33   22
   10   10    4    7    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00636548  0.00854969  0.01073389  0.0129181   0.0151023   0.01728651
  0.01947071  0.02165491  0.02383912  0.02602332  0.02820753  0.03039173
  0.03257594  0.03476014  0.03694434  0.03912855  0.04131275  0.04349696
  0.04568116  0.04786537  0.05004957]
distance difference  counter: 
(array([   5,    6,    3,    9,   13,   22,   30,   48,   91,  160,  368,
        932, 2327, 2651, 1134,  333,   83,   29,    1,    1]), array([ 0.77374786,  0.78347214,  0.79319641,  0.80292068,  0.81264496,
        0.82236923,  0.83209351,  0.84181778,  0.85154206,  0.86126633,
        0.8709906 ,  0.88071488,  0.89043915,  0.90016343,  0.9098877 ,
        0.91961198,  0.92933625,  0.93906052,  0.9487848 ,  0.95850907,
        0.96823335]))
train/val Accuracy = 0.55710519602 / 0.504001940335 
 with threshold: [[ 0.03604435]]
============ epoch 4 ===========
training loss:		2.060195
||Xanchor-Xpos||_2  counter: 
[ 634 5690 7487 6042 2592  567  215  110   76   49   26   18    7    1    1
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  99 2465 5820 6192 4232 1747  869  509  344  279  244  198  163  148   97
   59   24   20    6    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00749314  0.0108096   0.01412606  0.01744252  0.02075898  0.02407544
  0.0273919   0.03070837  0.03402483  0.03734129  0.04065775  0.04397421
  0.04729067  0.05060713  0.05392359  0.05724005  0.06055651  0.06387297
  0.06718944  0.0705059   0.07382236]
distance difference  counter: 
(array([   8,   19,   22,   36,   87,  107,  132,  169,  179,  223,  273,
        331,  477,  760, 1423, 3549, 5868, 5991, 3439,  425]), array([ 0.67418885,  0.68840694,  0.70262502,  0.71684311,  0.7310612 ,
        0.74527928,  0.75949737,  0.77371545,  0.78793354,  0.80215163,
        0.81636971,  0.8305878 ,  0.84480588,  0.85902397,  0.87324206,
        0.88746014,  0.90167823,  0.91589631,  0.9301144 ,  0.94433249,
        0.95855057]))
||Xanchor-Xpos||_2  counter: 
[ 257 2523 3431 1217  437  191   94   52   19    9    3    4    3    2    2
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  13  622 3390 1980  952  540  255  157  103   68   51   30   32   17    9
   11    5    5    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00321022  0.00645604  0.00970185  0.01294767  0.01619348  0.0194393
  0.02268511  0.02593093  0.02917674  0.03242256  0.03566837  0.03891419
  0.04216     0.04540582  0.04865163  0.05189745  0.05514326  0.05838908
  0.06163489  0.06488071  0.06812652]
distance difference  counter: 
(array([   3,    4,    4,    5,    8,   11,   13,   26,   28,   38,   68,
         93,  125,  225,  397,  762, 1444, 3172, 1740,   80]), array([ 0.67976481,  0.69465606,  0.70954731,  0.72443856,  0.73932981,
        0.75422107,  0.76911232,  0.78400357,  0.79889482,  0.81378607,
        0.82867733,  0.84356858,  0.85845983,  0.87335108,  0.88824233,
        0.90313359,  0.91802484,  0.93291609,  0.94780734,  0.96269859,
        0.97758985]))
train/val Accuracy = 0.619759333277 / 0.55857385399 
 with threshold: [[ 0.01895137]]
============ epoch 5 ===========
training loss:		2.060097
||Xanchor-Xpos||_2  counter: 
[ 3686 11926  4708  1571   704   360   208   118    78    51    49    24
    14     8     5     3     4     0     1     0]
||Xanchor-Xneg||_2  counter: 
[1021 7790 6235 2848 1552 1008  700  495  381  301  225  209  192  177  135
  110   70   45   20    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00428229  0.00868086  0.01307943  0.017478    0.02187657  0.02627514
  0.03067371  0.03507228  0.03947085  0.04386942  0.04826799  0.05266656
  0.05706513  0.0614637   0.06586227  0.07026084  0.07465941  0.07905798
  0.08345655  0.08785512  0.09225369]
distance difference  counter: 
(array([   2,   11,   25,   50,   87,  107,  161,  193,  196,  189,  269,
        375,  456,  655,  913, 1414, 2491, 5452, 8627, 1845]), array([ 0.5537073 ,  0.57484821,  0.59598911,  0.61713002,  0.63827093,
        0.65941183,  0.68055274,  0.70169365,  0.72283455,  0.74397546,
        0.76511636,  0.78625727,  0.80739818,  0.82853908,  0.84967999,
        0.87082089,  0.8919618 ,  0.91310271,  0.93424361,  0.95538452,
        0.97652543]))
||Xanchor-Xpos||_2  counter: 
[1707 3549 1637  708  332  146   87   37   24    4    3    5    2    1    3
    0    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 463 2909 2020 1122  662  407  218  137   91   63   38   35   29   21    8
    6    6    4    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00234633  0.00669675  0.01104717  0.0153976   0.01974802  0.02409844
  0.02844886  0.03279928  0.0371497   0.04150012  0.04585055  0.05020097
  0.05455139  0.05890181  0.06325223  0.06760265  0.07195308  0.0763035
  0.08065392  0.08500434  0.08935476]
distance difference  counter: 
(array([   3,    4,    3,    6,    3,    9,   14,   28,   30,   39,   46,
         83,  132,  209,  359,  640, 1085, 1960, 2963,  630]), array([ 0.57039553,  0.59123556,  0.61207559,  0.63291561,  0.65375564,
        0.67459567,  0.6954357 ,  0.71627572,  0.73711575,  0.75795578,
        0.77879581,  0.79963584,  0.82047586,  0.84131589,  0.86215592,
        0.88299595,  0.90383598,  0.924676  ,  0.94551603,  0.96635606,
        0.98719609]))
train/val Accuracy = 0.624968109533 / 0.587133155469 
 with threshold: [[ 0.01588926]]
============ epoch 6 ===========
training loss:		2.060079
||Xanchor-Xpos||_2  counter: 
[5973 9667 4304 1765  777  412  230  129   90   58   41   28   23   12    6
    1    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[2206 7106 5118 2895 1736 1106  769  558  435  323  233  205  206  161  158
  120   86   65   26    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00299528  0.00818947  0.01338365  0.01857784  0.02377203  0.02896622
  0.03416041  0.0393546   0.04454879  0.04974298  0.05493717  0.06013136
  0.06532555  0.07051974  0.07571393  0.08090812  0.08610231  0.09129649
  0.09649068  0.10168487  0.10687906]
distance difference  counter: 
(array([   6,   23,   55,   72,  114,  138,  154,  191,  196,  239,  318,
        420,  542,  807, 1079, 1788, 2962, 5264, 7190, 1960]), array([ 0.49513263,  0.51970601,  0.54427939,  0.56885277,  0.59342616,
        0.61799954,  0.64257292,  0.6671463 ,  0.69171969,  0.71629307,
        0.74086645,  0.76543984,  0.79001322,  0.8145866 ,  0.83915998,
        0.86373337,  0.88830675,  0.91288013,  0.93745351,  0.9620269 ,
        0.98660028]))
||Xanchor-Xpos||_2  counter: 
[1974 3158 1635  733  377  175   90   46   36    6    4    4    3    1    3
    0    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 755 2552 1935 1148  688  406  268  147  106   72   53   27   30   21   11
    8    5    7    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00194584  0.00674807  0.01155029  0.01635252  0.02115475  0.02595698
  0.03075921  0.03556144  0.04036366  0.04516589  0.04996812  0.05477035
  0.05957258  0.0643748   0.06917703  0.07397926  0.07878149  0.08358372
  0.08838594  0.09318817  0.0979904 ]
distance difference  counter: 
(array([   5,    5,    6,    5,    8,    7,   19,   26,   32,   47,   70,
        101,  151,  251,  417,  712, 1165, 1968, 2531,  720]), array([ 0.54123926,  0.56370897,  0.58617868,  0.6086484 ,  0.63111811,
        0.65358782,  0.67605753,  0.69852724,  0.72099695,  0.74346666,
        0.76593637,  0.78840609,  0.8108758 ,  0.83334551,  0.85581522,
        0.87828493,  0.90075464,  0.92322435,  0.94569407,  0.96816378,
        0.99063349]))
train/val Accuracy = 0.624457862063 / 0.591498908562 
 with threshold: [[ 0.01655747]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.026688
||Xanchor-Xpos||_2  counter: 
[   1    2    2   14   49  149  293  587 1152 1870 2755 3518 4175 3758 2872
 1550  578  162   28    3]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    8   16   37   79  166  288  533  938 1680 3113 4680 5002
 3965 2120  703  170   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.52114499  0.5513247   0.5815044   0.61168411  0.64186382  0.67204353
  0.70222324  0.73240295  0.76258266  0.79276237  0.82294208  0.85312179
  0.8833015   0.91348121  0.94366091  0.97384062  1.00402033  1.03420004
  1.06437975  1.09455946  1.12473917]
distance difference  counter: 
(array([   8,   13,   31,   66,  131,  363,  767, 1470, 2528, 4141, 5281,
       4551, 2592, 1038,  344,  127,   43,   17,    4,    3]), array([-0.20324229, -0.17041591, -0.13758953, -0.10476315, -0.07193677,
       -0.0391104 , -0.00628402,  0.02654236,  0.05936874,  0.09219512,
        0.12502149,  0.15784787,  0.19067425,  0.22350063,  0.25632701,
        0.28915339,  0.32197976,  0.35480614,  0.38763252,  0.4204589 ,
        0.45328528]))
||Xanchor-Xpos||_2  counter: 
[   7   17   42   54  100  137  208  310  430  569  697  840 1106 1130 1090
  860  480  145   19    5]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    4    1   11   17   39   63   97  165  267  485  822 1319
 1835 1833  983  272   33]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29101607  0.32683641  0.36265676  0.3984771   0.43429744  0.47011779
  0.50593813  0.54175847  0.57757881  0.61339916  0.6492195   0.68503984
  0.72086018  0.75668053  0.79250087  0.82832121  0.86414155  0.8999619
  0.93578224  0.97160258  1.00742292]
distance difference  counter: 
(array([   4,    2,    3,   17,   19,   30,   58,   82,  152,  234,  366,
        637, 1051, 1725, 2117, 1304,  350,   68,   21,    6]), array([-0.76743162, -0.70364071, -0.63984981, -0.57605891, -0.51226801,
       -0.4484771 , -0.3846862 , -0.3208953 , -0.2571044 , -0.19331349,
       -0.12952259, -0.06573169, -0.00194079,  0.06185012,  0.12564102,
        0.18943192,  0.25322282,  0.31701373,  0.38080463,  0.44459553,
        0.50838643]))
train/val Accuracy = 0.66400204099 / 0.541899102595 
 with threshold: [[ 0.91501917]]
============ epoch 1 ===========
training loss:		0.025659
||Xanchor-Xpos||_2  counter: 
[   1    0    2   10   23   77  203  438  898 1628 2619 3314 4226 4140 3166
 1849  725  173   21    5]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    4    9   20   60  113  237  415  833 1503 2684 4298 5174
 4388 2619  926  214   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.45134744  0.48004613  0.50874482  0.53744351  0.5661422   0.59484089
  0.62353958  0.65223827  0.68093696  0.70963565  0.73833434  0.76703303
  0.79573172  0.82443041  0.8531291   0.88182779  0.91052648  0.93922517
  0.96792386  0.99662255  1.02532125]
distance difference  counter: 
(array([   1,    4,    7,   19,   57,  169,  388,  880, 1868, 3650, 5563,
       5790, 3395, 1190,  375,  119,   28,   13,    1,    1]), array([-0.25700215, -0.21921104, -0.18141993, -0.14362883, -0.10583772,
       -0.06804661, -0.03025551,  0.0075356 ,  0.0453267 ,  0.08311781,
        0.12090892,  0.15870002,  0.19649113,  0.23428223,  0.27207334,
        0.30986445,  0.34765555,  0.38544666,  0.42323776,  0.46102887,
        0.49881998]))
||Xanchor-Xpos||_2  counter: 
[   9   10   26   41   78  141  202  331  395  527  679  841 1067 1156 1125
  898  532  160   26    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2    5   11   17   35   50   84  151  264  459  786 1237
 1812 1839 1116  332   45]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25270504  0.28594544  0.31918584  0.35242624  0.38566664  0.41890705
  0.45214745  0.48538785  0.51862825  0.55186865  0.58510906  0.61834946
  0.65158986  0.68483026  0.71807066  0.75131106  0.78455147  0.81779187
  0.85103227  0.88427267  0.91751307]
distance difference  counter: 
(array([   1,    1,    5,    1,    6,   12,   17,   42,   69,  138,  264,
        436,  850, 1454, 2323, 1994,  516,   93,   21,    3]), array([-0.90962571, -0.83702177, -0.76441784, -0.6918139 , -0.61920997,
       -0.54660603, -0.4740021 , -0.40139816, -0.32879423, -0.25619029,
       -0.18358636, -0.11098242, -0.03837849,  0.03422545,  0.10682938,
        0.17943332,  0.25203725,  0.32464119,  0.39724512,  0.46984906,
        0.54245299]))
train/val Accuracy = 0.664831193129 / 0.545052146495 
 with threshold: [[ 0.83368731]]
============ epoch 2 ===========
training loss:		0.024813
||Xanchor-Xpos||_2  counter: 
[   5    7   27   59  138  304  617 1001 1793 2598 3275 3724 3771 3049 1933
  871  282   51   12    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    9   23   37   72  165  310  482  835 1461 2483 3840 4549 4259
 2941 1459  462  107   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.46658     0.49038373  0.51418746  0.53799119  0.56179492  0.58559866
  0.60940239  0.63320612  0.65700985  0.68081358  0.70461731  0.72842104
  0.75222477  0.7760285   0.79983223  0.82363596  0.84743969  0.87124342
  0.89504715  0.91885088  0.94265461]
distance difference  counter: 
(array([   5,    0,    3,   13,   26,   84,  189,  496, 1139, 2465, 4435,
       6056, 5192, 2391,  727,  217,   54,   19,    6,    1]), array([-0.27255583, -0.23420094, -0.19584604, -0.15749115, -0.11913626,
       -0.08078136, -0.04242647, -0.00407158,  0.03428332,  0.07263821,
        0.1109931 ,  0.149348  ,  0.18770289,  0.22605778,  0.26441267,
        0.30276757,  0.34112246,  0.37947735,  0.41783225,  0.45618714,
        0.49454203]))
||Xanchor-Xpos||_2  counter: 
[   8    7   30   60  118  142  231  313  428  561  725  892 1126 1125 1100
  876  377  108   16    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    3    6    9   13   41   59  104  173  313  504  891 1442
 1856 1699  837  255   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23596199  0.26646023  0.29695847  0.32745671  0.35795496  0.3884532
  0.41895144  0.44944968  0.47994792  0.51044616  0.5409444   0.57144265
  0.60194089  0.63243913  0.66293737  0.69343561  0.72393385  0.7544321
  0.78493034  0.81542858  0.84592682]
distance difference  counter: 
(array([   1,    1,    1,    4,   13,   24,   39,   62,  128,  213,  346,
        660, 1051, 1828, 2321, 1199,  287,   53,   10,    5]), array([-0.76083738, -0.69501369, -0.62919   , -0.56336631, -0.49754262,
       -0.43171893, -0.36589524, -0.30007155, -0.23424786, -0.16842417,
       -0.10260049, -0.0367768 ,  0.02904689,  0.09487058,  0.16069427,
        0.22651796,  0.29234165,  0.35816534,  0.42398903,  0.48981272,
        0.55563641]))
train/val Accuracy = 0.666829662386 / 0.54899345137 
 with threshold: [[ 0.76044142]]
============ epoch 3 ===========
training loss:		0.024117
||Xanchor-Xpos||_2  counter: 
[   1    0    1    5   19   59  186  524 1122 2162 3361 4679 4962 3826 1924
  594   84    7    2    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    5   21   37  126  279  563 1271 2432 4367 5910 4868
 2611  831  168   25    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.33824405  0.36656827  0.39489249  0.42321671  0.45154094  0.47986516
  0.50818938  0.5365136   0.56483782  0.59316204  0.62148626  0.64981048
  0.6781347   0.70645892  0.73478315  0.76310737  0.79143159  0.81975581
  0.84808003  0.87640425  0.90472847]
distance difference  counter: 
(array([   1,    1,    4,    7,   20,   44,  105,  244,  492, 1145, 2338,
       4320, 5868, 5204, 2505,  839,  274,   77,   21,    9]), array([-0.27923566, -0.24236611, -0.20549656, -0.16862701, -0.13175746,
       -0.0948879 , -0.05801835, -0.0211488 ,  0.01572075,  0.0525903 ,
        0.08945985,  0.1263294 ,  0.16319895,  0.20006851,  0.23693806,
        0.27380761,  0.31067716,  0.34754671,  0.38441626,  0.42128581,
        0.45815536]))
||Xanchor-Xpos||_2  counter: 
[   3   10   24   43   94  148  229  324  490  612  813  980 1253 1218 1094
  633  230   41    6    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    1    3   14   19   38   59  119  197  388  664 1143 1735
 1973 1308  479   94    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19741604  0.22737335  0.25733066  0.28728798  0.31724529  0.34720261
  0.37715992  0.40711723  0.43707455  0.46703186  0.49698918  0.52694649
  0.5569038   0.58686112  0.61681843  0.64677574  0.67673306  0.70669037
  0.73664769  0.766605    0.79656231]
distance difference  counter: 
(array([   2,    4,    5,    7,   28,   32,   72,  125,  196,  389,  770,
       1247, 2046, 2162,  898,  211,   38,    8,    5,    1]), array([-0.66501701, -0.59899324, -0.53296948, -0.46694572, -0.40092195,
       -0.33489819, -0.26887442, -0.20285066, -0.1368269 , -0.07080313,
       -0.00477937,  0.0612444 ,  0.12726816,  0.19329192,  0.25931569,
        0.32533945,  0.39136322,  0.45738698,  0.52341074,  0.58943451,
        0.65545827]))
train/val Accuracy = 0.670571477166 / 0.553237933544 
 with threshold: [[ 0.69464794]]
============ epoch 4 ===========
training loss:		0.023546
||Xanchor-Xpos||_2  counter: 
[  11   22   72  160  394  748 1306 2101 2902 3697 3966 3559 2495 1359  541
  145   29   10    0    1]
||Xanchor-Xneg||_2  counter: 
[   1    3   27   39   93  189  335  585 1078 1733 2963 4184 4508 3748 2295
 1014  448  187   56   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.40911856  0.42971366  0.45030877  0.47090387  0.49149897  0.51209407
  0.53268918  0.55328428  0.57387938  0.59447448  0.61506958  0.63566469
  0.65625979  0.67685489  0.69744999  0.71804509  0.7386402   0.7592353
  0.7798304   0.8004255   0.8210206 ]
distance difference  counter: 
(array([   3,    2,    3,   12,   35,   69,  152,  363,  764, 1580, 3183,
       5272, 6010, 3905, 1509,  459,  144,   46,    3,    4]), array([-0.25175613, -0.21443642, -0.17711671, -0.13979699, -0.10247728,
       -0.06515757, -0.02783786,  0.00948185,  0.04680157,  0.08412128,
        0.12144099,  0.1587607 ,  0.19608042,  0.23340013,  0.27071984,
        0.30803955,  0.34535927,  0.38267898,  0.41999869,  0.4573184 ,
        0.49463812]))
||Xanchor-Xpos||_2  counter: 
[  10   11   35   72  129  175  321  416  562  803  949 1206 1260 1120  795
  310   61    7    3    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    4    6   19   30   56   94  169  323  559  988 1673 1984
 1478  659  163   33    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19093649  0.21907594  0.24721538  0.27535483  0.30349427  0.33163372
  0.35977317  0.38791261  0.41605206  0.4441915   0.47233095  0.5004704
  0.52860984  0.55674929  0.58488873  0.61302818  0.64116763  0.66930707
  0.69744652  0.72558596  0.75372541]
distance difference  counter: 
(array([   2,    0,    2,    5,    4,   15,   24,   51,   92,  158,  293,
        519,  921, 1572, 2137, 1772,  518,  125,   27,    9]), array([-0.70468992, -0.64199034, -0.57929075, -0.51659117, -0.45389159,
       -0.391192  , -0.32849242, -0.26579284, -0.20309325, -0.14039367,
       -0.07769409, -0.01499451,  0.04770508,  0.11040466,  0.17310424,
        0.23580383,  0.29850341,  0.36120299,  0.42390258,  0.48660216,
        0.54930174]))
train/val Accuracy = 0.677140913343 / 0.560332282319 
 with threshold: [[ 0.63539585]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.236377
||Xanchor-Xpos||_2  counter: 
[  59  442 1558 2341 2328 2026 1913 1766 1627 1512 1459 1417 1200 1179 1006
  767  540  294   76    8]
||Xanchor-Xneg||_2  counter: 
[  24  129  744 2047 2294 2115 1900 1727 1674 1543 1416 1379 1277 1219 1080
 1073  852  669  308   46]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26925614  0.31136579  0.35347544  0.39558509  0.43769474  0.47980439
  0.52191404  0.56402369  0.60613334  0.64824298  0.69035263  0.73246228
  0.77457193  0.81668158  0.85879123  0.90090088  0.94301053  0.98512018
  1.02722982  1.06933947  1.11144912]
distance difference  counter: 
(array([   2,    1,    1,    5,   11,   46,  106,  331,  772, 1582, 2980,
       4143, 4576, 4219, 2854, 1376,  380,   98,   30,    5]), array([-0.29017732, -0.24950921, -0.20884111, -0.168173  , -0.1275049 ,
       -0.08683679, -0.04616869, -0.00550058,  0.03516752,  0.07583563,
        0.11650373,  0.15717184,  0.19783994,  0.23850804,  0.27917615,
        0.31984425,  0.36051236,  0.40118046,  0.44184857,  0.48251667,
        0.52318478]))
||Xanchor-Xpos||_2  counter: 
[   5   11   28   55   90  158  203  320  382  576  773  879 1101 1218 1168
  792  379  102    6    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    3    5    7   17   28   61   90  191  288  516  929 1426
 1912 1767  810  176   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11624742  0.13173     0.14721257  0.16269515  0.17817772  0.19366029
  0.20914287  0.22462544  0.24010802  0.25559059  0.27107317  0.28655574
  0.30203831  0.31752089  0.33300346  0.34848604  0.36396861  0.37945119
  0.39493376  0.41041634  0.42589891]
distance difference  counter: 
(array([   1,    3,    7,   15,   32,   63,  128,  266,  480,  988, 1640,
       2286, 1628,  536,  119,   42,    8,    3,    0,    1]), array([-0.22584884, -0.17757935, -0.12930987, -0.08104038, -0.0327709 ,
        0.01549859,  0.06376808,  0.11203756,  0.16030705,  0.20857653,
        0.25684602,  0.3051155 ,  0.35338499,  0.40165448,  0.44992396,
        0.49819345,  0.54646293,  0.59473242,  0.6430019 ,  0.69127139,
        0.73954087]))
train/val Accuracy = 0.530848711625 / 0.5 
 with threshold: [[ 0.63255501]]
============ epoch 1 ===========
training loss:		0.210541
||Xanchor-Xpos||_2  counter: 
[  12  282 1227 2380 2495 2247 2075 1854 1774 1585 1479 1390 1299 1181  954
  702  399  149   32    2]
||Xanchor-Xneg||_2  counter: 
[   6   83  429 1537 2242 2251 2118 1914 1882 1679 1576 1451 1362 1223 1234
  979  828  546  143   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.10174346  0.11802851  0.13431356  0.15059861  0.16688366  0.18316871
  0.19945376  0.21573881  0.23202386  0.24830891  0.26459396  0.28087901
  0.29716406  0.31344911  0.32973416  0.34601921  0.36230426  0.37858931
  0.39487436  0.41115941  0.42744446]
distance difference  counter: 
(array([   3,    3,   10,   33,   72,  188,  501, 1072, 1930, 2598, 2889,
       3035, 2908, 2875, 2577, 1739,  794,  216,   62,   13]), array([ 0.07550154,  0.1056314 ,  0.13576127,  0.16589114,  0.196021  ,
        0.22615087,  0.25628073,  0.2864106 ,  0.31654047,  0.34667033,
        0.3768002 ,  0.40693006,  0.43705993,  0.4671898 ,  0.49731966,
        0.52744953,  0.55757939,  0.58770926,  0.61783913,  0.64796899,
        0.67809886]))
||Xanchor-Xpos||_2  counter: 
[  10   45  109  226  440  708 1028 1474 1783 1503  691  173   38    8    4
    2    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    3    3   17   39  101  243  556 1208 2134 2268 1021  392  157   54
   25   11    8    2    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0461647   0.05578508  0.06540547  0.07502585  0.08464624  0.09426662
  0.10388701  0.11350739  0.12312778  0.13274816  0.14236855  0.15198893
  0.16160932  0.17122971  0.18085009  0.19047048  0.20009086  0.20971125
  0.21933163  0.22895202  0.2385724 ]
distance difference  counter: 
(array([   2,    2,    1,    8,   21,   51,   96,  161,  339,  734, 1293,
       1999, 1909, 1051,  378,  135,   46,   12,    6,    2]), array([ 0.22606516,  0.25491652,  0.28376788,  0.31261925,  0.34147061,
        0.37032197,  0.39917334,  0.4280247 ,  0.45687606,  0.48572743,
        0.51457879,  0.54343015,  0.57228152,  0.60113288,  0.62998424,
        0.6588356 ,  0.68768697,  0.71653833,  0.74538969,  0.77424106,
        0.80309242]))
train/val Accuracy = 0.539671740794 / 0.5 
 with threshold: [[ 0.24240701]]
============ epoch 2 ===========
training loss:		0.207073
||Xanchor-Xpos||_2  counter: 
[ 609 4570 6305 5317 3992 2099  404  106   56   28   20   10    0    0    1
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 113 1990 4667 5171 4587 3511 1574  582  372  258  244  154  116   76   48
   25   11   14    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04929801  0.06629717  0.08329633  0.10029549  0.11729465  0.1342938
  0.15129296  0.16829212  0.18529128  0.20229044  0.2192896   0.23628876
  0.25328791  0.27028707  0.28728623  0.30428539  0.32128455  0.33828371
  0.35528287  0.37228202  0.38928118]
distance difference  counter: 
(array([   1,    2,    5,    8,   10,   21,   43,   47,   84,  112,  179,
        251,  320,  545, 1133, 4052, 7970, 6783, 1894,   58]), array([-0.48898393, -0.42246178, -0.35593964, -0.28941749, -0.22289535,
       -0.1563732 , -0.08985106, -0.02332891,  0.04319323,  0.10971538,
        0.17623752,  0.24275967,  0.30928181,  0.37580396,  0.4423261 ,
        0.50884825,  0.5753704 ,  0.64189254,  0.70841469,  0.77493683,
        0.84145898]))
||Xanchor-Xpos||_2  counter: 
[ 199 1615 3499 1874  577  247  119   60   29    9    7    1    3    2    0
    3    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  10  256 2259 2732 1341  622  364  230  165   88   67   36   22   22    8
    9    5    6    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.02173587  0.03779947  0.05386308  0.06992669  0.0859903   0.10205391
  0.11811752  0.13418113  0.15024474  0.16630834  0.18237195  0.19843556
  0.21449917  0.23056278  0.24662639  0.26269     0.27875361  0.29481722
  0.31088082  0.32694443  0.34300804]
distance difference  counter: 
(array([   2,    3,    2,    9,    8,    4,   16,   20,   34,   49,   66,
        123,  169,  275,  438,  814, 1753, 3154, 1234,   73]), array([-0.27277607, -0.21553974, -0.1583034 , -0.10106707, -0.04383074,
        0.01340559,  0.07064192,  0.12787825,  0.18511459,  0.24235092,
        0.29958725,  0.35682358,  0.41405991,  0.47129624,  0.52853258,
        0.58576891,  0.64300524,  0.70024157,  0.7574779 ,  0.81471424,
        0.87195057]))
train/val Accuracy = 0.603984182328 / 0.554814455494 
 with threshold: [[ 0.11216]]
============ epoch 3 ===========
training loss:		0.206592
||Xanchor-Xpos||_2  counter: 
[ 3063 11730  5408  1738   762   336   166   124    74    57    30    15
     7     4     1     3     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[ 789 6888 6646 3242 1771 1139  769  571  371  305  240  211  204  143  115
   60   26   22    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.02684893  0.04975323  0.07265753  0.09556183  0.11846613  0.14137043
  0.16427473  0.18717903  0.21008333  0.23298763  0.25589193  0.27879623
  0.30170053  0.32460483  0.34750913  0.37041343  0.39331773  0.41622203
  0.43912633  0.46203063  0.48493493]
distance difference  counter: 
(array([   6,    4,   17,   31,   56,   72,  103,  154,  187,  213,  244,
        347,  481,  740, 1096, 1754, 3207, 6985, 7125,  696]), array([-0.84575641, -0.75831878, -0.67088114, -0.5834435 , -0.49600587,
       -0.40856823, -0.3211306 , -0.23369296, -0.14625533, -0.05881769,
        0.02861995,  0.11605758,  0.20349522,  0.29093285,  0.37837049,
        0.46580812,  0.55324576,  0.64068339,  0.72812103,  0.81555867,
        0.9029963 ]))
||Xanchor-Xpos||_2  counter: 
[ 922 3186 2068 1043  505  245  133   72   33   24    4    4    1    2    1
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 134 2034 2115 1407  887  547  354  248  164  131   79   52   33   24   13
    5    4    8    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01304931  0.03418309  0.05531686  0.07645064  0.09758441  0.11871818
  0.13985196  0.16098573  0.18211951  0.20325328  0.22438705  0.24552083
  0.2666546   0.28778838  0.30892215  0.33005592  0.3511897   0.37232347
  0.39345725  0.41459102  0.43572479]
distance difference  counter: 
(array([   2,    2,    5,    3,    9,    7,   14,   29,   31,   67,   89,
        139,  202,  316,  454,  808, 1433, 2126, 2301,  209]), array([-0.72871345, -0.64520704, -0.56170063, -0.47819422, -0.39468781,
       -0.3111814 , -0.22767498, -0.14416857, -0.06066216,  0.02284425,
        0.10635066,  0.18985707,  0.27336348,  0.35686989,  0.44037631,
        0.52388272,  0.60738913,  0.69089554,  0.77440195,  0.85790836,
        0.94141477]))
train/val Accuracy = 0.641529891998 / 0.606354596168 
 with threshold: [[ 0.08524967]]
============ epoch 4 ===========
training loss:		0.206508
||Xanchor-Xpos||_2  counter: 
[4683 9819 5009 2127  889  459  232  123   80   41   29   15    4    5    3
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[1490 6106 5342 3374 2201 1435 1027  708  500  341  282  228  181  148   93
   42   14    5    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01696353  0.04381499  0.07066646  0.09751792  0.12436938  0.15122084
  0.1780723   0.20492376  0.23177522  0.25862668  0.28547814  0.3123296
  0.33918106  0.36603252  0.39288398  0.41973544  0.44658691  0.47343837
  0.50028983  0.52714129  0.55399275]
distance difference  counter: 
(array([   1,    0,    1,    5,   11,   37,   61,  102,  115,  192,  253,
        337,  515,  768, 1191, 1839, 3103, 5396, 7233, 2358]), array([-1.35453367, -1.2403049 , -1.12607613, -1.01184736, -0.89761859,
       -0.78338982, -0.66916105, -0.55493228, -0.44070351, -0.32647474,
       -0.21224597, -0.0980172 ,  0.01621157,  0.13044034,  0.24466911,
        0.35889788,  0.47312665,  0.58735542,  0.70158419,  0.81581296,
        0.93004173]))
||Xanchor-Xpos||_2  counter: 
[ 911 2718 2076 1174  643  325  187   94   64   33    6    4    5    0    3
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 198 1736 1892 1425  966  676  423  289  217  138  108   71   43   23   14
    7    9    6    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0078913   0.03101731  0.05414333  0.07726935  0.10039536  0.12352138
  0.1466474   0.16977341  0.19289943  0.21602545  0.23915146  0.26227748
  0.2854035   0.30852951  0.33165553  0.35478155  0.37790756  0.40103358
  0.4241596   0.44728561  0.47041163]
distance difference  counter: 
(array([   2,    3,    5,    7,   11,    6,   16,   34,   53,   82,  114,
        145,  231,  369,  571,  923, 1461, 1985, 1903,  325]), array([-0.84735018, -0.75703068, -0.66671118, -0.57639168, -0.48607218,
       -0.39575268, -0.30543318, -0.21511368, -0.12479419, -0.03447469,
        0.05584481,  0.14616431,  0.23648381,  0.32680331,  0.41712281,
        0.50744231,  0.59776181,  0.68808131,  0.77840081,  0.86872031,
        0.95903981]))
train/val Accuracy = 0.648694616889 / 0.611751152074 
 with threshold: [[ 0.08753938]]
============ epoch 5 ===========
training loss:		0.206491
||Xanchor-Xpos||_2  counter: 
[2822 8322 5919 3205 1595  743  410  217  102   76   44   35   10   10    4
    1    2    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 850 4278 4890 3836 2764 1920 1326  987  696  543  413  279  218  181  137
  112   43   30   12    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01103187  0.03622212  0.06141236  0.0866026   0.11179285  0.13698309
  0.16217333  0.18736357  0.21255382  0.23774406  0.2629343   0.28812454
  0.31331479  0.33850503  0.36369527  0.38888552  0.41407576  0.439266
  0.46445624  0.48964649  0.51483673]
distance difference  counter: 
(array([   1,    2,    8,   17,   32,   61,   94,  132,  161,  227,  336,
        505,  713,  995, 1509, 2400, 3680, 5413, 5571, 1661]), array([-1.21403313, -1.1060067 , -0.99798027, -0.88995385, -0.78192742,
       -0.67390099, -0.56587456, -0.45784814, -0.34982171, -0.24179528,
       -0.13376886, -0.02574243,  0.082284  ,  0.19031042,  0.29833685,
        0.40636328,  0.51438971,  0.62241613,  0.73044256,  0.83846899,
        0.94649541]))
||Xanchor-Xpos||_2  counter: 
[1192 2639 2005 1120  613  322  163  105   53   19    6    3    1    4    0
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 374 1788 1873 1326  952  632  443  284  197  154   79   66   35   18    8
    4    8    3    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00790913  0.03263061  0.05735208  0.08207356  0.10679503  0.13151651
  0.15623799  0.18095946  0.20568094  0.23040241  0.25512389  0.27984537
  0.30456684  0.32928832  0.35400979  0.37873127  0.40345274  0.42817422
  0.4528957   0.47761717  0.50233865]
distance difference  counter: 
(array([   4,    1,    4,    7,    8,   16,   21,   31,   48,   81,  102,
        173,  249,  368,  547,  930, 1302, 1814, 1896,  644]), array([-0.84876078, -0.75915495, -0.66954913, -0.5799433 , -0.49033747,
       -0.40073164, -0.31112581, -0.22151998, -0.13191415, -0.04230832,
        0.04729751,  0.13690334,  0.22650917,  0.31611499,  0.40572082,
        0.49532665,  0.58493248,  0.67453831,  0.76414414,  0.85374997,
        0.9433558 ]))
train/val Accuracy = 0.648864699379 / 0.607809847199 
 with threshold: [[ 0.09121314]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.109751
||Xanchor-Xpos||_2  counter: 
[17818  1206  1475    19     1   190   983   326     0     0     0     1
    11    42   139   266   434   431   165    10]
||Xanchor-Xneg||_2  counter: 
[16870  2145  1367   136     2    44   599   854     1     0     0     3
     3     6    31    92   231   566   500    68]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00174043  0.05765638  0.11357233  0.16948829  0.22540424  0.28132019
  0.33723615  0.3931521   0.44906805  0.50498401  0.56089996  0.61681591
  0.67273187  0.72864782  0.78456377  0.84047972  0.89639568  0.95231163
  1.00822758  1.06414354  1.12005949]
distance difference  counter: 
(array([   2,    5,   18,   60,  201,  512,  534,  339,  676,  561,   85,
         90, 1140,  481,  248,  947, 1651, 2237, 6564, 7167]), array([-0.23057957, -0.169511  , -0.10844242, -0.04737385,  0.01369473,
        0.0747633 ,  0.13583188,  0.19690045,  0.25796902,  0.3190376 ,
        0.38010617,  0.44117475,  0.50224332,  0.5633119 ,  0.62438047,
        0.68544905,  0.74651762,  0.80758619,  0.86865477,  0.92972334,
        0.99079192]))
||Xanchor-Xpos||_2  counter: 
[1897 2703 1685  924  524  236  133   58   48   18    8    3    4    1    1
    1    1    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 943 2144 1690 1262  749  531  279  227  117   97   62   49   34   20   17
   10    4    6    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00120617  0.00661887  0.01203157  0.01744428  0.02285698  0.02826968
  0.03368239  0.03909509  0.04450779  0.04992049  0.0553332   0.0607459
  0.0661586   0.07157131  0.07698401  0.08239671  0.08780942  0.09322212
  0.09863482  0.10404752  0.10946023]
distance difference  counter: 
(array([   4,    0,    5,    2,   10,    9,   20,   21,   38,   61,   83,
        110,  181,  275,  461,  726, 1226, 1706, 2176, 1132]), array([ 0.47190955,  0.49792611,  0.52394266,  0.54995921,  0.57597576,
        0.60199232,  0.62800887,  0.65402542,  0.68004197,  0.70605853,
        0.73207508,  0.75809163,  0.78410819,  0.81012474,  0.83614129,
        0.86215784,  0.8881744 ,  0.91419095,  0.9402075 ,  0.96622405,
        0.99224061]))
train/val Accuracy = 0.500148822179 / 0.5 
 with threshold: [[ 0.11260868]]
============ epoch 1 ===========
training loss:		2.061255
||Xanchor-Xpos||_2  counter: 
[4522 8415 5298 2669 1235  622  321  161  104   60   52   26   13    9   10
    0    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[2037 5371 4918 3513 2361 1515  932  656  489  389  299  280  237  176  145
   91   61   29   16    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00086079  0.00691638  0.01297198  0.01902757  0.02508316  0.03113876
  0.03719435  0.04324995  0.04930554  0.05536114  0.06141673  0.06747232
  0.07352792  0.07958351  0.08563911  0.0916947   0.0977503   0.10380589
  0.10986148  0.11591708  0.12197267]
distance difference  counter: 
(array([   1,    4,   13,   36,   71,  110,  147,  197,  242,  293,  345,
        452,  595,  874, 1317, 2237, 3372, 4865, 5705, 2642]), array([ 0.40528232,  0.43467211,  0.46406189,  0.49345168,  0.52284147,
        0.55223125,  0.58162104,  0.61101083,  0.64040061,  0.6697904 ,
        0.69918019,  0.72856997,  0.75795976,  0.78734955,  0.81673933,
        0.84612912,  0.87551891,  0.90490869,  0.93429848,  0.96368827,
        0.99307805]))
||Xanchor-Xpos||_2  counter: 
[1611 2785 1769  987  550  261  115   84   45   20    7    2    3    4    2
    0    0    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 840 2051 1776 1294  791  518  346  194  135   83   67   57   31   21   16
    9    8    4    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00066526  0.00628469  0.01190412  0.01752356  0.02314299  0.02876242
  0.03438185  0.04000128  0.04562071  0.05124014  0.05685958  0.06247901
  0.06809844  0.07371787  0.0793373   0.08495673  0.09057616  0.09619559
  0.10181503  0.10743446  0.11305389]
distance difference  counter: 
(array([   2,    3,    1,    5,    9,   12,   15,   20,   47,   64,   73,
        115,  161,  305,  475,  761, 1236, 1832, 2078, 1032]), array([ 0.45400229,  0.481029  ,  0.5080557 ,  0.53508241,  0.56210911,
        0.58913582,  0.61616252,  0.64318923,  0.67021593,  0.69724264,
        0.72426935,  0.75129605,  0.77832276,  0.80534946,  0.83237617,
        0.85940287,  0.88642958,  0.91345628,  0.94048299,  0.96750969,
        0.9945364 ]))
train/val Accuracy = 0.627200442214 / 0.586648071792 
 with threshold: [[ 0.01851383]]
============ epoch 2 ===========
training loss:		2.061256
||Xanchor-Xpos||_2  counter: 
[3972 8163 5511 2891 1384  686  386  192  131   79   42   36   13   14   10
    6    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[1801 5052 4869 3598 2426 1580 1023  722  549  389  335  272  246  203  161
  125   74   61   21   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00069585  0.00650419  0.01231254  0.01812088  0.02392923  0.02973757
  0.03554591  0.04135426  0.0471626   0.05297095  0.05877929  0.06458764
  0.07039598  0.07620433  0.08201267  0.08782101  0.09362936  0.0994377
  0.10524605  0.11105439  0.11686274]
distance difference  counter: 
(array([   8,   15,   43,   56,  103,  144,  180,  210,  238,  318,  379,
        514,  683,  956, 1492, 2352, 3544, 4889, 5232, 2162]), array([ 0.43980387,  0.46755528,  0.49530669,  0.52305809,  0.5508095 ,
        0.57856091,  0.60631232,  0.63406373,  0.66181514,  0.68956655,
        0.71731795,  0.74506936,  0.77282077,  0.80057218,  0.82832359,
        0.856075  ,  0.8838264 ,  0.91157781,  0.93932922,  0.96708063,
        0.99483204]))
||Xanchor-Xpos||_2  counter: 
[1509 2635 1877 1009  588  301  154   91   40   23    6    5    3    1    2
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 744 1939 1797 1300  907  567  357  204  149   89   52   49   37   22    8
   10    5    5    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00065577  0.00595565  0.01125553  0.0165554   0.02185528  0.02715516
  0.03245504  0.03775492  0.0430548   0.04835468  0.05365455  0.05895443
  0.06425431  0.06955419  0.07485407  0.08015395  0.08545383  0.0907537
  0.09605358  0.10135346  0.10665334]
distance difference  counter: 
(array([   3,    3,    2,    5,   12,    2,   24,   25,   41,   57,   83,
        136,  178,  335,  529,  898, 1281, 1762, 1951,  919]), array([ 0.49975681,  0.52446065,  0.54916448,  0.57386831,  0.59857215,
        0.62327598,  0.64797981,  0.67268365,  0.69738748,  0.72209131,
        0.74679515,  0.77149898,  0.79620281,  0.82090665,  0.84561048,
        0.87031431,  0.89501815,  0.91972198,  0.94442582,  0.96912965,
        0.99383348]))
train/val Accuracy = 0.625542137937 / 0.589255396556 
 with threshold: [[ 0.01851141]]
============ epoch 3 ===========
training loss:		2.061255
||Xanchor-Xpos||_2  counter: 
[4549 8250 5450 2654 1191  619  321  195  100   72   42   30   24   13    4
    2    0    1    1    0]
||Xanchor-Xneg||_2  counter: 
[2119 5143 4955 3555 2314 1513 1029  656  491  406  304  259  223  192  123
  110   66   42   12    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00093052  0.00692201  0.01291351  0.01890501  0.02489651  0.03088801
  0.03687951  0.04287101  0.04886251  0.05485401  0.06084551  0.06683701
  0.07282851  0.07882001  0.08481151  0.09080301  0.09679451  0.10278601
  0.10877751  0.11476901  0.12076051]
distance difference  counter: 
(array([  12,   30,   45,   86,   97,  137,  185,  196,  238,  310,  431,
        495,  703, 1032, 1571, 2373, 3625, 4934, 5004, 2014]), array([ 0.45155865,  0.47872744,  0.50589623,  0.53306503,  0.56023382,
        0.58740261,  0.6145714 ,  0.6417402 ,  0.66890899,  0.69607778,
        0.72324657,  0.75041537,  0.77758416,  0.80475295,  0.83192174,
        0.85909054,  0.88625933,  0.91342812,  0.94059691,  0.96776571,
        0.9949345 ]))
||Xanchor-Xpos||_2  counter: 
[1708 2638 1795  975  541  280  148   78   43   19    7    6    3    3    0
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 921 1911 1733 1272  872  519  357  210  122   91   83   57   40   18    8
   15    6    6    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00087469  0.0063385   0.01180231  0.01726611  0.02272992  0.02819373
  0.03365754  0.03912134  0.04458515  0.05004896  0.05551277  0.06097658
  0.06644038  0.07190419  0.077368    0.08283181  0.08829561  0.09375942
  0.09922323  0.10468704  0.11015084]
distance difference  counter: 
(array([   3,    2,    4,    5,    9,   13,   14,   26,   56,   83,   79,
        120,  195,  321,  520,  835, 1282, 1762, 1933,  984]), array([ 0.47863317,  0.5044427 ,  0.53025224,  0.55606178,  0.58187132,
        0.60768086,  0.6334904 ,  0.65929993,  0.68510947,  0.71091901,
        0.73672855,  0.76253809,  0.78834763,  0.81415716,  0.8399667 ,
        0.86577624,  0.89158578,  0.91739532,  0.94320486,  0.96901439,
        0.99482393]))
train/val Accuracy = 0.627859511863 / 0.592226534077 
 with threshold: [[ 0.01852069]]
============ epoch 4 ===========
training loss:		2.061255
||Xanchor-Xpos||_2  counter: 
[5111 8700 5119 2392 1092  511  233  133   88   66   35   17   10    2    7
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[2412 5730 4927 3405 2161 1377  906  626  469  376  299  229  192  167  115
   68   37   12    3    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00072654  0.00724346  0.01376038  0.02027729  0.02679421  0.03331113
  0.03982805  0.04634496  0.05286188  0.0593788   0.06589572  0.07241263
  0.07892955  0.08544647  0.09196339  0.0984803   0.10499722  0.11151414
  0.11803106  0.12454797  0.13106489]
distance difference  counter: 
(array([   3,    9,   15,   37,   66,  120,  161,  190,  232,  270,  369,
        476,  668,  923, 1415, 2253, 3568, 4996, 5604, 2143]), array([ 0.39739206,  0.42739541,  0.45739876,  0.4874021 ,  0.51740545,
        0.5474088 ,  0.57741214,  0.60741549,  0.63741884,  0.66742218,
        0.69742553,  0.72742888,  0.75743222,  0.78743557,  0.81743892,
        0.84744226,  0.87744561,  0.90744895,  0.9374523 ,  0.96745565,
        0.99745899]))
||Xanchor-Xpos||_2  counter: 
[1547 2648 1808 1018  612  297  134   82   50   28    8    2    5    4    1
    1    0    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 767 1944 1815 1267  858  583  328  232  143   80   75   57   40   22   10
    9    6    4    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00063967  0.0060691   0.01149853  0.01692796  0.02235739  0.02778683
  0.03321626  0.03864569  0.04407512  0.04950455  0.05493398  0.06036341
  0.06579284  0.07122227  0.0766517   0.08208114  0.08751057  0.09294
  0.09836943  0.10379886  0.10922829]
distance difference  counter: 
(array([   1,    3,    7,    3,    6,    5,   20,   31,   45,   71,   90,
        127,  194,  314,  571,  844, 1270, 1836, 1979,  829]), array([ 0.48212641,  0.5078185 ,  0.53351058,  0.55920267,  0.58489475,
        0.61058684,  0.63627892,  0.66197101,  0.68766309,  0.71335517,
        0.73904726,  0.76473934,  0.79043143,  0.81612351,  0.8418156 ,
        0.86750768,  0.89319977,  0.91889185,  0.94458393,  0.97027602,
        0.9959681 ]))
train/val Accuracy = 0.626817756612 / 0.586769342712 
 with threshold: [[ 0.01859959]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027586
||Xanchor-Xpos||_2  counter: 
[   1    0    4   10   26   62  165  387  741 1285 2022 2848 3739 4155 3943
 2690 1117  297   24    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    9   25   44  102  169  307  563 1019 1892 3209 5060
 5727 3863 1273  234   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53778636  0.56817287  0.59855938  0.62894589  0.65933239  0.6897189
  0.72010541  0.75049192  0.78087842  0.81126493  0.84165144  0.87203795
  0.90242445  0.93281096  0.96319747  0.99358398  1.02397048  1.05435699
  1.0847435   1.11513001  1.14551651]
distance difference  counter: 
(array([  12,   57,  266, 1029, 2676, 4751, 5360, 4118, 2552, 1328,  689,
        330,  172,   92,   56,   15,   11,    3,    0,    1]), array([ 0.59743422,  0.6074793 ,  0.61752437,  0.62756945,  0.63761452,
        0.6476596 ,  0.65770468,  0.66774975,  0.67779483,  0.6878399 ,
        0.69788498,  0.70793005,  0.71797513,  0.7280202 ,  0.73806528,
        0.74811035,  0.75815543,  0.7682005 ,  0.77824558,  0.78829066,
        0.79833573]))
||Xanchor-Xpos||_2  counter: 
[   7   10   24   49   77  113  187  242  378  500  667  800 1038 1156 1210
  965  633  168   22    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    1    6   11   17   27   45   77  140  245  438  735 1170
 1800 1996 1217  297   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30191764  0.34283447  0.38375129  0.42466812  0.46558495  0.50650177
  0.5474186   0.58833542  0.62925225  0.67016907  0.7110859   0.75200273
  0.79291955  0.83383638  0.8747532   0.91567003  0.95658686  0.99750368
  1.03842051  1.07933733  1.12025416]
distance difference  counter: 
(array([   2,   20,   49,  134,  426,  933, 1703, 1955, 1445,  820,  405,
        168,   93,   46,   24,   14,    5,    2,    0,    2]), array([ 0.55012369,  0.56600448,  0.58188528,  0.59776607,  0.61364686,
        0.62952766,  0.64540845,  0.66128924,  0.67717004,  0.69305083,
        0.70893162,  0.72481242,  0.74069321,  0.756574  ,  0.7724548 ,
        0.78833559,  0.80421638,  0.82009718,  0.83597797,  0.85185876,
        0.86773956]))
train/val Accuracy = 0.67046517561 / 0.663351928208 
 with threshold: [[ 0.95722092]]
============ epoch 1 ===========
training loss:		0.027573
||Xanchor-Xpos||_2  counter: 
[   1    2    3   17   53  109  250  441  904 1414 2087 2815 3606 4005 3623
 2616 1195  326   46    5]
||Xanchor-Xneg||_2  counter: 
[   0    0    2   13   17   41   71  122  198  333  609 1118 1863 3120 4930
 5472 3820 1481  278   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.5629757   0.59163946  0.62030322  0.64896698  0.67763073  0.70629449
  0.73495825  0.76362201  0.79228576  0.82094952  0.84961328  0.87827704
  0.90694079  0.93560455  0.96426831  0.99293207  1.02159582  1.05025958
  1.07892334  1.1075871   1.13625085]
distance difference  counter: 
(array([   1,    3,   11,   75,  321, 1106, 2753, 4725, 5251, 4073, 2516,
       1278,  676,  350,  179,   92,   54,   36,   11,    7]), array([ 0.57973027,  0.58956288,  0.5993955 ,  0.60922811,  0.61906072,
        0.62889333,  0.63872594,  0.64855855,  0.65839117,  0.66822378,
        0.67805639,  0.687889  ,  0.69772161,  0.70755422,  0.71738684,
        0.72721945,  0.73705206,  0.74688467,  0.75671728,  0.76654989,
        0.77638251]))
||Xanchor-Xpos||_2  counter: 
[   6   11   18   49   79  128  180  287  410  496  723  903 1046 1270 1192
  925  429   83   11    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    0    4    8   17   28   43  107  162  264  495  862 1426
 2042 1821  828  131    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29431176  0.33653727  0.37876277  0.42098827  0.46321378  0.50543928
  0.54766479  0.58989029  0.63211579  0.6743413   0.7165668   0.7587923
  0.80101781  0.84324331  0.88546882  0.92769432  0.96991982  1.01214533
  1.05437083  1.09659634  1.13882184]
distance difference  counter: 
(array([   3,    8,   32,  104,  352,  865, 1583, 1951, 1641,  868,  443,
        203,  103,   48,   26,    6,    7,    0,    0,    3]), array([ 0.54588497,  0.56198308,  0.57808119,  0.5941793 ,  0.61027741,
        0.62637553,  0.64247364,  0.65857175,  0.67466986,  0.69076797,
        0.70686609,  0.7229642 ,  0.73906231,  0.75516042,  0.77125853,
        0.78735664,  0.80345476,  0.81955287,  0.83565098,  0.85174909,
        0.8678472 ]))
train/val Accuracy = 0.672782549537 / 0.663109386369 
 with threshold: [[ 0.95652234]]
============ epoch 2 ===========
training loss:		0.027561
||Xanchor-Xpos||_2  counter: 
[   1    8   18   33   92  165  374  628 1063 1661 2316 3060 3617 3807 3257
 2164  944  271   34    5]
||Xanchor-Xneg||_2  counter: 
[   1    0    5   10   20   51   82  147  279  442  780 1279 2132 3535 4959
 5106 3241 1188  241   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.59121925  0.61841656  0.64561388  0.6728112   0.70000851  0.72720583
  0.75440314  0.78160046  0.80879778  0.83599509  0.86319241  0.89038973
  0.91758704  0.94478436  0.97198167  0.99917899  1.02637631  1.05357362
  1.08077094  1.10796826  1.13516557]
distance difference  counter: 
(array([   5,   35,  135,  510, 1673, 3598, 5189, 4985, 3378, 1882, 1054,
        527,  271,  144,   74,   34,   15,    7,    1,    1]), array([ 0.59345585,  0.6032977 ,  0.61313955,  0.62298139,  0.63282324,
        0.64266509,  0.65250694,  0.66234878,  0.67219063,  0.68203248,
        0.69187433,  0.70171617,  0.71155802,  0.72139987,  0.73124171,
        0.74108356,  0.75092541,  0.76076726,  0.7706091 ,  0.78045095,
        0.7902928 ]))
||Xanchor-Xpos||_2  counter: 
[   4    7   15   51   57  115  168  280  352  490  633  836  985 1151 1227
 1012  628  207   28    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    0    4    9   15   25   48   65  155  199  410  689 1150
 1767 2066 1266  346   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29403591  0.3351036   0.37617129  0.41723898  0.45830667  0.49937436
  0.54044205  0.58150974  0.62257743  0.66364512  0.70471281  0.7457805
  0.78684819  0.82791588  0.86898357  0.91005126  0.95111895  0.99218664
  1.03325433  1.07432202  1.1153897 ]
distance difference  counter: 
(array([   2,    7,   26,  101,  269,  731, 1259, 1886, 1757, 1080,  570,
        281,  155,   55,   33,   21,    8,    3,    1,    1]), array([ 0.5462271 ,  0.5616857 ,  0.57714429,  0.59260289,  0.60806149,
        0.62352009,  0.63897869,  0.65443729,  0.66989589,  0.68535449,
        0.70081308,  0.71627168,  0.73173028,  0.74718888,  0.76264748,
        0.77810608,  0.79356468,  0.80902328,  0.82448187,  0.83994047,
        0.85539907]))
train/val Accuracy = 0.674632196615 / 0.661290322581 
 with threshold: [[ 0.95629453]]
============ epoch 3 ===========
training loss:		0.027549
||Xanchor-Xpos||_2  counter: 
[   2    2    7   30   70  138  249  524  912 1455 2226 2843 3509 3832 3556
 2547 1196  345   72    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    8   19   36   67  117  237  362  652 1028 1871 3116 4762
 5409 3890 1570  324   48]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.57235813  0.60025294  0.62814775  0.65604255  0.68393736  0.71183217
  0.73972697  0.76762178  0.79551659  0.82341139  0.8513062   0.87920101
  0.90709581  0.93499062  0.96288543  0.99078023  1.01867504  1.04656985
  1.07446465  1.10235946  1.13025427]
distance difference  counter: 
(array([  10,   38,  147,  530, 1600, 3370, 4866, 4739, 3617, 2113, 1116,
        607,  367,  204,  100,   46,   33,   10,    4,    1]), array([ 0.59676629,  0.60599962,  0.61523296,  0.62446629,  0.63369962,
        0.64293295,  0.65216628,  0.66139961,  0.67063295,  0.67986628,
        0.68909961,  0.69833294,  0.70756627,  0.7167996 ,  0.72603294,
        0.73526627,  0.7444996 ,  0.75373293,  0.76296626,  0.77219959,
        0.78143293]))
||Xanchor-Xpos||_2  counter: 
[   6    7   21   44   62  101  189  285  328  496  622  768 1012 1167 1240
 1020  637  201   39    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    5    8   12   25   41   80  125  215  425  669 1125
 1704 2040 1356  386   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2937603   0.33467482  0.37558933  0.41650385  0.45741837  0.49833289
  0.53924741  0.58016192  0.62107644  0.66199096  0.70290548  0.74381999
  0.78473451  0.82564903  0.86656355  0.90747806  0.94839258  0.9893071
  1.03022162  1.07113613  1.11205065]
distance difference  counter: 
(array([   4,   11,   50,  153,  447, 1005, 1767, 1927, 1374,  786,  363,
        197,   84,   38,   18,   14,    3,    2,    1,    2]), array([ 0.55120307,  0.56716491,  0.58312674,  0.59908858,  0.61505041,
        0.63101225,  0.64697408,  0.66293592,  0.67889775,  0.69485959,
        0.71082142,  0.72678325,  0.74274509,  0.75870692,  0.77466876,
        0.79063059,  0.80659243,  0.82255426,  0.8385161 ,  0.85447793,
        0.87043977]))
train/val Accuracy = 0.674355812569 / 0.667414504002 
 with threshold: [[ 0.95477366]]
============ epoch 4 ===========
training loss:		0.027537
||Xanchor-Xpos||_2  counter: 
[   7    8   28   68  149  243  510  822 1412 1962 2744 3326 3712 3577 2767
 1547  519  102   13    2]
||Xanchor-Xneg||_2  counter: 
[   2    4    7   21   37   78  111  233  402  566  991 1605 2710 4205 5264
 4351 2175  655   89   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.60629255  0.63322776  0.66016298  0.6870982   0.71403341  0.74096863
  0.76790385  0.79483906  0.82177428  0.8487095   0.87564471  0.90257993
  0.92951515  0.95645036  0.98338558  1.0103208   1.03725601  1.06419123
  1.09112645  1.11806166  1.14499688]
distance difference  counter: 
(array([   3,   20,   74,  391, 1312, 3143, 4977, 5187, 3798, 2183, 1120,
        628,  334,  177,   84,   47,   25,    9,    4,    2]), array([ 0.59124851,  0.60113524,  0.61102197,  0.6209087 ,  0.63079543,
        0.64068216,  0.65056889,  0.66045562,  0.67034235,  0.68022908,
        0.69011581,  0.70000254,  0.70988927,  0.719776  ,  0.72966273,
        0.73954946,  0.74943619,  0.75932292,  0.76920965,  0.77909638,
        0.78898311]))
||Xanchor-Xpos||_2  counter: 
[   3    7   24   45   74  108  168  244  343  500  638  838  994 1188 1214
  986  637  212   23    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    5    8   19   24   45   70  138  201  430  700 1123
 1774 2034 1331  314   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29348469  0.33447595  0.37546721  0.41645846  0.45744972  0.49844098
  0.53943224  0.5804235   0.62141476  0.66240602  0.70339727  0.74438853
  0.78537979  0.82637105  0.86736231  0.90835357  0.94934483  0.99033608
  1.03132734  1.0723186   1.11330986]
distance difference  counter: 
(array([   5,   12,   33,   90,  241,  556, 1034, 1556, 1679, 1338,  756,
        454,  226,  126,   60,   35,   24,   12,    5,    4]), array([ 0.55445045,  0.56818008,  0.5819097 ,  0.59563933,  0.60936896,
        0.62309858,  0.63682821,  0.65055783,  0.66428746,  0.67801709,
        0.69174671,  0.70547634,  0.71920596,  0.73293559,  0.74666522,
        0.76039484,  0.77412447,  0.78785409,  0.80158372,  0.81531335,
        0.82904297]))
train/val Accuracy = 0.674802279105 / 0.663715740965 
 with threshold: [[ 0.9541041]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.271146
||Xanchor-Xpos||_2  counter: 
[   2    9   10   31   66  137  313  606 1023 1662 2293 3109 3724 3925 3347
 2146  880  210   25    0]
||Xanchor-Xneg||_2  counter: 
[   1    3    2   13   14   44   95  154  295  454  765 1253 2180 3568 5259
 5106 3088 1054  159   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56078577  0.58958538  0.61838499  0.6471846   0.67598422  0.70478383
  0.73358344  0.76238305  0.79118266  0.81998227  0.84878188  0.8775815
  0.90638111  0.93518072  0.96398033  0.99277994  1.02157955  1.05037916
  1.07917877  1.10797839  1.136778  ]
distance difference  counter: 
(array([   8,   29,  124,  615, 1940, 3819, 5318, 4771, 3178, 1753,  937,
        484,  276,  135,   73,   34,   14,    4,    5,    1]), array([ 0.59515911,  0.60520963,  0.61526015,  0.62531067,  0.63536118,
        0.6454117 ,  0.65546222,  0.66551273,  0.67556325,  0.68561377,
        0.69566429,  0.7057148 ,  0.71576532,  0.72581584,  0.73586636,
        0.74591687,  0.75596739,  0.76601791,  0.77606843,  0.78611894,
        0.79616946]))
||Xanchor-Xpos||_2  counter: 
[   6    8   21   51   78  121  200  288  400  519  674  816 1052 1187 1219
  934  503  145   22    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    3   12   18   22   54   86  167  238  436  794 1340
 1820 1960 1055  210   28]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30409363  0.34431268  0.38453174  0.42475079  0.46496985  0.5051889
  0.54540796  0.58562701  0.62584607  0.66606513  0.70628418  0.74650324
  0.78672229  0.82694135  0.8671604   0.90737946  0.94759851  0.98781757
  1.02803662  1.06825568  1.10847473]
distance difference  counter: 
(array([   2,   14,   51,  143,  368,  854, 1581, 1848, 1562,  902,  463,
        228,  110,   63,   31,   15,    6,    3,    1,    1]), array([ 0.55760843,  0.57261142,  0.58761442,  0.60261741,  0.61762041,
        0.6326234 ,  0.6476264 ,  0.6626294 ,  0.67763239,  0.69263539,
        0.70763838,  0.72264138,  0.73764437,  0.75264737,  0.76765037,
        0.78265336,  0.79765636,  0.81265935,  0.82766235,  0.84266534,
        0.85766834]))
train/val Accuracy = 0.67097542308 / 0.657652195004 
 with threshold: [[ 0.94690771]]
============ epoch 1 ===========
training loss:		0.269918
||Xanchor-Xpos||_2  counter: 
[   1    6    4   35   70  155  308  524  953 1564 2290 3017 3556 3805 3494
 2363 1022  304   41    6]
||Xanchor-Xneg||_2  counter: 
[   0    2    2    8   27   60   92  179  248  441  685 1160 1952 3283 4914
 5255 3548 1378  258   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.55880028  0.58675719  0.6147141   0.64267102  0.67062793  0.69858484
  0.72654175  0.75449866  0.78245558  0.81041249  0.8383694   0.86632631
  0.89428322  0.92224014  0.95019705  0.97815396  1.00611087  1.03406778
  1.06202469  1.08998161  1.11793852]
distance difference  counter: 
(array([  17,   35,  213,  711, 1897, 3513, 4871, 4543, 3205, 1945, 1124,
        597,  358,  218,  122,   85,   35,   22,    4,    3]), array([ 0.60330617,  0.61233126,  0.62135634,  0.63038143,  0.63940651,
        0.6484316 ,  0.65745668,  0.66648177,  0.67550685,  0.68453194,
        0.69355702,  0.70258211,  0.71160719,  0.72063228,  0.72965736,
        0.73868245,  0.74770753,  0.75673262,  0.7657577 ,  0.77478279,
        0.78380787]))
||Xanchor-Xpos||_2  counter: 
[   5    8   26   38   70  102  188  272  351  432  647  826  969 1120 1237
 1054  645  205   46    4]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    1    3   11   10   33   44   63  123  205  403  683 1137
 1726 2021 1363  381   37]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2863842   0.32642924  0.36647429  0.40651934  0.44656439  0.48660944
  0.52665448  0.56669953  0.60674458  0.64678963  0.68683468  0.72687973
  0.76692477  0.80696982  0.84701487  0.88705992  0.92710497  0.96715002
  1.00719506  1.04724011  1.08728516]
distance difference  counter: 
(array([   8,   16,   66,  197,  476, 1012, 1690, 1867, 1406,  750,  402,
        178,   82,   42,   31,   13,    5,    3,    1,    1]), array([ 0.56383228,  0.5788547 ,  0.59387712,  0.60889954,  0.62392195,
        0.63894437,  0.65396679,  0.66898921,  0.68401163,  0.69903404,
        0.71405646,  0.72907888,  0.7441013 ,  0.75912372,  0.77414613,
        0.78916855,  0.80419097,  0.81921339,  0.83423581,  0.84925822,
        0.86428064]))
train/val Accuracy = 0.671613232418 / 0.657349017706 
 with threshold: [[ 0.93767632]]
============ epoch 2 ===========
training loss:		0.268713
||Xanchor-Xpos||_2  counter: 
[   4   15   36   71  152  275  528  884 1352 1981 2515 3172 3472 3656 2799
 1740  637  202   24    2]
||Xanchor-Xneg||_2  counter: 
[   3   10   14   18   54   90  141  231  369  592  896 1515 2577 3862 4920
 4478 2699  856  179   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.59241217  0.61828648  0.64416078  0.67003508  0.69590938  0.72178368
  0.74765798  0.77353229  0.79940659  0.82528089  0.85115519  0.87702949
  0.9029038   0.9287781   0.9546524   0.9805267   1.006401    1.0322753
  1.05814961  1.08402391  1.10989821]
distance difference  counter: 
(array([   2,   20,  103,  513, 1663, 3836, 5407, 5058, 3269, 1704,  952,
        467,  255,  133,   74,   34,   14,    8,    4,    2]), array([ 0.59768468,  0.60791198,  0.61813928,  0.62836658,  0.63859388,
        0.64882118,  0.65904847,  0.66927577,  0.67950307,  0.68973037,
        0.69995767,  0.71018497,  0.72041227,  0.73063956,  0.74086686,
        0.75109416,  0.76132146,  0.77154876,  0.78177606,  0.79200336,
        0.80223066]))
||Xanchor-Xpos||_2  counter: 
[   6   14   30   54  100  136  216  320  374  513  665  884 1101 1191 1119
  882  473  138   27    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    2    6   11   20   30   48   93  145  290  484  815 1330
 1818 1902 1010  217   23]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.31255162  0.35129616  0.3900407   0.42878523  0.46752977  0.50627431
  0.54501885  0.58376339  0.62250793  0.66125247  0.69999701  0.73874155
  0.77748609  0.81623062  0.85497516  0.8937197   0.93246424  0.97120878
  1.00995332  1.04869786  1.0874424 ]
distance difference  counter: 
(array([   3,   11,   42,  104,  267,  641, 1245, 1792, 1674, 1156,  633,
        334,  179,   74,   42,   25,   12,    7,    2,    3]), array([ 0.5629999 ,  0.57708373,  0.59116756,  0.60525139,  0.61933522,
        0.63341905,  0.64750288,  0.66158671,  0.67567054,  0.68975437,
        0.7038382 ,  0.71792203,  0.73200586,  0.74608969,  0.76017352,
        0.77425735,  0.78834118,  0.80242501,  0.81650884,  0.83059267,
        0.84467649]))
train/val Accuracy = 0.668828131644 / 0.6582585496 
 with threshold: [[ 0.92906393]]
============ epoch 3 ===========
training loss:		0.267531
||Xanchor-Xpos||_2  counter: 
[   5    9   21   42  135  248  469  878 1481 2143 2907 3619 3908 3610 2549
 1152  292   47    3    0]
||Xanchor-Xneg||_2  counter: 
[   1    2    5   18   47   72  125  223  401  658 1122 1934 3086 4837 5418
 3791 1452  307   17    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56317395  0.59132748  0.61948101  0.64763454  0.67578807  0.7039416
  0.73209513  0.76024866  0.78840219  0.81655572  0.84470925  0.87286278
  0.90101631  0.92916984  0.95732337  0.9854769   1.01363043  1.04178396
  1.06993749  1.09809102  1.12624454]
distance difference  counter: 
(array([   2,    6,   26,  211,  789, 2078, 4041, 5310, 4455, 2926, 1701,
        928,  496,  261,  133,   90,   36,   16,   11,    2]), array([ 0.59632498,  0.60589626,  0.61546754,  0.62503881,  0.63461009,
        0.64418137,  0.65375265,  0.66332393,  0.67289521,  0.68246648,
        0.69203776,  0.70160904,  0.71118032,  0.7207516 ,  0.73032287,
        0.73989415,  0.74946543,  0.75903671,  0.76860799,  0.77817926,
        0.78775054]))
||Xanchor-Xpos||_2  counter: 
[  10    9   25   49   86  127  182  290  409  529  642  821 1059 1222 1179
  924  515  146   19    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    3   13   19   36   52   92  161  238  442  814 1278
 1786 1945 1105  233   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29547831  0.33455822  0.37363813  0.41271803  0.45179794  0.49087784
  0.52995775  0.56903766  0.60811756  0.64719747  0.68627737  0.72535728
  0.76443719  0.80351709  0.842597    0.8816769   0.92075681  0.95983672
  0.99891662  1.03799653  1.07707644]
distance difference  counter: 
(array([   7,   14,   47,  132,  271,  621, 1214, 1635, 1647, 1159,  689,
        370,  202,  102,   65,   29,   25,   11,    5,    1]), array([ 0.56999916,  0.58333693,  0.59667471,  0.61001249,  0.62335026,
        0.63668804,  0.65002581,  0.66336359,  0.67670137,  0.69003914,
        0.70337692,  0.7167147 ,  0.73005247,  0.74339025,  0.75672802,
        0.7700658 ,  0.78340358,  0.79674135,  0.81007913,  0.8234169 ,
        0.83675468]))
train/val Accuracy = 0.67199591802 / 0.660502061606 
 with threshold: [[ 0.92016581]]
============ epoch 4 ===========
training loss:		0.266371
||Xanchor-Xpos||_2  counter: 
[   4    7    9   38  140  230  470  872 1408 2047 2835 3490 4006 3808 2548
 1199  347   53    7    0]
||Xanchor-Xneg||_2  counter: 
[   2    0    8   11   32   86  136  235  398  675 1036 1736 3070 4655 5510
 3944 1615  334   31    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.55658197  0.58442145  0.61226093  0.6401004   0.66793988  0.69577935
  0.72361883  0.75145831  0.77929778  0.80713726  0.83497673  0.86281621
  0.89065568  0.91849516  0.94633464  0.97417411  1.00201359  1.02985306
  1.05769254  1.08553202  1.11337149]
distance difference  counter: 
(array([   3,   32,  135,  631, 1904, 3970, 5344, 4799, 3032, 1679,  914,
        503,  292,  142,   82,   36,    9,    7,    2,    2]), array([ 0.60587525,  0.6156578 ,  0.62544035,  0.63522289,  0.64500544,
        0.65478799,  0.66457053,  0.67435308,  0.68413563,  0.69391817,
        0.70370072,  0.71348327,  0.72326581,  0.73304836,  0.74283091,
        0.75261346,  0.762396  ,  0.77217855,  0.7819611 ,  0.79174364,
        0.80152619]))
||Xanchor-Xpos||_2  counter: 
[   7   13   35   54   95  135  217  256  390  515  636  786  985 1139 1200
  942  586  208   42    5]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1    6   11   27   30   45   80  148  239  425  737 1209
 1688 1938 1255  363   43]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30661988  0.34400525  0.38139062  0.41877599  0.45616136  0.49354672
  0.53093209  0.56831746  0.60570283  0.6430882   0.68047357  0.71785893
  0.7552443   0.79262967  0.83001504  0.86740041  0.90478578  0.94217114
  0.97955651  1.01694188  1.05432725]
distance difference  counter: 
(array([   8,   16,   61,  178,  440, 1113, 1797, 1939, 1324,  711,  344,
        156,   76,   42,   24,   11,    4,    1,    0,    1]), array([ 0.57004279,  0.58530161,  0.60056043,  0.61581925,  0.63107806,
        0.64633688,  0.6615957 ,  0.67685452,  0.69211334,  0.70737216,
        0.72263098,  0.7378898 ,  0.75314862,  0.76840743,  0.78366625,
        0.79892507,  0.81418389,  0.82944271,  0.84470153,  0.85996035,
        0.87521917]))
train/val Accuracy = 0.671591972106 / 0.655893766675 
 with threshold: [[ 0.91158681]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.659984
||Xanchor-Xpos||_2  counter: 
[   5   19   44   83  177  350  621 1025 1624 2210 2932 3388 3615 3169 2238
 1258  533  181   41    4]
||Xanchor-Xneg||_2  counter: 
[   1    6   13   33   49   94  154  285  461  732 1260 2168 3468 4353 4419
 3268 1818  717  192   24]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.57902426  0.6056987   0.63237315  0.65904759  0.68572204  0.71239649
  0.73907093  0.76574538  0.79241983  0.81909427  0.84576872  0.87244317
  0.89911761  0.92579206  0.95246651  0.97914095  1.0058154   1.03248985
  1.05916429  1.08583874  1.11251318]
distance difference  counter: 
(array([  11,   49,  212,  680, 1902, 3765, 5172, 4704, 3235, 1809,  940,
        483,  280,  139,   68,   43,   17,    5,    3,    1]), array([ 0.60436577,  0.61423668,  0.6241076 ,  0.63397852,  0.64384943,
        0.65372035,  0.66359127,  0.67346218,  0.6833331 ,  0.69320402,
        0.70307493,  0.71294585,  0.72281677,  0.73268768,  0.7425586 ,
        0.75242952,  0.76230043,  0.77217135,  0.78204226,  0.79191318,
        0.8017841 ]))
||Xanchor-Xpos||_2  counter: 
[   7   13   24   39  106  136  165  256  398  528  665  820 1036 1184 1193
  967  525  168   14    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    6    8   19   35   67   68  133  248  432  718 1308
 1941 1981 1032  230   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27450499  0.31168791  0.34887082  0.38605374  0.42323666  0.46041957
  0.49760249  0.53478541  0.57196832  0.60915124  0.64633416  0.68351707
  0.72069999  0.75788291  0.79506582  0.83224874  0.86943166  0.90661457
  0.94379749  0.98098041  1.01816332]
distance difference  counter: 
(array([   6,   21,   70,  137,  406,  835, 1382, 1778, 1482,  944,  543,
        277,  162,   80,   58,   30,   21,    5,    6,    3]), array([ 0.59397399,  0.60652148,  0.61906896,  0.63161645,  0.64416393,
        0.65671141,  0.6692589 ,  0.68180638,  0.69435387,  0.70690135,
        0.71944883,  0.73199632,  0.7445438 ,  0.75709129,  0.76963877,
        0.78218625,  0.79473374,  0.80728122,  0.81982871,  0.83237619,
        0.84492368]))
train/val Accuracy = 0.659431074071 / 0.552692214407 
 with threshold: [[ 0.91452199]]
============ epoch 1 ===========
training loss:		2.555273
||Xanchor-Xpos||_2  counter: 
[   2    6   26   44   98  231  469  865 1396 2135 2887 3637 3790 3517 2415
 1269  560  145   23    3]
||Xanchor-Xneg||_2  counter: 
[   0    1   11   20   25   62  118  252  374  659 1163 2090 3523 4636 4616
 3427 1815  595  114   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.50205302  0.52787557  0.55369811  0.57952065  0.6053432   0.63116574
  0.65698829  0.68281083  0.70863338  0.73445592  0.76027846  0.78610101
  0.81192355  0.8377461   0.86356864  0.88939118  0.91521373  0.94103627
  0.96685882  0.99268136  1.0185039 ]
distance difference  counter: 
(array([   3,   20,   65,  274,  903, 2109, 3643, 4694, 4411, 3231, 1874,
       1019,  571,  353,  169,   92,   45,   19,   17,    6]), array([ 0.62731767,  0.63578232,  0.64424698,  0.65271163,  0.66117629,
        0.66964094,  0.6781056 ,  0.68657025,  0.69503491,  0.70349956,
        0.71196422,  0.72042888,  0.72889353,  0.73735819,  0.74582284,
        0.7542875 ,  0.76275215,  0.77121681,  0.77968146,  0.78814612,
        0.79661077]))
||Xanchor-Xpos||_2  counter: 
[   6    8   26   46   64  120  161  259  399  437  637  821 1005 1178 1172
 1029  636  212   30    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    3    5   16   24   55   64  139  219  389  706 1165
 1828 2076 1216  315   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24197219  0.27585849  0.30974478  0.34363107  0.37751737  0.41140366
  0.44528995  0.47917625  0.51306254  0.54694883  0.58083513  0.61472142
  0.64860771  0.68249401  0.7163803   0.75026659  0.78415289  0.81803918
  0.85192547  0.88581177  0.91969806]
distance difference  counter: 
(array([   7,   22,   54,  164,  422,  876, 1438, 1696, 1412,  956,  507,
        300,  173,   91,   60,   32,   18,   14,    1,    3]), array([ 0.625296  ,  0.63657519,  0.64785439,  0.65913358,  0.67041278,
        0.68169197,  0.69297117,  0.70425037,  0.71552956,  0.72680876,
        0.73808795,  0.74936715,  0.76064634,  0.77192554,  0.78320473,
        0.79448393,  0.80576313,  0.81704232,  0.82832152,  0.83960071,
        0.85087991]))
train/val Accuracy = 0.657794030105 / 0.551540140674 
 with threshold: [[ 0.83064473]]
============ epoch 2 ===========
training loss:		2.468905
||Xanchor-Xpos||_2  counter: 
[   1    4   12   27   69  174  370  624 1120 1821 2488 3418 3777 3687 2901
 1877  836  251   52    9]
||Xanchor-Xneg||_2  counter: 
[   0    1    4   12   22   37  104  181  289  509  931 1529 2798 4221 4852
 4114 2574 1043  258   38]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.44261494  0.46626562  0.4899163   0.51356698  0.53721765  0.56086833
  0.58451901  0.60816969  0.63182036  0.65547104  0.67912172  0.7027724
  0.72642307  0.75007375  0.77372443  0.79737511  0.82102578  0.84467646
  0.86832714  0.89197782  0.91562849]
distance difference  counter: 
(array([  37,  160,  725, 2244, 4310, 5385, 4765, 2874, 1532,  741,  368,
        213,   96,   37,   17,   11,    2,    0,    0,    1]), array([ 0.66181982,  0.67105786,  0.6802959 ,  0.68953394,  0.69877198,
        0.70801002,  0.71724806,  0.7264861 ,  0.73572414,  0.74496218,
        0.75420022,  0.76343826,  0.7726763 ,  0.78191434,  0.79115238,
        0.80039042,  0.80962846,  0.8188665 ,  0.82810454,  0.83734258,
        0.84658062]))
||Xanchor-Xpos||_2  counter: 
[   5    3   19   40   56  129  167  254  364  504  599  820 1021 1179 1174
 1029  635  221   24    3]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    0    3    5   15   25   59   70  126  214  411  664 1155
 1842 2062 1262  311   21]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.21755064  0.24843854  0.27932644  0.31021435  0.34110225  0.37199016
  0.40287806  0.43376597  0.46465387  0.49554178  0.52642968  0.55731759
  0.58820549  0.6190934   0.6499813   0.68086921  0.71175711  0.74264502
  0.77353292  0.80442083  0.83530873]
distance difference  counter: 
(array([  20,   85,  303,  866, 1609, 1995, 1542,  875,  463,  229,  127,
         51,   50,   17,    8,    5,    0,    0,    0,    1]), array([ 0.66338176,  0.6755775 ,  0.68777324,  0.69996898,  0.71216472,
        0.72436047,  0.73655621,  0.74875195,  0.76094769,  0.77314343,
        0.78533918,  0.79753492,  0.80973066,  0.8219264 ,  0.83412215,
        0.84631789,  0.85851363,  0.87070937,  0.88290511,  0.89510086,
        0.9072966 ]))
train/val Accuracy = 0.66009014372 / 0.551903953432 
 with threshold: [[ 0.75445481]]
============ epoch 3 ===========
training loss:		2.397667
||Xanchor-Xpos||_2  counter: 
[   2    6    5   36   58  167  371  651 1155 1796 2542 3360 3849 3672 2821
 1848  853  253   64    9]
||Xanchor-Xneg||_2  counter: 
[   0    3    7   10   23   39  103  189  316  493  862 1593 2906 4257 4668
 4122 2588 1047  261   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.40411276  0.4254574   0.44680205  0.4681467   0.48949134  0.51083599
  0.53218064  0.55352528  0.57486993  0.59621458  0.61755922  0.63890387
  0.66024852  0.68159316  0.70293781  0.72428246  0.74562711  0.76697175
  0.7883164   0.80966105  0.83100569]
distance difference  counter: 
(array([   2,   17,  111,  465, 1472, 3188, 4698, 4951, 3801, 2235, 1201,
        630,  339,  214,  108,   44,   20,   10,   11,    1]), array([ 0.67696553,  0.68484505,  0.69272456,  0.70060408,  0.70848359,
        0.7163631 ,  0.72424262,  0.73212213,  0.74000164,  0.74788116,
        0.75576067,  0.76364018,  0.7715197 ,  0.77939921,  0.78727872,
        0.79515824,  0.80303775,  0.81091726,  0.81879678,  0.82667629,
        0.8345558 ]))
||Xanchor-Xpos||_2  counter: 
[   5   10   18   40   74  115  181  288  340  504  664  783 1045 1137 1223
 1028  596  173   21    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    0    4    2   10   32   52   66  138  239  422  703 1272
 1923 2004 1132  228   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1975852   0.22585199  0.25411879  0.28238558  0.31065238  0.33891917
  0.36718597  0.39545276  0.42371956  0.45198635  0.48025315  0.50851994
  0.53678674  0.56505353  0.59332033  0.62158712  0.64985391  0.67812071
  0.7063875   0.7346543   0.76292109]
distance difference  counter: 
(array([   5,   39,  128,  378,  883, 1568, 1805, 1436,  885,  485,  294,
        148,   85,   54,   31,   12,    4,    1,    3,    2]), array([ 0.68398058,  0.69412145,  0.70426232,  0.71440319,  0.72454406,
        0.73468493,  0.7448258 ,  0.75496667,  0.76510754,  0.77524841,
        0.78538927,  0.79553014,  0.80567101,  0.81581188,  0.82595275,
        0.83609362,  0.84623449,  0.85637536,  0.86651623,  0.8766571 ,
        0.88679796]))
train/val Accuracy = 0.658772004422 / 0.551903953432 
 with threshold: [[ 0.68519774]]
============ epoch 4 ===========
training loss:		2.338910
||Xanchor-Xpos||_2  counter: 
[   1    3    8   25   71  141  351  628 1130 1868 2686 3537 3980 3783 2851
 1655  591  176   30    3]
||Xanchor-Xneg||_2  counter: 
[   0    3    3   14   27   37  108  173  290  559  925 1704 3118 4580 5126
 3913 2080  692  152   14]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.35592535  0.37635907  0.3967928   0.41722652  0.43766024  0.45809396
  0.47852769  0.49896141  0.51939513  0.53982885  0.56026258  0.5806963
  0.60113002  0.62156374  0.64199747  0.66243119  0.68286491  0.70329863
  0.72373236  0.74416608  0.7645998 ]
distance difference  counter: 
(array([  10,   72,  316, 1089, 2687, 4275, 4990, 4170, 2619, 1515,  782,
        422,  284,  133,   81,   28,   23,   16,    3,    3]), array([ 0.70557314,  0.712768  ,  0.71996287,  0.72715773,  0.73435259,
        0.74154745,  0.74874231,  0.75593717,  0.76313204,  0.7703269 ,
        0.77752176,  0.78471662,  0.79191148,  0.79910634,  0.80630121,
        0.81349607,  0.82069093,  0.82788579,  0.83508065,  0.84227552,
        0.84947038]))
||Xanchor-Xpos||_2  counter: 
[   4   12   22   39   83  121  163  251  406  454  628  791  983 1185 1232
 1034  601  213   23    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2    1    6   17   31   50   78  136  221  397  703 1141
 1853 2081 1196  317   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17945281  0.20498108  0.23050935  0.25603762  0.28156589  0.30709416
  0.33262244  0.35815071  0.38367898  0.40920725  0.43473552  0.46026379
  0.48579206  0.51132034  0.53684861  0.56237688  0.58790515  0.61343342
  0.63896169  0.66448997  0.69001824]
distance difference  counter: 
(array([  14,   84,  242,  644, 1308, 1743, 1602, 1097,  656,  348,  213,
        129,   65,   48,   29,   12,    8,    2,    1,    1]), array([ 0.71383131,  0.72296025,  0.7320892 ,  0.74121815,  0.7503471 ,
        0.75947605,  0.768605  ,  0.77773395,  0.7868629 ,  0.79599185,
        0.8051208 ,  0.81424975,  0.82337869,  0.83250764,  0.84163659,
        0.85076554,  0.85989449,  0.86902344,  0.87815239,  0.88728134,
        0.89641029]))
train/val Accuracy = 0.658814525045 / 0.551540140674 
 with threshold: [[ 0.62222556]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027527
||Xanchor-Xpos||_2  counter: 
[   1    4   11    6   56  129  273  511  957 1514 2406 3171 3915 4121 3423
 2058  785  157   20    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    4   20   31   66  131  199  413  691 1229 2285 3831 5438
 5178 2951  878  156   14]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56158781  0.59073367  0.61987952  0.64902537  0.67817123  0.70731708
  0.73646294  0.76560879  0.79475465  0.8239005   0.85304636  0.88219221
  0.91133807  0.94048392  0.96962978  0.99877563  1.02792149  1.05706734
  1.0862132   1.11535905  1.1445049 ]
distance difference  counter: 
(array([   7,   30,  158,  658, 2275, 4705, 6103, 4764, 2566, 1219,  523,
        276,  138,   55,   26,   11,    2,    1,    0,    1]), array([ 0.5894438 ,  0.60071155,  0.61197929,  0.62324704,  0.63451478,
        0.64578253,  0.65705028,  0.66831802,  0.67958577,  0.69085351,
        0.70212126,  0.713389  ,  0.72465675,  0.73592449,  0.74719224,
        0.75845999,  0.76972773,  0.78099548,  0.79226322,  0.80353097,
        0.81479871]))
||Xanchor-Xpos||_2  counter: 
[   3    3   14   43   66  106  158  236  367  490  655  818 1036 1209 1202
 1071  563  180   25    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    2    2    6   16   22   46   67  137  225  377  690 1241
 1927 2074 1130  270   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26717067  0.30946857  0.35176647  0.39406437  0.43636227  0.47866017
  0.52095807  0.56325597  0.60555387  0.64785177  0.69014966  0.73244756
  0.77474546  0.81704336  0.85934126  0.90163916  0.94393706  0.98623496
  1.02853286  1.07083076  1.11312866]
distance difference  counter: 
(array([   5,   22,   56,  222,  512, 1129, 1734, 1973, 1277,  635,  335,
        179,   84,   36,   26,   13,    4,    3,    0,    1]), array([ 0.56047744,  0.57583726,  0.59119709,  0.60655692,  0.62191675,
        0.63727657,  0.6526364 ,  0.66799623,  0.68335606,  0.69871589,
        0.71407571,  0.72943554,  0.74479537,  0.7601552 ,  0.77551503,
        0.79087485,  0.80623468,  0.82159451,  0.83695434,  0.85231417,
        0.86767399]))
train/val Accuracy = 0.676375542138 / 0.643402861994 
 with threshold: [[ 0.95322416]]
============ epoch 1 ===========
training loss:		0.027407
||Xanchor-Xpos||_2  counter: 
[   5    2    8   22   59  136  318  588 1096 1773 2610 3372 3937 4111 3039
 1761  580   94    6    1]
||Xanchor-Xneg||_2  counter: 
[   0    3    5    5   11   31   75  156  260  484  807 1498 2568 4274 5562
 4721 2339  624   84   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56480527  0.59359606  0.62238685  0.65117764  0.67996843  0.70875922
  0.73755001  0.7663408   0.79513159  0.82392238  0.85271317  0.88150396
  0.91029475  0.93908554  0.96787633  0.99666712  1.02545791  1.0542487
  1.08303949  1.11183028  1.14062107]
distance difference  counter: 
(array([   3,    6,   34,  183,  796, 2207, 4336, 5504, 4629, 2828, 1490,
        768,  372,  203,   93,   35,   14,   11,    4,    2]), array([ 0.58735418,  0.5975353 ,  0.60771641,  0.61789753,  0.62807864,
        0.63825975,  0.64844087,  0.65862198,  0.6688031 ,  0.67898421,
        0.68916532,  0.69934644,  0.70952755,  0.71970867,  0.72988978,
        0.74007089,  0.75025201,  0.76043312,  0.77061424,  0.78079535,
        0.79097646]))
||Xanchor-Xpos||_2  counter: 
[   5   22   32   52   77  163  205  287  406  524  699  874 1068 1139 1198
  874  468  136   17    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    5    5   12   22   28   47   83  161  264  468  840 1345
 1939 1872  918  222   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30647185  0.3462926   0.38611334  0.42593408  0.46575482  0.50557556
  0.5453963   0.58521704  0.62503778  0.66485852  0.70467927  0.74450001
  0.78432075  0.82414149  0.86396223  0.90378297  0.94360371  0.98342445
  1.02324519  1.06306594  1.10288668]
distance difference  counter: 
(array([   4,   14,   66,  138,  317,  735, 1282, 1797, 1581, 1086,  577,
        317,  155,   85,   35,   33,   11,    6,    5,    2]), array([ 0.56383967,  0.57772107,  0.59160247,  0.60548387,  0.61936526,
        0.63324666,  0.64712806,  0.66100945,  0.67489085,  0.68877225,
        0.70265365,  0.71653504,  0.73041644,  0.74429784,  0.75817924,
        0.77206063,  0.78594203,  0.79982343,  0.81370482,  0.82758622,
        0.84146762]))
train/val Accuracy = 0.673675482609 / 0.644251758428 
 with threshold: [[ 0.94445355]]
============ epoch 2 ===========
training loss:		0.027289
||Xanchor-Xpos||_2  counter: 
[   1    2    3   10   34   91  181  433  828 1369 2228 2982 3729 4226 3692
 2469  993  221   26    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    4    7   21   50   98  184  366  617 1049 2047 3361 5182
 5515 3526 1235  236   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53793699  0.56699655  0.59605611  0.62511567  0.65417523  0.6832348
  0.71229436  0.74135392  0.77041348  0.79947304  0.82853261  0.85759217
  0.88665173  0.91571129  0.94477085  0.97383042  1.00288998  1.03194954
  1.0610091   1.09006867  1.11912823]
distance difference  counter: 
(array([  11,   27,  145,  514, 1460, 3154, 4737, 4881, 3768, 2252, 1171,
        658,  376,  169,  117,   40,   23,    9,    4,    2]), array([ 0.60063362,  0.60986773,  0.61910184,  0.62833595,  0.63757006,
        0.64680417,  0.65603828,  0.66527239,  0.6745065 ,  0.68374061,
        0.69297472,  0.70220883,  0.71144294,  0.72067704,  0.72991115,
        0.73914526,  0.74837937,  0.75761348,  0.76684759,  0.7760817 ,
        0.78531581]))
||Xanchor-Xpos||_2  counter: 
[   1    8   15   40   59   98  154  237  326  470  589  797  997 1166 1248
 1076  683  237   43    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    1    4   20   19   37   65  115  214  344  646 1143
 1723 2099 1357  417   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26221204  0.30314165  0.34407126  0.38500087  0.42593048  0.46686009
  0.5077897   0.5487193   0.58964891  0.63057852  0.67150813  0.71243774
  0.75336735  0.79429696  0.83522657  0.87615618  0.91708579  0.9580154
  0.99894501  1.03987462  1.08080423]
distance difference  counter: 
(array([   1,    6,   27,   65,  188,  446,  914, 1500, 1816, 1437,  876,
        473,  240,  117,   68,   30,   26,   12,    1,    3]), array([ 0.55666482,  0.57063837,  0.58461192,  0.59858547,  0.61255902,
        0.62653257,  0.64050612,  0.65447967,  0.66845322,  0.68242677,
        0.69640031,  0.71037386,  0.72434741,  0.73832096,  0.75229451,
        0.76626806,  0.78024161,  0.79421516,  0.80818871,  0.82216226,
        0.8361358 ]))
train/val Accuracy = 0.676141678714 / 0.642250788261 
 with threshold: [[ 0.93548364]]
============ epoch 3 ===========
training loss:		0.027173
||Xanchor-Xpos||_2  counter: 
[   2    0    1    4   14   42   98  203  512 1009 1680 2647 3521 4276 4309
 3203 1543  394   58    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    4   17   24   55  125  229  433  823 1474 2727 4727
 5929 4624 1960  336   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.49792409  0.52823619  0.55854828  0.58886038  0.61917248  0.64948457
  0.67979667  0.71010877  0.74042087  0.77073296  0.80104506  0.83135716
  0.86166925  0.89198135  0.92229345  0.95260555  0.98291764  1.01322974
  1.04354184  1.07385393  1.10416603]
distance difference  counter: 
(array([   2,    7,   52,  217,  749, 1871, 3743, 4930, 4711, 3203, 1839,
       1035,  561,  269,  152,   96,   40,   26,   11,    4]), array([ 0.597624  ,  0.60669971,  0.61577541,  0.62485111,  0.63392681,
        0.64300251,  0.65207821,  0.66115391,  0.67022961,  0.67930532,
        0.68838102,  0.69745672,  0.70653242,  0.71560812,  0.72468382,
        0.73375952,  0.74283522,  0.75191092,  0.76098663,  0.77006233,
        0.77913803]))
||Xanchor-Xpos||_2  counter: 
[   2    6   28   32   75  106  178  272  318  458  598  791  970 1128 1155
 1053  703  300   68    5]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    3    7   21   18   40   60  128  204  354  593 1029
 1603 2040 1473  586   83]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28510338  0.32379688  0.36249037  0.40118387  0.43987737  0.47857086
  0.51726436  0.55595786  0.59465135  0.63334485  0.67203835  0.71073184
  0.74942534  0.78811884  0.82681233  0.86550583  0.90419933  0.94289282
  0.98158632  1.02027982  1.05897331]
distance difference  counter: 
(array([   6,   17,   59,  208,  517, 1094, 1673, 1907, 1320,  724,  370,
        167,   95,   36,   27,   16,    4,    4,    1,    1]), array([ 0.57049137,  0.58525664,  0.6000219 ,  0.61478717,  0.62955244,
        0.6443177 ,  0.65908297,  0.67384823,  0.6886135 ,  0.70337876,
        0.71814403,  0.73290929,  0.74767456,  0.76243983,  0.77720509,
        0.79197036,  0.80673562,  0.82150089,  0.83626615,  0.85103142,
        0.86579669]))
train/val Accuracy = 0.674100688834 / 0.644069852049 
 with threshold: [[ 0.92725064]]
============ epoch 4 ===========
training loss:		0.027060
||Xanchor-Xpos||_2  counter: 
[   2    5   31   81  166  357  635 1015 1652 2320 3032 3556 3790 3299 2226
 1026  268   55    2    0]
||Xanchor-Xneg||_2  counter: 
[   2    2    8   13   47   90  150  240  392  728 1178 2173 3397 4865 5007
 3431 1407  347   37    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.59434998  0.62026467  0.64617937  0.67209406  0.69800875  0.72392344
  0.74983814  0.77575283  0.80166752  0.82758222  0.85349691  0.8794116
  0.90532629  0.93124099  0.95715568  0.98307037  1.00898507  1.03489976
  1.06081445  1.08672915  1.11264384]
distance difference  counter: 
(array([  13,   52,  193,  707, 1704, 3340, 4798, 4740, 3406, 2045, 1122,
        642,  338,  195,  120,   55,   34,    9,    2,    3]), array([ 0.61000866,  0.61870784,  0.62740702,  0.6361062 ,  0.64480538,
        0.65350457,  0.66220375,  0.67090293,  0.67960211,  0.68830129,
        0.69700047,  0.70569966,  0.71439884,  0.72309802,  0.7317972 ,
        0.74049638,  0.74919556,  0.75789475,  0.76659393,  0.77529311,
        0.78399229]))
||Xanchor-Xpos||_2  counter: 
[   9   16   18   39   72  135  188  310  352  482  645  833  993 1111 1153
 1007  619  223   39    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    3    2   11   24   28   43   70  126  251  386  691 1138
 1711 1958 1309  437   58]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29358709  0.3317261   0.36986511  0.40800412  0.44614313  0.48428214
  0.52242115  0.56056015  0.59869916  0.63683817  0.67497718  0.71311619
  0.7512552   0.78939421  0.82753322  0.86567223  0.90381124  0.94195025
  0.98008926  1.01822827  1.05636728]
distance difference  counter: 
(array([   5,   14,   54,  119,  316,  688, 1180, 1650, 1626, 1100,  718,
        340,  210,   93,   61,   32,   19,   13,    5,    3]), array([ 0.57436222,  0.58743581,  0.6005094 ,  0.61358299,  0.62665658,
        0.63973017,  0.65280376,  0.66587735,  0.67895094,  0.69202453,
        0.70509812,  0.71817171,  0.7312453 ,  0.74431889,  0.75739248,
        0.77046607,  0.78353966,  0.79661326,  0.80968685,  0.82276044,
        0.83583403]))
train/val Accuracy = 0.67522748533 / 0.645646374 
 with threshold: [[ 0.91835716]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.266134
||Xanchor-Xpos||_2  counter: 
[   3   12   27   50  125  281  587  936 1703 2406 3183 3909 3823 3112 2065
  928  300   61    7    0]
||Xanchor-Xneg||_2  counter: 
[   1    3   13   18   25   80  140  290  396  824 1424 2506 3892 4700 4352
 2939 1437  387   80   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.55827731  0.58696669  0.61565607  0.64434545  0.67303483  0.70172422
  0.7304136   0.75910298  0.78779236  0.81648174  0.84517112  0.87386051
  0.90254989  0.93123927  0.95992865  0.98861803  1.01730741  1.04599679
  1.07468618  1.10337556  1.13206494]
distance difference  counter: 
(array([   2,    3,   23,   80,  393, 1253, 3024, 4656, 5156, 4021, 2449,
       1260,  597,  310,  156,   72,   37,   14,    9,    3]), array([ 0.58651614,  0.5968152 ,  0.60711426,  0.61741331,  0.62771237,
        0.63801143,  0.64831048,  0.65860954,  0.6689086 ,  0.67920765,
        0.68950671,  0.69980577,  0.71010482,  0.72040388,  0.73070294,
        0.74100199,  0.75130105,  0.76160011,  0.77189916,  0.78219822,
        0.79249728]))
||Xanchor-Xpos||_2  counter: 
[   5    5   13   47   89  113  164  244  370  460  640  778 1049 1104 1197
  996  690  239   40    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    1    9   14   30   39   81  134  206  363  658 1126
 1679 1995 1397  460   52]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26342615  0.30008638  0.33674661  0.37340684  0.41006707  0.4467273
  0.48338753  0.52004776  0.55670798  0.59336821  0.63002844  0.66668867
  0.7033489   0.74000913  0.77666936  0.81332958  0.84998981  0.88665004
  0.92331027  0.9599705   0.99663073]
distance difference  counter: 
(array([   3,   21,   50,  151,  371,  790, 1310, 1744, 1502, 1024,  582,
        319,  168,   90,   63,   26,   14,   11,    4,    3]), array([ 0.59445387,  0.60702878,  0.61960369,  0.6321786 ,  0.64475352,
        0.65732843,  0.66990334,  0.68247825,  0.69505316,  0.70762807,
        0.72020298,  0.73277789,  0.7453528 ,  0.75792772,  0.77050263,
        0.78307754,  0.79565245,  0.80822736,  0.82080227,  0.83337718,
        0.84595209]))
train/val Accuracy = 0.663066587295 / 0.542020373514 
 with threshold: [[ 0.91411836]]
============ epoch 1 ===========
training loss:		0.255704
||Xanchor-Xpos||_2  counter: 
[   2    6    7   23   98  198  407  816 1480 2306 3152 3945 4072 3490 2128
  993  330   62    3    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    3   11   23   53  110  211  363  701 1348 2318 3860 4834 4731
 3056 1427  390   72    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.48712122  0.5144638   0.54180638  0.56914895  0.59649153  0.6238341
  0.65117668  0.67851925  0.70586183  0.73320441  0.76054698  0.78788956
  0.81523213  0.84257471  0.86991729  0.89725986  0.92460244  0.95194501
  0.97928759  1.00663016  1.03397274]
distance difference  counter: 
(array([   3,   18,   77,  313, 1042, 2504, 4256, 5120, 4360, 2735, 1520,
        793,  397,  198,  108,   42,   18,    9,    4,    1]), array([ 0.62243485,  0.63182389,  0.64121293,  0.65060197,  0.65999101,
        0.66938005,  0.67876909,  0.68815813,  0.69754717,  0.70693621,
        0.71632525,  0.72571429,  0.73510333,  0.74449237,  0.75388141,
        0.76327045,  0.77265949,  0.78204853,  0.79143757,  0.80082661,
        0.81021565]))
||Xanchor-Xpos||_2  counter: 
[   1    5   15   35   73  118  177  265  370  460  639  794 1043 1163 1206
 1014  605  223   39    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    2    2    6   13   27   40   73  123  211  374  698 1194
 1754 2023 1340  324   41]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2323602   0.26630495  0.30024971  0.33419446  0.36813922  0.40208397
  0.43602873  0.46997348  0.50391824  0.53786299  0.57180775  0.6057525
  0.63969726  0.67364201  0.70758677  0.74153152  0.77547628  0.80942103
  0.84336579  0.87731054  0.9112553 ]
distance difference  counter: 
(array([  11,   43,  150,  416,  996, 1619, 1835, 1414,  840,  460,  214,
        107,   75,   32,   21,    5,    5,    1,    1,    1]), array([ 0.63233358,  0.64488603,  0.65743849,  0.66999094,  0.6825434 ,
        0.69509585,  0.70764831,  0.72020076,  0.73275322,  0.74530567,
        0.75785813,  0.77041058,  0.78296304,  0.79551549,  0.80806795,
        0.8206204 ,  0.83317286,  0.84572531,  0.85827777,  0.87083022,
        0.88338268]))
train/val Accuracy = 0.661493324262 / 0.539049235993 
 with threshold: [[ 0.8307495]]
============ epoch 2 ===========
training loss:		0.247103
||Xanchor-Xpos||_2  counter: 
[   4    4   22   61  132  248  514  985 1493 2302 3100 3547 3851 3213 2232
 1205  461  118   22    2]
||Xanchor-Xneg||_2  counter: 
[   0    3   10   17   51   65  134  231  446  722 1186 2236 3469 4550 4451
 3310 1829  620  169   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.4649508   0.48791577  0.51088074  0.53384572  0.55681069  0.57977566
  0.60274063  0.62570561  0.64867058  0.67163555  0.69460052  0.71756549
  0.74053047  0.76349544  0.78646041  0.80942538  0.83239036  0.85535533
  0.8783203   0.90128527  0.92425025]
distance difference  counter: 
(array([  11,   37,  237,  810, 2151, 3975, 5233, 4622, 3065, 1633,  857,
        444,  229,  103,   60,   31,   14,    5,    0,    1]), array([ 0.65419942,  0.6630622 ,  0.67192498,  0.68078776,  0.68965054,
        0.69851331,  0.70737609,  0.71623887,  0.72510165,  0.73396443,
        0.74282721,  0.75168999,  0.76055276,  0.76941554,  0.77827832,
        0.7871411 ,  0.79600388,  0.80486666,  0.81372944,  0.82259221,
        0.83145499]))
||Xanchor-Xpos||_2  counter: 
[   4   12   25   44   80  104  205  266  361  488  693  820 1051 1118 1176
  966  578  220   31    4]
||Xanchor-Xneg||_2  counter: 
[   1    0    3    0    2    8   20   33   45   77  139  241  415  711 1216
 1775 1947 1258  312   43]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2234453   0.25364761  0.28384993  0.31405225  0.34425457  0.37445688
  0.4046592   0.43486152  0.46506383  0.49526615  0.52546847  0.55567079
  0.5858731   0.61607542  0.64627774  0.67648005  0.70668237  0.73688469
  0.76708701  0.79728932  0.82749164]
distance difference  counter: 
(array([   8,   32,  135,  461, 1078, 1809, 1857, 1338,  757,  375,  194,
         92,   58,   28,   13,    6,    1,    3,    0,    1]), array([ 0.65614933,  0.66844195,  0.68073457,  0.6930272 ,  0.70531982,
        0.71761245,  0.72990507,  0.74219769,  0.75449032,  0.76678294,
        0.77907556,  0.79136819,  0.80366081,  0.81595343,  0.82824606,
        0.84053868,  0.8528313 ,  0.86512393,  0.87741655,  0.88970917,
        0.9020018 ]))
train/val Accuracy = 0.663513053831 / 0.541474654378 
 with threshold: [[ 0.7546671]]
============ epoch 3 ===========
training loss:		0.240010
||Xanchor-Xpos||_2  counter: 
[   3    4    9   23   60  121  276  601 1103 1793 2669 3497 3929 3853 2979
 1643  718  206   28    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    4    6   20   43   81  160  295  503  880 1615 2942 4210 4893
 4055 2539  995  245   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.39431891  0.41642453  0.43853016  0.46063578  0.4827414   0.50484703
  0.52695265  0.54905827  0.5711639   0.59326952  0.61537515  0.63748077
  0.65958639  0.68169202  0.70379764  0.72590327  0.74800889  0.77011451
  0.79222014  0.81432576  0.83643138]
distance difference  counter: 
(array([   2,   23,  159,  671, 2110, 4096, 5291, 4816, 3106, 1617,  810,
        419,  219,   98,   43,   25,    8,    2,    2,    1]), array([ 0.67461455,  0.68332081,  0.69202707,  0.70073333,  0.70943959,
        0.71814585,  0.72685211,  0.73555837,  0.74426463,  0.75297089,
        0.76167715,  0.77038341,  0.77908967,  0.78779593,  0.79650218,
        0.80520844,  0.8139147 ,  0.82262096,  0.83132722,  0.84003348,
        0.84873974]))
||Xanchor-Xpos||_2  counter: 
[   5    4   23   40   76   97  214  249  420  509  654  796 1039 1139 1158
  991  587  210   34    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    3    6   15   35   41   85  123  245  429  699 1192
 1795 1959 1254  324   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19753513  0.22532064  0.25310615  0.28089166  0.30867717  0.33646268
  0.3642482   0.39203371  0.41981922  0.44760473  0.47539024  0.50317575
  0.53096126  0.55874677  0.58653229  0.6143178   0.64210331  0.66988882
  0.69767433  0.72545984  0.75324535]
distance difference  counter: 
(array([   9,   47,  123,  382,  868, 1416, 1694, 1439,  956,  568,  332,
        179,   99,   60,   36,   20,   12,    3,    2,    1]), array([ 0.68599957,  0.69583766,  0.70567576,  0.71551385,  0.72535194,
        0.73519003,  0.74502813,  0.75486622,  0.76470431,  0.7745424 ,
        0.7843805 ,  0.79421859,  0.80405668,  0.81389477,  0.82373286,
        0.83357096,  0.84340905,  0.85324714,  0.86308523,  0.87292333,
        0.88276142]))
train/val Accuracy = 0.663385491964 / 0.546507397526 
 with threshold: [[ 0.68538843]]
============ epoch 4 ===========
training loss:		0.234160
||Xanchor-Xpos||_2  counter: 
[   3    7   21   67  138  316  593 1057 1688 2513 3304 3802 3725 3075 1927
  917  279   74   11    1]
||Xanchor-Xneg||_2  counter: 
[   2    5    9   20   46   87  182  276  508  845 1462 2536 3881 4625 4257
 2880 1381  435   67   14]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.38679022  0.40595543  0.42512065  0.44428586  0.46345108  0.48261629
  0.50178151  0.52094672  0.54011194  0.55927715  0.57844236  0.59760758
  0.61677279  0.63593801  0.65510322  0.67426844  0.69343365  0.71259887
  0.73176408  0.7509293   0.77009451]
distance difference  counter: 
(array([   8,   44,  188,  640, 1644, 3167, 4374, 4608, 3570, 2283, 1314,
        754,  410,  237,  134,   73,   41,   15,    8,    6]), array([ 0.70230603,  0.70921028,  0.71611453,  0.72301877,  0.72992302,
        0.73682727,  0.74373152,  0.75063576,  0.75754001,  0.76444426,
        0.77134851,  0.77825275,  0.785157  ,  0.79206125,  0.7989655 ,
        0.80586974,  0.81277399,  0.81967824,  0.82658249,  0.83348673,
        0.84039098]))
||Xanchor-Xpos||_2  counter: 
[   6   13   33   51   85  132  209  276  405  498  686  833 1073 1152 1109
  950  548  162   21    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    5   10   21   29   49  101  122  255  472  801 1246
 1805 1914 1121  261   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19038849  0.21515334  0.2399182   0.26468306  0.28944792  0.31421277
  0.33897763  0.36374249  0.38850735  0.4132722   0.43803706  0.46280192
  0.48756678  0.51233163  0.53709649  0.56186135  0.5866262   0.61139106
  0.63615592  0.66092078  0.68568563]
distance difference  counter: 
(array([   2,    5,   23,   95,  281,  677, 1289, 1667, 1527, 1077,  704,
        388,  219,  113,   73,   47,   27,   20,    9,    3]), array([ 0.69879103,  0.70770397,  0.71661691,  0.72552985,  0.73444279,
        0.74335574,  0.75226868,  0.76118162,  0.77009456,  0.7790075 ,
        0.78792045,  0.79683339,  0.80574633,  0.81465927,  0.82357221,
        0.83248515,  0.8413981 ,  0.85031104,  0.85922398,  0.86813692,
        0.87704986]))
train/val Accuracy = 0.664235904414 / 0.541414018918 
 with threshold: [[ 0.623117]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.363104
||Xanchor-Xpos||_2  counter: 
[  16  168  981 2309 2449 2217 1997 1908 1693 1582 1540 1409 1341 1164 1015
  818  573  274   58    6]
||Xanchor-Xneg||_2  counter: 
[   5   45  321 1784 2364 2222 2031 1911 1633 1603 1558 1426 1324 1264 1106
 1059  903  682  242   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24326976  0.28699685  0.33072395  0.37445104  0.41817814  0.46190524
  0.50563233  0.54935943  0.59308653  0.63681362  0.68054072  0.72426781
  0.76799491  0.81172201  0.8554491   0.8991762   0.9429033   0.98663039
  1.03035749  1.07408458  1.11781168]
distance difference  counter: 
(array([   6,   43,  211,  635, 1125, 1343, 1458, 1641, 1677, 1743, 1807,
       1822, 2075, 2039, 2206, 2231, 1153,  238,   56,    9]), array([ 0.60317451,  0.61737167,  0.63156883,  0.64576598,  0.65996314,
        0.6741603 ,  0.68835746,  0.70255462,  0.71675178,  0.73094894,
        0.7451461 ,  0.75934325,  0.77354041,  0.78773757,  0.80193473,
        0.81613189,  0.83032905,  0.84452621,  0.85872337,  0.87292053,
        0.88711768]))
||Xanchor-Xpos||_2  counter: 
[   6    9   28   58   87  126  209  275  371  545  622  826 1010 1185 1185
  999  501  174   27    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    1    6    8   14   29   62   74  145  251  461  733 1265
 1933 1916 1065  255   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1132358   0.12830373  0.14337166  0.15843958  0.17350751  0.18857544
  0.20364337  0.21871129  0.23377922  0.24884715  0.26391508  0.278983
  0.29405093  0.30911886  0.32418679  0.33925471  0.35432264  0.36939057
  0.3844585   0.39952642  0.41459435]
distance difference  counter: 
(array([   7,   86,  247,  777, 1540, 1685, 1469,  945,  591,  370,  226,
        121,   58,   52,   36,   14,   12,    4,    4,    2]), array([ 0.81575936,  0.82145327,  0.82714719,  0.8328411 ,  0.83853501,
        0.84422892,  0.84992284,  0.85561675,  0.86131066,  0.86700457,
        0.87269849,  0.8783924 ,  0.88408631,  0.88978022,  0.89547414,
        0.90116805,  0.90686196,  0.91255587,  0.91824979,  0.9239437 ,
        0.92963761]))
train/val Accuracy = 0.530508546645 / 0.5 
 with threshold: [[ 0.62964322]]
============ epoch 1 ===========
training loss:		2.102467
||Xanchor-Xpos||_2  counter: 
[  14  149  932 2290 2484 2231 2031 1830 1807 1574 1542 1437 1368 1227 1014
  802  516  230   37    3]
||Xanchor-Xneg||_2  counter: 
[   5   43  345 1656 2404 2286 2035 1834 1764 1667 1505 1453 1322 1269 1232
 1036  859  608  175   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.08897705  0.10547028  0.12196351  0.13845674  0.15494998  0.17144321
  0.18793644  0.20442967  0.2209229   0.23741614  0.25390937  0.2704026
  0.28689583  0.30338906  0.3198823   0.33637553  0.35286876  0.36936199
  0.38585523  0.40234846  0.41884169]
distance difference  counter: 
(array([   6,   65,  342,  773, 1017, 1251, 1309, 1442, 1476, 1549, 1663,
       1785, 1796, 1948, 2168, 2285, 1926,  603,  100,   14]), array([ 0.81820345,  0.82494687,  0.8316903 ,  0.83843372,  0.84517715,
        0.85192057,  0.858664  ,  0.86540743,  0.87215085,  0.87889428,
        0.8856377 ,  0.89238113,  0.89912455,  0.90586798,  0.9126114 ,
        0.91935483,  0.92609825,  0.93284168,  0.9395851 ,  0.94632853,
        0.95307195]))
||Xanchor-Xpos||_2  counter: 
[   6   10   18   48   82  104  189  273  387  489  649  816  979 1178 1179
  991  598  207   39    4]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1    2    7   13   32   48   80  132  221  437  708 1193
 1830 1948 1226  331   36]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04083186  0.04648169  0.05213152  0.05778135  0.06343118  0.06908101
  0.07473084  0.08038067  0.0860305   0.09168033  0.09733016  0.10297999
  0.10862982  0.11427965  0.11992948  0.12557931  0.13122914  0.13687897
  0.1425288   0.14817863  0.15382846]
distance difference  counter: 
(array([   6,  139,  702, 1653, 1919, 1553,  963,  546,  329,  185,   97,
         68,   46,   21,   11,    4,    2,    1,    0,    1]), array([ 0.92615241,  0.92874159,  0.93133077,  0.93391995,  0.93650913,
        0.93909831,  0.94168749,  0.94427668,  0.94686586,  0.94945504,
        0.95204422,  0.9546334 ,  0.95722258,  0.95981176,  0.96240094,
        0.96499012,  0.96757931,  0.97016849,  0.97275767,  0.97534685,
        0.97793603]))
train/val Accuracy = 0.52923292797 / 0.5 
 with threshold: [[ 0.23424187]]
============ epoch 2 ===========
training loss:		2.066492
||Xanchor-Xpos||_2  counter: 
[   7  113  843 2095 2408 2267 2055 1908 1718 1615 1516 1421 1313 1258 1054
  889  634  301   88   15]
||Xanchor-Xneg||_2  counter: 
[   3   25  238 1421 2395 2256 2042 1871 1704 1682 1522 1449 1348 1277 1165
 1063  953  714  327   63]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03291488  0.03893984  0.04496481  0.05098977  0.05701473  0.0630397
  0.06906466  0.07508962  0.08111459  0.08713955  0.09316451  0.09918948
  0.10521444  0.1112394   0.11726437  0.12328933  0.12931429  0.13533926
  0.14136422  0.14738918  0.15341415]
distance difference  counter: 
(array([  27,  215,  623,  935, 1104, 1188, 1343, 1354, 1505, 1540, 1710,
       1720, 1893, 2064, 2238, 2368, 1415,  246,   26,    4]), array([ 0.92710191,  0.9299235 ,  0.9327451 ,  0.93556669,  0.93838829,
        0.94120988,  0.94403148,  0.94685307,  0.94967467,  0.95249626,
        0.95531785,  0.95813945,  0.96096104,  0.96378264,  0.96660423,
        0.96942583,  0.97224742,  0.97506902,  0.97789061,  0.98071221,
        0.9835338 ]))
||Xanchor-Xpos||_2  counter: 
[   3   12   17   49   61  132  183  243  379  479  595  761  930 1130 1202
 1081  624  303   57    5]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    0    4    8   25   23   44   65  133  209  378  619 1037
 1665 2075 1408  484   68]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01522886  0.01731568  0.0194025   0.02148932  0.02357614  0.02566295
  0.02774977  0.02983659  0.03192341  0.03401023  0.03609704  0.03818386
  0.04027068  0.0423575   0.04444432  0.04653113  0.04861795  0.05070477
  0.05279159  0.05487841  0.05696522]
distance difference  counter: 
(array([  46,  386, 1205, 1909, 1813, 1139,  686,  441,  255,  155,   81,
         53,   27,   26,   15,    6,    2,    0,    0,    1]), array([ 0.97202939,  0.97301382,  0.97399825,  0.97498269,  0.97596712,
        0.97695155,  0.97793599,  0.97892042,  0.97990485,  0.98088929,
        0.98187372,  0.98285815,  0.98384259,  0.98482702,  0.98581145,
        0.98679589,  0.98778032,  0.98876475,  0.98974919,  0.99073362,
        0.99171805]))
train/val Accuracy = 0.530678629135 / 0.5 
 with threshold: [[ 0.08733783]]
============ epoch 3 ===========
training loss:		2.061527
||Xanchor-Xpos||_2  counter: 
[  46  477 1696 2355 2253 2018 1861 1755 1686 1543 1441 1331 1343 1141 1008
  751  512  232   60    9]
||Xanchor-Xneg||_2  counter: 
[  17  126  752 2111 2262 2070 1952 1768 1624 1509 1492 1389 1314 1202 1109
 1057  872  569  267   55]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0141047   0.01628579  0.01846689  0.02064798  0.02282907  0.02501017
  0.02719126  0.02937236  0.03155345  0.03373454  0.03591564  0.03809673
  0.04027782  0.04245892  0.04464001  0.0468211   0.0490022   0.05118329
  0.05336439  0.05554548  0.05772657]
distance difference  counter: 
(array([  51,  271,  564,  896, 1083, 1151, 1222, 1366, 1422, 1497, 1584,
       1652, 1812, 1997, 2138, 2288, 1905,  525,   82,   12]), array([ 0.97178078,  0.9728523 ,  0.97392381,  0.97499533,  0.97606685,
        0.97713837,  0.97820989,  0.97928141,  0.98035293,  0.98142444,
        0.98249596,  0.98356748,  0.984639  ,  0.98571052,  0.98678204,
        0.98785356,  0.98892508,  0.98999659,  0.99106811,  0.99213963,
        0.99321115]))
||Xanchor-Xpos||_2  counter: 
[   3    6   21   51   65  143  189  263  403  548  681  841 1084 1174 1188
  927  478  152   25    4]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    0    3    7   17   30   60   87  145  258  472  773 1266
 1933 1875 1002  272   44]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0057171   0.0065303   0.0073435   0.0081567   0.00896989  0.00978309
  0.01059629  0.01140949  0.01222269  0.01303589  0.01384909  0.01466229
  0.01547549  0.01628869  0.01710189  0.01791509  0.01872829  0.01954149
  0.02035469  0.02116789  0.02198108]
distance difference  counter: 
(array([  47,  244,  904, 1763, 1887, 1334,  835,  515,  305,  166,   92,
         74,   38,   26,    9,    5,    0,    1,    0,    1]), array([ 0.98911214,  0.98949901,  0.98988588,  0.99027276,  0.99065963,
        0.9910465 ,  0.99143338,  0.99182025,  0.99220712,  0.99259399,
        0.99298087,  0.99336774,  0.99375461,  0.99414149,  0.99452836,
        0.99491523,  0.9953021 ,  0.99568898,  0.99607585,  0.99646272,
        0.9968496 ]))
train/val Accuracy = 0.531529041585 / 0.5 
 with threshold: [[ 0.03282031]]
============ epoch 4 ===========
training loss:		2.060842
||Xanchor-Xpos||_2  counter: 
[  13  230 1350 2513 2501 2274 2087 1962 1769 1727 1484 1454 1297 1127  894
  526  245   59    6    0]
||Xanchor-Xneg||_2  counter: 
[   4   62  450 1786 2489 2272 2131 1966 1862 1685 1626 1467 1366 1233 1132
 1003  658  255   59   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00509368  0.00598728  0.00688088  0.00777448  0.00866808  0.00956168
  0.01045528  0.01134888  0.01224247  0.01313607  0.01402967  0.01492327
  0.01581687  0.01671047  0.01760407  0.01849767  0.01939127  0.02028487
  0.02117847  0.02207207  0.02296567]
distance difference  counter: 
(array([  12,   56,  230,  625,  949, 1118, 1201, 1324, 1425, 1586, 1611,
       1784, 1898, 2072, 2193, 2366, 2127,  804,  120,   17]), array([ 0.98862451,  0.9890572 ,  0.98948988,  0.98992257,  0.99035525,
        0.99078794,  0.99122062,  0.99165331,  0.99208599,  0.99251868,
        0.99295136,  0.99338405,  0.99381673,  0.99424942,  0.9946821 ,
        0.99511479,  0.99554747,  0.99598016,  0.99641284,  0.99684553,
        0.99727821]))
||Xanchor-Xpos||_2  counter: 
[   7    8   43   83  134  263  372  546  789 1002 1311 1411 1220  759  240
   48    6    3    1    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    5    5   16   48   91  157  291  630 1065 1836 2218 1273
  448  123   22   10    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00218764  0.00257101  0.00295438  0.00333775  0.00372112  0.00410449
  0.00448785  0.00487122  0.00525459  0.00563796  0.00602133  0.0064047
  0.00678807  0.00717144  0.00755481  0.00793818  0.00832155  0.00870492
  0.00908829  0.00947166  0.00985503]
distance difference  counter: 
(array([   6,    9,   21,  106,  355, 1099, 2029, 1969, 1170,  709,  380,
        187,  105,   55,   30,    7,    5,    3,    0,    1]), array([ 0.99508888,  0.99527408,  0.99545929,  0.9956445 ,  0.99582971,
        0.99601492,  0.99620013,  0.99638534,  0.99657055,  0.99675576,
        0.99694097,  0.99712618,  0.99731139,  0.9974966 ,  0.99768181,
        0.99786702,  0.99805223,  0.99823744,  0.99842265,  0.99860786,
        0.99879307]))
train/val Accuracy = 0.536780338464 / 0.5 
 with threshold: [[ 0.01257872]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027049
||Xanchor-Xpos||_2  counter: 
[   2    1   11   36   60  162  327  626 1145 1854 2554 3314 3822 3810 2973
 1789  779  193   55    4]
||Xanchor-Xneg||_2  counter: 
[   0    3    5   11   25   30   91  164  292  520  891 1615 2884 4176 5003
 4139 2456  943  238   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53605032  0.56511075  0.59417118  0.62323161  0.65229204  0.68135247
  0.7104129   0.73947333  0.76853375  0.79759418  0.82665461  0.85571504
  0.88477547  0.9138359   0.94289633  0.97195676  1.00101719  1.03007762
  1.05913805  1.08819848  1.11725891]
distance difference  counter: 
(array([   5,   19,   72,  311, 1030, 2387, 4313, 5026, 4383, 2799, 1514,
        806,  409,  240,  109,   50,   20,   15,    6,    4]), array([ 0.59698486,  0.60677778,  0.6165707 ,  0.62636362,  0.63615654,
        0.64594945,  0.65574237,  0.66553529,  0.67532821,  0.68512112,
        0.69491404,  0.70470696,  0.71449988,  0.7242928 ,  0.73408571,
        0.74387863,  0.75367155,  0.76346447,  0.77325739,  0.7830503 ,
        0.79284322]))
||Xanchor-Xpos||_2  counter: 
[   9   11   36   58  101  126  203  278  383  517  640  823 1017 1130 1145
  971  561  203   33    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    0    5   11   16   32   60   86  130  230  460  720 1195
 1814 1928 1196  327   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28769097  0.32402793  0.3603649   0.39670186  0.43303883  0.4693758
  0.50571276  0.54204973  0.57838669  0.61472366  0.65106063  0.68739759
  0.72373456  0.76007152  0.79640849  0.83274546  0.86908242  0.90541939
  0.94175635  0.97809332  1.01443028]
distance difference  counter: 
(array([   6,   14,   62,  198,  482, 1120, 1750, 1840, 1286,  758,  356,
        171,  104,   52,   28,   11,    6,    1,    0,    1]), array([ 0.58718908,  0.60133005,  0.61547102,  0.629612  ,  0.64375297,
        0.65789394,  0.67203491,  0.68617589,  0.70031686,  0.71445783,
        0.7285988 ,  0.74273978,  0.75688075,  0.77102172,  0.78516269,
        0.79930367,  0.81344464,  0.82758561,  0.84172658,  0.85586756,
        0.87000853]))
train/val Accuracy = 0.657772769793 / 0.551540140674 
 with threshold: [[ 0.91862955]]
============ epoch 1 ===========
training loss:		0.026027
||Xanchor-Xpos||_2  counter: 
[   3    6    8   28   65  135  291  630 1101 1772 2734 3398 3931 3794 2880
 1791  712  200   31    8]
||Xanchor-Xneg||_2  counter: 
[   0    1    3    3   17   56  108  165  266  567  862 1676 2878 4279 4901
 4173 2485  882  178   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.48290145  0.5098554   0.53680935  0.5637633   0.59071724  0.61767119
  0.64462514  0.67157909  0.69853303  0.72548698  0.75244093  0.77939488
  0.80634882  0.83330277  0.86025672  0.88721067  0.91416461  0.94111856
  0.96807251  0.99502646  1.0219804 ]
distance difference  counter: 
(array([   2,    9,   37,  200,  859, 2353, 4295, 5192, 4544, 2914, 1516,
        775,  424,  188,  126,   50,   23,    5,    4,    2]), array([ 0.61773974,  0.62743201,  0.63712428,  0.64681655,  0.65650882,
        0.66620108,  0.67589335,  0.68558562,  0.69527789,  0.70497016,
        0.71466243,  0.7243547 ,  0.73404697,  0.74373924,  0.75343151,
        0.76312378,  0.77281605,  0.78250832,  0.79220059,  0.80189286,
        0.81158513]))
||Xanchor-Xpos||_2  counter: 
[   9   19   27   45   84  112  197  269  419  529  675  877 1019 1164 1117
  963  526  166   27    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    1    5   15   17   29   52   81  154  248  447  793 1186
 1851 1937 1117  281   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2587992   0.29227993  0.32576066  0.35924139  0.39272212  0.42620285
  0.45968358  0.49316431  0.52664504  0.56012577  0.5936065   0.62708723
  0.66056796  0.69404869  0.72752942  0.76101016  0.79449089  0.82797162
  0.86145235  0.89493308  0.92841381]
distance difference  counter: 
(array([   3,   16,   59,  150,  449,  904, 1546, 1730, 1413,  889,  507,
        255,  156,   81,   34,   28,   15,    8,    1,    2]), array([ 0.61842799,  0.63053687,  0.64264575,  0.65475463,  0.66686351,
        0.67897239,  0.69108127,  0.70319015,  0.71529903,  0.72740791,
        0.73951679,  0.75162567,  0.76373456,  0.77584344,  0.78795232,
        0.8000612 ,  0.81217008,  0.82427896,  0.83638784,  0.84849672,
        0.8606056 ]))
train/val Accuracy = 0.660749213368 / 0.554753820034 
 with threshold: [[ 0.83708067]]
============ epoch 2 ===========
training loss:		0.025186
||Xanchor-Xpos||_2  counter: 
[   2    2    8   13   39  121  290  580 1157 1907 2868 3764 4277 3904 2710
 1338  452   81    5    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    3   17   50   57  170  305  559  987 1849 3377 4981 5188
 3777 1690  452   52    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.41973385  0.44628544  0.47283703  0.49938862  0.5259402   0.55249179
  0.57904338  0.60559497  0.63214656  0.65869814  0.68524973  0.71180132
  0.73835291  0.76490449  0.79145608  0.81800767  0.84455926  0.87111085
  0.89766243  0.92421402  0.95076561]
distance difference  counter: 
(array([   5,   35,  145,  617, 1614, 3334, 4635, 4811, 3607, 2122, 1181,
        654,  365,  197,   96,   47,   34,   16,    1,    2]), array([ 0.65130627,  0.65975972,  0.66821317,  0.67666662,  0.68512007,
        0.69357352,  0.70202697,  0.71048042,  0.71893387,  0.72738732,
        0.73584077,  0.74429422,  0.75274767,  0.76120112,  0.76965457,
        0.77810802,  0.78656147,  0.79501491,  0.80346836,  0.81192181,
        0.82037526]))
||Xanchor-Xpos||_2  counter: 
[   3    9   26   46   78  102  199  281  403  521  632  829 1059 1121 1172
  968  567  193   35    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    0    7    8   13   34   48   68  148  225  428  740 1240
 1819 1967 1161  300   38]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22578339  0.25683873  0.28789406  0.3189494   0.35000473  0.38106007
  0.4121154   0.44317074  0.47422607  0.50528141  0.53633674  0.56739208
  0.59844741  0.62950275  0.66055808  0.69161342  0.72266875  0.75372409
  0.78477942  0.81583476  0.84689009]
distance difference  counter: 
(array([   5,   28,   97,  353,  928, 1749, 1986, 1470,  848,  386,  196,
        102,   48,   31,    8,    4,    5,    1,    0,    1]), array([ 0.64542258,  0.65841742,  0.67141226,  0.6844071 ,  0.69740194,
        0.71039678,  0.72339162,  0.73638646,  0.7493813 ,  0.76237614,
        0.77537099,  0.78836583,  0.80136067,  0.81435551,  0.82735035,
        0.84034519,  0.85334003,  0.86633487,  0.87932971,  0.89232455,
        0.90531939]))
train/val Accuracy = 0.662556339825 / 0.554026194519 
 with threshold: [[ 0.76273626]]
============ epoch 3 ===========
training loss:		0.024493
||Xanchor-Xpos||_2  counter: 
[   1    0    4    9   22   68  174  388  780 1406 2197 3189 3953 4211 3400
 2276 1066  329   42    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    3    9   17   56   86  201  368  625 1212 2299 3831 5061
 4746 3258 1356  327   61]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.37416115  0.39778797  0.42141479  0.44504161  0.46866843  0.49229524
  0.51592206  0.53954888  0.5631757   0.58680251  0.61042933  0.63405615
  0.65768297  0.68130978  0.7049366   0.72856342  0.75219024  0.77581706
  0.79944387  0.82307069  0.84669751]
distance difference  counter: 
(array([   2,   19,  121,  444, 1491, 3238, 4881, 5028, 3784, 2178, 1161,
        571,  322,  139,   76,   36,   16,    6,    4,    1]), array([ 0.66963911,  0.67810245,  0.68656578,  0.69502912,  0.70349245,
        0.71195579,  0.72041912,  0.72888246,  0.73734579,  0.74580913,
        0.75427246,  0.7627358 ,  0.77119913,  0.77966247,  0.7881258 ,
        0.79658914,  0.80505247,  0.81351581,  0.82197914,  0.83044248,
        0.83890581]))
||Xanchor-Xpos||_2  counter: 
[   8   13   23   56   94  134  214  291  437  539  680  838 1083 1120 1159
  908  463  151   31    4]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    1    4   15   19   37   57   93  153  273  470  807 1303
 1762 1857 1085  281   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22009709  0.24779168  0.27548627  0.30318086  0.33087544  0.35857003
  0.38626462  0.41395921  0.44165379  0.46934838  0.49704297  0.52473756
  0.55243214  0.58012673  0.60782132  0.63551591  0.66321049  0.69090508
  0.71859967  0.74629426  0.77398884]
distance difference  counter: 
(array([  17,  101,  322,  830, 1565, 1776, 1542,  961,  548,  253,  149,
         98,   33,   29,   14,    4,    2,    1,    0,    1]), array([ 0.68420762,  0.69532137,  0.70643512,  0.71754887,  0.72866262,
        0.73977637,  0.75089012,  0.76200387,  0.77311763,  0.78423138,
        0.79534513,  0.80645888,  0.81757263,  0.82868638,  0.83980013,
        0.85091388,  0.86202763,  0.87314138,  0.88425514,  0.89536889,
        0.90648264]))
train/val Accuracy = 0.66417212348 / 0.557906863934 
 with threshold: [[ 0.69605748]]
============ epoch 4 ===========
training loss:		0.023922
||Xanchor-Xpos||_2  counter: 
[   2    3   11   33   86  219  433  848 1498 2199 3197 3670 3991 3431 2244
 1163  403   76   11    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    5    5   27   47  117  220  368  654 1174 2131 3555 4709 4749
 3332 1726  567  117   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.37335494  0.39404277  0.41473061  0.43541844  0.45610627  0.4767941
  0.49748193  0.51816977  0.5388576   0.55954543  0.58023326  0.60092109
  0.62160892  0.64229676  0.66298459  0.68367242  0.70436025  0.72504808
  0.74573592  0.76642375  0.78711158]
distance difference  counter: 
(array([   5,   11,   92,  281,  884, 2076, 3693, 4748, 4477, 3142, 1875,
       1008,  569,  304,  185,   98,   35,   20,    9,    6]), array([ 0.69057655,  0.69787821,  0.70517988,  0.71248154,  0.7197832 ,
        0.72708486,  0.73438652,  0.74168818,  0.74898984,  0.75629151,
        0.76359317,  0.77089483,  0.77819649,  0.78549815,  0.79279981,
        0.80010147,  0.80740314,  0.8147048 ,  0.82200646,  0.82930812,
        0.83660978]))
||Xanchor-Xpos||_2  counter: 
[   4    6   17   31   71  120  193  269  366  537  674  824 1079 1145 1240
  987  488  162   30    3]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    3    7    9   28   53   80  132  244  418  817 1263
 1862 1967 1044  278   37]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17699097  0.2036988   0.23040663  0.25711446  0.28382229  0.31053011
  0.33723794  0.36394577  0.3906536   0.41736143  0.44406926  0.47077709
  0.49748492  0.52419275  0.55090057  0.5776084   0.60431623  0.63102406
  0.65773189  0.68443972  0.71114755]
distance difference  counter: 
(array([   3,   20,   76,  361,  962, 1805, 1961, 1446,  820,  391,  199,
         99,   53,   31,    6,    9,    1,    2,    0,    1]), array([ 0.69197178,  0.70332111,  0.71467043,  0.72601976,  0.73736908,
        0.74871841,  0.76006774,  0.77141706,  0.78276639,  0.79411572,
        0.80546504,  0.81681437,  0.8281637 ,  0.83951302,  0.85086235,
        0.86221167,  0.873561  ,  0.88491033,  0.89625965,  0.90760898,
        0.91895831]))
train/val Accuracy = 0.667977719194 / 0.556330341984 
 with threshold: [[ 0.6355411]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.236885
||Xanchor-Xpos||_2  counter: 
[  35  341 1614 2359 2349 2077 1950 1807 1735 1582 1439 1326 1295 1178  970
  759  468  186   46    2]
||Xanchor-Xneg||_2  counter: 
[   6  100  729 2107 2364 2099 1980 1770 1679 1594 1481 1367 1277 1225 1116
 1020  867  545  176   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26154768  0.30480477  0.34806185  0.39131893  0.43457601  0.47783309
  0.52109017  0.56434726  0.60760434  0.65086142  0.6941185   0.73737558
  0.78063266  0.82388974  0.86714683  0.91040391  0.95366099  0.99691807
  1.04017515  1.08343223  1.12668931]
distance difference  counter: 
(array([   2,    4,   31,  202,  561, 1082, 1367, 1508, 1608, 1691, 1763,
       1890, 1908, 2000, 2117, 2299, 2105, 1079,  254,   47]), array([ 0.58716047,  0.60148343,  0.6158064 ,  0.63012937,  0.64445233,
        0.6587753 ,  0.67309827,  0.68742123,  0.7017442 ,  0.71606717,
        0.73039013,  0.7447131 ,  0.75903606,  0.77335903,  0.787682  ,
        0.80200496,  0.81632793,  0.8306509 ,  0.84497386,  0.85929683,
        0.87361979]))
||Xanchor-Xpos||_2  counter: 
[   6   11   35   51   88  136  193  281  416  529  719  899 1050 1197 1142
  906  439  128   19    1]
||Xanchor-Xneg||_2  counter: 
[   0    2    0    3    2    9   21   36   50   84  175  257  508  828 1396
 1918 1869  893  186    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11072834  0.12601852  0.1413087   0.15659888  0.17188905  0.18717923
  0.20246941  0.21775959  0.23304977  0.24833995  0.26363013  0.27892031
  0.29421049  0.30950067  0.32479085  0.34008102  0.3553712   0.37066138
  0.38595156  0.40124174  0.41653192]
distance difference  counter: 
(array([   3,   27,  148,  562, 1368, 1813, 1644, 1100,  685,  386,  230,
        121,   59,   42,   35,   12,    4,    4,    1,    2]), array([ 0.81164491,  0.81788584,  0.82412676,  0.83036769,  0.83660861,
        0.84284954,  0.84909046,  0.85533139,  0.86157231,  0.86781324,
        0.87405416,  0.88029509,  0.88653601,  0.89277694,  0.89901786,
        0.90525879,  0.91149971,  0.91774064,  0.92398157,  0.93022249,
        0.93646342]))
train/val Accuracy = 0.52957309295 / 0.5 
 with threshold: [[ 0.63037428]]
============ epoch 1 ===========
training loss:		0.210897
||Xanchor-Xpos||_2  counter: 
[  39  397 1530 2436 2273 2142 1932 1794 1576 1549 1464 1425 1273 1144  995
  763  493  238   50    4]
||Xanchor-Xneg||_2  counter: 
[   9  105  683 2056 2289 2125 1950 1825 1635 1553 1529 1367 1273 1223 1117
 1046  866  577  255   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1007027   0.11656139  0.13242009  0.14827878  0.16413747  0.17999616
  0.19585485  0.21171355  0.22757224  0.24343093  0.25928962  0.27514831
  0.29100701  0.3068657   0.32272439  0.33858308  0.35444177  0.37030047
  0.38615916  0.40201785  0.41787654]
distance difference  counter: 
(array([  19,  155,  492,  876, 1115, 1229, 1362, 1366, 1522, 1578, 1686,
       1748, 1903, 2022, 2143, 2272, 1565,  395,   62,    8]), array([ 0.82013744,  0.82677208,  0.83340671,  0.84004135,  0.84667598,
        0.85331061,  0.85994525,  0.86657988,  0.87321452,  0.87984915,
        0.88648379,  0.89311842,  0.89975306,  0.90638769,  0.91302233,
        0.91965696,  0.9262916 ,  0.93292623,  0.93956087,  0.9461955 ,
        0.95283014]))
||Xanchor-Xpos||_2  counter: 
[   7   12   33   51  108  147  219  330  405  555  726  918 1060 1210 1126
  834  373  111   19    2]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    3   15   23   39   50   82  192  307  528  875 1428
 1902 1727  857  192   23]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04335161  0.04910804  0.05486446  0.06062089  0.06637731  0.07213374
  0.07789016  0.08364659  0.08940301  0.09515944  0.10091586  0.10667229
  0.11242871  0.11818513  0.12394156  0.12969798  0.13545441  0.14121083
  0.14696726  0.15272368  0.15848011]
distance difference  counter: 
(array([   7,  108,  510, 1414, 1890, 1676, 1104,  677,  371,  232,  103,
         57,   44,   24,   18,    8,    0,    1,    1,    1]), array([ 0.92407084,  0.92677044,  0.92947005,  0.93216966,  0.93486927,
        0.93756887,  0.94026848,  0.94296809,  0.9456677 ,  0.9483673 ,
        0.95106691,  0.95376652,  0.95646613,  0.95916573,  0.96186534,
        0.96456495,  0.96726456,  0.96996416,  0.97266377,  0.97536338,
        0.97806299]))
train/val Accuracy = 0.530678629135 / 0.5 
 with threshold: [[ 0.23686555]]
============ epoch 2 ===========
training loss:		0.207319
||Xanchor-Xpos||_2  counter: 
[   1    2   67  744 2305 2758 2470 2280 2072 1938 1782 1674 1501 1377 1109
  847  441  127   23    0]
||Xanchor-Xneg||_2  counter: 
[   0    0   19  200 1228 2413 2568 2243 2189 1993 1879 1720 1507 1466 1366
 1172  903  505  127   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.02640388  0.03329201  0.04018015  0.04706828  0.05395642  0.06084455
  0.06773269  0.07462083  0.08150896  0.0883971   0.09528523  0.10217337
  0.1090615   0.11594964  0.12283777  0.12972591  0.13661404  0.14350218
  0.15039031  0.15727845  0.16416658]
distance difference  counter: 
(array([  13,   84,  316,  670,  954, 1160, 1265, 1363, 1389, 1561, 1674,
       1783, 1849, 1965, 2149, 2218, 2020,  873,  188,   24]), array([ 0.92300826,  0.92583033,  0.92865239,  0.93147446,  0.93429652,
        0.93711859,  0.93994066,  0.94276272,  0.94558479,  0.94840685,
        0.95122892,  0.95405098,  0.95687305,  0.95969511,  0.96251718,
        0.96533924,  0.96816131,  0.97098337,  0.97380544,  0.9766275 ,
        0.97944957]))
||Xanchor-Xpos||_2  counter: 
[  11   30   65  121  206  341  541  732  997 1235 1410 1303  826  329   74
   14    7    3    1    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    6   20   36   75  118  255  529 1012 1736 2053 1502  602
  193   68   25    8    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01743351  0.02028843  0.02314335  0.02599827  0.02885319  0.03170811
  0.03456303  0.03741795  0.04027287  0.04312779  0.04598271  0.04883763
  0.05169255  0.05454747  0.05740239  0.06025731  0.06311223  0.06596715
  0.06882207  0.07167699  0.07453191]
distance difference  counter: 
(array([   5,    9,   25,   65,  191,  585, 1465, 2011, 1741, 1065,  556,
        266,  120,   75,   39,   19,    7,    1,    0,    1]), array([ 0.96361083,  0.96499304,  0.96637525,  0.96775746,  0.96913967,
        0.97052188,  0.97190409,  0.9732863 ,  0.97466851,  0.97605073,
        0.97743294,  0.97881515,  0.98019736,  0.98157957,  0.98296178,
        0.98434399,  0.9857262 ,  0.98710841,  0.98849062,  0.98987283,
        0.99125504]))
train/val Accuracy = 0.538629985543 / 0.5 
 with threshold: [[ 0.09153624]]
============ epoch 3 ===========
training loss:		0.206827
||Xanchor-Xpos||_2  counter: 
[  66  802 2429 3301 3137 2825 2525 2204 2011 1733 1285  795  294   80   21
    6    3    0    1    0]
||Xanchor-Xneg||_2  counter: 
[  12  179 1086 2423 2825 2680 2563 2416 2135 2087 1778 1485  949  426  221
  116   75   35   21    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01688058  0.02013402  0.02338746  0.0266409   0.02989434  0.03314778
  0.03640122  0.03965466  0.0429081   0.04616154  0.04941498  0.05266842
  0.05592185  0.05917529  0.06242873  0.06568217  0.06893561  0.07218905
  0.07544249  0.07869593  0.08194937]
distance difference  counter: 
(array([   6,   23,   31,   75,  110,  209,  373,  833, 1372, 1744, 2032,
       2077, 2362, 2501, 2570, 2744, 2599, 1461,  367,   29]), array([ 0.96007305,  0.96162032,  0.9631676 ,  0.96471487,  0.96626214,
        0.96780941,  0.96935668,  0.97090395,  0.97245122,  0.97399849,
        0.97554576,  0.97709303,  0.97864031,  0.98018758,  0.98173485,
        0.98328212,  0.98482939,  0.98637666,  0.98792393,  0.9894712 ,
        0.99101847]))
||Xanchor-Xpos||_2  counter: 
[  38  228  750 1605 2473 2009  756  245   73   43   12    5    2    5    0
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   2    9   78  355 1263 2820 2066  887  366  148  101   59   40   22    9
    7    5    6    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00731104  0.01011226  0.01291348  0.01571471  0.01851593  0.02131715
  0.02411837  0.02691959  0.02972081  0.03252203  0.03532325  0.03812447
  0.04092569  0.04372692  0.04652814  0.04932936  0.05213058  0.0549318
  0.05773302  0.06053424  0.06333546]
distance difference  counter: 
(array([   1,    2,    7,    6,    6,   10,   27,   36,   58,   96,  145,
        341,  765, 1792, 2815, 1533,  474,  103,   25,    4]), array([ 0.96921462,  0.97054618,  0.97187774,  0.9732093 ,  0.97454087,
        0.97587243,  0.97720399,  0.97853555,  0.97986711,  0.98119867,
        0.98253024,  0.9838618 ,  0.98519336,  0.98652492,  0.98785648,
        0.98918805,  0.99051961,  0.99185117,  0.99318273,  0.99451429,
        0.99584585]))
train/val Accuracy = 0.570924398333 / 0.507458161533 
 with threshold: [[ 0.03867525]]
============ epoch 4 ===========
training loss:		0.206759
||Xanchor-Xpos||_2  counter: 
[1033 6710 8581 5009 1325  398  208  104   59   42   21   12    5    5    4
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 200 3226 6685 6200 3079 1300  796  543  376  284  233  215  155  112   57
   39   12    5    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00820378  0.01238859  0.0165734   0.02075821  0.02494302  0.02912783
  0.03331264  0.03749744  0.04168225  0.04586706  0.05005187  0.05423668
  0.05842149  0.0626063   0.06679111  0.07097592  0.07516073  0.07934553
  0.08353034  0.08771515  0.09189996]
distance difference  counter: 
(array([   1,    0,    5,   13,   40,   56,  109,  147,  209,  226,  277,
        353,  511,  735, 1186, 2538, 5595, 6808, 4182,  527]), array([ 0.95476192,  0.95679421,  0.95882651,  0.9608588 ,  0.96289109,
        0.96492338,  0.96695567,  0.96898797,  0.97102026,  0.97305255,
        0.97508484,  0.97711713,  0.97914943,  0.98118172,  0.98321401,
        0.9852463 ,  0.98727859,  0.98931088,  0.99134318,  0.99337547,
        0.99540776]))
||Xanchor-Xpos||_2  counter: 
[ 336 2552 2941 1342  571  267  116   60   33   12    6    1    2    1    4
    0    1    0    1    0]
||Xanchor-Xneg||_2  counter: 
[  27  743 2793 2119 1066  575  345  198  113   72   73   35   30   26    8
    4    8    6    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00381672  0.0074792   0.01114168  0.01480416  0.01846664  0.02212912
  0.0257916   0.02945408  0.03311656  0.03677904  0.04044152  0.044104
  0.04776648  0.05142896  0.05509144  0.05875392  0.0624164   0.06607888
  0.06974136  0.07340384  0.07706632]
distance difference  counter: 
(array([   3,    3,    6,    7,    4,    9,   26,   29,   38,   69,   72,
        116,  197,  336,  577, 1056, 2084, 2796,  787,   31]), array([ 0.96192485,  0.96373011,  0.96553537,  0.96734062,  0.96914588,
        0.97095114,  0.9727564 ,  0.97456166,  0.97636691,  0.97817217,
        0.97997743,  0.98178269,  0.98358794,  0.9853932 ,  0.98719846,
        0.98900372,  0.99080898,  0.99261423,  0.99441949,  0.99622475,
        0.99803001]))
train/val Accuracy = 0.631091079173 / 0.565001212709 
 with threshold: [[ 0.02152698]]
============ epoch 5 ===========
training loss:		0.206748
||Xanchor-Xpos||_2  counter: 
[ 4489 11138  4649  1663   749   326   187   117    71    53    31    24
    12     5     0     1     2     1     0     0]
||Xanchor-Xneg||_2  counter: 
[1316 7812 5873 2888 1585 1035  715  542  385  318  254  210  181  154  105
   73   44   20    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00509349  0.01023036  0.01536723  0.02050409  0.02564096  0.03077783
  0.03591469  0.04105156  0.04618843  0.05132529  0.05646216  0.06159903
  0.06673589  0.07187276  0.07700962  0.08214649  0.08728336  0.09242022
  0.09755709  0.10269396  0.10783082]
distance difference  counter: 
(array([   2,    6,   19,   42,   68,   93,  158,  185,  193,  254,  325,
        365,  545,  707, 1027, 1566, 2806, 5767, 7925, 1465]), array([ 0.94628906,  0.94884453,  0.95140001,  0.95395548,  0.95651095,
        0.95906642,  0.96162189,  0.96417736,  0.96673284,  0.96928831,
        0.97184378,  0.97439925,  0.97695472,  0.97951019,  0.98206567,
        0.98462114,  0.98717661,  0.98973208,  0.99228755,  0.99484302,
        0.9973985 ]))
||Xanchor-Xpos||_2  counter: 
[1184 3145 1985  973  489  248  108   54   26   14    8    2    6    2    1
    0    0    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 252 2199 2150 1434  851  505  315  174  108   77   47   46   36   19    9
    7    6    4    3    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00251176  0.00711657  0.01172139  0.0163262   0.02093101  0.02553583
  0.03014064  0.03474546  0.03935027  0.04395509  0.0485599   0.05316472
  0.05776953  0.06237434  0.06697916  0.07158397  0.07618879  0.0807936
  0.08539842  0.09000323  0.09460805]
distance difference  counter: 
(array([   5,    2,    7,    7,    4,   12,   21,   33,   46,   46,   82,
        103,  169,  304,  464,  789, 1313, 1998, 2298,  543]), array([ 0.95390564,  0.95612121,  0.95833678,  0.96055234,  0.96276791,
        0.96498348,  0.96719905,  0.96941461,  0.97163018,  0.97384575,
        0.97606131,  0.97827688,  0.98049245,  0.98270802,  0.98492358,
        0.98713915,  0.98935472,  0.99157028,  0.99378585,  0.99600142,
        0.99821699]))
train/val Accuracy = 0.625159452334 / 0.592650982294 
 with threshold: [[ 0.01826647]]
============ epoch 6 ===========
training loss:		0.206746
||Xanchor-Xpos||_2  counter: 
[5084 9500 4750 2147  928  456  242  134   96   73   45   24   18    8    7
    3    1    2    0    0]
||Xanchor-Xneg||_2  counter: 
[1757 6729 5325 3035 1873 1237  801  628  473  368  294  227  217  163  154
  105   63   33   26    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00328132  0.00900168  0.01472204  0.02044241  0.02616277  0.03188314
  0.0376035   0.04332386  0.04904423  0.05476459  0.06048496  0.06620532
  0.07192568  0.07764605  0.08336641  0.08908678  0.09480714  0.1005275
  0.10624787  0.11196823  0.1176886 ]
distance difference  counter: 
(array([   9,   19,   36,   61,  104,  155,  162,  216,  227,  295,  369,
        472,  643,  805, 1248, 1897, 3123, 5440, 6696, 1541]), array([ 0.94148219,  0.94433303,  0.94718388,  0.95003473,  0.95288558,
        0.95573643,  0.95858728,  0.96143813,  0.96428897,  0.96713982,
        0.96999067,  0.97284152,  0.97569237,  0.97854322,  0.98139406,
        0.98424491,  0.98709576,  0.98994661,  0.99279746,  0.99564831,
        0.99849916]))
||Xanchor-Xpos||_2  counter: 
[1443 2865 1944  981  521  244  118   63   35   14    7    1    4    3    1
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 493 2107 1981 1377  863  500  336  206  103   95   56   42   31   19   16
    6    4    6    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00195274  0.00708087  0.012209    0.01733714  0.02246527  0.0275934
  0.03272154  0.03784967  0.0429778   0.04810593  0.05323407  0.0583622
  0.06349033  0.06861847  0.0737466   0.07887473  0.08400286  0.089131
  0.09425913  0.09938726  0.1045154 ]
distance difference  counter: 
(array([   2,    3,    6,    4,    6,   13,   21,   27,   42,   53,   89,
         96,  186,  330,  452,  792, 1281, 1847, 2149,  847]), array([ 0.94810128,  0.95062217,  0.95314307,  0.95566396,  0.95818485,
        0.96070574,  0.96322663,  0.96574753,  0.96826842,  0.97078931,
        0.9733102 ,  0.97583109,  0.97835199,  0.98087288,  0.98339377,
        0.98591466,  0.98843555,  0.99095645,  0.99347734,  0.99599823,
        0.99851912]))
train/val Accuracy = 0.623267284633 / 0.595804026195 
 with threshold: [[ 0.01890447]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.108883
||Xanchor-Xpos||_2  counter: 
[17805  1213  1454    46     4   142   880   474     0     0     1     1
     7    35    90   222   412   487   223    21]
||Xanchor-Xneg||_2  counter: 
[17610  1408  1281   219     1    47   472   976     4     0     0     1
     4    17    17    71   210   487   581   112]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.88573938e-04   5.54875370e-02   1.10686500e-01   1.65885463e-01
   2.21084426e-01   2.76283389e-01   3.31482352e-01   3.86681316e-01
   4.41880279e-01   4.97079242e-01   5.52278205e-01   6.07477168e-01
   6.62676131e-01   7.17875094e-01   7.73074057e-01   8.28273020e-01
   8.83471983e-01   9.38670946e-01   9.93869909e-01   1.04906887e+00
   1.10426784e+00]
distance difference  counter: 
(array([   83,   405,   597,   289,    88,    18,    16,     4,     0,
           0,   340,   995,   148,    16,     1,   291,  1194,    15,
        1500, 17518]), array([ 0.61766255,  0.63677139,  0.65588023,  0.67498907,  0.69409791,
        0.71320675,  0.73231559,  0.75142443,  0.77053328,  0.78964212,
        0.80875096,  0.8278598 ,  0.84696864,  0.86607748,  0.88518632,
        0.90429516,  0.923404  ,  0.94251284,  0.96162168,  0.98073052,
        0.99983937]))
||Xanchor-Xpos||_2  counter: 
[1668 2882 1830  954  464  226  113   54   23   12    9    3    1    3    3
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 622 2044 1992 1389  815  517  316  199  115   84   54   24   23   21    8
    9    6    5    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00017087  0.00075162  0.00133237  0.00191312  0.00249387  0.00307462
  0.00365537  0.00423611  0.00481686  0.00539761  0.00597836  0.00655911
  0.00713986  0.00772061  0.00830136  0.00888211  0.00946285  0.0100436
  0.01062435  0.0112051   0.01178585]
distance difference  counter: 
(array([   2,    1,    5,    6,    9,    8,   22,   22,   24,   54,   84,
        114,  201,  314,  516,  812, 1385, 1981, 2049,  637]), array([ 0.99411684,  0.99440658,  0.99469632,  0.99498606,  0.9952758 ,
        0.99556553,  0.99585527,  0.99614501,  0.99643475,  0.99672449,
        0.99701422,  0.99730396,  0.9975937 ,  0.99788344,  0.99817318,
        0.99846292,  0.99875265,  0.99904239,  0.99933213,  0.99962187,
        0.99991161]))
train/val Accuracy = 0.5 / 0.5 
 with threshold: [[ 0.10224426]]
============ epoch 1 ===========
training loss:		2.060424
||Xanchor-Xpos||_2  counter: 
[4057 9321 5439 2406 1124  492  269  148   87   70   49   22   15    6    5
    3    3    0    1    1]
||Xanchor-Xneg||_2  counter: 
[1657 5920 5411 3437 2232 1386  829  605  411  321  296  191  178  190  151
  139   84   55   19    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00011696  0.00080172  0.00148647  0.00217123  0.00285598  0.00354074
  0.00422549  0.00491025  0.00559501  0.00627976  0.00696452  0.00764927
  0.00833403  0.00901878  0.00970354  0.01038829  0.01107305  0.0117578
  0.01244256  0.01312731  0.01381207]
distance difference  counter: 
(array([   6,   20,   53,   85,  138,  150,  188,  177,  188,  298,  314,
        406,  595,  822, 1350, 2140, 3355, 5216, 6060, 1957]), array([ 0.99310553,  0.99344614,  0.99378675,  0.99412736,  0.99446797,
        0.99480858,  0.9951492 ,  0.99548981,  0.99583042,  0.99617103,
        0.99651164,  0.99685225,  0.99719286,  0.99753347,  0.99787408,
        0.99821469,  0.9985553 ,  0.99889591,  0.99923652,  0.99957713,
        0.99991775]))
||Xanchor-Xpos||_2  counter: 
[1624 2847 1834 1034  484  203  120   44   24   16    6    3    0    4    1
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 653 1999 2049 1358  847  491  323  179  117   83   46   34   21   18    5
    8    5    7    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00012912  0.00075093  0.00137274  0.00199455  0.00261636  0.00323817
  0.00385998  0.00448179  0.0051036   0.00572541  0.00634722  0.00696902
  0.00759083  0.00821264  0.00883445  0.00945626  0.01007807  0.01069988
  0.01132169  0.0119435   0.01256531]
distance difference  counter: 
(array([   2,    1,    7,    6,    7,    5,   18,   21,   33,   46,   80,
        119,  175,  320,  482,  829, 1341, 2030, 1990,  734]), array([ 0.99372852,  0.99403816,  0.99434781,  0.99465746,  0.9949671 ,
        0.99527675,  0.9955864 ,  0.99589604,  0.99620569,  0.99651533,
        0.99682498,  0.99713463,  0.99744427,  0.99775392,  0.99806356,
        0.99837321,  0.99868286,  0.9989925 ,  0.99930215,  0.99961179,
        0.99992144]))
train/val Accuracy = 0.624776766732 / 0.596228474412 
 with threshold: [[ 0.0021245]]
============ epoch 2 ===========
training loss:		2.060424
||Xanchor-Xpos||_2  counter: 
[4940 8996 5060 2386 1002  458  260  168   80   52   54   24   11   14    6
    3    1    1    2    0]
||Xanchor-Xneg||_2  counter: 
[2052 6076 5163 3428 2069 1314  819  576  427  322  242  226  211  175  148
  113   86   39   25    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00014628  0.00084372  0.00154115  0.00223859  0.00293602  0.00363346
  0.00433089  0.00502833  0.00572576  0.0064232   0.00712063  0.00781807
  0.0085155   0.00921294  0.00991037  0.01060781  0.01130525  0.01200268
  0.01270012  0.01339755  0.01409499]
distance difference  counter: 
(array([   7,   23,   40,   86,  113,  145,  175,  209,  225,  246,  322,
        423,  579,  809, 1307, 2058, 3396, 5137, 6113, 2105]), array([ 0.99295539,  0.99330374,  0.99365209,  0.99400045,  0.9943488 ,
        0.99469715,  0.99504551,  0.99539386,  0.99574221,  0.99609057,
        0.99643892,  0.99678727,  0.99713563,  0.99748398,  0.99783233,
        0.99818069,  0.99852904,  0.99887739,  0.99922575,  0.9995741 ,
        0.99992245]))
||Xanchor-Xpos||_2  counter: 
[1687 3056 1801  945  377  211   87   44   13   14    3    2    3    1    2
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 724 2190 2029 1326  783  447  287  160  110   71   32   30   18   15    6
    7    7    2    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  9.84627404e-05   7.42543893e-04   1.38662505e-03   2.03070620e-03
   2.67478735e-03   3.31886850e-03   3.96294966e-03   4.60703081e-03
   5.25111196e-03   5.89519312e-03   6.53927427e-03   7.18335542e-03
   7.82743657e-03   8.47151773e-03   9.11559888e-03   9.75968003e-03
   1.04037612e-02   1.10478423e-02   1.16919235e-02   1.23360046e-02
   1.29800858e-02]
distance difference  counter: 
(array([   1,    1,    2,    7,    7,    6,   13,   20,   30,   32,   66,
        108,  155,  277,  433,  748, 1280, 1957, 2208,  895]), array([ 0.99352229,  0.99384217,  0.99416206,  0.99448195,  0.99480183,
        0.99512172,  0.9954416 ,  0.99576149,  0.99608138,  0.99640126,
        0.99672115,  0.99704103,  0.99736092,  0.99768081,  0.99800069,
        0.99832058,  0.99864047,  0.99896035,  0.99928024,  0.99960012,
        0.99992001]))
train/val Accuracy = 0.624032655838 / 0.594409410623 
 with threshold: [[ 0.00213795]]
============ epoch 3 ===========
training loss:		2.060424
||Xanchor-Xpos||_2  counter: 
[4637 9458 5178 2287  922  416  240  144   94   57   38   21   12    2    4
    5    1    2    0    0]
||Xanchor-Xneg||_2  counter: 
[1965 6289 5382 3420 1966 1283  788  565  387  320  230  229  181  163  151
  105   55   22   14    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00010227  0.00082846  0.00155465  0.00228084  0.00300702  0.00373321
  0.0044594   0.00518559  0.00591177  0.00663796  0.00736415  0.00809034
  0.00881652  0.00954271  0.0102689   0.01099508  0.01172127  0.01244746
  0.01317365  0.01389983  0.01462602]
distance difference  counter: 
(array([   3,   14,   22,   54,  105,  150,  157,  181,  230,  232,  309,
        381,  551,  774, 1261, 1909, 3315, 5242, 6329, 2299]), array([ 0.99269044,  0.99305214,  0.99341384,  0.99377554,  0.99413724,
        0.99449894,  0.99486064,  0.99522234,  0.99558403,  0.99594573,
        0.99630743,  0.99666913,  0.99703083,  0.99739253,  0.99775423,
        0.99811593,  0.99847763,  0.99883932,  0.99920102,  0.99956272,
        0.99992442]))
||Xanchor-Xpos||_2  counter: 
[1301 2880 1980 1087  532  234  128   45   25   14    5    8    1    0    4
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 511 1913 1995 1453  955  533  326  183  137   97   45   27   17   20   13
    5    7    4    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  8.29731798e-05   6.83361604e-04   1.28375003e-03   1.88413845e-03
   2.48452688e-03   3.08491530e-03   3.68530372e-03   4.28569215e-03
   4.88608057e-03   5.48646899e-03   6.08685742e-03   6.68724584e-03
   7.28763427e-03   7.88802269e-03   8.48841111e-03   9.08879954e-03
   9.68918796e-03   1.02895764e-02   1.08899648e-02   1.14903532e-02
   1.20907417e-02]
distance difference  counter: 
(array([   3,    2,    4,    7,    5,   13,   18,   19,   26,   43,   92,
        141,  174,  316,  524,  945, 1425, 1959, 1946,  584]), array([ 0.99396062,  0.99425969,  0.99455877,  0.99485784,  0.99515692,
        0.995456  ,  0.99575507,  0.99605415,  0.99635322,  0.9966523 ,
        0.99695137,  0.99725045,  0.99754952,  0.9978486 ,  0.99814767,
        0.99844675,  0.99874582,  0.9990449 ,  0.99934397,  0.99964305,
        0.99994212]))
train/val Accuracy = 0.624372820818 / 0.597926267281 
 with threshold: [[ 0.00213081]]
============ epoch 4 ===========
training loss:		2.060424
||Xanchor-Xpos||_2  counter: 
[4669 9516 5195 2169  956  447  205  144   78   55   33   22   11    9    3
    3    2    0    1    0]
||Xanchor-Xneg||_2  counter: 
[1878 6290 5544 3389 2003 1263  808  529  401  280  246  218  210  162  109
   92   49   32   13    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  9.08334987e-05   8.27524010e-04   1.56421452e-03   2.30090503e-03
   3.03759555e-03   3.77428606e-03   4.51097657e-03   5.24766708e-03
   5.98435759e-03   6.72104810e-03   7.45773861e-03   8.19442913e-03
   8.93111964e-03   9.66781015e-03   1.04045007e-02   1.11411912e-02
   1.18778817e-02   1.26145722e-02   1.33512627e-02   1.40879532e-02
   1.48246437e-02]
distance difference  counter: 
(array([   2,   14,   35,   50,   87,  111,  160,  209,  214,  242,  279,
        391,  509,  769, 1206, 1912, 3193, 5236, 6356, 2543]), array([ 0.99262273,  0.99298693,  0.99335112,  0.99371531,  0.99407951,
        0.9944437 ,  0.99480789,  0.99517209,  0.99553628,  0.99590047,
        0.99626467,  0.99662886,  0.99699305,  0.99735725,  0.99772144,
        0.99808563,  0.99844983,  0.99881402,  0.99917821,  0.99954241,
        0.9999066 ]))
||Xanchor-Xpos||_2  counter: 
[1450 2798 1872 1084  536  264  118   65   28   10   10    3    1    3    3
    0    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 544 1790 2031 1412  959  543  367  205  144   83   53   36   29   22    5
   10    3    5    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00013262  0.00071369  0.00129475  0.00187581  0.00245688  0.00303794
  0.003619    0.00420007  0.00478113  0.00536219  0.00594326  0.00652432
  0.00710538  0.00768645  0.00826751  0.00884857  0.00942963  0.0100107
  0.01059176  0.01117282  0.01175389]
distance difference  counter: 
(array([   2,    2,    6,    3,   10,    5,   21,   28,   35,   54,   80,
        141,  204,  365,  516,  938, 1390, 2016, 1808,  622]), array([ 0.99412739,  0.99441693,  0.99470646,  0.994996  ,  0.99528553,
        0.99557507,  0.99586461,  0.99615414,  0.99644368,  0.99673321,
        0.99702275,  0.99731228,  0.99760182,  0.99789135,  0.99818089,
        0.99847043,  0.99875996,  0.9990495 ,  0.99933903,  0.99962857,
        0.9999181 ]))
train/val Accuracy = 0.625648439493 / 0.597501819064 
 with threshold: [[ 0.00213575]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027790
||Xanchor-Xpos||_2  counter: 
[   2    2    4   20   36  104  203  478  788 1378 2132 3001 3740 4258 3825
 2390  936  202   19    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    4   10   25   48   82  126  211  357  622 1088 1939 3445 5507
 5673 3264  980  124   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.5405091   0.57108129  0.60165348  0.63222567  0.66279786  0.69337004
  0.72394223  0.75451442  0.78508661  0.8156588   0.84623098  0.87680317
  0.90737536  0.93794755  0.96851974  0.99909192  1.02966411  1.0602363
  1.09080849  1.12138067  1.15195286]
distance difference  counter: 
(array([   7,   79,  662, 2582, 4978, 5579, 4097, 2316, 1352,  744,  452,
        269,  174,  102,   58,   38,   20,    4,    4,    1]), array([ 0.94489038,  0.94628247,  0.94767455,  0.94906664,  0.95045873,
        0.95185082,  0.9532429 ,  0.95463499,  0.95602708,  0.95741917,
        0.95881125,  0.96020334,  0.96159543,  0.96298752,  0.9643796 ,
        0.96577169,  0.96716378,  0.96855586,  0.96994795,  0.97134004,
        0.97273213]))
||Xanchor-Xpos||_2  counter: 
[   4    4   18   38   67  106  169  284  369  476  616  771  994 1200 1225
 1037  613  227   26    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1    4    5   15   32   36   85  121  222  391  701 1166
 1770 2159 1237  277   23]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28510609  0.32692456  0.36874303  0.4105615   0.45237997  0.49419843
  0.5360169   0.57783537  0.61965384  0.66147231  0.70329078  0.74510924
  0.78692771  0.82874618  0.87056465  0.91238312  0.95420159  0.99602005
  1.03783852  1.07965699  1.12147546]
distance difference  counter: 
(array([  18,  223, 1008, 1968, 1875, 1282,  779,  470,  268,  139,   82,
         66,   29,   22,   10,    4,    1,    1,    0,    1]), array([ 0.9460364 ,  0.94796427,  0.94989213,  0.95182   ,  0.95374787,
        0.95567574,  0.9576036 ,  0.95953147,  0.96145934,  0.96338721,
        0.96531507,  0.96724294,  0.96917081,  0.97109868,  0.97302654,
        0.97495441,  0.97688228,  0.97881015,  0.98073801,  0.98266588,
        0.98459375]))
train/val Accuracy = 0.672952632027 / 0.667050691244 
 with threshold: [[ 0.95671423]]
============ epoch 1 ===========
training loss:		0.027778
||Xanchor-Xpos||_2  counter: 
[   5    4   22   38   93  179  335  633 1182 1786 2636 3454 4008 4125 2978
 1547  436   52    5    0]
||Xanchor-Xneg||_2  counter: 
[   0    2    7   10   31   63  140  182  283  513  816 1455 2667 4590 5814
 4686 1809  408   39    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56276131  0.59285983  0.62295835  0.65305687  0.68315539  0.71325392
  0.74335244  0.77345096  0.80354948  0.833648    0.86374652  0.89384505
  0.92394357  0.95404209  0.98414061  1.01423913  1.04433765  1.07443618
  1.1045347   1.13463322  1.16473174]
distance difference  counter: 
(array([   2,   21,  194, 1033, 3264, 5412, 5192, 3483, 2090, 1083,  703,
        403,  249,  171,  118,   53,   28,    9,    7,    3]), array([ 0.94414341,  0.94549874,  0.94685407,  0.94820939,  0.94956472,
        0.95092005,  0.95227537,  0.9536307 ,  0.95498602,  0.95634135,
        0.95769668,  0.959052  ,  0.96040733,  0.96176265,  0.96311798,
        0.96447331,  0.96582863,  0.96718396,  0.96853929,  0.96989461,
        0.97124994]))
||Xanchor-Xpos||_2  counter: 
[   2    3   24   33   67  106  131  240  324  455  584  706  930 1050 1177
 1151  787  394   75    7]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    0    4    7   12   21   36   76  101  163  319  558  951
 1523 2025 1702  660   87]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28483352  0.32554217  0.36625082  0.40695947  0.44766812  0.48837677
  0.52908542  0.56979408  0.61050273  0.65121138  0.69192003  0.73262868
  0.77333733  0.81404598  0.85475463  0.89546328  0.93617193  0.97688058
  1.01758923  1.05829788  1.09900653]
distance difference  counter: 
(array([  25,  238,  884, 1613, 1752, 1361,  874,  582,  371,  205,  120,
         78,   64,   32,   21,   14,    5,    3,    3,    1]), array([ 0.9466266 ,  0.9483162 ,  0.95000579,  0.95169538,  0.95338497,
        0.95507456,  0.95676416,  0.95845375,  0.96014334,  0.96183293,
        0.96352252,  0.96521212,  0.96690171,  0.9685913 ,  0.97028089,
        0.97197048,  0.97366008,  0.97534967,  0.97703926,  0.97872885,
        0.98041844]))
train/val Accuracy = 0.6757377328 / 0.667475139462 
 with threshold: [[ 0.9553648]]
============ epoch 2 ===========
training loss:		0.027765
||Xanchor-Xpos||_2  counter: 
[   3    9   21   49   95  223  374  682 1133 1765 2500 3182 3872 3882 3184
 1742  653  136   13    0]
||Xanchor-Xneg||_2  counter: 
[   1    3    9   22   32   61  123  185  298  499  842 1372 2285 4049 5506
 4973 2505  651   97    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.57969391  0.60815662  0.63661933  0.66508204  0.69354475  0.72200745
  0.75047016  0.77893287  0.80739558  0.83585829  0.86432099  0.8927837
  0.92124641  0.94970912  0.97817183  1.00663453  1.03509724  1.06355995
  1.09202266  1.12048537  1.14894807]
distance difference  counter: 
(array([  10,  176, 1229, 3973, 6064, 5207, 3018, 1659,  951,  541,  310,
        180,  101,   47,   32,   12,    6,    0,    1,    1]), array([ 0.94528902,  0.94677013,  0.94825124,  0.94973235,  0.95121346,
        0.95269457,  0.95417567,  0.95565678,  0.95713789,  0.958619  ,
        0.96010011,  0.96158122,  0.96306233,  0.96454344,  0.96602455,
        0.96750566,  0.96898677,  0.97046788,  0.97194899,  0.9734301 ,
        0.97491121]))
||Xanchor-Xpos||_2  counter: 
[  10   14   30   48   94  113  205  299  411  500  584  824  964 1130 1100
  989  635  251   44    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    3    9   24   27   57   87  135  222  376  695 1118
 1658 2018 1379  389   47]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.31882939  0.35824667  0.39766395  0.43708123  0.47649851  0.51591579
  0.55533307  0.59475035  0.63416763  0.67358491  0.71300219  0.75241947
  0.79183675  0.83125403  0.87067131  0.91008859  0.94950587  0.98892315
  1.02834043  1.06775771  1.10717499]
distance difference  counter: 
(array([   8,  139,  546, 1384, 1801, 1454, 1085,  705,  432,  246,  161,
        108,   68,   44,   26,   25,    8,    1,    3,    2]), array([ 0.94613624,  0.94779792,  0.94945959,  0.95112127,  0.95278295,
        0.95444463,  0.95610631,  0.95776799,  0.95942967,  0.96109135,
        0.96275303,  0.96441471,  0.96607639,  0.96773807,  0.96939974,
        0.97106142,  0.9727231 ,  0.97438478,  0.97604646,  0.97770814,
        0.97936982]))
train/val Accuracy = 0.67641806276 / 0.668384671356 
 with threshold: [[ 0.95464293]]
============ epoch 3 ===========
training loss:		0.027753
||Xanchor-Xpos||_2  counter: 
[   2    3   12   23   57  144  254  469  840 1386 2112 2826 3579 4095 3752
 2611 1055  265   31    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    9   17   14   31  102  145  262  374  623 1021 1814 3231 5069
 5519 3722 1285  256   24]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.55441153  0.58361801  0.61282449  0.64203097  0.67123744  0.70044392
  0.7296504   0.75885688  0.78806336  0.81726984  0.84647632  0.8756828
  0.90488927  0.93409575  0.96330223  0.99250871  1.02171519  1.05092167
  1.08012815  1.10933462  1.1385411 ]
distance difference  counter: 
(array([  20,  174,  800, 2379, 4397, 5024, 4054, 2617, 1525,  901,  595,
        392,  246,  162,  110,   66,   17,   15,   15,    9]), array([ 0.94569397,  0.94692423,  0.9481545 ,  0.94938476,  0.95061502,
        0.95184529,  0.95307555,  0.95430582,  0.95553608,  0.95676634,
        0.95799661,  0.95922687,  0.96045713,  0.9616874 ,  0.96291766,
        0.96414793,  0.96537819,  0.96660845,  0.96783872,  0.96906898,
        0.97029924]))
||Xanchor-Xpos||_2  counter: 
[   6   13   20   45   91  126  207  330  447  515  699  936 1141 1241 1228
  825  317   52    7    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    3    4    5   20   34   69  100  179  308  532  977 1599
 2211 1670  474   59    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28953278  0.33267651  0.37582024  0.41896397  0.46210771  0.50525144
  0.54839517  0.5915389   0.63468263  0.67782636  0.72097009  0.76411383
  0.80725756  0.85040129  0.89354502  0.93668875  0.97983248  1.02297621
  1.06611995  1.10926368  1.15240741]
distance difference  counter: 
(array([   2,   27,  186,  707, 1463, 1810, 1387,  986,  632,  381,  245,
        152,  102,   65,   42,   28,   18,    5,    3,    5]), array([ 0.94485658,  0.94651421,  0.94817184,  0.94982947,  0.9514871 ,
        0.95314473,  0.95480236,  0.95645999,  0.95811762,  0.95977525,
        0.96143287,  0.9630905 ,  0.96474813,  0.96640576,  0.96806339,
        0.96972102,  0.97137865,  0.97303628,  0.97469391,  0.97635154,
        0.97800916]))
train/val Accuracy = 0.672612467047 / 0.668202764977 
 with threshold: [[ 0.95392512]]
============ epoch 4 ===========
training loss:		0.027740
||Xanchor-Xpos||_2  counter: 
[   3    8   17   37   71  136  261  559  893 1476 2091 2874 3598 3965 3627
 2452 1082  327   37    4]
||Xanchor-Xneg||_2  counter: 
[   0    7    9   12   14   61  113  151  237  420  608 1018 1822 3221 4814
 5533 3757 1420  267   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.5667901   0.59505174  0.62331338  0.65157502  0.67983665  0.70809829
  0.73635993  0.76462157  0.79288321  0.82114484  0.84940648  0.87766812
  0.90592976  0.93419139  0.96245303  0.99071467  1.01897631  1.04723794
  1.07549958  1.10376122  1.13202286]
distance difference  counter: 
(array([  31,  295, 1653, 4286, 5922, 4738, 2862, 1589,  841,  528,  328,
        190,  123,   83,   17,   14,    8,    8,    1,    1]), array([ 0.9458524 ,  0.94727254,  0.94869269,  0.95011283,  0.95153297,
        0.95295312,  0.95437326,  0.9557934 ,  0.95721354,  0.95863369,
        0.96005383,  0.96147397,  0.96289412,  0.96431426,  0.9657344 ,
        0.96715455,  0.96857469,  0.96999483,  0.97141498,  0.97283512,
        0.97425526]))
||Xanchor-Xpos||_2  counter: 
[   5   11   14   46   75  104  158  274  351  483  599  749  985 1107 1199
 1068  657  307   50    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    3    2   22   30   47   72  121  196  346  627 1059
 1650 2094 1456  476   43]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29471222  0.33523009  0.37574797  0.41626585  0.45678372  0.4973016
  0.53781948  0.57833735  0.61885523  0.65937311  0.69989099  0.74040886
  0.78092674  0.82144462  0.86196249  0.90248037  0.94299825  0.98351613
  1.024034    1.06455188  1.10506976]
distance difference  counter: 
(array([  11,  184,  705, 1629, 1828, 1429,  949,  602,  339,  219,  128,
         78,   64,   32,   23,   18,    3,    3,    1,    1]), array([ 0.94637483,  0.94810074,  0.94982665,  0.95155256,  0.95327847,
        0.95500438,  0.95673029,  0.9584562 ,  0.96018211,  0.96190802,
        0.96363392,  0.96535983,  0.96708574,  0.96881165,  0.97053756,
        0.97226347,  0.97398938,  0.97571529,  0.9774412 ,  0.97916711,
        0.98089302]))
train/val Accuracy = 0.67505740284 / 0.669476109629 
 with threshold: [[ 0.95261179]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135, 0.67240136705812392]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.271426
||Xanchor-Xpos||_2  counter: 
[   1    1    3    6   14   44  137  318  603 1204 1875 2833 3756 4300 4046
 2802 1248  304   22    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    4   12   32   78  159  252  510  947 1702 2961 5064
 5856 4176 1490  255   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.51851058  0.54942568  0.58034078  0.61125588  0.64217098  0.67308608
  0.70400118  0.73491628  0.76583138  0.79674647  0.82766157  0.85857667
  0.88949177  0.92040687  0.95132197  0.98223707  1.01315217  1.04406727
  1.07498237  1.10589747  1.13681257]
distance difference  counter: 
(array([  10,  107,  577, 2016, 4023, 5017, 4489, 2834, 1833, 1073,  651,
        396,  201,  146,   79,   37,   19,    5,    3,    2]), array([ 0.94557214,  0.94681855,  0.94806497,  0.94931139,  0.9505578 ,
        0.95180422,  0.95305064,  0.95429705,  0.95554347,  0.95678989,
        0.9580363 ,  0.95928272,  0.96052914,  0.96177555,  0.96302197,
        0.96426839,  0.9655148 ,  0.96676122,  0.96800764,  0.96925405,
        0.97050047]))
||Xanchor-Xpos||_2  counter: 
[   6   10   19   50   73  105  201  264  364  517  645  802  965 1162 1122
 1060  616  223   41    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    2    4   12   18   28   42   76  148  212  399  686 1100
 1746 2046 1313  381   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29360792  0.3334927   0.37337748  0.41326225  0.45314703  0.49303181
  0.53291658  0.57280136  0.61268614  0.65257092  0.69245569  0.73234047
  0.77222525  0.81211003  0.8519948   0.89187958  0.93176436  0.97164914
  1.01153391  1.05141869  1.09130347]
distance difference  counter: 
(array([  44,  408, 1345, 2027, 1725, 1096,  689,  377,  213,  147,   70,
         42,   28,   16,   11,    4,    2,    1,    0,    1]), array([ 0.94766957,  0.94957029,  0.95147102,  0.95337175,  0.95527247,
        0.9571732 ,  0.95907393,  0.96097465,  0.96287538,  0.9647761 ,
        0.96667683,  0.96857756,  0.97047828,  0.97237901,  0.97427974,
        0.97618046,  0.97808119,  0.97998192,  0.98188264,  0.98378337,
        0.9856841 ]))
train/val Accuracy = 0.679670890382 / 0.640492359932 
 with threshold: [[ 0.94949107]]
============ epoch 1 ===========
training loss:		0.270196
||Xanchor-Xpos||_2  counter: 
[   1    0    3   14   20   83  162  340  762 1285 2148 2914 3764 4169 3932
 2569 1069  256   24    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    8   19   37   78  181  351  601  980 1855 3243 4987
 5697 3896 1301  262   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53033692  0.56008662  0.58983633  0.61958604  0.64933574  0.67908545
  0.70883515  0.73858486  0.76833457  0.79808427  0.82783398  0.85758369
  0.88733339  0.9170831   0.94683281  0.97658251  1.00633222  1.03608193
  1.06583163  1.09558134  1.12533104]
distance difference  counter: 
(array([  12,  119,  622, 2039, 4187, 5000, 4228, 2924, 1771, 1073,  615,
        402,  260,  135,   61,   35,   21,   10,    2,    2]), array([ 0.94615656,  0.94738269,  0.94860881,  0.94983493,  0.95106106,
        0.95228718,  0.95351331,  0.95473943,  0.95596555,  0.95719168,
        0.9584178 ,  0.95964393,  0.96087005,  0.96209618,  0.9633223 ,
        0.96454842,  0.96577455,  0.96700067,  0.9682268 ,  0.96945292,
        0.97067904]))
||Xanchor-Xpos||_2  counter: 
[   8    9   30   47   90  111  206  270  400  520  636  786 1004 1189 1143
 1015  572  183   26    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    7    5   16   25   50   85  145  244  390  738 1207
 1839 2042 1146  282   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29080299  0.33065088  0.37049878  0.41034668  0.45019457  0.49004247
  0.52989037  0.56973826  0.60958616  0.64943406  0.68928196  0.72912985
  0.76897775  0.80882565  0.84867354  0.88852144  0.92836934  0.96821723
  1.00806513  1.04791303  1.08776093]
distance difference  counter: 
(array([  18,  248,  737, 1577, 1758, 1393,  901,  637,  351,  227,  163,
         88,   58,   40,   18,   14,    6,    7,    3,    2]), array([ 0.94810265,  0.94971657,  0.95133048,  0.95294439,  0.9545583 ,
        0.95617221,  0.95778612,  0.95940004,  0.96101395,  0.96262786,
        0.96424177,  0.96585568,  0.9674696 ,  0.96908351,  0.97069742,
        0.97231133,  0.97392524,  0.97553916,  0.97715307,  0.97876698,
        0.98038089]))
train/val Accuracy = 0.674674717238 / 0.639643463497 
 with threshold: [[ 0.9405972]]
============ epoch 2 ===========
training loss:		0.268989
||Xanchor-Xpos||_2  counter: 
[   4    8   12   41   92  191  372  729 1163 1852 2579 3294 3708 3869 3087
 1671  680  152   12    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    6   20   26   28   90  163  310  505  845 1471 2516 3988 5150
 4807 2597  836  143   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.57392836  0.60104135  0.62815435  0.65526735  0.68238034  0.70949334
  0.73660634  0.76371933  0.79083233  0.81794533  0.84505832  0.87217132
  0.89928432  0.92639731  0.95351031  0.9806233   1.0077363   1.0348493
  1.06196229  1.08907529  1.11618829]
distance difference  counter: 
(array([  23,  207, 1004, 3018, 5091, 5074, 3804, 2247, 1317,  765,  428,
        263,  143,   63,   31,   26,   10,    3,    0,    1]), array([ 0.94683731,  0.94813738,  0.94943745,  0.95073752,  0.9520376 ,
        0.95333767,  0.95463774,  0.95593781,  0.95723789,  0.95853796,
        0.95983803,  0.96113811,  0.96243818,  0.96373825,  0.96503832,
        0.9663384 ,  0.96763847,  0.96893854,  0.97023861,  0.97153869,
        0.97283876]))
||Xanchor-Xpos||_2  counter: 
[   6    9   30   38   93  125  206  306  371  521  636  801 1046 1133 1144
  994  562  192   31    2]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    3   10   21   29   55   81  141  261  406  713 1229
 1780 1992 1172  326   24]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29566076  0.33462664  0.37359252  0.4125584   0.45152428  0.49049016
  0.52945604  0.56842192  0.6073878   0.64635368  0.68531956  0.72428544
  0.76325132  0.8022172   0.84118308  0.88014895  0.91911483  0.95808071
  0.99704659  1.03601247  1.07497835]
distance difference  counter: 
(array([  45,  405, 1209, 1910, 1745, 1163,  725,  419,  259,  149,   90,
         48,   36,   22,   10,    6,    3,    0,    1,    1]), array([ 0.94868934,  0.95048466,  0.95227998,  0.9540753 ,  0.95587062,
        0.95766594,  0.95946125,  0.96125657,  0.96305189,  0.96484721,
        0.96664253,  0.96843785,  0.97023317,  0.97202848,  0.9738238 ,
        0.97561912,  0.97741444,  0.97920976,  0.98100508,  0.9828004 ,
        0.98459572]))
train/val Accuracy = 0.674802279105 / 0.639400921659 
 with threshold: [[ 0.93103888]]
============ epoch 3 ===========
training loss:		0.267805
||Xanchor-Xpos||_2  counter: 
[   2    3    8   24   50  109  266  549  940 1587 2318 3282 3739 3978 3367
 2198  853  221   23    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    8   15   27   77  113  244  393  677 1271 2152 3644 5064
 5222 3232 1160  199   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.54879433  0.57650639  0.60421845  0.63193052  0.65964258  0.68735464
  0.7150667   0.74277876  0.77049083  0.79820289  0.82591495  0.85362701
  0.88133907  0.90905114  0.9367632   0.96447526  0.99218732  1.01989938
  1.04761145  1.07532351  1.10303557]
distance difference  counter: 
(array([   6,   87,  506, 1799, 3901, 4967, 4378, 3217, 1897, 1181,  641,
        400,  247,  134,   77,   48,   14,   13,    4,    1]), array([ 0.94694698,  0.94815604,  0.9493651 ,  0.95057416,  0.95178322,
        0.95299228,  0.95420133,  0.95541039,  0.95661945,  0.95782851,
        0.95903757,  0.96024663,  0.96145569,  0.96266475,  0.96387381,
        0.96508287,  0.96629193,  0.96750099,  0.96871005,  0.96991911,
        0.97112817]))
||Xanchor-Xpos||_2  counter: 
[   6   10   27   48   89  127  212  284  412  471  647  867 1006 1153 1128
  972  562  199   25    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    2    2    8   21   24   52   85  148  239  428  733 1213
 1893 1962 1124  280   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29110295  0.32990189  0.36870084  0.40749979  0.44629874  0.48509769
  0.52389664  0.56269559  0.60149454  0.64029349  0.67909244  0.71789139
  0.75669034  0.79548928  0.83428823  0.87308718  0.91188613  0.95068508
  0.98948403  1.02828298  1.06708193]
distance difference  counter: 
(array([   8,  162,  734, 1776, 2027, 1412,  883,  558,  275,  181,  101,
         54,   35,   22,   11,    3,    1,    1,    1,    1]), array([ 0.9481132 ,  0.94995661,  0.95180001,  0.95364342,  0.95548682,
        0.95733023,  0.95917363,  0.96101704,  0.96286044,  0.96470385,
        0.96654725,  0.96839066,  0.97023406,  0.97207747,  0.97392087,
        0.97576427,  0.97760768,  0.97945108,  0.98129449,  0.98313789,
        0.9849813 ]))
train/val Accuracy = 0.677396037078 / 0.636308513219 
 with threshold: [[ 0.92263433]]
============ epoch 4 ===========
training loss:		0.266643
||Xanchor-Xpos||_2  counter: 
[   5    9   22   43  134  273  505  840 1469 2094 2877 3637 3933 3536 2529
 1229  315   61    7    0]
||Xanchor-Xneg||_2  counter: 
[   0    3    4   14   32   63  125  207  369  655 1085 1795 3135 4653 5273
 3915 1718  420   45    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.57507885  0.6016509   0.62822295  0.65479501  0.68136706  0.70793912
  0.73451117  0.76108323  0.78765528  0.81422734  0.84079939  0.86737145
  0.8939435   0.92051556  0.94708761  0.97365966  1.00023172  1.02680377
  1.05337583  1.07994788  1.10651994]
distance difference  counter: 
(array([   9,   98,  711, 2359, 4503, 5379, 4151, 2640, 1572,  905,  525,
        307,  185,   90,   44,   24,   11,    3,    1,    1]), array([ 0.94744265,  0.94871331,  0.94998397,  0.95125463,  0.95252529,
        0.95379595,  0.95506662,  0.95633728,  0.95760794,  0.9588786 ,
        0.96014926,  0.96141992,  0.96269058,  0.96396124,  0.9652319 ,
        0.96650256,  0.96777322,  0.96904388,  0.97031454,  0.97158521,
        0.97285587]))
||Xanchor-Xpos||_2  counter: 
[   4   10   33   55   80  103  180  291  347  541  626  824  993 1127 1130
 1051  586  220   40    5]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    5   11   18   33   48   79  138  232  393  662 1156
 1794 1995 1289  361   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28832227  0.32641641  0.36451054  0.40260468  0.44069881  0.47879295
  0.51688709  0.55498122  0.59307536  0.63116949  0.66926363  0.70735777
  0.7454519   0.78354604  0.82164018  0.85973431  0.89782845  0.93592258
  0.97401672  1.01211086  1.05020499]
distance difference  counter: 
(array([  45,  457, 1382, 2013, 1743, 1082,  630,  378,  208,  127,   77,
         42,   33,   14,   11,    3,    0,    0,    0,    1]), array([ 0.94969612,  0.95152171,  0.9533473 ,  0.95517288,  0.95699847,
        0.95882405,  0.96064964,  0.96247523,  0.96430081,  0.9661264 ,
        0.96795198,  0.96977757,  0.97160316,  0.97342874,  0.97525433,
        0.97707991,  0.9789055 ,  0.98073108,  0.98255667,  0.98438226,
        0.98620784]))
train/val Accuracy = 0.675206225019 / 0.637339316032 
 with threshold: [[ 0.91361924]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135, 0.67240136705812392, 0.66008162515696167]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.660486
||Xanchor-Xpos||_2  counter: 
[   1    0    0    4    4   27   82  188  472 1025 1836 2991 4019 4715 4067
 2590 1145  310   41    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    4   11   23   63  147  261  532 1003 1941 3760 5350
 5376 3379 1397  248   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.44550574  0.47957532  0.51364491  0.5477145   0.58178408  0.61585367
  0.64992325  0.68399284  0.71806242  0.75213201  0.7862016   0.82027118
  0.85434077  0.88841035  0.92247994  0.95654953  0.99061911  1.0246887
  1.05875828  1.09282787  1.12689745]
distance difference  counter: 
(array([  17,   87,  548, 1658, 3094, 4477, 4626, 3571, 2361, 1312,  738,
        474,  248,  138,   85,   46,   22,    9,    6,    1]), array([ 0.94614428,  0.94746622,  0.94878815,  0.95011008,  0.95143201,
        0.95275395,  0.95407588,  0.95539781,  0.95671974,  0.95804168,
        0.95936361,  0.96068554,  0.96200747,  0.96332941,  0.96465134,
        0.96597327,  0.96729521,  0.96861714,  0.96993907,  0.971261  ,
        0.97258294]))
||Xanchor-Xpos||_2  counter: 
[   4    7   19   47   70  125  170  262  354  524  672  790 1060 1200 1240
 1018  537  131   16    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    0    4   14    9   34   46   88  132  219  430  766 1316
 1947 1998 1037  191   14]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26354691  0.30147105  0.33939519  0.37731932  0.41524346  0.45316759
  0.49109173  0.52901587  0.56694     0.60486414  0.64278828  0.68071241
  0.71863655  0.75656068  0.79448482  0.83240896  0.87033309  0.90825723
  0.94618137  0.9841055   1.02202964]
distance difference  counter: 
(array([  23,  181,  921, 1774, 1934, 1372,  866,  506,  264,  162,   95,
         69,   26,   29,    9,   10,    4,    0,    0,    1]), array([ 0.95098096,  0.95268475,  0.95438855,  0.95609234,  0.95779613,
        0.95949993,  0.96120372,  0.96290751,  0.9646113 ,  0.9663151 ,
        0.96801889,  0.96972268,  0.97142648,  0.97313027,  0.97483406,
        0.97653785,  0.97824165,  0.97994544,  0.98164923,  0.98335302,
        0.98505682]))
train/val Accuracy = 0.661748447997 / 0.547720106718 
 with threshold: [[ 0.91818331]]
============ epoch 1 ===========
training loss:		2.555713
||Xanchor-Xpos||_2  counter: 
[   3    5   12   49  116  242  473  933 1499 2297 3091 3796 3863 3355 2216
 1070  393   98    6    1]
||Xanchor-Xneg||_2  counter: 
[   0    1   11   20   24   72  129  234  387  740 1276 2374 3714 4718 4651
 3090 1510  467   92    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.50347883  0.52978229  0.55608576  0.58238923  0.60869269  0.63499616
  0.66129963  0.6876031   0.71390656  0.74021003  0.7665135   0.79281696
  0.81912043  0.8454239   0.87172737  0.89803083  0.9243343   0.95063777
  0.97694123  1.0032447   1.02954817]
distance difference  counter: 
(array([   7,   82,  345, 1036, 2334, 3743, 4466, 3998, 2979, 1873, 1107,
        648,  368,  220,  160,   81,   30,   20,   14,    7]), array([ 0.95077759,  0.95190632,  0.95303504,  0.95416377,  0.9552925 ,
        0.95642123,  0.95754995,  0.95867868,  0.95980741,  0.96093614,
        0.96206486,  0.96319359,  0.96432232,  0.96545104,  0.96657977,
        0.9677085 ,  0.96883723,  0.96996595,  0.97109468,  0.97222341,
        0.97335213]))
||Xanchor-Xpos||_2  counter: 
[   3    6   19   38   83   99  174  273  347  475  621  796  945 1164 1190
 1065  661  240   46    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    5    7   17   28   40   59  132  199  371  621 1105
 1757 2059 1350  439   54]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24350615  0.27698029  0.31045444  0.34392858  0.37740272  0.41087687
  0.44435101  0.47782515  0.5112993   0.54477344  0.57824758  0.61172173
  0.64519587  0.67867002  0.71214416  0.7456183   0.77909245  0.81256659
  0.84604073  0.87951488  0.91298902]
distance difference  counter: 
(array([  35,  256, 1002, 1880, 1848, 1281,  802,  469,  274,  158,  111,
         49,   25,   31,   10,    7,    5,    1,    1,    1]), array([ 0.9556036 ,  0.95713606,  0.95866852,  0.96020099,  0.96173345,
        0.96326591,  0.96479837,  0.96633084,  0.9678633 ,  0.96939576,
        0.97092822,  0.97246068,  0.97399315,  0.97552561,  0.97705807,
        0.97859053,  0.980123  ,  0.98165546,  0.98318792,  0.98472038,
        0.98625284]))
train/val Accuracy = 0.660855514925 / 0.544991511036 
 with threshold: [[ 0.83373507]]
============ epoch 2 ===========
training loss:		2.469294
||Xanchor-Xpos||_2  counter: 
[   9   19   65  108  232  434  782 1166 1796 2520 3055 3587 3437 2785 1950
 1037  407  110   18    0]
||Xanchor-Xneg||_2  counter: 
[   1    7   15   43   54  115  189  326  560  916 1567 2426 3725 4304 3975
 2944 1562  607  157   23]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.4929266   0.51445922  0.53599184  0.55752446  0.57905709  0.60058971
  0.62212233  0.64365495  0.66518757  0.6867202   0.70825282  0.72978544
  0.75131806  0.77285068  0.79438331  0.81591593  0.83744855  0.85898117
  0.88051379  0.90204642  0.92357904]
distance difference  counter: 
(array([  25,  228, 1086, 2874, 4776, 5308, 4234, 2304, 1327,  667,  341,
        190,   87,   47,   16,    5,    1,    1,    0,    1]), array([ 0.95527667,  0.95654966,  0.95782264,  0.95909563,  0.96036862,
        0.96164161,  0.9629146 ,  0.96418759,  0.96546057,  0.96673356,
        0.96800655,  0.96927954,  0.97055253,  0.97182552,  0.9730985 ,
        0.97437149,  0.97564448,  0.97691747,  0.97819046,  0.97946345,
        0.98073643]))
||Xanchor-Xpos||_2  counter: 
[   5    9   15   39   68  137  157  278  370  464  655  795  962 1134 1195
 1066  659  202   36    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    5    9   12   22   49   79  123  205  376  698 1112
 1771 2064 1288  390   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22115009  0.25170404  0.282258    0.31281196  0.34336592  0.37391988
  0.40447384  0.4350278   0.46558175  0.49613571  0.52668967  0.55724363
  0.58779759  0.61835155  0.64890551  0.67945946  0.71001342  0.74056738
  0.77112134  0.8016753   0.83222926]
distance difference  counter: 
(array([  43,  323, 1075, 1881, 1814, 1226,  794,  448,  248,  168,   77,
         69,   36,   20,    8,    8,    5,    1,    1,    1]), array([ 0.95968258,  0.96107276,  0.96246293,  0.96385311,  0.96524328,
        0.96663345,  0.96802363,  0.9694138 ,  0.97080398,  0.97219415,
        0.97358432,  0.9749745 ,  0.97636467,  0.97775485,  0.97914502,
        0.98053519,  0.98192537,  0.98331554,  0.98470572,  0.98609589,
        0.98748606]))
train/val Accuracy = 0.662152393911 / 0.548447732234 
 with threshold: [[ 0.75715975]]
============ epoch 3 ===========
training loss:		2.398012
||Xanchor-Xpos||_2  counter: 
[   4    9   20   39  131  234  486  941 1481 2222 3037 3754 3811 3382 2281
 1166  422   84   13    1]
||Xanchor-Xneg||_2  counter: 
[   0    6    6   22   34   67  147  254  414  720 1238 2232 3611 4760 4533
 3206 1655  507   93   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.41596109  0.43754849  0.4591359   0.4807233   0.50231071  0.52389811
  0.54548551  0.56707292  0.58866032  0.61024773  0.63183513  0.65342254
  0.67500994  0.69659735  0.71818475  0.73977216  0.76135956  0.78294697
  0.80453437  0.82612177  0.84770918]
distance difference  counter: 
(array([  13,   72,  355, 1169, 2525, 3868, 4558, 4019, 2817, 1715,  984,
        588,  344,  231,  124,   67,   34,   19,    9,    7]), array([ 0.95902908,  0.95999612,  0.96096315,  0.96193019,  0.96289723,
        0.96386427,  0.9648313 ,  0.96579834,  0.96676538,  0.96773242,
        0.96869946,  0.96966649,  0.97063353,  0.97160057,  0.97256761,
        0.97353464,  0.97450168,  0.97546872,  0.97643576,  0.97740279,
        0.97836983]))
||Xanchor-Xpos||_2  counter: 
[   5    6   24   43   76  117  178  299  438  522  736  886 1093 1258 1246
  867  367   81    4    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    1    8   20   30   49   83  156  283  506  894 1559
 2058 1824  676   95    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19742893  0.22638533  0.25534173  0.28429812  0.31325452  0.34221092
  0.37116732  0.40012372  0.42908012  0.45803652  0.48699292  0.51594932
  0.54490572  0.57386212  0.60281851  0.63177491  0.66073131  0.68968771
  0.71864411  0.74760051  0.77655691]
distance difference  counter: 
(array([   1,   36,  245,  835, 1643, 1709, 1427,  867,  583,  353,  213,
        134,   67,   57,   25,   26,   15,    8,    1,    1]), array([ 0.96219313,  0.96335019,  0.96450724,  0.96566429,  0.96682135,
        0.9679784 ,  0.96913546,  0.97029251,  0.97144957,  0.97260662,
        0.97376367,  0.97492073,  0.97607778,  0.97723484,  0.97839189,
        0.97954895,  0.980706  ,  0.98186305,  0.98302011,  0.98417716,
        0.98533422]))
train/val Accuracy = 0.658368058508 / 0.546810574824 
 with threshold: [[ 0.68770848]]
============ epoch 4 ===========
training loss:		2.339217
||Xanchor-Xpos||_2  counter: 
[   3    6   14   29   74  182  312  639 1121 1888 2678 3432 3952 3812 2881
 1573  665  213   40    3]
||Xanchor-Xneg||_2  counter: 
[   3    1    8   16   25   48   87  188  319  504  984 1696 2907 4403 4861
 4056 2257  920  208   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.36475447  0.38462557  0.40449667  0.42436778  0.44423888  0.46410998
  0.48398108  0.50385218  0.52372329  0.54359439  0.56346549  0.58333659
  0.6032077   0.6230788   0.6429499   0.662821    0.6826921   0.70256321
  0.72243431  0.74230541  0.76217651]
distance difference  counter: 
(array([  22,  193,  823, 2082, 3785, 4718, 4480, 3098, 1819, 1099,  602,
        349,  216,  105,   56,   38,   17,   10,    2,    4]), array([ 0.96308708,  0.96401637,  0.96494566,  0.96587494,  0.96680423,
        0.96773352,  0.9686628 ,  0.96959209,  0.97052138,  0.97145067,
        0.97237995,  0.97330924,  0.97423853,  0.97516781,  0.9760971 ,
        0.97702639,  0.97795568,  0.97888496,  0.97981425,  0.98074354,
        0.98167282]))
||Xanchor-Xpos||_2  counter: 
[   3   11   15   41   68  112  170  252  348  470  663  783  973 1164 1234
 1012  675  219   32    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    3    8   12   26   42   87  113  212  381  635 1137
 1796 2053 1300  402   39]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18241589  0.20758436  0.23275284  0.25792132  0.28308979  0.30825827
  0.33342675  0.35859522  0.3837637   0.40893217  0.43410065  0.45926913
  0.4844376   0.50960608  0.53477456  0.55994303  0.58511151  0.61027998
  0.63544846  0.66061694  0.68578541]
distance difference  counter: 
(array([  21,  153,  586, 1236, 1647, 1501, 1122,  714,  441,  309,  183,
        125,   66,   63,   31,   18,   17,    6,    4,    3]), array([ 0.96650124,  0.96747804,  0.96845485,  0.96943166,  0.97040846,
        0.97138527,  0.97236208,  0.97333888,  0.97431569,  0.9752925 ,
        0.9762693 ,  0.97724611,  0.97822292,  0.97919973,  0.98017653,
        0.98115334,  0.98213015,  0.98310695,  0.98408376,  0.98506057,
        0.98603737]))
train/val Accuracy = 0.661174419594 / 0.547356293961 
 with threshold: [[ 0.62453591]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135, 0.67240136705812392, 0.66008162515696167, 0.60530006307242856]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027724
||Xanchor-Xpos||_2  counter: 
[   2    5    7   18   64  128  274  582  990 1637 2370 3164 3879 3964 3389
 2056  784  184   20    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    8   28   48   69  131  242  441  693 1191 2196 3724 5279
 5292 2978  990  191   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.5652107   0.59411039  0.62301008  0.65190976  0.68080945  0.70970914
  0.73860883  0.76750851  0.7964082   0.82530789  0.85420758  0.88310726
  0.91200695  0.94090664  0.96980633  0.99870601  1.0276057   1.05650539
  1.08540508  1.11430476  1.14320445]
distance difference  counter: 
(array([  12,  158,  836, 2733, 5099, 5390, 3918, 2344, 1289,  721,  451,
        264,  138,   77,   48,   29,   10,    0,    0,    1]), array([ 0.94531751,  0.94668178,  0.94804605,  0.94941032,  0.95077459,
        0.95213886,  0.95350313,  0.9548674 ,  0.95623167,  0.95759594,
        0.95896021,  0.96032448,  0.96168875,  0.96305301,  0.96441728,
        0.96578155,  0.96714582,  0.96851009,  0.96987436,  0.97123863,
        0.9726029 ]))
||Xanchor-Xpos||_2  counter: 
[   9   17   26   53   93  135  205  280  400  495  648  812  984 1187 1146
  939  568  204   40    5]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2    6    8   17   33   52   85  151  239  432  770 1238
 1731 1975 1161  299   45]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.31235328  0.35154556  0.39073783  0.42993011  0.46912239  0.50831466
  0.54750694  0.58669921  0.62589149  0.66508376  0.70427604  0.74346832
  0.78266059  0.82185287  0.86104514  0.90023742  0.93942969  0.97862197
  1.01781425  1.05700652  1.0961988 ]
distance difference  counter: 
(array([  55,  358, 1258, 2021, 1692, 1187,  733,  408,  212,  142,   83,
         37,   30,   19,    3,    6,    0,    1,    0,    1]), array([ 0.94748163,  0.94937505,  0.95126846,  0.95316188,  0.9550553 ,
        0.95694871,  0.95884213,  0.96073554,  0.96262896,  0.96452238,
        0.96641579,  0.96830921,  0.97020262,  0.97209604,  0.97398946,
        0.97588287,  0.97777629,  0.97966971,  0.98156312,  0.98345654,
        0.98534995]))
train/val Accuracy = 0.677927544859 / 0.633761823915 
 with threshold: [[ 0.95324285]]
============ epoch 1 ===========
training loss:		0.027601
||Xanchor-Xpos||_2  counter: 
[   6    9   12   45  109  211  400  748 1191 1725 2390 3176 3727 3599 3104
 1936  832  260   35    3]
||Xanchor-Xneg||_2  counter: 
[   2    5    4   19   43   50  104  188  294  470  768 1267 2297 3616 4888
 4853 3161 1215  243   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.59276694  0.61915704  0.64554713  0.67193723  0.69832733  0.72471742
  0.75110752  0.77749762  0.80388771  0.83027781  0.85666791  0.883058
  0.9094481   0.9358382   0.96222829  0.98861839  1.01500849  1.04139858
  1.06778868  1.09417877  1.12056887]
distance difference  counter: 
(array([  48,  435, 1983, 4402, 5631, 4559, 2911, 1533,  868,  501,  300,
        170,   78,   55,   23,   13,    5,    2,    0,    1]), array([ 0.94655347,  0.94793985,  0.94932623,  0.95071261,  0.95209899,
        0.95348537,  0.95487175,  0.95625813,  0.95764451,  0.95903089,
        0.96041727,  0.96180365,  0.96319003,  0.96457641,  0.96596279,
        0.96734917,  0.96873555,  0.97012193,  0.97150831,  0.97289469,
        0.97428107]))
||Xanchor-Xpos||_2  counter: 
[  10    9   22   40   77  135  195  267  369  530  656  792 1063 1166 1210
  945  540  178   38    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    3    7   27   27   49   81  141  241  438  760 1235
 1877 1952 1101  277   28]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29455206  0.33441224  0.37427242  0.41413259  0.45399277  0.49385295
  0.53371313  0.57357331  0.61343349  0.65329366  0.69315384  0.73301402
  0.7728742   0.81273438  0.85259456  0.89245474  0.93231491  0.97217509
  1.01203527  1.05189545  1.09175563]
distance difference  counter: 
(array([  26,  193,  697, 1422, 1723, 1450, 1012,  661,  408,  236,  160,
         93,   61,   39,   23,   21,   15,    3,    1,    2]), array([ 0.94777817,  0.94939263,  0.95100709,  0.95262156,  0.95423602,
        0.95585048,  0.95746495,  0.95907941,  0.96069387,  0.96230834,
        0.9639228 ,  0.96553726,  0.96715173,  0.96876619,  0.97038065,
        0.97199512,  0.97360958,  0.97522404,  0.97683851,  0.97845297,
        0.98006743]))
train/val Accuracy = 0.678203928906 / 0.633943730293 
 with threshold: [[ 0.94393708]]
============ epoch 2 ===========
training loss:		0.027481
||Xanchor-Xpos||_2  counter: 
[   1    2    5   24   29   95  207  410  810 1386 2136 2957 3701 4092 3777
 2531 1055  262   36    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    6   10   37   61  117  186  332  614 1065 1919 3297 5021
 5576 3593 1384  280   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53865951  0.5675422   0.59642488  0.62530757  0.65419025  0.68307294
  0.71195562  0.74083831  0.769721    0.79860368  0.82748637  0.85636905
  0.88525174  0.91413442  0.94301711  0.97189979  1.00078248  1.02966516
  1.05854785  1.08743053  1.11631322]
distance difference  counter: 
(array([  10,  161,  843, 2558, 4693, 5254, 4031, 2531, 1426,  864,  497,
        273,  166,   98,   59,   34,   11,    7,    1,    1]), array([ 0.94646645,  0.94775627,  0.94904609,  0.95033592,  0.95162574,
        0.95291556,  0.95420539,  0.95549521,  0.95678504,  0.95807486,
        0.95936468,  0.96065451,  0.96194433,  0.96323415,  0.96452398,
        0.9658138 ,  0.96710362,  0.96839345,  0.96968327,  0.9709731 ,
        0.97226292]))
||Xanchor-Xpos||_2  counter: 
[   4    8   18   46   64  122  172  262  345  479  619  793 1001 1152 1199
 1029  633  261   36    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    2    7   15   20   50   76  133  230  385  692 1128
 1751 2047 1309  364   36]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27765155  0.31754895  0.35744636  0.39734377  0.43724117  0.47713858
  0.51703598  0.55693339  0.5968308   0.6367282   0.67662561  0.71652302
  0.75642042  0.79631783  0.83621523  0.87611264  0.91601005  0.95590745
  0.99580486  1.03570226  1.07559967]
distance difference  counter: 
(array([  24,  201,  748, 1443, 1760, 1375,  952,  658,  400,  265,  151,
        100,   66,   44,   29,    9,   16,    2,    2,    1]), array([ 0.94842768,  0.95000768,  0.95158768,  0.95316768,  0.95474768,
        0.95632768,  0.95790768,  0.95948768,  0.96106768,  0.96264768,
        0.96422768,  0.96580768,  0.96738768,  0.96896768,  0.97054768,
        0.97212768,  0.97370768,  0.97528768,  0.97686768,  0.97844768,
        0.98002768]))
train/val Accuracy = 0.673314057318 / 0.631518311909 
 with threshold: [[ 0.93486228]]
============ epoch 3 ===========
training loss:		0.027363
||Xanchor-Xpos||_2  counter: 
[   6    9   27   65  154  319  542  892 1358 2010 2523 3169 3695 3450 2700
 1657  717  197   26    2]
||Xanchor-Xneg||_2  counter: 
[   3    4   14   15   38   73  148  195  378  542  896 1520 2503 3843 4846
 4444 2730 1073  218   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.60202283  0.62687317  0.65172351  0.67657385  0.70142419  0.72627454
  0.75112488  0.77597522  0.80082556  0.8256759   0.85052624  0.87537659
  0.90022693  0.92507727  0.94992761  0.97477795  0.99962829  1.02447864
  1.04932898  1.07417932  1.09902966]
distance difference  counter: 
(array([  16,  152,  799, 2358, 4104, 4907, 4141, 2822, 1697,  995,  586,
        402,  223,  147,   87,   44,   17,   12,    5,    4]), array([ 0.94720179,  0.94838527,  0.94956875,  0.95075224,  0.95193572,
        0.9531192 ,  0.95430269,  0.95548617,  0.95666965,  0.95785314,
        0.95903662,  0.9602201 ,  0.96140358,  0.96258707,  0.96377055,
        0.96495403,  0.96613752,  0.967321  ,  0.96850448,  0.96968797,
        0.97087145]))
||Xanchor-Xpos||_2  counter: 
[   1    8   22   44   71  128  167  278  414  460  646  815 1011 1208 1183
 1002  535  208   41    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    6    8   20   27   41   79  137  242  407  742 1233
 1831 2000 1159  286   28]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2786319   0.31825456  0.35787723  0.39749989  0.43712256  0.47674523
  0.51636789  0.55599056  0.59561322  0.63523589  0.67485856  0.71448122
  0.75410389  0.79372655  0.83334922  0.87297188  0.91259455  0.95221722
  0.99183988  1.03146255  1.07108521]
distance difference  counter: 
(array([  20,  151,  526, 1232, 1597, 1455, 1100,  801,  494,  301,  211,
        127,   80,   54,   36,   23,   14,   14,    5,    5]), array([ 0.94872481,  0.95020869,  0.95169257,  0.95317645,  0.95466033,
        0.95614421,  0.9576281 ,  0.95911198,  0.96059586,  0.96207974,
        0.96356362,  0.9650475 ,  0.96653138,  0.96801527,  0.96949915,
        0.97098303,  0.97246691,  0.97395079,  0.97543467,  0.97691855,
        0.97840244]))
train/val Accuracy = 0.680053575984 / 0.634186272132 
 with threshold: [[ 0.9260393]]
============ epoch 4 ===========
training loss:		0.027247
||Xanchor-Xpos||_2  counter: 
[   3    6   10   35   76  212  356  688 1133 1686 2433 3231 3736 3781 3223
 1909  761  199   35    5]
||Xanchor-Xneg||_2  counter: 
[   0    4    2   10   19   44   98  146  249  484  828 1334 2309 3781 5156
 4829 2982 1039  182   21]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.56362742  0.59023638  0.61684534  0.6434543   0.67006326  0.69667222
  0.72328117  0.74989013  0.77649909  0.80310805  0.82971701  0.85632597
  0.88293493  0.90954389  0.93615285  0.9627618   0.98937076  1.01597972
  1.04258868  1.06919764  1.0958066 ]
distance difference  counter: 
(array([  28,  335, 1932, 4605, 5964, 4782, 2731, 1482,  816,  407,  223,
        115,   63,   19,    9,    3,    3,    0,    0,    1]), array([ 0.94759315,  0.94904519,  0.95049723,  0.95194927,  0.95340132,
        0.95485336,  0.9563054 ,  0.95775744,  0.95920948,  0.96066152,
        0.96211356,  0.9635656 ,  0.96501764,  0.96646968,  0.96792172,
        0.96937376,  0.9708258 ,  0.97227784,  0.97372988,  0.97518193,
        0.97663397]))
||Xanchor-Xpos||_2  counter: 
[   9   11   23   46   82  144  183  276  409  483  656  781 1071 1146 1158
  935  564  215   48    6]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    1    7    6   14   35   46   88  136  256  414  737 1211
 1816 1965 1132  345   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29461837  0.33265718  0.37069598  0.40873479  0.4467736   0.48481241
  0.52285122  0.56089002  0.59892883  0.63696764  0.67500645  0.71304526
  0.75108407  0.78912287  0.82716168  0.86520049  0.9032393   0.94127811
  0.97931691  1.01735572  1.05539453]
distance difference  counter: 
(array([  31,  323, 1052, 1792, 1817, 1285,  819,  431,  298,  160,   97,
         60,   38,   24,    7,    6,    4,    0,    1,    1]), array([ 0.94933611,  0.9510772 ,  0.95281828,  0.95455936,  0.95630045,
        0.95804153,  0.95978262,  0.9615237 ,  0.96326479,  0.96500587,
        0.96674696,  0.96848804,  0.97022913,  0.97197021,  0.97371129,
        0.97545238,  0.97719346,  0.97893455,  0.98067563,  0.98241672,
        0.9841578 ]))
train/val Accuracy = 0.677587379879 / 0.627880184332 
 with threshold: [[ 0.9176168]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135, 0.67240136705812392, 0.66008162515696167, 0.60530006307242856, 0.65711992405814756]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.266368
||Xanchor-Xpos||_2  counter: 
[   2    2    8   37   74  175  367  648 1211 1912 2701 3421 3859 3545 2778
 1758  752  227   37    4]
||Xanchor-Xneg||_2  counter: 
[   0    6    3   10   20   53  106  177  314  531  981 1785 2893 4256 4837
 3979 2362  945  220   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53892994  0.56768767  0.59644539  0.62520312  0.65396085  0.68271858
  0.7114763   0.74023403  0.76899176  0.79774948  0.82650721  0.85526494
  0.88402267  0.91278039  0.94153812  0.97029585  0.99905357  1.0278113
  1.05656903  1.08532676  1.11408448]
distance difference  counter: 
(array([  21,  125,  577, 1700, 3106, 4459, 4596, 3519, 2231, 1377,  781,
        437,  272,  144,   91,   47,   17,    9,    3,    6]), array([ 0.94649464,  0.94779221,  0.94908979,  0.95038736,  0.95168494,
        0.95298252,  0.95428009,  0.95557767,  0.95687524,  0.95817282,
        0.95947039,  0.96076797,  0.96206554,  0.96336312,  0.96466069,
        0.96595827,  0.96725584,  0.96855342,  0.96985099,  0.97114857,
        0.97244614]))
||Xanchor-Xpos||_2  counter: 
[   2    5   11   41   56   92  136  238  304  441  560  739 1003 1134 1263
 1124  768  275   51    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    0    1    5   10   19   37   72   90  173  343  574 1066
 1723 2188 1476  439   28]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2445507   0.28274611  0.32094151  0.35913691  0.39733231  0.43552771
  0.47372311  0.51191851  0.55011392  0.58830932  0.62650472  0.66470012
  0.70289552  0.74109092  0.77928632  0.81748173  0.85567713  0.89387253
  0.93206793  0.97026333  1.00845873]
distance difference  counter: 
(array([  34,  336, 1043, 1719, 1803, 1279,  819,  470,  303,  185,   83,
         65,   50,   25,   16,    7,    6,    0,    1,    2]), array([ 0.95168602,  0.95325636,  0.9548267 ,  0.95639704,  0.95796738,
        0.95953771,  0.96110805,  0.96267839,  0.96424873,  0.96581907,
        0.9673894 ,  0.96895974,  0.97053008,  0.97210042,  0.97367076,
        0.97524109,  0.97681143,  0.97838177,  0.97995211,  0.98152245,
        0.98309278]))
train/val Accuracy = 0.659792499362 / 0.551600776134 
 with threshold: [[ 0.91487061]]
============ epoch 1 ===========
training loss:		0.255900
||Xanchor-Xpos||_2  counter: 
[   1    6   16   33   98  195  408  731 1288 1997 2804 3498 3905 3614 2647
 1485  584  174   30    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    3    9   24   58  131  176  337  580 1086 1832 3266 4451 4904
 3723 1998  751  154   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.48873672  0.5152145   0.54169229  0.56817008  0.59464786  0.62112565
  0.64760343  0.67408122  0.700559    0.72703679  0.75351457  0.77999236
  0.80647014  0.83294793  0.85942571  0.8859035   0.91238129  0.93885907
  0.96533686  0.99181464  1.01829243]
distance difference  counter: 
(array([  25,  110,  531, 1359, 2776, 4095, 4458, 3782, 2591, 1544,  951,
        526,  326,  179,  122,   84,   34,   15,    8,    2]), array([ 0.95119554,  0.95233536,  0.95347518,  0.954615  ,  0.95575482,
        0.95689464,  0.95803446,  0.95917428,  0.9603141 ,  0.96145391,
        0.96259373,  0.96373355,  0.96487337,  0.96601319,  0.96715301,
        0.96829283,  0.96943265,  0.97057247,  0.97171229,  0.97285211,
        0.97399193]))
||Xanchor-Xpos||_2  counter: 
[   2    6    8   26   71   81  134  214  318  394  604  715  953 1153 1209
 1167  799  319   69    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    1    1    3   17   17   32   60   92  189  280  549  975
 1615 2108 1644  597   64]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22211222  0.25648805  0.29086388  0.32523971  0.35961554  0.39399137
  0.4283672   0.46274303  0.49711886  0.53149469  0.56587052  0.60024635
  0.63462217  0.668998    0.70337383  0.73774966  0.77212549  0.80650132
  0.84087715  0.87525298  0.90962881]
distance difference  counter: 
(array([  63,  411, 1189, 1797, 1654, 1185,  763,  461,  263,  193,   96,
         63,   42,   28,   14,   15,    5,    0,    1,    3]), array([ 0.95623416,  0.95764329,  0.95905243,  0.96046156,  0.96187069,
        0.96327983,  0.96468896,  0.9660981 ,  0.96750723,  0.96891637,
        0.9703255 ,  0.97173463,  0.97314377,  0.9745529 ,  0.97596204,
        0.97737117,  0.97878031,  0.98018944,  0.98159857,  0.98300771,
        0.98441684]))
train/val Accuracy = 0.659282251892 / 0.55372301722 
 with threshold: [[ 0.83047603]]
============ epoch 2 ===========
training loss:		0.247265
||Xanchor-Xpos||_2  counter: 
[   2    4   15   56  115  262  546  991 1622 2433 3256 3810 3819 3189 2021
  969  318   80    9    1]
||Xanchor-Xneg||_2  counter: 
[   0    3    5   22   48   83  142  264  451  771 1455 2458 3882 4781 4495
 2916 1293  388   56    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.45742419  0.4813864   0.5053486   0.52931081  0.55327301  0.57723521
  0.60119742  0.62515962  0.64912183  0.67308403  0.69704624  0.72100844
  0.74497064  0.76893285  0.79289505  0.81685726  0.84081946  0.86478166
  0.88874387  0.91270607  0.93666828]
distance difference  counter: 
(array([   5,   57,  311,  951, 2265, 3803, 4346, 4099, 3019, 1872, 1160,
        665,  388,  256,  130,   97,   50,   29,    9,    6]), array([ 0.95511937,  0.9561562 ,  0.95719302,  0.95822985,  0.95926667,
        0.9603035 ,  0.96134033,  0.96237715,  0.96341398,  0.9644508 ,
        0.96548763,  0.96652445,  0.96756128,  0.96859811,  0.96963493,
        0.97067176,  0.97170858,  0.97274541,  0.97378224,  0.97481906,
        0.97585589]))
||Xanchor-Xpos||_2  counter: 
[  12    8   36   59   94  127  236  300  415  530  717  901 1117 1185 1159
  840  401  103    6    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    3    7   22   38   63   83  171  278  528  928 1489
 2042 1753  736   95    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23761034  0.26826491  0.29891949  0.32957406  0.36022863  0.39088321
  0.42153778  0.45219235  0.48284693  0.5135015   0.54415607  0.57481065
  0.60546522  0.63611979  0.66677437  0.69742894  0.72808352  0.75873809
  0.78939266  0.82004724  0.85070181]
distance difference  counter: 
(array([  12,  117,  817, 1700, 1981, 1456,  939,  526,  284,  183,   89,
         61,   39,   27,    6,    6,    1,    0,    1,    1]), array([ 0.95901304,  0.96044353,  0.96187401,  0.9633045 ,  0.96473498,
        0.96616547,  0.96759595,  0.96902644,  0.97045692,  0.97188741,
        0.97331789,  0.97474838,  0.97617886,  0.97760935,  0.97903983,
        0.98047031,  0.9819008 ,  0.98333128,  0.98476177,  0.98619225,
        0.98762274]))
train/val Accuracy = 0.661004337103 / 0.554632549115 
 with threshold: [[ 0.75471879]]
============ epoch 3 ===========
training loss:		0.240143
||Xanchor-Xpos||_2  counter: 
[   2    4   13   33   99  195  376  757 1365 2058 2887 3548 3927 3553 2520
 1411  573  163   31    3]
||Xanchor-Xneg||_2  counter: 
[   1    3    4    7   22   56  123  196  369  616 1114 1966 3263 4626 4666
 3648 1965  706  143   24]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.40580791  0.42754816  0.44928842  0.47102867  0.49276892  0.51450917
  0.53624942  0.55798967  0.57972993  0.60147018  0.62321043  0.64495068
  0.66669093  0.68843119  0.71017144  0.73191169  0.75365194  0.77539219
  0.79713244  0.8188727   0.84061295]
distance difference  counter: 
(array([  14,  102,  588, 1700, 3346, 4531, 4734, 3543, 2153, 1238,  683,
        407,  229,  133,   69,   27,   11,    5,    3,    2]), array([ 0.95926857,  0.96030007,  0.96133157,  0.96236307,  0.96339457,
        0.96442607,  0.96545757,  0.96648907,  0.96752057,  0.96855207,
        0.96958357,  0.97061507,  0.97164657,  0.97267807,  0.97370957,
        0.97474107,  0.97577257,  0.97680407,  0.97783557,  0.97886707,
        0.97989857]))
||Xanchor-Xpos||_2  counter: 
[   5   21   34   59  109  150  211  329  415  577  721  930 1094 1165 1116
  843  385   78    4    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    4   15   15   43   62   88  189  287  528  968 1540
 2062 1659  684   94    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22299446  0.25047859  0.27796271  0.30544683  0.33293096  0.36041508
  0.38789921  0.41538333  0.44286745  0.47035158  0.4978357   0.52531983
  0.55280395  0.58028808  0.6077722   0.63525632  0.66274045  0.69022457
  0.7177087   0.74519282  0.77267694]
distance difference  counter: 
(array([   7,  133,  777, 1675, 2007, 1483,  936,  528,  284,  183,   90,
         61,   45,   12,   16,    6,    1,    0,    1,    1]), array([ 0.96264756,  0.96395231,  0.96525707,  0.96656182,  0.96786658,
        0.96917133,  0.97047608,  0.97178084,  0.97308559,  0.97439035,
        0.9756951 ,  0.97699986,  0.97830461,  0.97960937,  0.98091412,
        0.98221888,  0.98352363,  0.98482839,  0.98613314,  0.98743789,
        0.98874265]))
train/val Accuracy = 0.659664937495 / 0.554693184574 
 with threshold: [[ 0.68511866]]
============ epoch 4 ===========
training loss:		0.234268
||Xanchor-Xpos||_2  counter: 
[   4   12   21   57  124  221  500  960 1468 2169 2995 3642 3685 3345 2394
 1221  535  143   21    1]
||Xanchor-Xneg||_2  counter: 
[   1    3   10   13   43   72  142  227  418  682 1264 2114 3472 4514 4625
 3373 1792  619  121   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.38025451  0.39940394  0.41855338  0.43770281  0.45685225  0.47600168
  0.49515111  0.51430055  0.53344998  0.55259942  0.57174885  0.59089829
  0.61004772  0.62919716  0.64834659  0.66749603  0.68664546  0.70579489
  0.72494433  0.74409376  0.7632432 ]
distance difference  counter: 
(array([  10,  117,  581, 1714, 3286, 4534, 4555, 3508, 2191, 1299,  735,
        436,  242,  151,   78,   49,   15,   11,    5,    1]), array([ 0.96301913,  0.96392966,  0.96484018,  0.9657507 ,  0.96666123,
        0.96757175,  0.96848227,  0.9693928 ,  0.97030332,  0.97121384,
        0.97212437,  0.97303489,  0.97394542,  0.97485594,  0.97576646,
        0.97667699,  0.97758751,  0.97849803,  0.97940856,  0.98031908,
        0.9812296 ]))
||Xanchor-Xpos||_2  counter: 
[   3   11   19   48   70  119  180  271  389  519  697  880 1086 1211 1217
  941  467  111    7    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    5   11   16   33   46   84  137  256  446  829 1453
 2055 1919  830  118    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18072888  0.20678323  0.23283758  0.25889194  0.28494629  0.31100064
  0.33705499  0.36310934  0.38916369  0.41521804  0.44127239  0.46732674
  0.49338109  0.51943545  0.5454898   0.57154415  0.5975985   0.62365285
  0.6497072   0.67576155  0.7018159 ]
distance difference  counter: 
(array([   2,   99,  713, 1690, 2013, 1543,  953,  515,  300,  168,   96,
         58,   44,   22,   15,    7,    4,    3,    0,    1]), array([ 0.96585661,  0.9670562 ,  0.96825579,  0.96945539,  0.97065498,
        0.97185457,  0.97305416,  0.97425375,  0.97545334,  0.97665293,
        0.97785252,  0.97905211,  0.98025171,  0.9814513 ,  0.98265089,
        0.98385048,  0.98505007,  0.98624966,  0.98744925,  0.98864884,
        0.98984843]))
train/val Accuracy = 0.660536610256 / 0.553298569003 
 with threshold: [[ 0.62268986]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135, 0.67240136705812392, 0.66008162515696167, 0.60530006307242856, 0.65711992405814756, 0.60781844310910871]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.363917
||Xanchor-Xpos||_2  counter: 
[   9  107  803 2178 2401 2364 1951 1862 1791 1581 1587 1373 1371 1239 1069
  861  619  275   70    7]
||Xanchor-Xneg||_2  counter: 
[   1   32  275 1433 2358 2256 2084 1925 1771 1583 1469 1469 1390 1264 1189
 1067  967  681  267   37]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23411453  0.27815358  0.32219263  0.36623169  0.41027074  0.45430979
  0.49834884  0.5423879   0.58642695  0.630466    0.67450505  0.71854411
  0.76258316  0.80662221  0.85066127  0.89470032  0.93873937  0.98277842
  1.02681748  1.07085653  1.11489558]
distance difference  counter: 
(array([  33,  235,  638,  928, 1064, 1160, 1240, 1366, 1447, 1424, 1554,
       1652, 1863, 1967, 2106, 2228, 1929,  586,   88,   10]), array([ 0.94673949,  0.94876253,  0.95078557,  0.9528086 ,  0.95483164,
        0.95685467,  0.95887771,  0.96090074,  0.96292378,  0.96494681,
        0.96696985,  0.96899288,  0.97101592,  0.97303895,  0.97506199,
        0.97708502,  0.97910806,  0.98113109,  0.98315413,  0.98517717,
        0.9872002 ]))
||Xanchor-Xpos||_2  counter: 
[   4    7   19   39   63  116  178  259  371  469  653  789 1020 1166 1220
 1032  616  190   33    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    1    2    8   17   21   39   87  103  214  417  731 1113
 1825 1969 1309  350   37]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.10464722  0.11995767  0.13526812  0.15057858  0.16588903  0.18119948
  0.19650994  0.21182039  0.22713084  0.2424413   0.25775175  0.2730622
  0.28837265  0.30368311  0.31899356  0.33430401  0.34961447  0.36492492
  0.38023537  0.39554582  0.41085628]
distance difference  counter: 
(array([  43,  355, 1269, 1902, 1816, 1122,  748,  448,  244,  109,   89,
         36,   27,   20,    8,    6,    1,    2,    0,    1]), array([ 0.9798184 ,  0.98055009,  0.98128178,  0.98201346,  0.98274515,
        0.98347683,  0.98420852,  0.9849402 ,  0.98567189,  0.98640358,
        0.98713526,  0.98786695,  0.98859863,  0.98933032,  0.990062  ,
        0.99079369,  0.99152538,  0.99225706,  0.99298875,  0.99372043,
        0.99445212]))
train/val Accuracy = 0.528339994898 / 0.5 
 with threshold: [[ 0.63001636]]
============ epoch 1 ===========
training loss:		2.103454
||Xanchor-Xpos||_2  counter: 
[  49  489 1792 2476 2284 2114 1962 1773 1653 1539 1451 1352 1233 1164  945
  670  411  139   21    1]
||Xanchor-Xneg||_2  counter: 
[  11  129  977 2266 2285 2183 1926 1780 1682 1554 1461 1317 1300 1196 1116
 1021  792  420   94    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.09874366  0.11503145  0.13131923  0.14760701  0.1638948   0.18018258
  0.19647036  0.21275815  0.22904593  0.24533371  0.2616215   0.27790928
  0.29419706  0.31048485  0.32677263  0.34306042  0.3593482   0.37563598
  0.39192377  0.40821155  0.42449933]
distance difference  counter: 
(array([   8,   97,  430,  819, 1029, 1131, 1202, 1302, 1342, 1465, 1579,
       1661, 1813, 1937, 2197, 2273, 2205,  901,  116,   11]), array([ 0.97917283,  0.97996927,  0.98076571,  0.98156216,  0.9823586 ,
        0.98315504,  0.98395149,  0.98474793,  0.98554437,  0.98634081,
        0.98713726,  0.9879337 ,  0.98873014,  0.98952659,  0.99032303,
        0.99111947,  0.99191592,  0.99271236,  0.9935088 ,  0.99430525,
        0.99510169]))
||Xanchor-Xpos||_2  counter: 
[  11   14   28   53   79  152  208  292  442  528  665  886 1067 1156 1166
  876  478  129   16    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    0    3    7   28   27   59   85  157  313  454  854 1344
 1889 1792  961  250   21]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04324767  0.04877373  0.05429979  0.05982585  0.06535191  0.07087797
  0.07640403  0.08193009  0.08745615  0.09298221  0.09850827  0.10403433
  0.10956039  0.11508645  0.12061251  0.12613857  0.13166463  0.13719069
  0.14271675  0.14824281  0.15376887]
distance difference  counter: 
(array([  17,  174,  672, 1411, 1765, 1553, 1016,  669,  365,  250,  141,
         77,   58,   31,   19,   22,    3,    1,    0,    2]), array([ 0.99235928,  0.99260759,  0.99285591,  0.99310422,  0.99335253,
        0.99360085,  0.99384916,  0.99409747,  0.99434578,  0.9945941 ,
        0.99484241,  0.99509072,  0.99533904,  0.99558735,  0.99583566,
        0.99608397,  0.99633229,  0.9965806 ,  0.99682891,  0.99707723,
        0.99732554]))
train/val Accuracy = 0.529721915129 / 0.5 
 with threshold: [[ 0.23409047]]
============ epoch 2 ===========
training loss:		2.067492
||Xanchor-Xpos||_2  counter: 
[   3   48  490 1927 2426 2360 2164 1926 1793 1640 1573 1481 1339 1294 1081
  917  592  354  101    9]
||Xanchor-Xneg||_2  counter: 
[   2   15  133 1109 2315 2254 2167 1967 1775 1736 1529 1403 1398 1336 1150
 1127 1007  702  336   57]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03065933  0.03679487  0.0429304   0.04906594  0.05520148  0.06133701
  0.06747255  0.07360809  0.07974362  0.08587916  0.0920147   0.09815024
  0.10428577  0.11042131  0.11655685  0.12269238  0.12882792  0.13496346
  0.14109899  0.14723453  0.15337007]
distance difference  counter: 
(array([  54,  301,  632,  961, 1070, 1096, 1265, 1314, 1305, 1460, 1540,
       1672, 1775, 2010, 2142, 2153, 2036,  645,   75,   12]), array([ 0.99238646,  0.9926778 ,  0.99296915,  0.99326049,  0.99355184,
        0.99384318,  0.99413453,  0.99442587,  0.99471722,  0.99500856,
        0.99529991,  0.99559125,  0.99588259,  0.99617394,  0.99646528,
        0.99675663,  0.99704797,  0.99733932,  0.99763066,  0.99792201,
        0.99821335]))
||Xanchor-Xpos||_2  counter: 
[   6   13   22   52   88  124  200  258  411  506  654  835 1048 1181 1190
  966  529  149   13    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    3    6    9   17   27   48   75  128  255  490  755 1296
 1785 1973 1075  277   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01530803  0.01739571  0.01948339  0.02157107  0.02365875  0.02574643
  0.02783411  0.02992179  0.03200946  0.03409714  0.03618482  0.0382725
  0.04036018  0.04244786  0.04453554  0.04662322  0.0487109   0.05079858
  0.05288625  0.05497393  0.05706161]
distance difference  counter: 
(array([  18,  181,  690, 1455, 1809, 1411, 1028,  610,  448,  240,  136,
         69,   68,   29,   21,   16,    7,    4,    3,    3]), array([ 0.99715394,  0.99724548,  0.99733703,  0.99742857,  0.99752011,
        0.99761166,  0.9977032 ,  0.99779474,  0.99788629,  0.99797783,
        0.99806938,  0.99816092,  0.99825246,  0.99834401,  0.99843555,
        0.99852709,  0.99861864,  0.99871018,  0.99880173,  0.99889327,
        0.99898481]))
train/val Accuracy = 0.52821243303 / 0.5 
 with threshold: [[ 0.08705007]]
============ epoch 3 ===========
training loss:		2.062527
||Xanchor-Xpos||_2  counter: 
[  10  117  822 2169 2436 2238 2015 1877 1790 1639 1496 1404 1336 1269 1061
  867  562  317   80   12]
||Xanchor-Xneg||_2  counter: 
[   1   36  260 1477 2427 2230 1991 1896 1762 1608 1530 1383 1407 1297 1126
 1112  917  667  338   53]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01217274  0.01441871  0.01666467  0.01891064  0.0211566   0.02340257
  0.02564853  0.0278945   0.03014046  0.03238643  0.03463239  0.03687836
  0.03912432  0.04137029  0.04361625  0.04586222  0.04810818  0.05035415
  0.05260011  0.05484608  0.05709204]
distance difference  counter: 
(array([  49,  290,  616,  847, 1041, 1086, 1166, 1291, 1381, 1388, 1495,
       1614, 1712, 1868, 1990, 2227, 2228, 1034,  166,   29]), array([ 0.99715316,  0.99726009,  0.99736702,  0.99747395,  0.99758087,
        0.9976878 ,  0.99779473,  0.99790166,  0.99800858,  0.99811551,
        0.99822244,  0.99832937,  0.9984363 ,  0.99854322,  0.99865015,
        0.99875708,  0.99886401,  0.99897093,  0.99907786,  0.99918479,
        0.99929172]))
||Xanchor-Xpos||_2  counter: 
[   6    7   25   53   83  129  204  292  378  546  641  829 1057 1176 1186
  916  544  153   21    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    4    9   17   34   46   89  122  254  456  753 1293
 1832 1933 1099  275   28]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00570892  0.00648474  0.00726056  0.00803638  0.0088122   0.00958802
  0.01036384  0.01113966  0.01191548  0.0126913   0.01346712  0.01424294
  0.01501876  0.01579458  0.0165704   0.01734622  0.01812204  0.01889786
  0.01967369  0.02044951  0.02122533]
distance difference  counter: 
(array([  28,  283, 1114, 1950, 1832, 1282,  751,  448,  243,  119,   87,
         45,   34,   16,    9,    3,    1,    0,    0,    1]), array([ 0.99893963,  0.99897859,  0.99901755,  0.99905652,  0.99909548,
        0.99913444,  0.9991734 ,  0.99921236,  0.99925132,  0.99929028,
        0.99932924,  0.9993682 ,  0.99940716,  0.99944612,  0.99948508,
        0.99952404,  0.999563  ,  0.99960196,  0.99964092,  0.99967988,
        0.99971884]))
train/val Accuracy = 0.529615613573 / 0.5 
 with threshold: [[ 0.03238509]]
============ epoch 4 ===========
training loss:		2.061842
||Xanchor-Xpos||_2  counter: 
[  48  518 1884 2440 2349 2120 1947 1820 1652 1551 1452 1331 1268 1172  879
  626  346  102   13    0]
||Xanchor-Xneg||_2  counter: 
[  11  141 1001 2363 2336 2027 1998 1788 1696 1589 1479 1362 1293 1175 1109
  959  714  386   81    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00512024  0.00596494  0.00680963  0.00765433  0.00849902  0.00934372
  0.01018842  0.01103311  0.01187781  0.0127225   0.0135672   0.0144119
  0.01525659  0.01610129  0.01694598  0.01779068  0.01863538  0.01948007
  0.02032477  0.02116946  0.02201416]
distance difference  counter: 
(array([   9,   83,  393,  709,  967, 1120, 1182, 1286, 1372, 1497, 1589,
       1703, 1793, 2000, 2038, 2343, 2342,  954,  128,   10]), array([ 0.99890041,  0.99894269,  0.99898497,  0.99902726,  0.99906954,
        0.99911182,  0.9991541 ,  0.99919638,  0.99923866,  0.99928094,
        0.99932322,  0.9993655 ,  0.99940778,  0.99945006,  0.99949234,
        0.99953462,  0.9995769 ,  0.99961918,  0.99966146,  0.99970374,
        0.99974602]))
||Xanchor-Xpos||_2  counter: 
[   6    3   23   44   64  118  189  272  351  522  661  831 1101 1176 1201
  976  534  158   16    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    0    1    9   18   31   36   89  126  258  440  764 1280
 1865 1910 1112  270   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00203028  0.00232637  0.00262247  0.00291857  0.00321467  0.00351076
  0.00380686  0.00410296  0.00439906  0.00469515  0.00499125  0.00528735
  0.00558345  0.00587954  0.00617564  0.00647174  0.00676784  0.00706394
  0.00736003  0.00765613  0.00795223]
distance difference  counter: 
(array([  31,  256, 1051, 1844, 1853, 1332,  795,  459,  277,  143,   94,
         42,   34,   21,    8,    3,    0,    2,    0,    1]), array([ 0.99960256,  0.99961706,  0.99963157,  0.99964607,  0.99966058,
        0.99967508,  0.99968958,  0.99970409,  0.99971859,  0.9997331 ,
        0.9997476 ,  0.99976211,  0.99977661,  0.99979112,  0.99980562,
        0.99982013,  0.99983463,  0.99984914,  0.99986364,  0.99987815,
        0.99989265]))
train/val Accuracy = 0.530997533804 / 0.5 
 with threshold: [[ 0.01206682]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135, 0.67240136705812392, 0.66008162515696167, 0.60530006307242856, 0.65711992405814756, 0.60781844310910871, 0.51549876690194751]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027232
||Xanchor-Xpos||_2  counter: 
[   3    2    6   26   76  154  332  669 1243 1952 2702 3487 3885 3711 2812
 1598  658  161   35    6]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    7   25   42  101  153  296  572  956 1841 3093 4456 4800
 3982 2218  773  184   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.53236294  0.56178793  0.59121292  0.62063791  0.65006289  0.67948788
  0.70891287  0.73833786  0.76776285  0.79718784  0.82661283  0.85603782
  0.88546281  0.9148878   0.94431279  0.97373778  1.00316277  1.03258775
  1.06201274  1.09143773  1.12086272]
distance difference  counter: 
(array([   8,  108,  528, 1670, 3218, 4400, 4545, 3698, 2256, 1370,  767,
        406,  262,  134,   77,   40,   20,    7,    3,    1]), array([ 0.9463203 ,  0.94763672,  0.94895315,  0.95026957,  0.951586  ,
        0.95290242,  0.95421885,  0.95553527,  0.9568517 ,  0.95816812,
        0.95948455,  0.96080097,  0.9621174 ,  0.96343382,  0.96475025,
        0.96606667,  0.9673831 ,  0.96869952,  0.97001595,  0.97133237,
        0.9726488 ]))
||Xanchor-Xpos||_2  counter: 
[   6   12   17   47   73  104  197  254  351  469  593  740  900 1157 1148
 1057  733  309   72    7]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    0   12   22   19   47   65  123  198  359  622 1023
 1556 1904 1560  634   99]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27661943  0.31239656  0.34817368  0.3839508   0.41972792  0.45550504
  0.49128217  0.52705929  0.56283641  0.59861353  0.63439065  0.67016777
  0.7059449   0.74172202  0.77749914  0.81327626  0.84905338  0.8848305
  0.92060763  0.95638475  0.99216187]
distance difference  counter: 
(array([  77,  504, 1329, 1857, 1653, 1096,  710,  420,  237,  151,   86,
         57,   27,   14,   18,    7,    1,    0,    0,    2]), array([ 0.95207715,  0.95372612,  0.95537509,  0.95702406,  0.95867302,
        0.96032199,  0.96197096,  0.96361993,  0.9652689 ,  0.96691787,
        0.96856683,  0.9702158 ,  0.97186477,  0.97351374,  0.97516271,
        0.97681168,  0.97846065,  0.98010961,  0.98175858,  0.98340755,
        0.98505652]))
train/val Accuracy = 0.657772769793 / 0.548265825855 
 with threshold: [[ 0.91554932]]
============ epoch 1 ===========
training loss:		0.026190
||Xanchor-Xpos||_2  counter: 
[   2    6   18   46   99  216  488  903 1455 2298 3111 3753 3885 3385 2273
 1081  391   97   10    0]
||Xanchor-Xneg||_2  counter: 
[   0    2    8   12   27   63  124  244  396  722 1243 2285 3756 4794 4523
 3199 1587  452   72    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.49834305  0.52489053  0.551438    0.57798548  0.60453296  0.63108043
  0.65762791  0.68417539  0.71072286  0.73727034  0.76381782  0.79036529
  0.81691277  0.84346025  0.87000772  0.8965552   0.92310268  0.94965015
  0.97619763  1.00274511  1.02929258]
distance difference  counter: 
(array([  11,   65,  382, 1300, 2792, 4023, 4584, 4013, 2683, 1532,  915,
        505,  315,  201,   94,   57,   24,   13,    7,    2]), array([ 0.95079046,  0.95197068,  0.9531509 ,  0.95433111,  0.95551133,
        0.95669155,  0.95787176,  0.95905198,  0.9602322 ,  0.96141241,
        0.96259263,  0.96377285,  0.96495306,  0.96613328,  0.9673135 ,
        0.96849371,  0.96967393,  0.97085415,  0.97203436,  0.97321458,
        0.9743948 ]))
||Xanchor-Xpos||_2  counter: 
[   4   18   28   58   72  121  201  262  353  472  588  765  965 1028 1088
 1098  723  314   76   12]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    2    3   11   17   26   54   83  126  196  346  601  966
 1488 1854 1628  708  135]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26299843  0.29466337  0.3263283   0.35799324  0.38965818  0.42132311
  0.45298805  0.48465299  0.51631792  0.54798286  0.57964779  0.61131273
  0.64297767  0.6746426   0.70630754  0.73797248  0.76963741  0.80130235
  0.83296728  0.86463222  0.89629716]
distance difference  counter: 
(array([  90,  522, 1451, 1858, 1593, 1068,  671,  405,  221,  146,   94,
         62,   28,   13,   14,    5,    3,    0,    1,    1]), array([ 0.956397  ,  0.95790285,  0.95940871,  0.96091457,  0.96242043,
        0.96392629,  0.96543214,  0.966938  ,  0.96844386,  0.96994972,
        0.97145557,  0.97296143,  0.97446729,  0.97597315,  0.977479  ,
        0.97898486,  0.98049072,  0.98199658,  0.98350244,  0.98500829,
        0.98651415]))
train/val Accuracy = 0.660451569011 / 0.546204220228 
 with threshold: [[ 0.83240447]]
============ epoch 2 ===========
training loss:		0.025331
||Xanchor-Xpos||_2  counter: 
[   1    1    5   15   48  134  273  610 1157 1952 2871 3739 4241 3923 2721
 1320  414   86    7    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    4   18   39   67  140  315  555 1038 1906 3496 5053 5168
 3629 1579  445   55    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.41672638  0.4430655   0.46940463  0.49574375  0.52208288  0.548422
  0.57476113  0.60110025  0.62743937  0.6537785   0.68011762  0.70645675
  0.73279587  0.75913499  0.78547412  0.81181324  0.83815237  0.86449149
  0.89083062  0.91716974  0.94350886]
distance difference  counter: 
(array([   8,   43,  303, 1084, 2616, 4289, 4799, 4084, 2707, 1550,  902,
        503,  306,  158,   84,   42,   22,   12,    4,    2]), array([ 0.95476216,  0.95588791,  0.95701367,  0.95813942,  0.95926517,
        0.96039093,  0.96151668,  0.96264243,  0.96376818,  0.96489394,
        0.96601969,  0.96714544,  0.9682712 ,  0.96939695,  0.9705227 ,
        0.97164845,  0.97277421,  0.97389996,  0.97502571,  0.97615147,
        0.97727722]))
||Xanchor-Xpos||_2  counter: 
[   5    6   15   50   72  118  166  253  343  466  604  772  956 1171 1122
 1086  720  271   45    5]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    0    1    6   16   24   49   63  127  205  398  597 1068
 1685 1960 1511  483   51]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2171175   0.24758276  0.27804802  0.30851327  0.33897853  0.36944379
  0.39990904  0.4303743   0.46083955  0.49130481  0.52177007  0.55223532
  0.58270058  0.61316584  0.64363109  0.67409635  0.70456161  0.73502686
  0.76549212  0.79595738  0.82642263]
distance difference  counter: 
(array([  52,  428, 1298, 1831, 1680, 1189,  675,  442,  262,  159,  101,
         49,   36,   21,   14,    6,    1,    0,    0,    2]), array([ 0.96004307,  0.96141464,  0.9627862 ,  0.96415776,  0.96552932,
        0.96690089,  0.96827245,  0.96964401,  0.97101557,  0.97238714,
        0.9737587 ,  0.97513026,  0.97650182,  0.97787338,  0.97924495,
        0.98061651,  0.98198807,  0.98335963,  0.9847312 ,  0.98610276,
        0.98747432]))
train/val Accuracy = 0.659728718428 / 0.547780742178 
 with threshold: [[ 0.75627461]]
============ epoch 3 ===========
training loss:		0.024622
||Xanchor-Xpos||_2  counter: 
[   5   12   19   55  126  225  518  896 1499 2182 2928 3622 3740 3323 2362
 1332  511  126   34    3]
||Xanchor-Xneg||_2  counter: 
[   2    0    5   16   27   84  123  239  389  681 1244 2074 3441 4486 4509
 3530 1847  652  154   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.42032632  0.44137292  0.46241951  0.48346611  0.5045127   0.5255593
  0.54660589  0.56765249  0.58869908  0.60974568  0.63079228  0.65183887
  0.67288547  0.69393206  0.71497866  0.73602525  0.75707185  0.77811844
  0.79916504  0.82021163  0.84125823]
distance difference  counter: 
(array([   7,   84,  424, 1356, 2825, 4194, 4554, 3869, 2592, 1552,  878,
        509,  299,  177,  105,   59,   16,   11,    5,    2]), array([ 0.95912403,  0.96010677,  0.96108952,  0.96207226,  0.963055  ,
        0.96403775,  0.96502049,  0.96600323,  0.96698598,  0.96796872,
        0.96895146,  0.96993421,  0.97091695,  0.97189969,  0.97288244,
        0.97386518,  0.97484792,  0.97583067,  0.97681341,  0.97779616,
        0.9787789 ]))
||Xanchor-Xpos||_2  counter: 
[   4    4   20   34   70  121  146  276  326  459  565  753  895 1131 1180
 1040  769  352   90   11]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    2    2    6   20   22   40   57  112  181  353  524  962
 1538 1934 1675  708  108]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19730368  0.22461959  0.2519355   0.2792514   0.30656731  0.33388322
  0.36119913  0.38851503  0.41583094  0.44314685  0.47046275  0.49777866
  0.52509457  0.55241048  0.57972638  0.60704229  0.6343582   0.6616741
  0.68899001  0.71630592  0.74362183]
distance difference  counter: 
(array([  30,  351, 1041, 1777, 1670, 1272,  830,  465,  348,  177,  112,
         56,   49,   26,   18,   14,    4,    2,    1,    3]), array([ 0.96351069,  0.96470709,  0.96590348,  0.96709987,  0.96829627,
        0.96949266,  0.97068905,  0.97188545,  0.97308184,  0.97427823,
        0.97547463,  0.97667102,  0.97786741,  0.97906381,  0.9802602 ,
        0.98145659,  0.98265299,  0.98384938,  0.98504577,  0.98624217,
        0.98743856]))
train/val Accuracy = 0.661387022706 / 0.54584040747 
 with threshold: [[ 0.68751705]]
============ epoch 4 ===========
training loss:		0.024037
||Xanchor-Xpos||_2  counter: 
[   4   13   18   74  167  353  588 1148 1823 2547 3356 3865 3776 2798 1842
  843  252   46    5    0]
||Xanchor-Xneg||_2  counter: 
[   0    7    9   21   52   92  159  301  520  909 1572 2801 4093 4864 4237
 2528 1054  262   33    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.38569129  0.40532303  0.42495477  0.44458651  0.46421825  0.48384999
  0.50348173  0.52311347  0.54274521  0.56237695  0.58200869  0.60164043
  0.62127217  0.64090391  0.66053565  0.68016739  0.69979913  0.71943087
  0.73906261  0.75869435  0.77832609]
distance difference  counter: 
(array([   3,   31,  209,  850, 2052, 3592, 4519, 4192, 3239, 2027, 1163,
        686,  395,  250,  142,   83,   48,   20,    9,    8]), array([ 0.9623915 ,  0.96327263,  0.96415377,  0.9650349 ,  0.96591604,
        0.96679717,  0.96767831,  0.96855944,  0.96944058,  0.97032171,
        0.97120285,  0.97208399,  0.97296512,  0.97384626,  0.97472739,
        0.97560853,  0.97648966,  0.9773708 ,  0.97825193,  0.97913307,
        0.9800142 ]))
||Xanchor-Xpos||_2  counter: 
[   3    6   21   40   79  108  155  266  340  513  585  824  958 1135 1200
 1048  663  245   52    5]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    2    9   17   20   47   82  117  217  384  674 1083
 1698 1901 1470  474   48]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17930852  0.20455781  0.22980711  0.2550564   0.2803057   0.30555499
  0.33080428  0.35605358  0.38130287  0.40655217  0.43180146  0.45705075
  0.48230005  0.50754934  0.53279864  0.55804793  0.58329723  0.60854652
  0.63379581  0.65904511  0.6842944 ]
distance difference  counter: 
(array([  20,  300, 1090, 1770, 1758, 1285,  850,  467,  304,  153,   99,
         67,   36,   18,   16,    8,    2,    1,    1,    1]), array([ 0.96645206,  0.96761595,  0.96877983,  0.96994372,  0.9711076 ,
        0.97227149,  0.97343537,  0.97459926,  0.97576314,  0.97692703,
        0.97809091,  0.9792548 ,  0.98041868,  0.98158257,  0.98274645,
        0.98391034,  0.98507422,  0.98623811,  0.98740199,  0.98856588,
        0.98972976]))
train/val Accuracy = 0.660749213368 / 0.547902013097 
 with threshold: [[ 0.62489568]]
untile now, the train_val_mean_acc: [0.66349386643887798, 0.65672759319436547, 0.60226671735452131, 0.65930247832216571, 0.60429127857789589, 0.60797838531241377, 0.61873659783083568, 0.63022288448146202, 0.61004302297019097, 0.6708851582855182, 0.66624898981293335, 0.60606164423895481, 0.66043692966495016, 0.60494644474483783, 0.51839016923207759, 0.61215403058890061, 0.60953565541378274, 0.61157512927847135, 0.67240136705812392, 0.66008162515696167, 0.60530006307242856, 0.65711992405814756, 0.60781844310910871, 0.51549876690194751, 0.60432561323287148]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.236911
||Xanchor-Xpos||_2  counter: 
[   7  156  971 2362 2461 2184 2086 1932 1734 1634 1526 1456 1371 1146 1031
  787  444  200   29    1]
||Xanchor-Xneg||_2  counter: 
[   3   37  373 1739 2441 2234 2029 1908 1788 1616 1515 1475 1332 1283 1190
 1013  842  525  166    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23963885  0.28463168  0.3296245   0.37461733  0.41961015  0.46460298
  0.50959581  0.55458863  0.59958146  0.64457429  0.68956711  0.73455994
  0.77955276  0.82454559  0.86953842  0.91453124  0.95952407  1.00451689
  1.04950972  1.09450255  1.13949537]
distance difference  counter: 
(array([   5,  123,  459,  816,  944, 1163, 1253, 1332, 1399, 1493, 1563,
       1674, 1825, 1953, 2070, 2220, 2257,  827,  128,   14]), array([ 0.94547105,  0.94753621,  0.94960137,  0.95166653,  0.95373169,
        0.95579685,  0.95786201,  0.95992717,  0.96199234,  0.9640575 ,
        0.96612266,  0.96818782,  0.97025298,  0.97231814,  0.9743833 ,
        0.97644846,  0.97851362,  0.98057878,  0.98264394,  0.9847091 ,
        0.98677427]))
||Xanchor-Xpos||_2  counter: 
[   6    9   26   39   77  108  186  263  342  494  631  843 1025 1191 1180
 1029  594  175   26    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    4    2    5   17   34   31   63  149  237  381  706 1224
 1704 2012 1267  375   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11095642  0.12611578  0.14127513  0.15643448  0.17159383  0.18675319
  0.20191254  0.21707189  0.23223124  0.2473906   0.26254995  0.2777093
  0.29286865  0.30802801  0.32318736  0.33834671  0.35350606  0.36866542
  0.38382477  0.39898412  0.41414347]
distance difference  counter: 
(array([  23,  261,  958, 1791, 1741, 1401,  857,  502,  287,  185,  108,
         50,   28,   28,   16,    3,    2,    4,    0,    1]), array([ 0.97954422,  0.98024644,  0.98094866,  0.98165087,  0.98235309,
        0.98305531,  0.98375753,  0.98445974,  0.98516196,  0.98586418,
        0.98656639,  0.98726861,  0.98797083,  0.98867305,  0.98937526,
        0.99007748,  0.9907797 ,  0.99148192,  0.99218413,  0.99288635,
        0.99358857]))
train/val Accuracy = 0.529424270771 / 0.5 
 with threshold: [[ 0.63227701]]
============ epoch 1 ===========
training loss:		0.210866
||Xanchor-Xpos||_2  counter: 
[  16  226 1197 2317 2345 2180 1974 1846 1705 1515 1477 1343 1351 1213  990
  892  562  286   74    9]
||Xanchor-Xneg||_2  counter: 
[   7   65  452 1886 2291 2199 1932 1869 1647 1625 1495 1345 1293 1238 1143
 1036  980  680  296   39]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.09419372  0.11019183  0.12618995  0.14218806  0.15818617  0.17418429
  0.1901824   0.20618051  0.22217863  0.23817674  0.25417485  0.27017297
  0.28617108  0.3021692   0.31816731  0.33416542  0.35016354  0.36616165
  0.38215976  0.39815788  0.41415599]
distance difference  counter: 
(array([  39,  293,  666,  970, 1024, 1122, 1212, 1274, 1351, 1446, 1560,
       1650, 1769, 1881, 2081, 2222, 2122,  700,  125,   11]), array([ 0.97967911,  0.98044733,  0.98121556,  0.98198379,  0.98275201,
        0.98352024,  0.98428847,  0.98505669,  0.98582492,  0.98659315,
        0.98736137,  0.9881296 ,  0.98889782,  0.98966605,  0.99043428,
        0.9912025 ,  0.99197073,  0.99273896,  0.99350718,  0.99427541,
        0.99504364]))
||Xanchor-Xpos||_2  counter: 
[   4    7   17   40   72  120  178  257  377  489  665  840 1081 1208 1249
  941  542  135   22    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    4    5   13   23   42   74  137  246  415  801 1273
 1855 1941 1125  277   14]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04042732  0.0461818   0.05193628  0.05769076  0.06344524  0.06919972
  0.0749542   0.08070868  0.08646316  0.09221764  0.09797212  0.1037266
  0.10948108  0.11523556  0.12099004  0.12674452  0.132499    0.13825348
  0.14400796  0.14976244  0.15551692]
distance difference  counter: 
(array([  11,   94,  497, 1190, 1616, 1546, 1167,  781,  533,  287,  208,
        121,   78,   40,   35,   17,   12,    6,    4,    3]), array([ 0.99226272,  0.99249437,  0.99272602,  0.99295767,  0.99318932,
        0.99342097,  0.99365262,  0.99388427,  0.99411592,  0.99434758,
        0.99457923,  0.99481088,  0.99504253,  0.99527418,  0.99550583,
        0.99573748,  0.99596913,  0.99620078,  0.99643243,  0.99666408,
        0.99689573]))
train/val Accuracy = 0.530657368824 / 0.5 
 with threshold: [[ 0.23523707]]
============ epoch 2 ===========

---------------- start ----------------
Fr 30. Sep 19:11:46 CEST 2016
max threads: 4
max memory: 28000 MB
time limit: 36 hours
gpu device id: 0
.VGGface_MVS-train.sh.1  1
---------------------------------------

This is VGGface_MVS-train5.py
Using gpu device 0: GeForce GTX TITAN X (CNMeM is enabled with initial size: 95.0% of memory, cuDNN 5103)
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
VGGface_MVS-train5.py:239: UserWarning: The parameter 'updates' of theano.function() expects an OrderedDict, got <type 'dict'>. Using a standard dictionary here results in non-deterministic behavior. You should use an OrderedDict if you are using Python 2.7 (theano.compat.OrderedDict for older python), or use a list of (shared, update) pairs. Do not just convert your dictionary to this type before the call as the conversion will still be non-deterministic.
  get_dist_from_feature_embed(feature_embed), updates=updates)
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019494
||Xanchor-Xpos||_2  counter: 
[  22   99  202  339  508  659  894 1139 1426 1648 1820 2195 2463 2543 2592
 2373 1778  700  111    7]
||Xanchor-Xneg||_2  counter: 
[   9   34   52   95  139  170  213  229  330  388  579  777 1098 1548 2331
 3571 4855 4597 2263  240]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19084492  0.24101065  0.29117638  0.34134211  0.39150784  0.44167357
  0.4918393   0.54200503  0.59217076  0.64233649  0.69250222  0.74266794
  0.79283367  0.8429994   0.89316513  0.94333086  0.99349659  1.04366232
  1.09382805  1.14399378  1.19415951]
distance difference  counter: 
(array([  15,  111,  273,  604, 1027, 1516, 2058, 2495, 2968, 3325, 3476,
       3280, 1484,  551,  195,   76,   36,   22,    4,    2]), array([-1.09027517, -0.97798013, -0.86568509, -0.75339006, -0.64109502,
       -0.52879998, -0.41650494, -0.30420991, -0.19191487, -0.07961983,
        0.03267521,  0.14497024,  0.25726528,  0.36956032,  0.48185536,
        0.59415039,  0.70644543,  0.81874047,  0.93103551,  1.04333054,
        1.15562558]))
||Xanchor-Xpos||_2  counter: 
[   7    6   31   72   92  136  231  311  405  498  674  853  921 1061 1022
  951  648  264   57    6]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    4    5   11   21   43   47   94  137  239  427  609  932
 1370 1804 1681  711  110]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27921516  0.32372378  0.3682324   0.41274102  0.45724964  0.50175826
  0.54626688  0.5907755   0.63528413  0.67979275  0.72430137  0.76880999
  0.81331861  0.85782723  0.90233585  0.94684447  0.99135309  1.03586172
  1.08037034  1.12487896  1.16938758]
distance difference  counter: 
(array([   5,   23,   69,  133,  223,  313,  496,  652,  798,  977, 1134,
       1162, 1027,  694,  324,  138,   48,   19,   10,    1]), array([-0.9455716 , -0.85674698, -0.76792235, -0.67909773, -0.59027311,
       -0.50144848, -0.41262386, -0.32379923, -0.23497461, -0.14614999,
       -0.05732536,  0.03149926,  0.12032388,  0.20914851,  0.29797313,
        0.38679776,  0.47562238,  0.564447  ,  0.65327163,  0.74209625,
        0.83092088]))
train/val Accuracy = 0.715515775151 / 0.707494542809 
 with threshold: [[ 0.88038809]]
============ epoch 1 ===========
training loss:		0.019476
||Xanchor-Xpos||_2  counter: 
[  27   91  186  332  489  710  947 1132 1405 1751 1890 2204 2345 2555 2597
 2382 1690  682   98    5]
||Xanchor-Xneg||_2  counter: 
[   7   32   60   86  143  154  203  261  322  434  554  786 1073 1576 2396
 3637 4878 4597 2148  171]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18853676  0.2389318   0.28932683  0.33972187  0.39011691  0.44051194
  0.49090698  0.54130201  0.59169705  0.64209208  0.69248712  0.74288216
  0.79327719  0.84367223  0.89406726  0.9444623   0.99485734  1.04525237
  1.09564741  1.14604244  1.19643748]
distance difference  counter: 
(array([  11,   95,  258,  626, 1016, 1557, 2129, 2600, 2976, 3330, 3567,
       3230, 1359,  462,  154,   80,   43,   15,    5,    5]), array([-1.10014963, -0.98629751, -0.87244538, -0.75859326, -0.64474113,
       -0.530889  , -0.41703688, -0.30318475, -0.18933263, -0.0754805 ,
        0.03837162,  0.15222375,  0.26607587,  0.379928  ,  0.49378012,
        0.60763225,  0.72148437,  0.8353365 ,  0.94918863,  1.06304075,
        1.17689288]))
||Xanchor-Xpos||_2  counter: 
[   6   16   36   66  106  160  255  337  443  534  658  848  931 1082 1048
  890  547  236   45    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    4   14   27   32   68   91  161  251  429  691 1027
 1458 1793 1530  589   78]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29481363  0.33873279  0.38265195  0.42657111  0.47049026  0.51440942
  0.55832858  0.60224774  0.6461669   0.69008605  0.73400521  0.77792437
  0.82184353  0.86576269  0.90968184  0.953601    0.99752016  1.04143932
  1.08535848  1.12927763  1.17319679]
distance difference  counter: 
(array([  10,   21,   77,  138,  233,  368,  504,  687,  763, 1046, 1126,
       1174,  982,  636,  310,  109,   40,   15,    4,    3]), array([-0.92492467, -0.8367915 , -0.74865833, -0.66052516, -0.57239199,
       -0.48425882, -0.39612564, -0.30799247, -0.2198593 , -0.13172613,
       -0.04359296,  0.04454021,  0.13267338,  0.22080655,  0.30893973,
        0.3970729 ,  0.48520607,  0.57333924,  0.66147241,  0.74960558,
        0.83773875]))
train/val Accuracy = 0.716281146356 / 0.708100897405 
 with threshold: [[ 0.87912682]]
============ epoch 2 ===========
training loss:		0.019459
||Xanchor-Xpos||_2  counter: 
[  25   99  189  338  497  677  915 1148 1426 1685 1888 2178 2437 2594 2628
 2378 1652  662   99    3]
||Xanchor-Xneg||_2  counter: 
[   7   37   54   91  138  186  191  263  320  423  569  777 1143 1558 2397
 3640 4905 4557 2087  175]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1903647   0.24065615  0.2909476   0.34123905  0.3915305   0.44182195
  0.4921134   0.54240485  0.5926963   0.64298775  0.6932792   0.74357065
  0.7938621   0.84415355  0.894445    0.94473645  0.9950279   1.04531935
  1.0956108   1.14590225  1.1961937 ]
distance difference  counter: 
(array([  19,  110,  294,  657,  998, 1545, 2123, 2604, 2999, 3255, 3482,
       3234, 1395,  488,  177,   73,   39,   16,    6,    4]), array([-1.0777874 , -0.96593292, -0.85407845, -0.74222397, -0.6303695 ,
       -0.51851502, -0.40666054, -0.29480607, -0.18295159, -0.07109712,
        0.04075736,  0.15261183,  0.26446631,  0.37632079,  0.48817526,
        0.60002974,  0.71188421,  0.82373869,  0.93559316,  1.04744764,
        1.15930212]))
||Xanchor-Xpos||_2  counter: 
[   7   11   33   52   93  123  219  329  405  526  644  801  961 1019 1078
  945  623  299   72    6]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    4    7   25   35   43   90  148  225  409  623  901
 1378 1802 1654  780  120]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27868304  0.32296533  0.36724761  0.4115299   0.45581219  0.50009448
  0.54437677  0.58865906  0.63294135  0.67722364  0.72150593  0.76578821
  0.8100705   0.85435279  0.89863508  0.94291737  0.98719966  1.03148195
  1.07576424  1.12004652  1.16432881]
distance difference  counter: 
(array([   1,   27,   51,  120,  220,  363,  527,  726,  914, 1053, 1242,
       1287,  924,  500,  184,   70,   27,    7,    1,    2]), array([-0.97885138, -0.88368587, -0.78852037, -0.69335487, -0.59818937,
       -0.50302386, -0.40785836, -0.31269286, -0.21752735, -0.12236185,
       -0.02719635,  0.06796916,  0.16313466,  0.25830016,  0.35346566,
        0.44863117,  0.54379667,  0.63896217,  0.73412768,  0.82929318,
        0.92445868]))
train/val Accuracy = 0.71413385492 / 0.710950764007 
 with threshold: [[ 0.87880516]]
============ epoch 3 ===========
training loss:		0.019441
||Xanchor-Xpos||_2  counter: 
[  21   81  176  331  485  665  885 1157 1354 1661 1912 2143 2447 2617 2688
 2412 1682  684  114    3]
||Xanchor-Xneg||_2  counter: 
[   6   22   64   90  131  172  197  248  324  412  560  752 1059 1567 2402
 3612 4909 4628 2174  189]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18279344  0.23336649  0.28393955  0.3345126   0.38508565  0.43565871
  0.48623176  0.53680482  0.58737787  0.63795092  0.68852398  0.73909703
  0.78967009  0.84024314  0.89081619  0.94138925  0.9919623   1.04253536
  1.09310841  1.14368146  1.19425452]
distance difference  counter: 
(array([  29,  133,  331,  676, 1076, 1552, 2037, 2576, 2958, 3273, 3366,
       3264, 1444,  475,  174,   80,   47,   15,    8,    4]), array([-1.0494132 , -0.94042361, -0.83143401, -0.72244442, -0.61345482,
       -0.50446522, -0.39547563, -0.28648603, -0.17749643, -0.06850684,
        0.04048276,  0.14947236,  0.25846195,  0.36745155,  0.47644114,
        0.58543074,  0.69442034,  0.80340993,  0.91239953,  1.02138913,
        1.13037872]))
||Xanchor-Xpos||_2  counter: 
[   3   12   39   58   87  156  243  343  431  513  704  858  958 1053 1096
  866  581  204   40    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    5    4   16   16   36   54   98  151  273  469  656 1014
 1527 1820 1539  505   62]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28261536  0.32731932  0.37202328  0.41672724  0.46143119  0.50613515
  0.55083911  0.59554307  0.64024702  0.68495098  0.72965494  0.7743589
  0.81906285  0.86376681  0.90847077  0.95317473  0.99787868  1.04258264
  1.0872866   1.13199055  1.17669451]
distance difference  counter: 
(array([   5,   24,   53,  135,  259,  353,  549,  744,  946, 1080, 1246,
       1185,  887,  493,  178,   75,   25,    6,    2,    1]), array([-0.95879346, -0.86470299, -0.77061253, -0.67652206, -0.58243159,
       -0.48834112, -0.39425066, -0.30016019, -0.20606972, -0.11197925,
       -0.01788878,  0.07620168,  0.17029215,  0.26438262,  0.35847309,
        0.45256355,  0.54665402,  0.64074449,  0.73483496,  0.82892542,
        0.92301589]))
train/val Accuracy = 0.715366952972 / 0.709071064759 
 with threshold: [[ 0.87834987]]
============ epoch 4 ===========
training loss:		0.019424
||Xanchor-Xpos||_2  counter: 
[  20   92  194  315  497  687  924 1142 1359 1729 1897 2075 2429 2499 2569
 2440 1753  777  114    6]
||Xanchor-Xneg||_2  counter: 
[   6   32   56   84  138  178  198  256  315  418  559  759 1021 1562 2323
 3463 4800 4698 2380  272]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.190034    0.23989935  0.2897647   0.33963005  0.3894954   0.43936075
  0.48922609  0.53909144  0.58895679  0.63882214  0.68868749  0.73855284
  0.78841819  0.83828353  0.88814888  0.93801423  0.98787958  1.03774493
  1.08761028  1.13747563  1.18734097]
distance difference  counter: 
(array([  22,  106,  311,  628, 1010, 1460, 2052, 2491, 2881, 3205, 3321,
       3403, 1674,  592,  205,   78,   37,   28,    9,    5]), array([-1.06611621, -0.95693427, -0.84775233, -0.73857039, -0.62938845,
       -0.52020651, -0.41102457, -0.30184263, -0.19266069, -0.08347875,
        0.02570319,  0.13488513,  0.24406707,  0.35324901,  0.46243095,
        0.57161289,  0.68079484,  0.78997678,  0.89915872,  1.00834066,
        1.1175226 ]))
||Xanchor-Xpos||_2  counter: 
[   5   13   31   60  100  154  226  306  465  533  676  841  950 1093 1058
  887  583  219   44    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    3    6   16   16   38   55   88  172  258  428  655 1012
 1449 1832 1558  586   73]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28234497  0.32684299  0.371341    0.41583902  0.46033704  0.50483506
  0.54933308  0.5938311   0.63832912  0.68282714  0.72732516  0.77182318
  0.81632119  0.86081921  0.90531723  0.94981525  0.99431327  1.03881129
  1.08330931  1.12780733  1.17230535]
distance difference  counter: 
(array([  10,   26,   75,  140,  222,  343,  478,  654,  757,  974, 1042,
       1140, 1013,  732,  357,  178,   62,   32,    9,    2]), array([-0.90494055, -0.82038057, -0.73582059, -0.65126061, -0.56670064,
       -0.48214066, -0.39758068, -0.31302071, -0.22846073, -0.14390075,
       -0.05934078,  0.0252192 ,  0.10977918,  0.19433916,  0.27889913,
        0.36345911,  0.44801909,  0.53257906,  0.61713904,  0.70169902,
        0.786259  ]))
train/val Accuracy = 0.715430733906 / 0.710708222168 
 with threshold: [[ 0.87687927]]
untile now, the train_val_mean_acc: [0.71306947803713427]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.193798
||Xanchor-Xpos||_2  counter: 
[  21   91  188  323  447  649  916 1115 1418 1663 1874 2154 2325 2589 2633
 2390 1809  786  125    2]
||Xanchor-Xneg||_2  counter: 
[   4   29   49   95  139  156  193  238  325  439  508  790 1012 1549 2176
 3538 4776 4811 2432  259]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1832705   0.23343485  0.2835992   0.33376355  0.38392791  0.43409226
  0.48425661  0.53442096  0.58458531  0.63474966  0.68491402  0.73507837
  0.78524272  0.83540707  0.88557142  0.93573577  0.98590012  1.03606448
  1.08622883  1.13639318  1.18655753]
distance difference  counter: 
(array([   5,   79,  258,  585, 1042, 1582, 2061, 2592, 3032, 3425, 3584,
       3139, 1399,  453,  146,   71,   47,   11,    4,    3]), array([-1.09334314, -0.97998341, -0.86662369, -0.75326396, -0.63990424,
       -0.52654451, -0.41318479, -0.29982506, -0.18646533, -0.07310561,
        0.04025412,  0.15361384,  0.26697357,  0.38033329,  0.49369302,
        0.60705274,  0.72041247,  0.83377219,  0.94713192,  1.06049165,
        1.17385137]))
||Xanchor-Xpos||_2  counter: 
[   9   11   31   49   99  166  226  294  436  557  705  825  980 1083 1034
  922  561  213   38    7]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    2    9   11   17   40   62  100  140  250  437  684 1046
 1499 1826 1556  513   51]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28144053  0.32569191  0.3699433   0.41419469  0.45844607  0.50269746
  0.54694885  0.59120023  0.63545162  0.67970301  0.72395439  0.76820578
  0.81245717  0.85670855  0.90095994  0.94521133  0.98946272  1.0337141
  1.07796549  1.12221688  1.16646826]
distance difference  counter: 
(array([   2,   21,   56,  143,  269,  437,  679,  866, 1127, 1289, 1350,
       1069,  609,  224,   66,   29,    8,    1,    0,    1]), array([-0.95799357, -0.85802635, -0.75805914, -0.65809192, -0.55812471,
       -0.45815749, -0.35819028, -0.25822307, -0.15825585, -0.05828864,
        0.04167858,  0.14164579,  0.24161301,  0.34158022,  0.44154744,
        0.54151465,  0.64148186,  0.74144908,  0.84141629,  0.94138351,
        1.04135072]))
train/val Accuracy = 0.71413385492 / 0.714225078826 
 with threshold: [[ 0.87631075]]
============ epoch 1 ===========
training loss:		0.192074
||Xanchor-Xpos||_2  counter: 
[  23   85  182  312  512  705  933 1204 1480 1646 2012 2218 2481 2699 2621
 2277 1563  505   60    0]
||Xanchor-Xneg||_2  counter: 
[   3   35   48   95  130  177  198  288  329  432  585  816 1157 1651 2685
 3903 5102 4492 1336   56]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17941816  0.23018174  0.28094531  0.33170888  0.38247246  0.43323603
  0.4839996   0.53476318  0.58552675  0.63629032  0.6870539   0.73781747
  0.78858104  0.83934462  0.89010819  0.94087176  0.99163534  1.04239891
  1.09316248  1.14392606  1.19468963]
distance difference  counter: 
(array([  26,  149,  427,  765, 1261, 1784, 2236, 2800, 3113, 3356, 3647,
       2504,  918,  319,  105,   62,   31,   10,    3,    2]), array([-1.01051366, -0.90085557, -0.79119748, -0.68153939, -0.57188129,
       -0.4622232 , -0.35256511, -0.24290702, -0.13324893, -0.02359083,
        0.08606726,  0.19572535,  0.30538344,  0.41504154,  0.52469963,
        0.63435772,  0.74401581,  0.85367391,  0.963332  ,  1.07299009,
        1.18264818]))
||Xanchor-Xpos||_2  counter: 
[   7   12   49   66  112  170  251  355  452  553  661  821  977 1093 1067
  814  521  214   47    4]
||Xanchor-Xneg||_2  counter: 
[   1    2    0    5   12   13   20   40   66   97  179  277  436  727 1037
 1472 1875 1464  471   52]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29535738  0.33835683  0.38135629  0.42435575  0.4673552   0.51035466
  0.55335412  0.59635357  0.63935303  0.68235249  0.72535194  0.7683514
  0.81135086  0.85435032  0.89734977  0.94034923  0.98334869  1.02634814
  1.0693476   1.11234706  1.15534651]
distance difference  counter: 
(array([   7,   23,   72,  173,  320,  483,  634,  903, 1115, 1306, 1353,
       1030,  538,  187,   70,   21,    7,    1,    1,    2]), array([-0.90960354, -0.81285927, -0.716115  , -0.61937074, -0.52262647,
       -0.42588221, -0.32913794, -0.23239367, -0.13564941, -0.03890514,
        0.05783913,  0.15458339,  0.25132766,  0.34807192,  0.44481619,
        0.54156046,  0.63830472,  0.73504899,  0.83179325,  0.92853752,
        1.02528179]))
train/val Accuracy = 0.716366187601 / 0.710283773951 
 with threshold: [[ 0.86810367]]
============ epoch 2 ===========
training loss:		0.190382
||Xanchor-Xpos||_2  counter: 
[  23   78  198  317  480  668  881 1114 1406 1666 1943 2183 2409 2578 2639
 2367 1763  701  103    1]
||Xanchor-Xneg||_2  counter: 
[   6   24   58   90  139  156  201  254  333  394  556  815 1063 1533 2387
 3531 4915 4747 2140  176]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18032007  0.22973889  0.27915771  0.32857654  0.37799536  0.42741418
  0.47683301  0.52625183  0.57567065  0.62508947  0.6745083   0.72392712
  0.77334594  0.82276476  0.87218359  0.92160241  0.97102123  1.02044005
  1.06985888  1.1192777   1.16869652]
distance difference  counter: 
(array([  13,  131,  329,  627, 1104, 1636, 2143, 2591, 3010, 3249, 3614,
       3013, 1317,  457,  148,   69,   39,   17,    8,    3]), array([-1.00758696, -0.90133049, -0.79507402, -0.68881755, -0.58256109,
       -0.47630462, -0.37004815, -0.26379169, -0.15753522, -0.05127875,
        0.05497772,  0.16123418,  0.26749065,  0.37374712,  0.48000358,
        0.58626005,  0.69251652,  0.79877298,  0.90502945,  1.01128592,
        1.11754239]))
||Xanchor-Xpos||_2  counter: 
[   8   11   31   67  124  181  228  349  439  541  723  842  975 1131  982
  901  481  197   33    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    3   11   11   21   38   69   99  168  268  488  724 1098
 1581 1823 1394  406   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29029959  0.33319983  0.37610007  0.41900031  0.46190054  0.50480078
  0.54770102  0.59060126  0.63350149  0.67640173  0.71930197  0.76220221
  0.80510244  0.84800268  0.89090292  0.93380316  0.97670339  1.01960363
  1.06250387  1.10540411  1.14830434]
distance difference  counter: 
(array([   3,    9,   37,   94,  155,  292,  443,  602,  781,  905, 1158,
       1189, 1090,  804,  433,  155,   60,   24,   10,    2]), array([-0.91448766, -0.8297101 , -0.74493254, -0.66015499, -0.57537743,
       -0.49059987, -0.40582231, -0.32104475, -0.2362672 , -0.15148964,
       -0.06671208,  0.01806548,  0.10284303,  0.18762059,  0.27239815,
        0.35717571,  0.44195327,  0.52673082,  0.61150838,  0.69628594,
        0.7810635 ]))
train/val Accuracy = 0.715281911727 / 0.712709192336 
 with threshold: [[ 0.85997107]]
============ epoch 3 ===========
training loss:		0.188723
||Xanchor-Xpos||_2  counter: 
[  22   90  193  338  481  697  874 1159 1445 1645 1964 2234 2463 2630 2648
 2289 1628  643   73    2]
||Xanchor-Xneg||_2  counter: 
[   4   33   54   95  145  167  209  255  322  415  571  792 1107 1587 2467
 3690 4931 4748 1805  121]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17818031  0.22742534  0.27667038  0.32591542  0.37516046  0.42440549
  0.47365053  0.52289557  0.5721406   0.62138564  0.67063068  0.71987572
  0.76912075  0.81836579  0.86761083  0.91685586  0.9661009   1.01534594
  1.06459098  1.11383601  1.16308105]
distance difference  counter: 
(array([  27,  146,  339,  718, 1144, 1675, 2139, 2554, 2955, 3271, 3531,
       2987, 1303,  440,  144,   80,   38,   14,    7,    6]), array([-0.96910685, -0.86611352, -0.76312018, -0.66012684, -0.55713351,
       -0.45414017, -0.35114684, -0.2481535 , -0.14516016, -0.04216683,
        0.06082651,  0.16381985,  0.26681318,  0.36980652,  0.47279986,
        0.57579319,  0.67878653,  0.78177986,  0.8847732 ,  0.98776654,
        1.09075987]))
||Xanchor-Xpos||_2  counter: 
[   6   13   38   65  111  150  256  304  425  531  677  850  986 1084 1055
  890  552  203   44    6]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    0    8   10   20   33   62  103  162  267  435  726 1037
 1520 1872 1477  461   51]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27564591  0.31863241  0.36161891  0.4046054   0.4475919   0.4905784
  0.5335649   0.57655139  0.61953789  0.66252439  0.70551088  0.74849738
  0.79148388  0.83447038  0.87745687  0.92044337  0.96342987  1.00641637
  1.04940286  1.09238936  1.13537586]
distance difference  counter: 
(array([  12,   26,   76,  138,  242,  352,  523,  733,  864, 1054, 1167,
       1185,  928,  547,  253,   81,   43,   14,    7,    1]), array([-0.83965808, -0.75671805, -0.67377803, -0.590838  , -0.50789797,
       -0.42495795, -0.34201792, -0.25907789, -0.17613786, -0.09319784,
       -0.01025781,  0.07268222,  0.15562224,  0.23856227,  0.3215023 ,
        0.40444233,  0.48738235,  0.57032238,  0.65326241,  0.73620243,
        0.81914246]))
train/val Accuracy = 0.716663831958 / 0.711253941305 
 with threshold: [[ 0.85129836]]
============ epoch 4 ===========
training loss:		0.187095
||Xanchor-Xpos||_2  counter: 
[  25   85  174  323  481  716  930 1149 1376 1701 1939 2219 2428 2564 2641
 2299 1711  669   87    1]
||Xanchor-Xneg||_2  counter: 
[   5   28   53   99  146  157  207  256  315  425  575  780 1088 1557 2386
 3648 4908 4748 1990  147]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17595188  0.22462422  0.27329656  0.3219689   0.37064124  0.41931358
  0.46798592  0.51665826  0.5653306   0.61400294  0.66267528  0.71134762
  0.76001996  0.8086923   0.85736464  0.90603698  0.95470932  1.00338166
  1.052054    1.10072634  1.14939868]
distance difference  counter: 
(array([  27,  172,  424,  775, 1307, 1866, 2395, 2784, 3192, 3468, 3608,
       2241,  815,  247,  105,   51,   30,    9,    1,    1]), array([ -9.43169296e-01,  -8.38406041e-01,  -7.33642787e-01,
        -6.28879532e-01,  -5.24116278e-01,  -4.19353023e-01,
        -3.14589769e-01,  -2.09826514e-01,  -1.05063260e-01,
        -3.00005078e-04,   1.04463249e-01,   2.09226504e-01,
         3.13989758e-01,   4.18753013e-01,   5.23516268e-01,
         6.28279522e-01,   7.33042777e-01,   8.37806031e-01,
         9.42569286e-01,   1.04733254e+00,   1.15209579e+00]))
||Xanchor-Xpos||_2  counter: 
[   6   19   32   75  119  168  244  333  439  539  679  817  962 1030 1045
  874  585  228   49    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2   11   11   21   38   56  120  133  272  440  692 1030
 1468 1772 1549  570   59]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28478098  0.32644795  0.36811492  0.4097819   0.45144887  0.49311584
  0.53478281  0.57644979  0.61811676  0.65978373  0.70145071  0.74311768
  0.78478465  0.82645162  0.8681186   0.90978557  0.95145254  0.99311951
  1.03478649  1.07645346  1.11812043]
distance difference  counter: 
(array([   4,   26,   41,  101,  193,  327,  457,  642,  788,  934, 1106,
       1189, 1109,  693,  386,  169,   50,   25,    2,    4]), array([-0.84844238, -0.76794738, -0.68745238, -0.60695738, -0.52646238,
       -0.44596738, -0.36547238, -0.28497738, -0.20448238, -0.12398738,
       -0.04349238,  0.03700262,  0.11749762,  0.19799262,  0.27848762,
        0.35898262,  0.43947762,  0.51997262,  0.60046762,  0.68096262,
        0.76145762]))
train/val Accuracy = 0.716472489157 / 0.710344409411 
 with threshold: [[ 0.84280199]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.867666
||Xanchor-Xpos||_2  counter: 
[  21  112  226  356  566  796 1037 1296 1612 1909 2195 2470 2603 2787 2477
 1887  905  240   23    0]
||Xanchor-Xneg||_2  counter: 
[   7   35   65  108  143  184  230  290  388  530  697 1039 1491 2252 3473
 4724 4852 2506  482   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17975497  0.23078759  0.2818202   0.33285282  0.38388543  0.43491805
  0.48595066  0.53698328  0.58801589  0.6390485   0.69008112  0.74111373
  0.79214635  0.84317896  0.89421158  0.94524419  0.99627681  1.04730942
  1.09834204  1.14937465  1.20040727]
distance difference  counter: 
(array([  24,   86,  249,  603,  953, 1513, 2054, 2561, 3007, 3281, 3511,
       3379, 1467,  516,  173,   67,   43,   18,   10,    3]), array([-1.00424373, -0.8994197 , -0.79459567, -0.68977164, -0.58494761,
       -0.48012358, -0.37529955, -0.27047552, -0.16565149, -0.06082746,
        0.04399657,  0.1488206 ,  0.25364463,  0.35846866,  0.46329269,
        0.56811672,  0.67294075,  0.77776479,  0.88258882,  0.98741285,
        1.09223688]))
||Xanchor-Xpos||_2  counter: 
[   7   11   32   72  118  149  240  350  411  547  696  871 1002 1095 1042
  859  518  194   30    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    5   16   24   26   64  108  171  270  508  657 1096
 1623 1930 1317  392   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26222393  0.30304718  0.34387043  0.38469369  0.42551694  0.46634019
  0.50716344  0.5479867   0.58880995  0.6296332   0.67045645  0.71127971
  0.75210296  0.79292621  0.83374946  0.87457272  0.91539597  0.95621922
  0.99704247  1.03786573  1.07868898]
distance difference  counter: 
(array([   4,   15,   58,  105,  209,  327,  466,  655,  746,  946, 1137,
       1166, 1042,  727,  387,  162,   54,   29,    8,    3]), array([-0.74482107, -0.67229334, -0.5997656 , -0.52723786, -0.45471013,
       -0.38218239, -0.30965465, -0.23712692, -0.16459918, -0.09207144,
       -0.01954371,  0.05298403,  0.12551177,  0.1980395 ,  0.27056724,
        0.34309497,  0.41562271,  0.48815045,  0.56067818,  0.63320592,
        0.70573366]))
train/val Accuracy = 0.71379368994 / 0.731203007519 
 with threshold: [[ 0.844983]]
============ epoch 1 ===========
training loss:		1.721096
||Xanchor-Xpos||_2  counter: 
[  26   87  186  343  525  689  941 1237 1546 1784 2019 2297 2579 2725 2620
 2145 1233  466   66    4]
||Xanchor-Xneg||_2  counter: 
[   4   26   64   98  133  183  206  280  344  451  646  901 1246 1947 2955
 4299 5030 3428 1173  104]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15593167  0.20165018  0.24736869  0.2930872   0.33880571  0.38452422
  0.43024273  0.47596124  0.52167976  0.56739827  0.61311678  0.65883529
  0.7045538   0.75027231  0.79599082  0.84170933  0.88742785  0.93314636
  0.97886487  1.02458338  1.07030189]
distance difference  counter: 
(array([   4,   43,  165,  420,  812, 1333, 1919, 2576, 3037, 3363, 3663,
       3637, 1669,  552,  180,   82,   38,   13,   11,    1]), array([-0.85240906, -0.76169456, -0.67098006, -0.58026556, -0.48955106,
       -0.39883655, -0.30812205, -0.21740755, -0.12669305, -0.03597854,
        0.05473596,  0.14545046,  0.23616496,  0.32687947,  0.41759397,
        0.50830847,  0.59902297,  0.68973747,  0.78045198,  0.87116648,
        0.96188098]))
||Xanchor-Xpos||_2  counter: 
[   7   15   34   68  104  160  267  354  438  588  692  818 1024 1082 1049
  863  497  157   28    1]
||Xanchor-Xneg||_2  counter: 
[   1    2    0    3    5   16   22   40   57  110  176  279  499  724 1146
 1686 1904 1230  319   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23815611  0.27547315  0.31279019  0.35010723  0.38742427  0.42474131
  0.46205834  0.49937538  0.53669242  0.57400946  0.6113265   0.64864354
  0.68596058  0.72327762  0.76059466  0.7979117   0.83522874  0.87254577
  0.90986281  0.94717985  0.98449689]
distance difference  counter: 
(array([  11,   40,  106,  211,  337,  536,  692,  890, 1101, 1234, 1258,
        943,  576,  207,   61,   29,    9,    3,    1,    1]), array([-0.54813492, -0.48278251, -0.4174301 , -0.35207768, -0.28672527,
       -0.22137286, -0.15602044, -0.09066803, -0.02531562,  0.04003679,
        0.10538921,  0.17074162,  0.23609403,  0.30144645,  0.36679886,
        0.43215127,  0.49750369,  0.5628561 ,  0.62820851,  0.69356093,
        0.75891334]))
train/val Accuracy = 0.714580321456 / 0.727322338103 
 with threshold: [[ 0.76770453]]
============ epoch 2 ===========
training loss:		1.600204
||Xanchor-Xpos||_2  counter: 
[  17   84  202  345  526  700  935 1236 1433 1825 2011 2355 2510 2601 2646
 2197 1335  489   71    0]
||Xanchor-Xneg||_2  counter: 
[   3   32   57   96  143  182  221  241  380  449  646  846 1285 1846 2928
 4166 4933 3642 1301  121]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.14594418  0.18703448  0.22812478  0.26921508  0.31030538  0.35139568
  0.39248598  0.43357628  0.47466658  0.51575688  0.55684718  0.59793749
  0.63902779  0.68011809  0.72120839  0.76229869  0.80338899  0.84447929
  0.88556959  0.92665989  0.96775019]
distance difference  counter: 
(array([  13,   53,  215,  516,  964, 1448, 2066, 2688, 3135, 3407, 3732,
       3297, 1308,  430,  125,   74,   28,   11,    7,    1]), array([-0.64530027, -0.57087252, -0.49644478, -0.42201703, -0.34758929,
       -0.27316155, -0.1987338 , -0.12430606, -0.04987831,  0.02454943,
        0.09897718,  0.17340492,  0.24783267,  0.32226041,  0.39668816,
        0.4711159 ,  0.54554365,  0.61997139,  0.69439914,  0.76882688,
        0.84325463]))
||Xanchor-Xpos||_2  counter: 
[   6    8   27   60   99  151  266  319  422  536  716  895 1011 1063 1051
  905  504  176   31    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    7   16   19   35   64  104  154  280  492  712 1103
 1664 1954 1265  343   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20950778  0.24369276  0.27787774  0.31206273  0.34624771  0.38043269
  0.41461767  0.44880266  0.48298764  0.51717262  0.5513576   0.58554259
  0.61972757  0.65391255  0.68809754  0.72228252  0.7564675   0.79065248
  0.82483747  0.85902245  0.89320743]
distance difference  counter: 
(array([   3,    8,   41,  101,  164,  307,  454,  581,  768,  915, 1126,
       1216, 1100,  772,  398,  182,   67,   27,   14,    2]), array([-0.45904833, -0.40889464, -0.35874095, -0.30858726, -0.25843357,
       -0.20827988, -0.15812619, -0.1079725 , -0.05781881, -0.00766512,
        0.04248857,  0.09264227,  0.14279596,  0.19294965,  0.24310334,
        0.29325703,  0.34341072,  0.39356441,  0.4437181 ,  0.49387179,
        0.54402548]))
train/val Accuracy = 0.713092099668 / 0.728049963619 
 with threshold: [[ 0.69730969]]
============ epoch 3 ===========
training loss:		1.500491
||Xanchor-Xpos||_2  counter: 
[  22   84  176  327  487  707  911 1262 1425 1767 1985 2253 2524 2654 2623
 2201 1416  587  100    7]
||Xanchor-Xneg||_2  counter: 
[   6   27   49   93  135  173  216  274  325  443  622  827 1203 1777 2770
 4049 4882 3912 1534  201]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.129483    0.16673065  0.2039783   0.24122594  0.27847359  0.31572124
  0.35296889  0.39021654  0.42746418  0.46471183  0.50195948  0.53920713
  0.57645478  0.61370242  0.65095007  0.68819772  0.72544537  0.76269302
  0.79994067  0.83718831  0.87443596]
distance difference  counter: 
(array([  22,   96,  331,  670, 1125, 1788, 2305, 2829, 3272, 3629, 3821,
       2386,  813,  255,   95,   52,   19,    6,    2,    2]), array([-0.4760077 , -0.41419506, -0.35238242, -0.29056978, -0.22875714,
       -0.1669445 , -0.10513186, -0.04331923,  0.01849341,  0.08030605,
        0.14211869,  0.20393133,  0.26574397,  0.32755661,  0.38936925,
        0.45118189,  0.51299453,  0.57480717,  0.63661981,  0.69843245,
        0.76024508]))
||Xanchor-Xpos||_2  counter: 
[   4   11   32   62  117  164  265  337  433  567  754  841 1038 1059 1024
  856  488  175   19    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    0    8    9   31   30   67  102  165  299  475  758 1128
 1651 1884 1270  340   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19645128  0.22719455  0.25793782  0.28868109  0.31942436  0.35016762
  0.38091089  0.41165416  0.44239743  0.4731407   0.50388397  0.53462724
  0.56537051  0.59611378  0.62685705  0.65760032  0.68834359  0.71908686
  0.74983013  0.7805734   0.81131667]
distance difference  counter: 
(array([   2,   13,   36,  102,  164,  249,  410,  649,  711,  894, 1063,
       1133, 1156,  825,  502,  211,   87,   27,    9,    3]), array([-0.34369737, -0.30306962, -0.26244187, -0.22181413, -0.18118638,
       -0.14055863, -0.09993088, -0.05930313, -0.01867539,  0.02195236,
        0.06258011,  0.10320786,  0.1438356 ,  0.18446335,  0.2250911 ,
        0.26571885,  0.3063466 ,  0.34697434,  0.38760209,  0.42822984,
        0.46885759]))
train/val Accuracy = 0.714048813675 / 0.729202037351 
 with threshold: [[ 0.63323529]]
============ epoch 4 ===========
training loss:		1.418247
||Xanchor-Xpos||_2  counter: 
[  16   73  191  317  537  723  899 1255 1491 1768 2052 2381 2422 2739 2575
 2163 1326  507   81    2]
||Xanchor-Xneg||_2  counter: 
[   2   29   54   92  147  166  217  270  352  456  631  913 1244 1863 2939
 4178 5022 3554 1259  130]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11403828  0.14838231  0.18272635  0.21707038  0.25141441  0.28575845
  0.32010248  0.35444651  0.38879054  0.42313458  0.45747861  0.49182264
  0.52616667  0.56051071  0.59485474  0.62919877  0.66354281  0.69788684
  0.73223087  0.7665749   0.80091894]
distance difference  counter: 
(array([   1,   21,   96,  302,  581, 1045, 1621, 2170, 2676, 3126, 3273,
       3576, 3121, 1228,  418,  133,   80,   30,   11,    9]), array([-0.40571779, -0.35643277, -0.30714775, -0.25786273, -0.2085777 ,
       -0.15929268, -0.11000766, -0.06072264, -0.01143762,  0.0378474 ,
        0.08713242,  0.13641745,  0.18570247,  0.23498749,  0.28427251,
        0.33355753,  0.38284255,  0.43212757,  0.4814126 ,  0.53069762,
        0.57998264]))
||Xanchor-Xpos||_2  counter: 
[   8   11   39   65  104  164  260  360  434  587  727  896 1013 1062  997
  862  481  152   23    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    3    9   15   21   43   62  119  162  294  509  751 1179
 1685 1810 1247  303   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18109827  0.20893311  0.23676795  0.26460279  0.29243762  0.32027246
  0.3481073   0.37594214  0.40377698  0.43161182  0.45944666  0.4872815
  0.51511634  0.54295118  0.57078602  0.59862086  0.6264557   0.65429054
  0.68212538  0.70996022  0.73779505]
distance difference  counter: 
(array([   6,   27,   85,  172,  304,  466,  673,  808, 1026, 1220, 1254,
       1105,  655,  274,  109,   46,   12,    3,    0,    1]), array([-0.2300512 , -0.19345104, -0.15685088, -0.12025072, -0.08365055,
       -0.04705039, -0.01045023,  0.02614994,  0.0627501 ,  0.09935026,
        0.13595042,  0.17255059,  0.20915075,  0.24575091,  0.28235108,
        0.31895124,  0.3555514 ,  0.39215156,  0.42875173,  0.46535189,
        0.50195205]))
train/val Accuracy = 0.712029084106 / 0.727625515401 
 with threshold: [[ 0.57488973]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019417
||Xanchor-Xpos||_2  counter: 
[  22   97  198  322  495  688  913 1162 1400 1637 1953 2101 2421 2592 2659
 2440 1677  643   97    1]
||Xanchor-Xneg||_2  counter: 
[   6   29   60   95  149  163  201  253  340  396  546  810 1050 1562 2351
 3663 4791 4600 2253  200]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18908161  0.23926814  0.28945468  0.33964122  0.38982775  0.44001429
  0.49020082  0.54038736  0.59057389  0.64076043  0.69094697  0.7411335
  0.79132004  0.84150657  0.89169311  0.94187964  0.99206618  1.04225272
  1.09243925  1.14262579  1.19281232]
distance difference  counter: 
(array([  10,   95,  246,  507,  975, 1517, 1977, 2566, 2949, 3342, 3547,
       3393, 1566,  505,  179,   82,   36,   19,    5,    2]), array([-1.10624909, -0.99309815, -0.87994721, -0.76679627, -0.65364532,
       -0.54049438, -0.42734344, -0.3141925 , -0.20104156, -0.08789061,
        0.02526033,  0.13841127,  0.25156221,  0.36471316,  0.4778641 ,
        0.59101504,  0.70416598,  0.81731693,  0.93046787,  1.04361881,
        1.15676975]))
||Xanchor-Xpos||_2  counter: 
[   2   12   29   76  109  162  252  385  487  616  771  927 1150 1138 1063
  719  284   59    5    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    6   17   23   41   84   99  199  340  608  964 1391
 1988 1741  676   65    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26991579  0.31708923  0.36426267  0.41143612  0.45860956  0.505783
  0.55295644  0.60012988  0.64730332  0.69447677  0.74165021  0.78882365
  0.83599709  0.88317053  0.93034398  0.97751742  1.02469086  1.0718643
  1.11903774  1.16621119  1.21338463]
distance difference  counter: 
(array([   8,   29,   70,  158,  247,  305,  457,  641,  769,  930, 1079,
       1078, 1041,  757,  401,  176,   54,   29,   14,    3]), array([-0.88151854, -0.79886437, -0.7162102 , -0.63355603, -0.55090185,
       -0.46824768, -0.38559351, -0.30293934, -0.22028517, -0.13763099,
       -0.05497682,  0.02767735,  0.11033152,  0.1929857 ,  0.27563987,
        0.35829404,  0.44094821,  0.52360238,  0.60625656,  0.68891073,
        0.7715649 ]))
train/val Accuracy = 0.714771664257 / 0.712648556876 
 with threshold: [[ 0.87785054]]
============ epoch 1 ===========
training loss:		0.019245
||Xanchor-Xpos||_2  counter: 
[  23   99  207  342  524  731  989 1214 1526 1779 1968 2312 2502 2631 2664
 2281 1336  375   15    0]
||Xanchor-Xneg||_2  counter: 
[   8   32   61   97  151  178  214  278  360  412  630  850 1195 1831 2741
 4151 5066 4094 1136   33]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18714182  0.23797594  0.28881005  0.33964417  0.39047829  0.44131241
  0.49214652  0.54298064  0.59381476  0.64464887  0.69548299  0.74631711
  0.79715123  0.84798534  0.89881946  0.94965358  1.00048769  1.05132181
  1.10215593  1.15299005  1.20382416]
distance difference  counter: 
(array([   2,   42,  154,  423,  827, 1317, 2023, 2504, 2906, 3411, 3629,
       3683, 1730,  556,  169,   78,   39,   18,    4,    3]), array([-1.15096033, -1.03499723, -0.91903414, -0.80307104, -0.68710794,
       -0.57114485, -0.45518175, -0.33921866, -0.22325556, -0.10729247,
        0.00867063,  0.12463372,  0.24059682,  0.35655991,  0.47252301,
        0.58848611,  0.7044492 ,  0.8204123 ,  0.93637539,  1.05233849,
        1.16830158]))
||Xanchor-Xpos||_2  counter: 
[   8   21   43   65  114  139  269  343  445  557  737  869 1056 1085 1032
  827  472  142   22    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2    7   14   30   52   53  107  166  286  523  729 1185
 1615 1942 1222  291   21]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28726977  0.33141421  0.37555864  0.41970308  0.46384752  0.50799195
  0.55213639  0.59628083  0.64042526  0.6845697   0.72871414  0.77285857
  0.81700301  0.86114745  0.90529189  0.94943632  0.99358076  1.0377252
  1.08186963  1.12601407  1.17015851]
distance difference  counter: 
(array([   9,   38,   86,  198,  301,  481,  632,  861, 1110, 1216, 1264,
       1090,  588,  233,   93,   33,    9,    3,    0,    1]), array([-0.88486189, -0.79140578, -0.69794967, -0.60449356, -0.51103745,
       -0.41758133, -0.32412522, -0.23066911, -0.137213  , -0.04375689,
        0.04969922,  0.14315533,  0.23661144,  0.33006755,  0.42352366,
        0.51697977,  0.61043588,  0.70389199,  0.7973481 ,  0.89080421,
        0.98426032]))
train/val Accuracy = 0.716812654137 / 0.712284744118 
 with threshold: [[ 0.86943352]]
============ epoch 2 ===========
training loss:		0.019076
||Xanchor-Xpos||_2  counter: 
[  18  101  194  341  515  727  956 1208 1480 1784 2013 2269 2490 2638 2663
 2250 1455  389   27    0]
||Xanchor-Xneg||_2  counter: 
[   5   30   63  102  133  183  200  263  362  451  595  837 1148 1769 2658
 4130 4977 4240 1309   63]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.184126    0.23435744  0.28458887  0.33482031  0.38505174  0.43528317
  0.48551461  0.53574604  0.58597747  0.63620891  0.68644034  0.73667177
  0.78690321  0.83713464  0.88736608  0.93759751  0.98782894  1.03806038
  1.08829181  1.13852324  1.18875468]
distance difference  counter: 
(array([   4,   35,  178,  414,  792, 1360, 1888, 2471, 2891, 3364, 3597,
       3706, 1878,  580,  206,   80,   49,   19,    3,    3]), array([-1.12239563, -1.00969644, -0.89699724, -0.78429804, -0.67159884,
       -0.55889964, -0.44620044, -0.33350124, -0.22080204, -0.10810285,
        0.00459635,  0.11729555,  0.22999475,  0.34269395,  0.45539315,
        0.56809235,  0.68079154,  0.79349074,  0.90618994,  1.01888914,
        1.13158834]))
||Xanchor-Xpos||_2  counter: 
[   7   12   34   80  120  184  318  379  475  636  770  966 1144 1115 1028
  671  260   44    3    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    3   10   16   21   55   73  130  213  363  616  942 1526
 1938 1673  610   52    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27927783  0.3249209   0.37056397  0.41620705  0.46185012  0.50749319
  0.55313626  0.59877933  0.64442241  0.69006548  0.73570855  0.78135162
  0.82699469  0.87263777  0.91828084  0.96392391  1.00956698  1.05521005
  1.10085312  1.1464962   1.19213927]
distance difference  counter: 
(array([  20,   56,  117,  230,  324,  475,  623,  754,  940, 1115, 1188,
       1042,  729,  375,  179,   44,   26,    7,    0,    2]), array([-0.80207795, -0.71859927, -0.63512058, -0.5516419 , -0.46816322,
       -0.38468453, -0.30120585, -0.21772717, -0.13424848, -0.0507698 ,
        0.03270888,  0.11618757,  0.19966625,  0.28314493,  0.36662362,
        0.4501023 ,  0.53358098,  0.61705967,  0.70053835,  0.78401703,
        0.86749572]))
train/val Accuracy = 0.71838591717 / 0.71355808877 
 with threshold: [[ 0.86135059]]
============ epoch 3 ===========
training loss:		0.018911
||Xanchor-Xpos||_2  counter: 
[  26  112  219  402  510  775  990 1249 1506 1787 2074 2286 2523 2653 2647
 2141 1308  296   14    0]
||Xanchor-Xneg||_2  counter: 
[  15   33   65   95  156  204  211  285  344  442  650  859 1284 1834 2780
 4233 4995 3954 1039   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19095221  0.24061228  0.29027235  0.33993241  0.38959248  0.43925255
  0.48891262  0.53857268  0.58823275  0.63789282  0.68755288  0.73721295
  0.78687302  0.83653309  0.88619315  0.93585322  0.98551329  1.03517336
  1.08483342  1.13449349  1.18415356]
distance difference  counter: 
(array([   5,   39,  157,  396,  780, 1308, 1862, 2536, 2995, 3293, 3618,
       3678, 1890,  612,  202,   80,   40,   18,    5,    4]), array([-1.11233056, -1.00036135, -0.88839215, -0.77642295, -0.66445374,
       -0.55248454, -0.44051534, -0.32854614, -0.21657693, -0.10460773,
        0.00736147,  0.11933067,  0.23129988,  0.34326908,  0.45523828,
        0.56720749,  0.67917669,  0.79114589,  0.90311509,  1.0150843 ,
        1.1270535 ]))
||Xanchor-Xpos||_2  counter: 
[  11   17   32   72  109  159  260  382  474  631  769  936 1021 1144 1017
  740  387   77    8    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    4   10   11   24   37   72  124  202  329  529  897 1315
 1845 1830  889  121    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27722916  0.32167962  0.36613007  0.41058053  0.45503099  0.49948145
  0.5439319   0.58838236  0.63283282  0.67728328  0.72173373  0.76618419
  0.81063465  0.85508511  0.89953556  0.94398602  0.98843648  1.03288694
  1.07733739  1.12178785  1.16623831]
distance difference  counter: 
(array([   1,    4,   34,   58,  159,  258,  398,  590,  764,  957, 1136,
       1229, 1158,  825,  418,  180,   48,   21,    5,    3]), array([-0.94521183, -0.85810958, -0.77100732, -0.68390507, -0.59680282,
       -0.50970057, -0.42259831, -0.33549606, -0.24839381, -0.16129156,
       -0.07418931,  0.01291295,  0.1000152 ,  0.18711745,  0.2742197 ,
        0.36132196,  0.44842421,  0.53552646,  0.62262871,  0.70973096,
        0.79683322]))
train/val Accuracy = 0.716727612892 / 0.712224108659 
 with threshold: [[ 0.85347739]]
============ epoch 4 ===========
training loss:		0.018748
||Xanchor-Xpos||_2  counter: 
[  37  117  218  376  567  787  980 1286 1536 1757 2113 2341 2572 2647 2621
 2073 1215  264   11    0]
||Xanchor-Xneg||_2  counter: 
[   9   38   69  111  148  184  197  296  379  463  641  867 1325 1878 3001
 4250 5032 3692  908   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19017589  0.23953632  0.28889674  0.33825716  0.38761759  0.43697801
  0.48633844  0.53569886  0.58505929  0.63441971  0.68378013  0.73314056
  0.78250098  0.83186141  0.88122183  0.93058226  0.97994268  1.0293031
  1.07866353  1.12802395  1.17738438]
distance difference  counter: 
(array([   5,   45,  190,  439,  837, 1422, 1985, 2637, 3077, 3472, 3765,
       3474, 1435,  469,  142,   67,   37,   16,    2,    2]), array([-1.08366036, -0.97203063, -0.8604009 , -0.74877117, -0.63714144,
       -0.52551171, -0.41388198, -0.30225225, -0.19062252, -0.07899279,
        0.03263694,  0.14426667,  0.2558964 ,  0.36752613,  0.47915586,
        0.59078559,  0.70241532,  0.81404505,  0.92567478,  1.03730451,
        1.14893425]))
||Xanchor-Xpos||_2  counter: 
[   9   28   45   95  128  210  291  412  511  642  773 1007 1086 1118  976
  620  249   44    2    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    2    3   11   15   33   56   85  136  223  388  652 1016 1450
 1939 1589  591   53    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28948     0.33344483  0.37740965  0.42137448  0.4653393   0.50930413
  0.55326895  0.59723378  0.64119861  0.68516343  0.72912826  0.77309308
  0.81705791  0.86102273  0.90498756  0.94895238  0.99291721  1.03688204
  1.08084686  1.12481169  1.16877651]
distance difference  counter: 
(array([   5,   28,   59,  111,  200,  292,  408,  572,  654,  920,  975,
       1095, 1096,  877,  506,  274,  104,   46,   18,    6]), array([-0.82800525, -0.75206071, -0.67611617, -0.60017163, -0.52422709,
       -0.44828255, -0.37233801, -0.29639347, -0.22044894, -0.1445044 ,
       -0.06855986,  0.00738468,  0.08332922,  0.15927376,  0.2352183 ,
        0.31116284,  0.38710738,  0.46305192,  0.53899646,  0.614941  ,
        0.69088554]))
train/val Accuracy = 0.718492218726 / 0.713194276013 
 with threshold: [[ 0.84535911]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.186749
||Xanchor-Xpos||_2  counter: 
[  27  111  251  357  563  828 1027 1280 1587 1925 2114 2368 2702 2676 2540
 1875  988  262   36    1]
||Xanchor-Xneg||_2  counter: 
[  10   39   69  107  155  177  220  306  381  490  701  970 1454 2173 3327
 4526 4767 2810  794   42]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18826789  0.23830533  0.28834277  0.33838021  0.38841765  0.43845509
  0.48849253  0.53852997  0.58856741  0.63860485  0.68864229  0.73867973
  0.78871717  0.83875462  0.88879206  0.9388295   0.98886694  1.03890438
  1.08894182  1.13897926  1.1890167 ]
distance difference  counter: 
(array([  22,   97,  269,  557,  958, 1472, 2002, 2504, 2917, 3261, 3555,
       3321, 1692,  537,  202,   73,   52,   16,    9,    2]), array([-1.00162578, -0.89796312, -0.79430047, -0.69063782, -0.58697517,
       -0.48331252, -0.37964987, -0.27598721, -0.17232456, -0.06866191,
        0.03500074,  0.13866339,  0.24232605,  0.3459887 ,  0.44965135,
        0.553314  ,  0.65697665,  0.7606393 ,  0.86430196,  0.96796461,
        1.07162726]))
||Xanchor-Xpos||_2  counter: 
[   4   11   26   47  108  157  226  347  430  545  695  830 1024 1111 1090
  864  542  158   31    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    2    4    8   19   36   66  100  158  256  472  729 1122
 1605 1937 1314  382   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24871249  0.29038354  0.33205459  0.37372563  0.41539668  0.45706772
  0.49873877  0.54040982  0.58208086  0.62375191  0.66542295  0.707094
  0.74876505  0.79043609  0.83210714  0.87377818  0.91544923  0.95712027
  0.99879132  1.04046237  1.08213341]
distance difference  counter: 
(array([  14,   36,   81,  163,  266,  407,  520,  746,  878, 1030, 1118,
       1195,  867,  551,  230,   97,   27,   15,    2,    3]), array([-0.7090081 , -0.63619639, -0.56338469, -0.49057298, -0.41776128,
       -0.34494957, -0.27213787, -0.19932616, -0.12651446, -0.05370275,
        0.01910895,  0.09192066,  0.16473236,  0.23754407,  0.31035577,
        0.38316748,  0.45597918,  0.52879089,  0.60160259,  0.67441429,
        0.747226  ]))
train/val Accuracy = 0.714963007058 / 0.727140431724 
 with threshold: [[ 0.84356527]]
============ epoch 1 ===========
training loss:		0.172107
||Xanchor-Xpos||_2  counter: 
[  17   81  215  333  470  729 1006 1227 1532 1805 2097 2345 2525 2759 2666
 2095 1179  375   60    2]
||Xanchor-Xneg||_2  counter: 
[   6   28   67   74  156  185  206  275  372  437  652  910 1332 1948 3028
 4419 4765 3417 1128  113]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15740994  0.20308586  0.24876178  0.2944377   0.34011362  0.38578954
  0.43146546  0.47714138  0.5228173   0.56849322  0.61416914  0.65984506
  0.70552098  0.7511969   0.79687282  0.84254874  0.88822466  0.93390058
  0.9795765   1.02525242  1.07092834]
distance difference  counter: 
(array([  32,  137,  296,  612, 1097, 1608, 2158, 2608, 3069, 3441, 3597,
       3005, 1200,  396,  140,   65,   35,   14,    5,    3]), array([-0.777816  , -0.69118643, -0.60455687, -0.51792731, -0.43129774,
       -0.34466818, -0.25803862, -0.17140905, -0.08477949,  0.00185007,
        0.08847964,  0.1751092 ,  0.26173877,  0.34836833,  0.43499789,
        0.52162746,  0.60825702,  0.69488658,  0.78151615,  0.86814571,
        0.95477527]))
||Xanchor-Xpos||_2  counter: 
[  10   19   50   79  108  162  274  366  429  576  720  880 1060 1025 1015
  829  477  141   26    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    7    7   10   27   49   70  105  179  291  485  740 1190
 1625 1842 1230  357   29]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2483906   0.28508127  0.32177195  0.35846262  0.3951533   0.43184397
  0.46853464  0.50522532  0.54191599  0.57860667  0.61529734  0.65198801
  0.68867869  0.72536936  0.76206004  0.79875071  0.83544138  0.87213206
  0.90882273  0.94551341  0.98220408]
distance difference  counter: 
(array([  14,   28,   72,  143,  262,  366,  538,  674,  886, 1044, 1108,
       1176,  942,  583,  253,  103,   36,   15,    2,    1]), array([-0.56600612, -0.50515347, -0.44430081, -0.38344815, -0.32259549,
       -0.26174283, -0.20089017, -0.14003751, -0.07918485, -0.0183322 ,
        0.04252046,  0.10337312,  0.16422578,  0.22507844,  0.2859311 ,
        0.34678376,  0.40763642,  0.46848907,  0.52934173,  0.59019439,
        0.65104705]))
train/val Accuracy = 0.714750403946 / 0.731203007519 
 with threshold: [[ 0.76657153]]
============ epoch 2 ===========
training loss:		0.160032
||Xanchor-Xpos||_2  counter: 
[  12   93  183  326  538  754  987 1286 1460 1889 2120 2374 2600 2732 2667
 2035 1105  307   49    1]
||Xanchor-Xneg||_2  counter: 
[   4   32   49  102  148  177  206  290  356  463  661  929 1385 2012 3103
 4464 4792 3207 1037  101]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.14172399  0.1834954   0.2252668   0.26703821  0.30880961  0.35058102
  0.39235243  0.43412383  0.47589524  0.51766664  0.55943805  0.60120946
  0.64298086  0.68475227  0.72652367  0.76829508  0.81006649  0.85183789
  0.8936093   0.9353807   0.97715211]
distance difference  counter: 
(array([  15,   68,  194,  497,  947, 1430, 2060, 2611, 3071, 3477, 3706,
       3309, 1431,  441,  132,   70,   37,   18,    3,    1]), array([-0.65242201, -0.57794107, -0.50346013, -0.42897919, -0.35449826,
       -0.28001732, -0.20553638, -0.13105544, -0.0565745 ,  0.01790644,
        0.09238738,  0.16686832,  0.24134926,  0.31583019,  0.39031113,
        0.46479207,  0.53927301,  0.61375395,  0.68823489,  0.76271583,
        0.83719677]))
||Xanchor-Xpos||_2  counter: 
[   6    8   27   55   92  140  235  313  431  568  700  891  999 1104 1047
  906  536  153   34    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    3    5   14   17   30   64   94  163  252  463  717 1142
 1628 1894 1296  426   36]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20522802  0.23958879  0.27394957  0.30831034  0.34267112  0.3770319
  0.41139267  0.44575345  0.48011422  0.514475    0.54883578  0.58319655
  0.61755733  0.65191811  0.68627888  0.72063966  0.75500043  0.78936121
  0.82372199  0.85808276  0.89244354]
distance difference  counter: 
(array([  16,   29,   82,  137,  258,  356,  547,  651,  816,  950, 1068,
       1163,  979,  661,  319,  133,   51,   20,    8,    2]), array([-0.41597885, -0.36797908, -0.31997931, -0.27197954, -0.22397977,
       -0.17598   , -0.12798023, -0.07998046, -0.03198069,  0.01601908,
        0.06401885,  0.11201862,  0.16001838,  0.20801815,  0.25601792,
        0.30401769,  0.35201746,  0.40001723,  0.448017  ,  0.49601677,
        0.54401654]))
train/val Accuracy = 0.714537800833 / 0.729262672811 
 with threshold: [[ 0.69625824]]
============ epoch 3 ===========
training loss:		0.150075
||Xanchor-Xpos||_2  counter: 
[  35  116  221  378  560  790 1061 1275 1568 1788 2220 2364 2569 2727 2516
 1960 1015  321   33    1]
||Xanchor-Xneg||_2  counter: 
[  14   35   63  101  161  188  226  284  376  484  686  915 1423 2164 3153
 4422 4677 3047  993  106]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1412636   0.17865014  0.21603667  0.25342321  0.29080974  0.32819627
  0.36558281  0.40296934  0.44035587  0.47774241  0.51512894  0.55251547
  0.58990201  0.62728854  0.66467507  0.70206161  0.73944814  0.77683468
  0.81422121  0.85160774  0.88899428]
distance difference  counter: 
(array([  13,   65,  207,  489,  924, 1468, 2065, 2589, 3035, 3456, 3696,
       3383, 1416,  419,  165,   70,   35,   18,    2,    3]), array([-0.50643569, -0.44474298, -0.38305027, -0.32135756, -0.25966485,
       -0.19797213, -0.13627942, -0.07458671, -0.012894  ,  0.04879871,
        0.11049142,  0.17218414,  0.23387685,  0.29556956,  0.35726227,
        0.41895498,  0.4806477 ,  0.54234041,  0.60403312,  0.66572583,
        0.72741854]))
||Xanchor-Xpos||_2  counter: 
[   8   18   50   61  109  164  256  370  476  586  720  893 1008 1072  993
  856  447  130   28    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    5    4   16   24   59   75  114  184  292  480  762 1189
 1696 1778 1196  336   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20493108  0.23530685  0.26568261  0.29605838  0.32643415  0.35680991
  0.38718568  0.41756145  0.44793721  0.47831298  0.50868875  0.53906451
  0.56944028  0.59981605  0.63019181  0.66056758  0.69094335  0.72131912
  0.75169488  0.78207065  0.81244642]
distance difference  counter: 
(array([   6,   25,   49,  134,  207,  344,  455,  623,  797,  953, 1012,
       1148, 1073,  728,  443,  144,   77,   21,    6,    1]), array([-0.32840562, -0.28798119, -0.24755676, -0.20713234, -0.16670791,
       -0.12628348, -0.08585905, -0.04543463, -0.0050102 ,  0.03541423,
        0.07583866,  0.11626308,  0.15668751,  0.19711194,  0.23753636,
        0.27796079,  0.31838522,  0.35880965,  0.39923407,  0.4396585 ,
        0.48008293]))
train/val Accuracy = 0.715728378263 / 0.729687121028 
 with threshold: [[ 0.63325217]]
============ epoch 4 ===========
training loss:		0.141865
||Xanchor-Xpos||_2  counter: 
[  17   99  200  354  531  762 1072 1339 1605 1888 2160 2505 2597 2834 2515
 1910  881  230   18    1]
||Xanchor-Xneg||_2  counter: 
[   4   32   62   94  152  194  208  304  375  502  724  999 1427 2255 3399
 4662 4624 2743  703   55]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11764928  0.15264586  0.18764243  0.22263901  0.25763559  0.29263216
  0.32762874  0.36262532  0.3976219   0.43261847  0.46761505  0.50261163
  0.5376082   0.57260478  0.60760136  0.64259793  0.67759451  0.71259109
  0.74758767  0.78258424  0.81758082]
distance difference  counter: 
(array([  14,   55,  189,  440,  780, 1300, 1849, 2389, 2841, 3299, 3521,
       3597, 2086,  739,  239,   98,   50,   15,   13,    4]), array([-0.39110023, -0.34120379, -0.29130735, -0.24141091, -0.19151447,
       -0.14161803, -0.09172159, -0.04182515,  0.00807129,  0.05796773,
        0.10786417,  0.15776061,  0.20765705,  0.25755349,  0.30744993,
        0.35734637,  0.40724281,  0.45713925,  0.50703569,  0.55693213,
        0.60682857]))
||Xanchor-Xpos||_2  counter: 
[   7   18   35   58  110  165  262  339  451  539  741  892 1012 1081 1046
  849  461  152   27    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    4    6   17   20   37   67  108  163  297  498  724 1181
 1656 1796 1266  371   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.180098    0.20799379  0.23588959  0.26378539  0.29168118  0.31957698
  0.34747277  0.37536857  0.40326437  0.43116016  0.45905596  0.48695176
  0.51484755  0.54274335  0.57063915  0.59853494  0.62643074  0.65432653
  0.68222233  0.71011813  0.73801392]
distance difference  counter: 
(array([   9,   28,   52,  133,  209,  335,  479,  625,  792,  922, 1116,
       1113, 1043,  755,  388,  145,   63,   24,   10,    5]), array([-0.23417483, -0.20089686, -0.16761889, -0.13434092, -0.10106295,
       -0.06778498, -0.03450701, -0.00122904,  0.03204893,  0.0653269 ,
        0.09860487,  0.13188284,  0.1651608 ,  0.19843877,  0.23171674,
        0.26499471,  0.29827268,  0.33155065,  0.36482862,  0.39810659,
        0.43138456]))
train/val Accuracy = 0.715281911727 / 0.729323308271 
 with threshold: [[ 0.57566416]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.454119
||Xanchor-Xpos||_2  counter: 
[  72  297  818 1433 2134 2891 2884 2678 2199 1852 1531 1301 1092  875  646
  435  253  106   20    1]
||Xanchor-Xneg||_2  counter: 
[  19   90  201  359  701 1500 2666 2724 2319 2202 1882 1787 1603 1423 1255
 1017  837  619  264   50]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.07933678  0.13425144  0.18916611  0.24408077  0.29899544  0.3539101
  0.40882476  0.46373943  0.51865409  0.57356876  0.62848342  0.68339809
  0.73831275  0.79322742  0.84814208  0.90305674  0.95797141  1.01288607
  1.06780074  1.1227154   1.17763007]
distance difference  counter: 
(array([   1,    6,   16,   47,  119,  248,  434,  776, 1263, 2458, 4815,
       8631, 4079,  460,   99,   33,   21,    6,    4,    2]), array([-1.08152354, -0.97552632, -0.8695291 , -0.76353189, -0.65753467,
       -0.55153745, -0.44554024, -0.33954302, -0.2335458 , -0.12754859,
       -0.02155137,  0.08444585,  0.19044306,  0.29644028,  0.4024375 ,
        0.50843471,  0.61443193,  0.72042915,  0.82642636,  0.93242358,
        1.0384208 ]))
||Xanchor-Xpos||_2  counter: 
[   9   21   39   75  125  161  256  366  467  597  674  915 1015 1037 1037
  815  460  146   30    1]
||Xanchor-Xneg||_2  counter: 
[   0    2    1    3    8   17   29   45   62  127  176  294  501  729 1212
 1622 1810 1182  385   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11220104  0.12871604  0.14523103  0.16174603  0.17826102  0.19477602
  0.21129101  0.22780601  0.24432101  0.260836    0.277351    0.29386599
  0.31038099  0.32689598  0.34341098  0.35992597  0.37644097  0.39295596
  0.40947096  0.42598595  0.44250095]
distance difference  counter: 
(array([   2,   14,   54,  126,  234,  373,  574,  788,  980, 1138, 1250,
       1244,  849,  412,  132,   50,   18,    5,    1,    2]), array([ 0.03557278,  0.0491496 ,  0.06272642,  0.07630325,  0.08988007,
        0.10345689,  0.11703371,  0.13061053,  0.14418735,  0.15776417,
        0.17134099,  0.18491782,  0.19849464,  0.21207146,  0.22564828,
        0.2392251 ,  0.25280192,  0.26637874,  0.27995556,  0.29353239,
        0.30710921]))
train/val Accuracy = 0.602899906455 / 0.5 
 with threshold: [[ 0.57090363]]
============ epoch 1 ===========
training loss:		1.089432
||Xanchor-Xpos||_2  counter: 
[  67  324  786 1462 2245 2901 2847 2515 2103 1905 1570 1328 1120  840  613
  469  262  131   29    1]
||Xanchor-Xneg||_2  counter: 
[  16   95  211  334  725 1507 2640 2612 2363 2164 1923 1750 1549 1441 1196
 1148  829  641  317   57]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03053005  0.05083098  0.07113191  0.09143285  0.11173378  0.13203471
  0.15233565  0.17263658  0.19293751  0.21323845  0.23353938  0.25384031
  0.27414125  0.29444218  0.31474311  0.33504404  0.35534498  0.37564591
  0.39594684  0.41624778  0.43654871]
distance difference  counter: 
(array([   2,   18,   35,   70,  142,  261,  456,  809, 1395, 2398, 4638,
       8026, 4528,  534,  139,   40,   11,    9,    5,    2]), array([ 0.03070375,  0.04462525,  0.05854674,  0.07246823,  0.08638972,
        0.10031121,  0.1142327 ,  0.1281542 ,  0.14207569,  0.15599718,
        0.16991867,  0.18384016,  0.19776165,  0.21168315,  0.22560464,
        0.23952613,  0.25344762,  0.26736911,  0.28129061,  0.2952121 ,
        0.30913359]))
||Xanchor-Xpos||_2  counter: 
[   8    9   40   62  112  174  241  345  423  557  719  892 1024 1018 1050
  913  459  169   31    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    6   13   32   35   62  108  181  277  462  725 1159
 1629 1813 1252  424   65]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03975143  0.04600003  0.05224863  0.05849723  0.06474584  0.07099444
  0.07724304  0.08349165  0.08974025  0.09598885  0.10223746  0.10848606
  0.11473466  0.12098326  0.12723187  0.13348047  0.13972907  0.14597768
  0.15222628  0.15847488  0.16472349]
distance difference  counter: 
(array([   7,   26,   79,  141,  230,  394,  607,  742,  926, 1131, 1211,
       1166,  882,  425,  180,   64,   22,    9,    2,    2]), array([ 0.17801182,  0.17980859,  0.18160536,  0.18340214,  0.18519891,
        0.18699568,  0.18879245,  0.19058923,  0.192386  ,  0.19418277,
        0.19597954,  0.19777632,  0.19957309,  0.20136986,  0.20316663,
        0.2049634 ,  0.20676018,  0.20855695,  0.21035372,  0.21215049,
        0.21394727]))
train/val Accuracy = 0.601156560932 / 0.5 
 with threshold: [[ 0.21287779]]
============ epoch 2 ===========
training loss:		1.039069
||Xanchor-Xpos||_2  counter: 
[ 110  428 1004 1640 2433 2866 2894 2434 2090 1779 1532 1245 1028  757  593
  384  188   91   21    1]
||Xanchor-Xneg||_2  counter: 
[  37  110  242  427  828 1791 2801 2613 2296 2067 1884 1653 1573 1347 1202
  942  850  554  254   47]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01356331  0.02113109  0.02869888  0.03626667  0.04383445  0.05140224
  0.05897003  0.06653782  0.0741056   0.08167339  0.08924118  0.09680896
  0.10437675  0.11194454  0.11951233  0.12708011  0.1346479   0.14221569
  0.14978347  0.15735126  0.16491905]
distance difference  counter: 
(array([   4,    9,   26,   49,  122,  208,  368,  591, 1038, 1684, 3138,
       6109, 8036, 1753,  279,   62,   23,    9,    5,    5]), array([ 0.17548643,  0.17740908,  0.17933172,  0.18125437,  0.18317701,
        0.18509966,  0.1870223 ,  0.18894495,  0.19086759,  0.19279024,
        0.19471288,  0.19663553,  0.19855818,  0.20048082,  0.20240347,
        0.20432611,  0.20624876,  0.2081714 ,  0.21009405,  0.21201669,
        0.21393934]))
||Xanchor-Xpos||_2  counter: 
[   9   14   30   61  111  156  266  374  444  642  742  978 1031 1049 1056
  793  368  103   18    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    7   14   26   35   64  120  188  328  543  836 1306
 1735 1760  996  251   33]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01466124  0.01703887  0.01941649  0.02179412  0.02417174  0.02654937
  0.028927    0.03130462  0.03368225  0.03605988  0.0384375   0.04081513
  0.04319275  0.04557038  0.04794801  0.05032563  0.05270326  0.05508088
  0.05745851  0.05983614  0.06221376]
distance difference  counter: 
(array([  11,   30,   74,  144,  270,  469,  652,  776, 1041, 1207, 1237,
       1109,  747,  313,  111,   41,    8,    1,    1,    4]), array([ 0.19694553,  0.1972025 ,  0.19745947,  0.19771644,  0.19797341,
        0.19823038,  0.19848735,  0.19874432,  0.19900129,  0.19925826,
        0.19951523,  0.1997722 ,  0.20002917,  0.20028614,  0.20054311,
        0.20080008,  0.20105705,  0.20131402,  0.20157099,  0.20182796,
        0.20208493]))
train/val Accuracy = 0.602836125521 / 0.5 
 with threshold: [[ 0.079466]]
============ epoch 3 ===========
training loss:		1.032113
||Xanchor-Xpos||_2  counter: 
[ 137  534 1174 1956 2630 3115 2897 2442 2032 1725 1417 1136  886  669  436
  234   82   16    0    0]
||Xanchor-Xneg||_2  counter: 
[  43  135  285  505 1116 2378 2719 2604 2315 2110 1861 1710 1475 1321 1099
  900  543  307   74   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0051673   0.00813707  0.01110683  0.0140766   0.01704637  0.02001613
  0.0229859   0.02595567  0.02892543  0.0318952   0.03486496  0.03783473
  0.0408045   0.04377426  0.04674403  0.0497138   0.05268356  0.05565333
  0.05862309  0.06159286  0.06456263]
distance difference  counter: 
(array([   3,    8,   15,   43,   82,  169,  302,  476,  830, 1494, 2551,
       5143, 8424, 3437,  380,  115,   26,   14,    4,    2]), array([ 0.1963304 ,  0.1966122 ,  0.19689399,  0.19717579,  0.19745759,
        0.19773939,  0.19802119,  0.19830298,  0.19858478,  0.19886658,
        0.19914838,  0.19943018,  0.19971198,  0.19999377,  0.20027557,
        0.20055737,  0.20083917,  0.20112097,  0.20140276,  0.20168456,
        0.20196636]))
||Xanchor-Xpos||_2  counter: 
[   6   16   36   60  115  177  263  348  472  631  692  951 1054 1107 1032
  801  349  120   14    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    4    3   19   24   39   58  125  194  310  538  836 1281
 1731 1788  960  285   50]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00545384  0.00633845  0.00722306  0.00810768  0.00899229  0.00987691
  0.01076152  0.01164613  0.01253075  0.01341536  0.01429998  0.01518459
  0.01606921  0.01695382  0.01783843  0.01872305  0.01960766  0.02049228
  0.02137689  0.0222615   0.02314612]
distance difference  counter: 
(array([   7,   22,   67,  125,  236,  365,  595,  703,  936, 1163, 1201,
       1233,  875,  455,  163,   68,   20,    8,    3,    1]), array([ 0.19956665,  0.19960193,  0.19963722,  0.19967251,  0.1997078 ,
        0.19974308,  0.19977837,  0.19981366,  0.19984895,  0.19988423,
        0.19991952,  0.19995481,  0.1999901 ,  0.20002538,  0.20006067,
        0.20009596,  0.20013125,  0.20016653,  0.20020182,  0.20023711,
        0.2002724 ]))
train/val Accuracy = 0.606471638745 / 0.5 
 with threshold: [[ 0.02969521]]
============ epoch 4 ===========
training loss:		1.031152
||Xanchor-Xpos||_2  counter: 
[  84  488 1221 2052 2982 3240 2829 2407 2111 1692 1403 1070  847  559  361
  135   33    4    0    0]
||Xanchor-Xneg||_2  counter: 
[  33  125  298  533 1183 2555 2866 2694 2348 2181 1883 1664 1492 1326 1036
  706  422  143   22    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00167412  0.00284484  0.00401556  0.00518628  0.006357    0.00752772
  0.00869844  0.00986916  0.01103988  0.0122106   0.01338132  0.01455204
  0.01572276  0.01689348  0.0180642   0.01923492  0.02040564  0.02157636
  0.02274708  0.0239178   0.02508852]
distance difference  counter: 
(array([   4,    7,   10,   47,   90,  156,  284,  602,  988, 1774, 3398,
       6892, 7926, 1096,  171,   44,   17,    6,    2,    4]), array([ 0.19946885,  0.19951104,  0.19955323,  0.19959543,  0.19963762,
        0.19967981,  0.199722  ,  0.19976419,  0.19980639,  0.19984858,
        0.19989077,  0.19993296,  0.19997515,  0.20001735,  0.20005954,
        0.20010173,  0.20014392,  0.20018611,  0.20022831,  0.2002705 ,
        0.20031269]))
||Xanchor-Xpos||_2  counter: 
[   9   16   45   66  138  194  306  421  553  641  824 1036 1077 1131  956
  591  195   42    5    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    1    6   17   39   40   89  148  239  404  685 1082 1559
 1855 1437  514  118   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00204399  0.00238411  0.00272424  0.00306436  0.00340449  0.00374461
  0.00408474  0.00442487  0.00476499  0.00510512  0.00544524  0.00578537
  0.00612549  0.00646562  0.00680574  0.00714587  0.00748599  0.00782612
  0.00816624  0.00850637  0.00884649]
distance difference  counter: 
(array([   4,   19,   50,  123,  230,  383,  565,  736,  955, 1097, 1289,
       1283,  835,  430,  166,   55,   19,    5,    1,    1]), array([ 0.19993787,  0.19994296,  0.19994805,  0.19995314,  0.19995824,
        0.19996333,  0.19996842,  0.19997352,  0.19997861,  0.1999837 ,
        0.1999888 ,  0.19999389,  0.19999898,  0.20000408,  0.20000917,
        0.20001426,  0.20001936,  0.20002445,  0.20002954,  0.20003464,
        0.20003973]))
train/val Accuracy = 0.607024406837 / 0.5 
 with threshold: [[ 0.01110818]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.018726
||Xanchor-Xpos||_2  counter: 
[  23  107  202  372  602  768 1084 1290 1618 1861 2299 2418 2763 2725 2519
 1746  900  210   11    0]
||Xanchor-Xneg||_2  counter: 
[   9   35   60  110  153  179  237  291  405  529  674 1015 1570 2316 3488
 4820 4610 2457  541   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17707151  0.22839663  0.27972175  0.33104688  0.382372    0.43369712
  0.48502224  0.53634736  0.58767248  0.63899761  0.69032273  0.74164785
  0.79297297  0.84429809  0.89562321  0.94694833  0.99827346  1.04959858
  1.1009237   1.15224882  1.20357394]
distance difference  counter: 
(array([  20,   96,  238,  537,  930, 1311, 1865, 2395, 2737, 3146, 3292,
       3582, 2113,  779,  260,  110,   57,   34,    9,    7]), array([-1.01111913, -0.9091144 , -0.80710968, -0.70510495, -0.60310023,
       -0.5010955 , -0.39909078, -0.29708605, -0.19508133, -0.0930766 ,
        0.00892812,  0.11093284,  0.21293757,  0.31494229,  0.41694702,
        0.51895174,  0.62095647,  0.72296119,  0.82496592,  0.92697064,
        1.02897537]))
||Xanchor-Xpos||_2  counter: 
[   7   13   41   68  107  171  238  340  442  568  741  813 1026 1154 1040
  823  460  179   15    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    2   11   10   21   43   63   94  162  278  476  765 1125
 1636 1892 1299  340   28]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26567826  0.30646415  0.34725004  0.38803593  0.42882183  0.46960772
  0.51039361  0.5511795   0.5919654   0.63275129  0.67353718  0.71432307
  0.75510896  0.79589486  0.83668075  0.87746664  0.91825253  0.95903843
  0.99982432  1.04061021  1.0813961 ]
distance difference  counter: 
(array([   2,   12,   50,  120,  242,  403,  596,  831, 1044, 1178, 1357,
       1219,  733,  304,  108,   37,    5,    2,    1,    2]), array([-0.79345572, -0.70996775, -0.62647977, -0.5429918 , -0.45950383,
       -0.37601586, -0.29252788, -0.20903991, -0.12555194, -0.04206397,
        0.04142401,  0.12491198,  0.20839995,  0.29188792,  0.3753759 ,
        0.45886387,  0.54235184,  0.62583981,  0.70932779,  0.79281576,
        0.87630373]))
train/val Accuracy = 0.715600816396 / 0.73253698763 
 with threshold: [[ 0.84449481]]
============ epoch 1 ===========
training loss:		0.017263
||Xanchor-Xpos||_2  counter: 
[  24   84  178  360  534  747 1008 1305 1535 1880 2128 2351 2703 2698 2639
 1961 1044  299   40    0]
||Xanchor-Xneg||_2  counter: 
[   4   36   60  101  134  175  240  274  372  474  633  955 1383 2023 3072
 4269 4808 3254 1104  147]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15719226  0.20345571  0.24971917  0.29598262  0.34224608  0.38850953
  0.43477299  0.48103644  0.5272999   0.57356335  0.61982681  0.66609026
  0.71235372  0.75861717  0.80488063  0.85114408  0.89740754  0.94367099
  0.98993445  1.0361979   1.08246136]
distance difference  counter: 
(array([  17,   68,  184,  391,  753, 1152, 1671, 2191, 2674, 2870, 3265,
       3347, 3034, 1214,  398,  154,   68,   36,   17,   14]), array([-0.84624678, -0.76142201, -0.67659725, -0.59177248, -0.50694772,
       -0.42212296, -0.33729819, -0.25247343, -0.16764866, -0.0828239 ,
        0.00200087,  0.08682563,  0.1716504 ,  0.25647516,  0.34129993,
        0.42612469,  0.51094946,  0.59577422,  0.68059899,  0.76542375,
        0.85024852]))
||Xanchor-Xpos||_2  counter: 
[   7    7   32   52  102  153  231  317  418  539  709  821  954 1166 1111
  870  534  186   36    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    4   14   15   49   56  100  151  268  421  726 1082
 1498 1929 1426  441   64]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22800849  0.26565362  0.30329874  0.34094386  0.37858899  0.41623411
  0.45387923  0.49152436  0.52916948  0.5668146   0.60445973  0.64210485
  0.67974997  0.71739509  0.75504022  0.79268534  0.83033046  0.86797559
  0.90562071  0.94326583  0.98091096]
distance difference  counter: 
(array([   5,   14,   62,  121,  182,  330,  463,  618,  750,  948, 1101,
       1115, 1079,  777,  396,  161,   82,   29,   11,    2]), array([-0.58772653, -0.52767929, -0.46763204, -0.4075848 , -0.34753755,
       -0.28749031, -0.22744306, -0.16739582, -0.10734857, -0.04730133,
        0.01274592,  0.07279316,  0.13284041,  0.19288765,  0.2529349 ,
        0.31298214,  0.37302939,  0.43307663,  0.49312388,  0.55317112,
        0.61321837]))
train/val Accuracy = 0.717854409389 / 0.729687121028 
 with threshold: [[ 0.77011139]]
============ epoch 2 ===========
training loss:		0.016058
||Xanchor-Xpos||_2  counter: 
[  31  105  269  412  607  868 1160 1533 1723 2084 2364 2671 2885 2757 2195
 1322  463   64    5    0]
||Xanchor-Xneg||_2  counter: 
[  12   36   76  100  181  183  231  332  426  589  816 1195 1770 2761 3935
 4809 3847 1758  422   39]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15157144  0.19521031  0.23884919  0.28248807  0.32612695  0.36976582
  0.4134047   0.45704358  0.50068245  0.54432133  0.58796021  0.63159908
  0.67523796  0.71887684  0.76251571  0.80615459  0.84979347  0.89343234
  0.93707122  0.9807101   1.02434897]
distance difference  counter: 
(array([   7,   41,  118,  234,  550,  968, 1612, 2152, 2813, 3194, 3592,
       3708, 2945, 1069,  308,  122,   44,   24,   14,    3]), array([-0.76220083, -0.68373093, -0.60526102, -0.52679112, -0.44832121,
       -0.36985131, -0.2913814 , -0.2129115 , -0.13444159, -0.05597169,
        0.02249822,  0.10096813,  0.17943803,  0.25790794,  0.33637784,
        0.41484775,  0.49331765,  0.57178756,  0.65025746,  0.72872737,
        0.80719727]))
||Xanchor-Xpos||_2  counter: 
[   7    9   33   56  114  158  234  349  456  556  722  844 1018 1133 1079
  838  468  142   28    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    0    9   12   23   39   59  106  173  279  498  784 1125
 1677 1908 1148  352   53]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20754458  0.24228681  0.27702904  0.31177128  0.34651351  0.38125574
  0.41599797  0.45074021  0.48548244  0.52022467  0.5549669   0.58970914
  0.62445137  0.6591936   0.69393583  0.72867807  0.7634203   0.79816253
  0.83290476  0.867647    0.90238923]
distance difference  counter: 
(array([  14,   42,   92,  205,  314,  493,  658,  866,  987, 1162, 1303,
       1049,  608,  297,  111,   34,    5,    4,    1,    1]), array([-0.43860871, -0.38393983, -0.32927095, -0.27460208, -0.2199332 ,
       -0.16526432, -0.11059545, -0.05592657, -0.00125769,  0.05341118,
        0.10808006,  0.16274894,  0.21741781,  0.27208669,  0.32675557,
        0.38142444,  0.43609332,  0.49076219,  0.54543107,  0.60009995,
        0.65476882]))
train/val Accuracy = 0.721638744791 / 0.728716953675 
 with threshold: [[ 0.70346614]]
============ epoch 3 ===========
training loss:		0.015067
||Xanchor-Xpos||_2  counter: 
[  20  106  233  401  626  862 1222 1518 1807 2252 2568 2793 2923 2771 2094
 1006  267   45    4    0]
||Xanchor-Xneg||_2  counter: 
[   4   38   62  117  164  217  249  347  457  566  858 1342 1966 2883 4229
 4678 3288 1514  466   73]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.12717779  0.16845718  0.20973657  0.25101596  0.29229535  0.33357474
  0.37485413  0.41613352  0.45741291  0.4986923   0.53997169  0.58125108
  0.62253047  0.66380986  0.70508925  0.74636864  0.78764803  0.82892741
  0.8702068   0.91148619  0.95276558]
distance difference  counter: 
(array([  30,   75,  148,  308,  648, 1103, 1671, 2293, 2848, 3321, 3369,
       3763, 2644,  849,  275,  100,   48,   14,    9,    2]), array([-0.60847896, -0.54171481, -0.47495066, -0.40818651, -0.34142236,
       -0.2746582 , -0.20789405, -0.1411299 , -0.07436575, -0.00760159,
        0.05916256,  0.12592671,  0.19269086,  0.25945501,  0.32621917,
        0.39298332,  0.45974747,  0.52651162,  0.59327577,  0.66003993,
        0.72680408]))
||Xanchor-Xpos||_2  counter: 
[   7   17   37   75  129  198  273  420  503  668  815  973 1131 1118  964
  610  240   63    4    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    1   11   12   31   48   85  144  231  369  646  989 1444
 1826 1521  680  183   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20160013  0.23366651  0.26573288  0.29779926  0.32986563  0.36193201
  0.39399838  0.42606476  0.45813113  0.49019751  0.52226388  0.55433026
  0.58639663  0.61846301  0.65052938  0.68259576  0.71466213  0.74672851
  0.77879488  0.81086126  0.84292763]
distance difference  counter: 
(array([   7,   26,   52,  121,  219,  322,  468,  613,  781,  920, 1037,
       1159, 1094,  779,  385,  161,   69,   24,    7,    2]), array([-0.34968764, -0.30777997, -0.2658723 , -0.22396463, -0.18205696,
       -0.1401493 , -0.09824163, -0.05633396, -0.01442629,  0.02748138,
        0.06938905,  0.11129671,  0.15320438,  0.19511205,  0.23701972,
        0.27892739,  0.32083505,  0.36274272,  0.40465039,  0.44655806,
        0.48846573]))
train/val Accuracy = 0.723594693426 / 0.73253698763 
 with threshold: [[ 0.64316695]]
============ epoch 4 ===========
training loss:		0.014251
||Xanchor-Xpos||_2  counter: 
[  28  147  285  517  731 1012 1390 1719 2134 2490 2824 3055 2965 2367 1325
  444   63   20    1    1]
||Xanchor-Xneg||_2  counter: 
[  10   38   87  135  172  257  305  391  528  731 1112 1715 2591 3787 4516
 3769 2117  889  307   61]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.12301993  0.16219069  0.20136145  0.2405322   0.27970296  0.31887372
  0.35804448  0.39721523  0.43638599  0.47555675  0.5147275   0.55389826
  0.59306902  0.63223977  0.67141053  0.71058129  0.74975204  0.7889228
  0.82809356  0.86726432  0.90643507]
distance difference  counter: 
(array([  19,   65,  114,  239,  449,  915, 1515, 2117, 2873, 3333, 3670,
       3820, 3039,  954,  252,   73,   42,   19,    8,    2]), array([-0.54283804, -0.48216436, -0.42149068, -0.36081699, -0.30014331,
       -0.23946963, -0.17879595, -0.11812227, -0.05744859,  0.00322509,
        0.06389877,  0.12457245,  0.18524613,  0.24591981,  0.3065935 ,
        0.36726718,  0.42794086,  0.48861454,  0.54928822,  0.6099619 ,
        0.67063558]))
||Xanchor-Xpos||_2  counter: 
[  10   18   44   90  137  204  315  412  562  756  840 1127 1190 1069  841
  448  143   38    1    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    5    5   20   27   67  100  142  272  463  786 1155 1637
 1800 1205  430  104   25]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1827483   0.21290063  0.24305296  0.27320529  0.30335761  0.33350994
  0.36366227  0.3938146   0.42396692  0.45411925  0.48427158  0.51442391
  0.54457623  0.57472856  0.60488089  0.63503322  0.66518554  0.69533787
  0.7254902   0.75564253  0.78579485]
distance difference  counter: 
(array([   6,   29,   43,   91,  172,  285,  421,  552,  716,  858, 1001,
       1060, 1128,  917,  568,  236,  103,   47,    8,    5]), array([-0.27299643, -0.23817808, -0.20335974, -0.1685414 , -0.13372306,
       -0.09890471, -0.06408637, -0.02926803,  0.00555031,  0.04036866,
        0.075187  ,  0.11000534,  0.14482368,  0.17964202,  0.21446037,
        0.24927871,  0.28409705,  0.31891539,  0.35373374,  0.38855208,
        0.42337042]))
train/val Accuracy = 0.729632621822 / 0.733446519525 
 with threshold: [[ 0.58981249]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.145516
||Xanchor-Xpos||_2  counter: 
[  60  348  821 1444 2191 2914 2917 2559 2168 1857 1568 1325 1053  830  657
  415  255  110   25    1]
||Xanchor-Xneg||_2  counter: 
[  18  114  199  351  669 1514 2526 2670 2465 2130 1948 1777 1581 1441 1255
 1062  842  584  303   69]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.08753771  0.14191978  0.19630185  0.25068392  0.305066    0.35944807
  0.41383014  0.46821221  0.52259428  0.57697635  0.63135842  0.68574049
  0.74012256  0.79450463  0.8488867   0.90326877  0.95765084  1.01203291
  1.06641498  1.12079705  1.17517912]
distance difference  counter: 
(array([   3,   13,   25,   74,  124,  219,  383,  670, 1084, 2016, 3369,
       6564, 7331, 1304,  243,   51,   31,    9,    3,    2]), array([-1.0329957 , -0.93533194, -0.83766819, -0.74000443, -0.64234067,
       -0.54467691, -0.44701316, -0.3493494 , -0.25168564, -0.15402189,
       -0.05635813,  0.04130563,  0.13896939,  0.23663314,  0.3342969 ,
        0.43196066,  0.52962441,  0.62728817,  0.72495193,  0.82261569,
        0.92027944]))
||Xanchor-Xpos||_2  counter: 
[   3   14   37   86  102  177  300  365  499  656  754  996 1139 1121  986
  670  276   56    8    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    2    5   17   35   48   61  156  197  345  661  925 1438
 1852 1548  743  189   23]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.10539511  0.12316922  0.14094334  0.15871745  0.17649157  0.19426569
  0.2120398   0.22981392  0.24758803  0.26536215  0.28313626  0.30091038
  0.31868449  0.33645861  0.35423273  0.37200684  0.38978096  0.40755507
  0.42532919  0.4431033   0.46087742]
distance difference  counter: 
(array([   6,   20,   56,  124,  213,  352,  521,  745,  895, 1077, 1273,
       1213,  963,  501,  178,   71,   27,    9,    0,    2]), array([ 0.02781899,  0.04173377,  0.05564854,  0.06956331,  0.08347809,
        0.09739286,  0.11130763,  0.12522241,  0.13913718,  0.15305196,
        0.16696673,  0.1808815 ,  0.19479628,  0.20871105,  0.22262582,
        0.2365406 ,  0.25045537,  0.26437014,  0.27828492,  0.29219969,
        0.30611446]))
train/val Accuracy = 0.604090483885 / 0.5 
 with threshold: [[ 0.57446191]]
============ epoch 1 ===========
training loss:		0.109075
||Xanchor-Xpos||_2  counter: 
[  98  496 1197 1944 2909 3131 2960 2402 2149 1703 1371 1145  836  604  361
  159   45    7    0    1]
||Xanchor-Xneg||_2  counter: 
[  37  142  271  445 1012 2006 2729 2643 2467 2157 2021 1816 1573 1405 1133
  879  490  213   60   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03559     0.0582596   0.08092921  0.10359881  0.12626842  0.14893802
  0.17160762  0.19427723  0.21694683  0.23961644  0.26228604  0.28495564
  0.30762525  0.33029485  0.35296446  0.37563406  0.39830367  0.42097327
  0.44364287  0.46631248  0.48898208]
distance difference  counter: 
(array([   3,    9,   22,   40,  101,  147,  315,  602,  955, 1709, 3128,
       5848, 8149, 2089,  293,   73,   21,    7,    3,    4]), array([-0.01751374, -0.00059955,  0.01631464,  0.03322883,  0.05014302,
        0.0670572 ,  0.08397139,  0.10088558,  0.11779977,  0.13471396,
        0.15162814,  0.16854233,  0.18545652,  0.20237071,  0.2192849 ,
        0.23619908,  0.25311327,  0.27002746,  0.28694165,  0.30385584,
        0.32077003]))
||Xanchor-Xpos||_2  counter: 
[  16   45  112  216  384  575  829 1104 1405 1467 1279  614  149   36    8
    5    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    8   10   36   96  143  289  576 1163 1936 2117 1187  419  149
   65   27   16    7    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04233623  0.05146919  0.06060214  0.0697351   0.07886806  0.08800101
  0.09713397  0.10626692  0.11539988  0.12453284  0.13366579  0.14279875
  0.15193171  0.16106466  0.17019762  0.17933058  0.18846353  0.19759649
  0.20672945  0.2158624   0.22499536]
distance difference  counter: 
(array([   3,    1,    6,   15,   42,   70,  181,  344,  591,  908, 1211,
       1511, 1589, 1189,  431,  109,   31,   10,    3,    1]), array([ 0.16310236,  0.16587426,  0.16864616,  0.17141806,  0.17418996,
        0.17696187,  0.17973377,  0.18250567,  0.18527757,  0.18804947,
        0.19082137,  0.19359327,  0.19636517,  0.19913708,  0.20190898,
        0.20468088,  0.20745278,  0.21022468,  0.21299658,  0.21576848,
        0.21854039]))
train/val Accuracy = 0.623394846501 / 0.50006063546 
 with threshold: [[ 0.2217306]]
============ epoch 2 ===========
training loss:		0.104035
||Xanchor-Xpos||_2  counter: 
[ 303 1516 3410 4774 4170 3276 2404 1738 1061  581  191   51   20   11    6
    4    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  87  355  951 2397 3605 3492 3034 2711 2346 1743 1170  628  366  225  159
  100   73   43   23   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01373247  0.02708653  0.04044058  0.05379464  0.06714869  0.08050275
  0.0938568   0.10721086  0.12056491  0.13391897  0.14727302  0.16062708
  0.17398113  0.18733519  0.20068924  0.2140433   0.22739735  0.24075141
  0.25410546  0.26745952  0.28081357]
distance difference  counter: 
(array([    6,     9,    15,    34,    57,    77,   126,   172,   304,
         511,  1118,  2701,  7841, 10013,   433,    61,    25,    11,
           3,     1]), array([ 0.12647291,  0.13193447,  0.13739604,  0.14285761,  0.14831917,
        0.15378074,  0.15924231,  0.16470387,  0.17016544,  0.17562701,
        0.18108857,  0.18655014,  0.19201171,  0.19747327,  0.20293484,
        0.20839641,  0.21385798,  0.21931954,  0.22478111,  0.23024268,
        0.23570424]))
||Xanchor-Xpos||_2  counter: 
[  28  140  395  816 1427 2021 2047 1060  215   50   28    9    1    2    3
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2    4   31  100  316  885 2113 2706 1212  416  187  113   56   43   29
   10    7   11    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01552479  0.02093062  0.02633646  0.0317423   0.03714814  0.04255398
  0.04795982  0.05336566  0.0587715   0.06417734  0.06958318  0.07498902
  0.08039486  0.0858007   0.09120654  0.09661238  0.10201822  0.10742405
  0.11282989  0.11823573  0.12364157]
distance difference  counter: 
(array([   2,    3,    6,    8,    9,   16,   30,   61,  132,  317, 1001,
       2296, 3334,  950,   64,   12,    1,    0,    2,    2]), array([ 0.18760271,  0.18856618,  0.18952965,  0.19049312,  0.19145659,
        0.19242005,  0.19338352,  0.19434699,  0.19531046,  0.19627393,
        0.19723739,  0.19820086,  0.19916433,  0.2001278 ,  0.20109127,
        0.20205474,  0.2030182 ,  0.20398167,  0.20494514,  0.20590861,
        0.20687208]))
train/val Accuracy = 0.642061399779 / 0.504305117633 
 with threshold: [[ 0.08868447]]
============ epoch 3 ===========
training loss:		0.103335
||Xanchor-Xpos||_2  counter: 
[ 805 4779 7096 5256 3181 1536  484  163   84   53   41   18   13    3    2
    1    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 202 1206 4345 4973 4182 3320 2036 1018  612  416  271  246  231  151  134
   67   58   27   19    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0044094   0.0129475   0.02148561  0.03002371  0.03856182  0.04709993
  0.05563803  0.06417614  0.07271424  0.08125235  0.08979045  0.09832856
  0.10686666  0.11540477  0.12394288  0.13248098  0.14101909  0.14955719
  0.1580953   0.1666334   0.17517151]
distance difference  counter: 
(array([    2,     5,    13,    24,    44,    44,   105,   144,   221,
         266,   302,   661,  1713, 10482,  9297,   123,    41,    17,
          10,     4]), array([ 0.17017749,  0.17228047,  0.17438344,  0.17648642,  0.17858939,
        0.18069237,  0.18279534,  0.18489832,  0.18700129,  0.18910427,
        0.19120724,  0.19331022,  0.1954132 ,  0.19751617,  0.19961915,
        0.20172212,  0.2038251 ,  0.20592807,  0.20803105,  0.21013402,
        0.212237  ]))
||Xanchor-Xpos||_2  counter: 
[  78  550 1703 3078 2054  502  154   64   24   20    8    2    1    3    2
    2    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1   47  302 1505 3440 1578  569  294  166  127   60   52   36   24   18
    5    8    7    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00590108  0.00922617  0.01255127  0.01587636  0.01920146  0.02252655
  0.02585165  0.02917674  0.03250183  0.03582693  0.03915202  0.04247712
  0.04580221  0.04912731  0.0524524   0.0557775   0.05910259  0.06242769
  0.06575278  0.06907787  0.07240297]
distance difference  counter: 
(array([   2,    3,    5,    7,    8,   12,   19,   32,   64,  106,  274,
       1288, 5874,  515,   25,    6,    2,    0,    2,    2]), array([ 0.19519982,  0.19557509,  0.19595036,  0.19632563,  0.19670091,
        0.19707618,  0.19745145,  0.19782672,  0.198202  ,  0.19857727,
        0.19895254,  0.19932781,  0.19970309,  0.20007836,  0.20045363,
        0.2008289 ,  0.20120417,  0.20157945,  0.20195472,  0.20232999,
        0.20270526]))
train/val Accuracy = 0.654838846841 / 0.515280135823 
 with threshold: [[ 0.03714853]]
============ epoch 4 ===========
training loss:		0.103238
||Xanchor-Xpos||_2  counter: 
[2740 9789 6756 2690  767  296  177  121   63   46   31   18    8    7    5
    2    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 610 4706 6562 4745 2387 1285  768  562  398  311  222  227  175  184  118
   93   98   35   21   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00184031  0.00707482  0.01230934  0.01754386  0.02277837  0.02801289
  0.03324741  0.03848193  0.04371644  0.04895096  0.05418548  0.05941999
  0.06465451  0.06988903  0.07512354  0.08035806  0.08559258  0.09082709
  0.09606161  0.10129613  0.10653064]
distance difference  counter: 
(array([    8,     9,    27,    46,    90,    93,   170,   213,   272,
         358,   739,  2259, 18804,   337,    54,    26,     6,     4,
           2,     1]), array([ 0.18870556,  0.18960019,  0.19049481,  0.19138944,  0.19228406,
        0.19317868,  0.19407331,  0.19496793,  0.19586256,  0.19675718,
        0.1976518 ,  0.19854643,  0.19944105,  0.20033568,  0.2012303 ,
        0.20212492,  0.20301955,  0.20391417,  0.2048088 ,  0.20570342,
        0.20659804]))
||Xanchor-Xpos||_2  counter: 
[ 380 2958 3487  852  307  131   61   28   18   10    4    1    2    2    4
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  24  718 3912 1820  680  390  220  144  104   69   48   39   26   20    9
    6    7    8    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00233297  0.00454448  0.006756    0.00896751  0.01117902  0.01339053
  0.01560204  0.01781355  0.02002506  0.02223657  0.02444808  0.02665959
  0.0288711   0.03108261  0.03329412  0.03550563  0.03771714  0.03992865
  0.04214016  0.04435167  0.04656318]
distance difference  counter: 
(array([   1,    0,    3,    7,    6,    6,   16,   17,   46,   60,  145,
        362, 3638, 3868,   57,    8,    2,    0,    0,    4]), array([ 0.1978935 ,  0.19805396,  0.19821441,  0.19837487,  0.19853533,
        0.19869578,  0.19885624,  0.1990167 ,  0.19917715,  0.19933761,
        0.19949806,  0.19965852,  0.19981898,  0.19997943,  0.20013989,
        0.20030035,  0.2004608 ,  0.20062126,  0.20078172,  0.20094217,
        0.20110263]))
train/val Accuracy = 0.661216940216 / 0.528316759641 
 with threshold: [[ 0.01699967]]
============ epoch 5 ===========
training loss:		0.103225
||Xanchor-Xpos||_2  counter: 
[ 7802 10676  3062   919   449   220   124    86    61    49    27    19
     9     4     5     4     0     1     0     0]
||Xanchor-Xneg||_2  counter: 
[2461 8532 5332 2336 1238  825  651  439  342  253  215  211  200  152  117
   87   57   40   22    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00070535  0.00415271  0.00760008  0.01104745  0.01449482  0.01794219
  0.02138956  0.02483693  0.02828429  0.03173166  0.03517903  0.0386264
  0.04207377  0.04552114  0.0489685   0.05241587  0.05586324  0.05931061
  0.06275798  0.06620535  0.06965271]
distance difference  counter: 
(array([    6,    18,    25,    48,    74,   124,   167,   254,   312,
         470,  1200, 18729,  1965,    81,    26,    13,     2,     2,
           1,     1]), array([ 0.19516668,  0.19557096,  0.19597525,  0.19637953,  0.19678382,
        0.1971881 ,  0.19759239,  0.19799667,  0.19840096,  0.19880524,
        0.19920953,  0.19961381,  0.2000181 ,  0.20042238,  0.20082667,
        0.20123095,  0.20163524,  0.20203952,  0.20244381,  0.20284809,
        0.20325238]))
||Xanchor-Xpos||_2  counter: 
[1228 4576 1484  475  223  122   58   30   22   12    5    2    1    2    2
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 148 3610 2125  868  481  345  192  132  104   64   48   40   26   23   15
    5    9    4    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00082879  0.00222167  0.00361454  0.00500741  0.00640028  0.00779315
  0.00918602  0.0105789   0.01197177  0.01336464  0.01475751  0.01615038
  0.01754325  0.01893613  0.020329    0.02172187  0.02311474  0.02450761
  0.02590049  0.02729336  0.02868623]
distance difference  counter: 
(array([   2,    2,    4,    7,    4,   10,   17,   30,   52,   84,  167,
        616, 6925,  297,   18,    6,    1,    0,    0,    4]), array([ 0.19918847,  0.19925244,  0.19931641,  0.19938037,  0.19944434,
        0.19950831,  0.19957228,  0.19963624,  0.19970021,  0.19976418,
        0.19982815,  0.19989212,  0.19995608,  0.20002005,  0.20008402,
        0.20014799,  0.20021195,  0.20027592,  0.20033989,  0.20040386,
        0.20046782]))
train/val Accuracy = 0.643634662811 / 0.535956827553 
 with threshold: [[ 0.00866136]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.099031
||Xanchor-Xpos||_2  counter: 
[18624   926  1031   157   332   440   487   120    62    92    86   116
   148   170   198   208   180   115    23     3]
||Xanchor-Xneg||_2  counter: 
[17907  1266  1169   222    85   192   626   578    21    17    30    33
    48    59    90   147   288   386   286    68]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.86335506e-07   5.88817396e-02   1.17763193e-01   1.76644646e-01
   2.35526099e-01   2.94407553e-01   3.53289006e-01   4.12170459e-01
   4.71051912e-01   5.29933366e-01   5.88814819e-01   6.47696272e-01
   7.06577726e-01   7.65459179e-01   8.24340632e-01   8.83222085e-01
   9.42103539e-01   1.00098499e+00   1.05986645e+00   1.11874790e+00
   1.17762935e+00]
distance difference  counter: 
(array([    6,    10,    19,    26,    51,    69,    89,   130,   141,
         176,   174,   468, 21666,   401,    50,    25,     7,     3,
           3,     4]), array([-1.00818408, -0.91497964, -0.8217752 , -0.72857076, -0.63536632,
       -0.54216188, -0.44895744, -0.355753  , -0.26254857, -0.16934413,
       -0.07613969,  0.01706475,  0.11026919,  0.20347363,  0.29667807,
        0.3898825 ,  0.48308694,  0.57629138,  0.66949582,  0.76270026,
        0.8559047 ]))
||Xanchor-Xpos||_2  counter: 
[  29   95  234  612 1023 1575 1976 1689  773  162   46   21    2    3    3
    1    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2    5   24   57  160  441 1072 2307 2453 1011  339  168   76   54   38
   16    6   12    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.26663110e-07   1.67310657e-07   2.07958203e-07   2.48605750e-07
   2.89253296e-07   3.29900843e-07   3.70548389e-07   4.11195936e-07
   4.51843482e-07   4.92491029e-07   5.33138575e-07   5.73786122e-07
   6.14433668e-07   6.55081215e-07   6.95728761e-07   7.36376307e-07
   7.77023854e-07   8.17671400e-07   8.58318947e-07   8.98966493e-07
   9.39614040e-07]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
train/val Accuracy = 0.503465430734 / 0.5 
 with threshold: [[ 0.09236956]]
============ epoch 1 ===========
training loss:		1.030998
||Xanchor-Xpos||_2  counter: 
[20016   988   965   251   290   405   392   154    32    12     4     4
     2     2     0     0     0     1     0     0]
||Xanchor-Xneg||_2  counter: 
[19231  1264   789   576   162   205   360   490   195    74    37    41
    25    13    10    15    12     7     5     7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.15154888e-13   6.60199376e-08   1.32039760e-07   1.98059582e-07
   2.64079405e-07   3.30099227e-07   3.96119050e-07   4.62138872e-07
   5.28158695e-07   5.94178517e-07   6.60198339e-07   7.26218162e-07
   7.92237984e-07   8.58257807e-07   9.24277629e-07   9.90297452e-07
   1.05631727e-06   1.12233710e-06   1.18835692e-06   1.25437674e-06
   1.32039656e-06]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
||Xanchor-Xpos||_2  counter: 
[ 353 3075 3426  815  312  129   62   31   18   12    3    1    2    3    2
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  21  739 4015 1711  663  402  209  151  109   57   55   34   22   24   12
    4    8    6    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  5.69051506e-14   1.17421584e-13   1.77938018e-13   2.38454451e-13
   2.98970885e-13   3.59487319e-13   4.20003752e-13   4.80520186e-13
   5.41036619e-13   6.01553053e-13   6.62069486e-13   7.22585920e-13
   7.83102354e-13   8.43618787e-13   9.04135221e-13   9.64651654e-13
   1.02516809e-12   1.08568452e-12   1.14620096e-12   1.20671739e-12
   1.26723382e-12]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 2 ===========
training loss:		1.030998
||Xanchor-Xpos||_2  counter: 
[21616  1069   568   152    49    20    12     9     7     3     3     5
     2     0     1     1     1     0     0     0]
||Xanchor-Xneg||_2  counter: 
[20728  1095   776   370   146    90    78    63    38    18    17    13
     9    11    11     9    19    13     9     5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   9.69763874e-14   1.93952775e-13   2.90929162e-13
   3.87905550e-13   4.84881937e-13   5.81858325e-13   6.78834712e-13
   7.75811099e-13   8.72787487e-13   9.69763874e-13   1.06674026e-12
   1.16371665e-12   1.26069304e-12   1.35766942e-12   1.45464581e-12
   1.55162220e-12   1.64859859e-12   1.74557497e-12   1.84255136e-12
   1.93952775e-12]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
||Xanchor-Xpos||_2  counter: 
[8142    0    0   55    0   18    9    5    7    1    4    1    0    0    0
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[7935    0    0  149    0   42   17   17   41   10   10    2    4    3    1
    2    2    3    2    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   2.96630897e-20   5.93261794e-20   8.89892690e-20
   1.18652359e-19   1.48315448e-19   1.77978538e-19   2.07641628e-19
   2.37304717e-19   2.66967807e-19   2.96630897e-19   3.26293986e-19
   3.55957076e-19   3.85620166e-19   4.15283255e-19   4.44946345e-19
   4.74609435e-19   5.04272525e-19   5.33935614e-19   5.63598704e-19
   5.93261794e-19]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 3 ===========
training loss:		1.030998
||Xanchor-Xpos||_2  counter: 
[23148   172    21    27    14    14    12    15    14    11    13    16
    15    11     6     5     3     1     0     0]
||Xanchor-Xneg||_2  counter: 
[22944   236    39    45    25    26    22    16    15     9    16     6
    19     9    18    24    16    16    12     5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   5.51130331e-20   1.10226066e-19   1.65339099e-19
   2.20452133e-19   2.75565166e-19   3.30678199e-19   3.85791232e-19
   4.40904265e-19   4.96017298e-19   5.51130331e-19   6.06243364e-19
   6.61356398e-19   7.16469431e-19   7.71582464e-19   8.26695497e-19
   8.81808530e-19   9.36921563e-19   9.92034596e-19   1.04714763e-18
   1.10226066e-18]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 4 ===========
training loss:		1.030998
||Xanchor-Xpos||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ -2.99999997e-01,  -2.49999997e-01,  -1.99999997e-01,
        -1.49999997e-01,  -9.99999970e-02,  -4.99999970e-02,
         2.98023228e-09,   5.00000030e-02,   1.00000003e-01,
         1.50000003e-01,   2.00000003e-01,   2.50000003e-01,
         3.00000003e-01,   3.50000003e-01,   4.00000003e-01,
         4.50000003e-01,   5.00000003e-01,   5.50000003e-01,
         6.00000003e-01,   6.50000003e-01,   7.00000003e-01]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.020602
||Xanchor-Xpos||_2  counter: 
[  28   99  205  339  489  667  960 1159 1374 1638 1890 2125 2428 2559 2544
 2370 1737  780  126    1]
||Xanchor-Xneg||_2  counter: 
[   6   37   55   96  140  173  193  247  349  406  525  808 1029 1562 2248
 3487 4826 4799 2300  232]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1933856   0.24346313  0.29354066  0.34361818  0.39369571  0.44377324
  0.49385077  0.5439283   0.59400582  0.64408335  0.69416088  0.74423841
  0.79431593  0.84439346  0.89447099  0.94454852  0.99462605  1.04470357
  1.0947811   1.14485863  1.19493616]
distance difference  counter: 
(array([   9,   94,  259,  567,  925, 1504, 1988, 2460, 2903, 3202, 3456,
       3477, 1723,  603,  197,   67,   50,   24,    6,    4]), array([ 0.69407344,  0.80633632,  0.9185992 ,  1.03086208,  1.14312496,
        1.25538784,  1.36765072,  1.4799136 ,  1.59217649,  1.70443937,
        1.81670225,  1.92896513,  2.04122801,  2.15349089,  2.26575377,
        2.37801665,  2.49027953,  2.60254241,  2.71480529,  2.82706817,
        2.93933105]))
||Xanchor-Xpos||_2  counter: 
[   3   11   34   69  106  143  244  326  409  563  712  828  953 1080 1027
  904  554  242   34    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    4    5   16   19   39   58  105  165  272  426  657 1044
 1491 1865 1456  550   74]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2873989   0.3320323   0.3766657   0.42129909  0.46593249  0.51056588
  0.55519928  0.59983268  0.64446607  0.68909947  0.73373286  0.77836626
  0.82299966  0.86763305  0.91226645  0.95689984  1.00153324  1.04616664
  1.09080003  1.13543343  1.18006682]
distance difference  counter: 
(array([   5,   19,   62,  102,  210,  329,  498,  674,  810, 1006, 1141,
       1179, 1034,  669,  329,  111,   46,   15,    6,    1]), array([ 0.83111978,  0.92255348,  1.01398718,  1.10542089,  1.19685459,
        1.2882883 ,  1.379722  ,  1.4711557 ,  1.56258941,  1.65402311,
        1.74545681,  1.83689052,  1.92832422,  2.01975793,  2.11119163,
        2.20262533,  2.29405904,  2.38549274,  2.47692645,  2.56836015,
        2.65979385]))
train/val Accuracy = 0.71566459733 / 0.70888915838 
 with threshold: [[ 0.8821431]]
============ epoch 1 ===========
training loss:		0.020585
||Xanchor-Xpos||_2  counter: 
[  21   69  185  309  510  663  894 1090 1316 1646 1930 2122 2367 2482 2617
 2421 1893  822  160    1]
||Xanchor-Xneg||_2  counter: 
[   4   36   47   82  139  166  201  235  292  421  499  764 1042 1519 2162
 3328 4749 4954 2589  289]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18205784  0.23248686  0.28291588  0.33334489  0.38377391  0.43420293
  0.48463195  0.53506096  0.58548998  0.635919    0.68634801  0.73677703
  0.78720605  0.83763506  0.88806408  0.9384931   0.98892212  1.03935113
  1.08978015  1.14020917  1.19063818]
distance difference  counter: 
(array([  37,  117,  373,  631, 1088, 1633, 2183, 2650, 2965, 3294, 3555,
       3091, 1227,  417,  131,   78,   27,   10,    8,    3]), array([ 0.72551656,  0.83816946,  0.95082235,  1.06347525,  1.17612815,
        1.28878105,  1.40143394,  1.51408684,  1.62673974,  1.73939264,
        1.85204554,  1.96469843,  2.07735133,  2.19000423,  2.30265713,
        2.41531003,  2.52796292,  2.64061582,  2.75326872,  2.86592162,
        2.97857451]))
||Xanchor-Xpos||_2  counter: 
[  10   11   28   69  105  157  226  331  436  524  705  863  994 1074 1037
  856  575  211   29    5]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    3    8   12   17   32   59   83  185  248  454  704 1091
 1487 1880 1431  488   63]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27855292  0.3238399   0.36912688  0.41441386  0.45970085  0.50498783
  0.55027481  0.59556179  0.64084877  0.68613576  0.73142274  0.77670972
  0.8219967   0.86728368  0.91257066  0.95785765  1.00314463  1.04843161
  1.09371859  1.13900557  1.18429255]
distance difference  counter: 
(array([   9,   27,   63,  119,  224,  343,  507,  622,  838,  996, 1106,
       1168, 1027,  669,  343,  116,   49,   16,    3,    1]), array([ 0.84720767,  0.93714903,  1.02709039,  1.11703176,  1.20697312,
        1.29691449,  1.38685585,  1.47679722,  1.56673858,  1.65667995,
        1.74662131,  1.83656268,  1.92650404,  2.0164454 ,  2.10638677,
        2.19632813,  2.2862695 ,  2.37621086,  2.46615223,  2.55609359,
        2.64603496]))
train/val Accuracy = 0.714155115231 / 0.710041232113 
 with threshold: [[ 0.88154075]]
============ epoch 2 ===========
training loss:		0.020569
||Xanchor-Xpos||_2  counter: 
[  19   87  169  300  480  685  896 1148 1367 1685 1933 2164 2372 2523 2637
 2397 1772  746  136    2]
||Xanchor-Xneg||_2  counter: 
[   5   24   56   95  129  163  198  267  325  392  567  753 1039 1571 2290
 3408 4944 4753 2305  234]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18178321  0.23247708  0.28317095  0.33386482  0.38455869  0.43525256
  0.48594643  0.5366403   0.58733416  0.63802803  0.6887219   0.73941577
  0.79010964  0.84080351  0.89149738  0.94219125  0.99288512  1.04357898
  1.09427285  1.14496672  1.19566059]
distance difference  counter: 
(array([  55,  155,  416,  701, 1189, 1650, 2156, 2574, 2959, 3248, 3396,
       2965, 1288,  449,  159,   87,   39,   23,    5,    4]), array([ 0.75854754,  0.86820323,  0.97785892,  1.08751462,  1.19717031,
        1.306826  ,  1.41648169,  1.52613738,  1.63579307,  1.74544876,
        1.85510445,  1.96476014,  2.07441583,  2.18407152,  2.29372721,
        2.4033829 ,  2.51303859,  2.62269428,  2.73234997,  2.84200566,
        2.95166135]))
||Xanchor-Xpos||_2  counter: 
[   5   13   37   70  109  153  268  362  424  582  723  852 1039 1129  994
  862  451  151   22    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    1    6   14   24   44   56  111  186  278  526  754 1166
 1658 1858 1201  342   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28688845  0.33228929  0.37769012  0.42309096  0.46849179  0.51389263
  0.55929346  0.6046943   0.65009513  0.69549597  0.74089681  0.78629764
  0.83169848  0.87709931  0.92250015  0.96790098  1.01330182  1.05870266
  1.10410349  1.14950433  1.19490516]
distance difference  counter: 
(array([   4,   16,   41,   89,  178,  285,  409,  518,  674,  825, 1011,
       1112, 1081,  963,  581,  298,   94,   46,   15,    6]), array([ 0.83425665,  0.91972234,  1.00518804,  1.09065373,  1.17611942,
        1.26158512,  1.34705081,  1.4325165 ,  1.5179822 ,  1.60344789,
        1.68891358,  1.77437928,  1.85984497,  1.94531066,  2.03077636,
        2.11624205,  2.20170774,  2.28717344,  2.37263913,  2.45810483,
        2.54357052]))
train/val Accuracy = 0.713559826516 / 0.708161532864 
 with threshold: [[ 0.88065114]]
============ epoch 3 ===========
training loss:		0.020552
||Xanchor-Xpos||_2  counter: 
[  24   95  200  303  494  662  911 1129 1425 1643 1947 2086 2389 2498 2531
 2410 1802  796  168    5]
||Xanchor-Xneg||_2  counter: 
[   5   33   58   87  150  161  194  253  319  426  560  738 1016 1503 2257
 3343 4730 4799 2510  376]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19293304  0.2427604   0.29258776  0.34241513  0.39224249  0.44206985
  0.49189722  0.54172458  0.59155194  0.64137931  0.69120667  0.74103403
  0.7908614   0.84068876  0.89051612  0.94034349  0.99017085  1.03999821
  1.08982558  1.13965294  1.1894803 ]
distance difference  counter: 
(array([  44,  119,  362,  635, 1059, 1605, 2068, 2583, 3006, 3222, 3437,
       3182, 1375,  498,  169,   87,   39,   15,    8,    5]), array([ 0.73487198,  0.84563153,  0.95639108,  1.06715063,  1.17791018,
        1.28866974,  1.39942929,  1.51018884,  1.62094839,  1.73170794,
        1.84246749,  1.95322704,  2.06398659,  2.17474614,  2.28550569,
        2.39626524,  2.50702479,  2.61778434,  2.72854389,  2.83930344,
        2.95006299]))
||Xanchor-Xpos||_2  counter: 
[   7    4   26   55  104  153  227  329  429  579  710  886 1041 1095 1042
  880  496  160   22    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    0    3   11   18   43   53   95  170  282  477  712 1182
 1620 1918 1316  318   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26465547  0.31116198  0.35766848  0.40417499  0.4506815   0.497188
  0.54369451  0.59020101  0.63670752  0.68321403  0.72972053  0.77622704
  0.82273355  0.86924005  0.91574656  0.96225306  1.00875957  1.05526608
  1.10177258  1.14827909  1.19478559]
distance difference  counter: 
(array([   3,   21,   67,   97,  203,  311,  486,  603,  804,  959, 1098,
       1109, 1070,  779,  380,  145,   71,   26,   11,    3]), array([ 0.84983313,  0.93769671,  1.0255603 ,  1.11342388,  1.20128746,
        1.28915104,  1.37701463,  1.46487821,  1.55274179,  1.64060537,
        1.72846895,  1.81633254,  1.90419612,  1.9920597 ,  2.07992328,
        2.16778687,  2.25565045,  2.34351403,  2.43137761,  2.5192412 ,
        2.60710478]))
train/val Accuracy = 0.715622076707 / 0.714043172447 
 with threshold: [[ 0.88107964]]
============ epoch 4 ===========
training loss:		0.020533
||Xanchor-Xpos||_2  counter: 
[  29   86  205  303  527  694  936 1159 1413 1687 1908 2146 2400 2551 2600
 2303 1729  714  124    4]
||Xanchor-Xneg||_2  counter: 
[   4   37   56   94  132  165  206  242  353  402  546  762 1058 1548 2359
 3461 4926 4646 2255  266]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18968081  0.23990358  0.29012634  0.3403491   0.39057186  0.44079462
  0.49101738  0.54124014  0.5914629   0.64168566  0.69190842  0.74213118
  0.79235394  0.8425767   0.89279946  0.94302222  0.99324498  1.04346774
  1.0936905   1.14391326  1.19413602]
distance difference  counter: 
(array([  33,  123,  347,  646, 1141, 1626, 2100, 2672, 3084, 3341, 3467,
       3031, 1234,  419,  137,   64,   35,   12,    4,    2]), array([ 0.72329009,  0.836206  ,  0.94912192,  1.06203783,  1.17495375,
        1.28786966,  1.40078558,  1.51370149,  1.62661741,  1.73953332,
        1.85244924,  1.96536515,  2.07828107,  2.19119698,  2.3041129 ,
        2.41702881,  2.52994473,  2.64286065,  2.75577656,  2.86869248,
        2.98160839]))
||Xanchor-Xpos||_2  counter: 
[   7    8   24   61   99  158  257  336  458  596  729  904 1034 1081 1002
  848  476  143   24    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    4   14   23   45   65  103  157  276  506  781 1184
 1674 1842 1206  342   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27780956  0.32365248  0.3694954   0.41533832  0.46118124  0.50702415
  0.55286707  0.59870999  0.64455291  0.69039583  0.73623875  0.78208167
  0.82792459  0.8737675   0.91961042  0.96545334  1.01129626  1.05713918
  1.1029821   1.14882502  1.19466794]
distance difference  counter: 
(array([   5,   20,   51,   84,  220,  316,  495,  665,  776, 1009, 1105,
       1203, 1063,  697,  346,  116,   46,   24,    4,    1]), array([ 0.83347583,  0.9239589 ,  1.01444197,  1.10492504,  1.19540811,
        1.28589118,  1.37637424,  1.46685731,  1.55734038,  1.64782345,
        1.73830652,  1.82878959,  1.91927266,  2.00975573,  2.1002388 ,
        2.19072187,  2.28120494,  2.37168801,  2.46217108,  2.55265415,
        2.64313722]))
train/val Accuracy = 0.71668509227 / 0.714467620665 
 with threshold: [[ 0.87957087]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.194797
||Xanchor-Xpos||_2  counter: 
[  18   87  172  314  465  700  942 1177 1474 1709 1981 2261 2439 2620 2682
 2319 1573  526   58    1]
||Xanchor-Xneg||_2  counter: 
[   3   24   55   84  136  179  204  243  347  433  545  809 1160 1677 2590
 3924 5198 4461 1372   74]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1766493   0.2281647   0.27968011  0.33119551  0.38271091  0.43422631
  0.48574171  0.53725712  0.58877252  0.64028792  0.69180332  0.74331872
  0.79483413  0.84634953  0.89786493  0.94938033  1.00089573  1.05241113
  1.10392654  1.15544194  1.20695734]
distance difference  counter: 
(array([  25,  126,  262,  626, 1056, 1597, 2197, 2667, 3090, 3453, 3666,
       2995, 1159,  359,  138,   64,   23,    8,    4,    3]), array([ 0.70124185,  0.81680258,  0.93236331,  1.04792404,  1.16348476,
        1.27904549,  1.39460622,  1.51016695,  1.62572768,  1.74128841,
        1.85684913,  1.97240986,  2.08797059,  2.20353132,  2.31909205,
        2.43465278,  2.5502135 ,  2.66577423,  2.78133496,  2.89689569,
        3.01245642]))
||Xanchor-Xpos||_2  counter: 
[   2   14   40   52  117  138  206  319  411  547  649  827  984 1040 1072
  916  599  252   57    4]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    2    5   10   19   30   74   95  143  245  414  646  955
 1525 1808 1577  621   76]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28295925  0.32704482  0.37113039  0.41521595  0.45930152  0.50338709
  0.54747265  0.59155822  0.63564379  0.67972935  0.72381492  0.76790049
  0.81198605  0.85607162  0.90015719  0.94424275  0.98832832  1.03241389
  1.07649945  1.12058502  1.16467059]
distance difference  counter: 
(array([   6,   18,   56,  106,  177,  295,  396,  575,  716,  835,  995,
       1067, 1166,  827,  563,  277,  105,   35,   21,   10]), array([ 0.87480927,  0.95795407,  1.04109888,  1.12424369,  1.2073885 ,
        1.2905333 ,  1.37367811,  1.45682292,  1.53996773,  1.62311254,
        1.70625734,  1.78940215,  1.87254696,  1.95569177,  2.03883657,
        2.12198138,  2.20512619,  2.288271  ,  2.37141581,  2.45456061,
        2.53770542]))
train/val Accuracy = 0.716770133515 / 0.710526315789 
 with threshold: [[ 0.87727535]]
============ epoch 1 ===========
training loss:		0.193083
||Xanchor-Xpos||_2  counter: 
[  34  102  200  355  533  700  961 1223 1445 1677 1897 2251 2432 2578 2668
 2279 1531  575   76    1]
||Xanchor-Xneg||_2  counter: 
[  10   35   57  107  142  169  202  260  359  416  576  840 1074 1715 2540
 3780 4960 4512 1634  130]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19366688  0.24346246  0.29325804  0.34305362  0.39284921  0.44264479
  0.49244037  0.54223596  0.59203154  0.64182712  0.6916227   0.74141829
  0.79121387  0.84100945  0.89080504  0.94060062  0.9903962   1.04019178
  1.08998737  1.13978295  1.18957853]
distance difference  counter: 
(array([  12,   71,  212,  475,  902, 1447, 2016, 2624, 3087, 3418, 3714,
       3364, 1446,  452,  153,   70,   32,   16,    5,    2]), array([ 0.67390168,  0.78981114,  0.9057206 ,  1.02163007,  1.13753953,
        1.25344899,  1.36935846,  1.48526792,  1.60117738,  1.71708685,
        1.83299631,  1.94890577,  2.06481524,  2.1807247 ,  2.29663416,
        2.41254362,  2.52845309,  2.64436255,  2.76027201,  2.87618148,
        2.99209094]))
||Xanchor-Xpos||_2  counter: 
[   7   16   33   60  117  146  235  322  447  590  677  844 1008 1025 1056
  860  546  219   36    2]
||Xanchor-Xneg||_2  counter: 
[   0    2    0    2    6   15   22   42   57   92  169  245  458  701 1024
 1530 1849 1473  502   57]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28590378  0.32961524  0.3733267   0.41703817  0.46074963  0.50446109
  0.54817255  0.59188401  0.63559547  0.67930693  0.72301839  0.76672985
  0.81044132  0.85415278  0.89786424  0.9415757   0.98528716  1.02899862
  1.07271008  1.11642154  1.160133  ]
distance difference  counter: 
(array([   1,   19,   54,  131,  228,  400,  598,  827,  970, 1202, 1327,
       1189,  793,  334,  114,   39,   13,    5,    0,    2]), array([ 0.84267199,  0.93942938,  1.03618678,  1.13294417,  1.22970157,
        1.32645896,  1.42321635,  1.51997375,  1.61673114,  1.71348854,
        1.81024593,  1.90700333,  2.00376072,  2.10051811,  2.19727551,
        2.2940329 ,  2.3907903 ,  2.48754769,  2.58430508,  2.68106248,
        2.77781987]))
train/val Accuracy = 0.715281911727 / 0.713739995149 
 with threshold: [[ 0.86984897]]
============ epoch 2 ===========
training loss:		0.191400
||Xanchor-Xpos||_2  counter: 
[  19  102  193  356  551  715  979 1162 1534 1762 2054 2309 2410 2713 2707
 2193 1308  415   35    1]
||Xanchor-Xneg||_2  counter: 
[   8   33   51  105  146  189  210  269  353  462  605  841 1227 1834 2749
 4133 5234 3995 1004   70]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18458797  0.23503862  0.28548926  0.33593991  0.38639055  0.4368412
  0.48729185  0.53774249  0.58819314  0.63864379  0.68909443  0.73954508
  0.78999572  0.84044637  0.89089702  0.94134766  0.99179831  1.04224895
  1.0926996   1.14315025  1.19360089]
distance difference  counter: 
(array([   5,   72,  171,  426,  814, 1300, 1908, 2389, 2996, 3322, 3566,
       3680, 1855,  646,  208,   86,   42,   22,    7,    3]), array([ 0.68465137,  0.79692001,  0.90918865,  1.02145729,  1.13372593,
        1.24599457,  1.35826321,  1.47053185,  1.58280048,  1.69506912,
        1.80733776,  1.9196064 ,  2.03187504,  2.14414368,  2.25641232,
        2.36868095,  2.48094959,  2.59321823,  2.70548687,  2.81775551,
        2.93002415]))
||Xanchor-Xpos||_2  counter: 
[   5   13   45   61  100  154  229  327  404  576  679  863 1019 1070  983
  898  567  208   43    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    7   16   21   42   63   89  164  254  458  698 1001
 1562 1865 1445  510   48]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28230932  0.32567516  0.36904099  0.41240683  0.45577266  0.4991385
  0.54250433  0.58587017  0.629236    0.67260184  0.71596767  0.7593335
  0.80269934  0.84606517  0.88943101  0.93279684  0.97616268  1.01952851
  1.06289435  1.10626018  1.14962602]
distance difference  counter: 
(array([   5,   24,   82,  160,  268,  442,  683,  862,  985, 1209, 1346,
       1123,  634,  278,   96,   35,    8,    3,    1,    2]), array([ 0.90564632,  0.99899632,  1.09234631,  1.1856963 ,  1.2790463 ,
        1.37239629,  1.46574628,  1.55909628,  1.65244627,  1.74579626,
        1.83914626,  1.93249625,  2.02584624,  2.11919624,  2.21254623,
        2.30589622,  2.39924622,  2.49259621,  2.5859462 ,  2.6792962 ,
        2.77264619]))
train/val Accuracy = 0.715048048303 / 0.712891098715 
 with threshold: [[ 0.86149335]]
============ epoch 3 ===========
training loss:		0.189749
||Xanchor-Xpos||_2  counter: 
[  22  108  178  369  505  705  908 1200 1447 1702 1988 2292 2468 2602 2635
 2291 1501  538   58    1]
||Xanchor-Xneg||_2  counter: 
[   5   28   54   99  146  167  185  268  344  459  587  811 1157 1688 2549
 3898 5083 4385 1470  135]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18336208  0.23281373  0.28226538  0.33171704  0.38116869  0.43062034
  0.48007199  0.52952364  0.57897529  0.62842694  0.6778786   0.72733025
  0.7767819   0.82623355  0.8756852   0.92513685  0.9745885   1.02404016
  1.07349181  1.12294346  1.17239511]
distance difference  counter: 
(array([  19,   96,  226,  547,  980, 1548, 2108, 2699, 3127, 3481, 3769,
       3102, 1188,  398,  127,   60,   28,    9,    4,    2]), array([ 0.73793733,  0.84979632,  0.96165532,  1.07351431,  1.18537331,
        1.2972323 ,  1.40909129,  1.52095029,  1.63280928,  1.74466828,
        1.85652727,  1.96838626,  2.08024526,  2.19210425,  2.30396324,
        2.41582224,  2.52768123,  2.63954023,  2.75139922,  2.86325821,
        2.97511721]))
||Xanchor-Xpos||_2  counter: 
[   7   16   38   66  116  160  226  308  422  570  619  847  943 1051 1021
  908  587  268   70    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2    7   17   20   39   56   98  161  221  437  665  931
 1485 1746 1577  681  102]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.285074    0.32723655  0.36939909  0.41156164  0.45372419  0.49588674
  0.53804929  0.58021184  0.62237439  0.66453694  0.70669949  0.74886204
  0.79102459  0.83318714  0.87534969  0.91751224  0.95967479  1.00183734
  1.04399989  1.08616244  1.12832499]
distance difference  counter: 
(array([   1,   14,   30,   71,  181,  214,  365,  555,  701,  828, 1008,
       1135, 1107,  987,  596,  284,  100,   43,   19,    7]), array([ 0.88553596,  0.96718754,  1.04883912,  1.1304907 ,  1.21214228,
        1.29379386,  1.37544544,  1.45709702,  1.5387486 ,  1.62040018,
        1.70205176,  1.78370334,  1.86535492,  1.9470065 ,  2.02865808,
        2.11030966,  2.19196124,  2.27361282,  2.3552644 ,  2.43691598,
        2.51856756]))
train/val Accuracy = 0.715366952972 / 0.711920931361 
 with threshold: [[ 0.85398796]]
============ epoch 4 ===========
training loss:		0.188129
||Xanchor-Xpos||_2  counter: 
[  20   97  184  334  546  701  934 1239 1432 1777 2021 2249 2461 2714 2637
 2216 1426  489   40    1]
||Xanchor-Xneg||_2  counter: 
[   5   32   57   89  148  176  224  237  341  448  592  857 1158 1772 2606
 4024 5106 4180 1352  114]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18154401  0.23073023  0.27991645  0.32910267  0.37828889  0.42747511
  0.47666133  0.52584755  0.57503377  0.62421999  0.67340621  0.72259243
  0.77177866  0.82096488  0.8701511   0.91933732  0.96852354  1.01770976
  1.06689598  1.1160822   1.16526842]
distance difference  counter: 
(array([  12,   60,  170,  436,  878, 1375, 2011, 2592, 3079, 3593, 3733,
       3416, 1457,  437,  160,   57,   32,   13,    6,    1]), array([ 0.72242391,  0.83382789,  0.94523188,  1.05663586,  1.16803985,
        1.27944383,  1.39084781,  1.5022518 ,  1.61365578,  1.72505977,
        1.83646375,  1.94786773,  2.05927172,  2.1706757 ,  2.28207968,
        2.39348367,  2.50488765,  2.61629164,  2.72769562,  2.8390996 ,
        2.95050359]))
||Xanchor-Xpos||_2  counter: 
[  10   11   38   51  109  167  231  330  420  554  714  840  997 1083 1046
  870  527  214   33    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    2    4   14   27   41   67   88  164  264  482  674 1069
 1525 1881 1417  484   41]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2769798   0.31964698  0.36231416  0.40498134  0.44764853  0.49031571
  0.53298289  0.57565007  0.61831725  0.66098443  0.70365161  0.74631879
  0.78898597  0.83165315  0.87432033  0.91698751  0.95965469  1.00232187
  1.04498905  1.08765623  1.13032341]
distance difference  counter: 
(array([   7,   24,   53,  112,  214,  295,  479,  625,  741,  932, 1103,
       1189, 1106,  744,  382,  139,   57,   34,    8,    2]), array([ 0.94868946,  1.02929584,  1.10990222,  1.19050859,  1.27111497,
        1.35172135,  1.43232772,  1.5129341 ,  1.59354048,  1.67414685,
        1.75475323,  1.83535961,  1.91596599,  1.99657236,  2.07717874,
        2.15778512,  2.23839149,  2.31899787,  2.39960425,  2.48021063,
        2.560817  ]))
train/val Accuracy = 0.716918955694 / 0.712466650497 
 with threshold: [[ 0.84581976]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.868055
||Xanchor-Xpos||_2  counter: 
[  25   93  220  357  524  732 1023 1194 1525 1812 2093 2292 2576 2581 2639
 2025 1299  435   71    2]
||Xanchor-Xneg||_2  counter: 
[   7   36   59   94  148  187  219  289  350  482  676  884 1326 1921 3009
 4331 4816 3398 1161  125]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17840657  0.22833825  0.27826994  0.32820163  0.37813332  0.42806501
  0.4779967   0.52792839  0.57786008  0.62779176  0.67772345  0.72765514
  0.77758683  0.82751852  0.87745021  0.9273819   0.97731358  1.02724527
  1.07717696  1.12710865  1.17704034]
distance difference  counter: 
(array([   9,   67,  223,  477,  872, 1349, 1927, 2427, 2790, 3185, 3464,
       3643, 1934,  716,  245,   88,   51,   37,    7,    7]), array([ 0.7774961 ,  0.88129963,  0.98510315,  1.08890668,  1.19271021,
        1.29651374,  1.40031726,  1.50412079,  1.60792432,  1.71172785,
        1.81553137,  1.9193349 ,  2.02313843,  2.12694196,  2.23074548,
        2.33454901,  2.43835254,  2.54215606,  2.64595959,  2.74976312,
        2.85356665]))
||Xanchor-Xpos||_2  counter: 
[   4   10   28   59   92  167  202  334  397  514  635  747 1019 1014 1065
  919  672  300   62    6]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    2   10   24   38   46   83  143  202  401  608  949
 1407 1796 1663  766  106]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25494072  0.29533914  0.33573757  0.376136    0.41653442  0.45693285
  0.49733128  0.5377297   0.57812813  0.61852656  0.65892498  0.69932341
  0.73972183  0.78012026  0.82051869  0.86091711  0.90131554  0.94171397
  0.98211239  1.02251082  1.06290925]
distance difference  counter: 
(array([   3,   22,   66,  121,  272,  412,  547,  736,  957, 1118, 1221,
       1237,  878,  439,  128,   60,   18,    8,    0,    3]), array([ 1.03644991,  1.11546311,  1.19447632,  1.27348952,  1.35250273,
        1.43151593,  1.51052914,  1.58954234,  1.66855555,  1.74756875,
        1.82658195,  1.90559516,  1.98460836,  2.06362157,  2.14263477,
        2.22164798,  2.30066118,  2.37967439,  2.45868759,  2.5377008 ,
        2.616714  ]))
train/val Accuracy = 0.712581852198 / 0.728535047296 
 with threshold: [[ 0.84334376]]
============ epoch 1 ===========
training loss:		1.721670
||Xanchor-Xpos||_2  counter: 
[  16   90  187  346  526  750 1003 1343 1555 1751 2057 2373 2618 2598 2593
 2107 1172  382   50    1]
||Xanchor-Xneg||_2  counter: 
[   5   32   54   99  150  190  214  265  374  474  667  901 1415 2011 3090
 4504 4900 3143  957   73]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15624309  0.20224068  0.24823827  0.29423586  0.34023345  0.38623103
  0.43222862  0.47822621  0.5242238   0.57022139  0.61621898  0.66221657
  0.70821416  0.75421175  0.80020934  0.84620693  0.89220452  0.93820211
  0.9841997   1.03019729  1.07619488]
distance difference  counter: 
(array([   5,   44,  158,  449,  780, 1331, 1757, 2340, 2783, 3200, 3412,
       3665, 2309,  824,  273,   90,   54,   28,   10,    6]), array([ 0.96718693,  1.05381339,  1.14043984,  1.2270663 ,  1.31369276,
        1.40031922,  1.48694568,  1.57357213,  1.66019859,  1.74682505,
        1.83345151,  1.92007797,  2.00670443,  2.09333088,  2.17995734,
        2.2665838 ,  2.35321026,  2.43983672,  2.52646317,  2.61308963,
        2.69971609]))
||Xanchor-Xpos||_2  counter: 
[   6   18   44   61   92  172  244  359  452  581  733  878 1034 1123  986
  859  449  143   11    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    5    3   20   26   33   67  117  173  288  498  787 1186
 1638 1907 1215  271   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23547848  0.27318987  0.31090127  0.34861266  0.38632406  0.42403546
  0.46174685  0.49945825  0.53716964  0.57488104  0.61259244  0.65030383
  0.68801523  0.72572662  0.76343802  0.80114942  0.83886081  0.87657221
  0.9142836   0.951995    0.9897064 ]
distance difference  counter: 
(array([   1,    8,   28,   89,  149,  278,  454,  591,  774,  996, 1153,
       1270, 1106,  762,  367,  133,   53,   25,    6,    3]), array([ 1.15786695,  1.22263594,  1.28740492,  1.3521739 ,  1.41694288,
        1.48171186,  1.54648085,  1.61124983,  1.67601881,  1.74078779,
        1.80555677,  1.87032576,  1.93509474,  1.99986372,  2.0646327 ,
        2.12940168,  2.19417067,  2.25893965,  2.32370863,  2.38847761,
        2.45324659]))
train/val Accuracy = 0.712284207841 / 0.729869027407 
 with threshold: [[ 0.76636759]]
============ epoch 2 ===========
training loss:		1.600923
||Xanchor-Xpos||_2  counter: 
[  18   89  194  367  508  727 1039 1200 1576 1845 2119 2407 2599 2662 2574
 2080 1123  353   35    3]
||Xanchor-Xneg||_2  counter: 
[   6   29   54  107  142  198  200  275  382  479  675  964 1377 2068 3168
 4449 4894 3122  858   71]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.14281352  0.18464796  0.22648239  0.26831683  0.31015127  0.3519857
  0.39382014  0.43565458  0.47748902  0.51932345  0.56115789  0.60299233
  0.64482676  0.6866612   0.72849564  0.77033008  0.81216451  0.85399895
  0.89583339  0.93766782  0.97950226]
distance difference  counter: 
(array([  19,   91,  266,  557, 1053, 1439, 2037, 2487, 2960, 3206, 3529,
       3396, 1557,  577,  191,   76,   47,   20,    6,    4]), array([ 1.18460166,  1.25518581,  1.32576996,  1.39635411,  1.46693826,
        1.53752241,  1.60810655,  1.6786907 ,  1.74927485,  1.819859  ,
        1.89044315,  1.96102729,  2.03161144,  2.10219559,  2.17277974,
        2.24336389,  2.31394804,  2.38453218,  2.45511633,  2.52570048,
        2.59628463]))
||Xanchor-Xpos||_2  counter: 
[   5   14   39   62  104  141  251  306  435  513  688  805  994 1051 1068
  893  594  239   44    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1    6   11   21   40   48  105  145  254  453  650 1007
 1526 1804 1528  585   61]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.21388032  0.24736503  0.28084974  0.31433445  0.34781916  0.38130387
  0.41478858  0.4482733   0.48175801  0.51524272  0.54872743  0.58221214
  0.61569685  0.64918156  0.68266628  0.71615099  0.7496357   0.78312041
  0.81660512  0.85008983  0.88357455]
distance difference  counter: 
(array([  11,   30,   66,  153,  280,  434,  627,  757,  940, 1151, 1201,
       1197,  796,  387,  137,   44,   21,   10,    2,    2]), array([ 1.35854197,  1.41173326,  1.46492455,  1.51811584,  1.57130713,
        1.62449843,  1.67768972,  1.73088101,  1.7840723 ,  1.8372636 ,
        1.89045489,  1.94364618,  1.99683747,  2.05002877,  2.10322006,
        2.15641135,  2.20960264,  2.26279393,  2.31598523,  2.36917652,
        2.42236781]))
train/val Accuracy = 0.712029084106 / 0.725988357992 
 with threshold: [[ 0.69648853]]
============ epoch 3 ===========
training loss:		1.501324
||Xanchor-Xpos||_2  counter: 
[  21   89  204  366  550  740 1013 1300 1543 1875 2136 2353 2621 2722 2591
 2029 1044  288   33    0]
||Xanchor-Xneg||_2  counter: 
[   5   27   58  100  153  182  219  306  367  500  664  963 1442 2168 3345
 4498 4758 2915  791   57]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.13008496  0.1682771   0.20646925  0.24466139  0.28285353  0.32104567
  0.35923782  0.39742996  0.4356221   0.47381424  0.51200639  0.55019853
  0.58839067  0.62658281  0.66477496  0.7029671   0.74115924  0.77935138
  0.81754353  0.85573567  0.89392781]
distance difference  counter: 
(array([  10,   66,  183,  469,  825, 1270, 1812, 2273, 2681, 3043, 3408,
       3592, 2468,  876,  319,  122,   58,   23,   14,    6]), array([ 1.30840468,  1.36602057,  1.42363646,  1.48125235,  1.53886824,
        1.59648412,  1.65410001,  1.7117159 ,  1.76933179,  1.82694768,
        1.88456357,  1.94217945,  1.99979534,  2.05741123,  2.11502712,
        2.17264301,  2.23025889,  2.28787478,  2.34549067,  2.40310656,
        2.46072245]))
||Xanchor-Xpos||_2  counter: 
[   8   16   46   54   99  161  259  329  451  511  729  828 1033 1077 1066
  817  557  171   32    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    2    4   14   22   44   59   98  167  273  437  748 1081
 1585 1847 1401  413   49]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19739006  0.22794142  0.25849277  0.28904412  0.31959547  0.35014682
  0.38069817  0.41124952  0.44180087  0.47235222  0.50290357  0.53345492
  0.56400627  0.59455763  0.62510898  0.65566033  0.68621168  0.71676303
  0.74731438  0.77786573  0.80841708]
distance difference  counter: 
(array([   6,   21,   53,  125,  223,  374,  563,  666,  876, 1077, 1227,
       1231,  939,  517,  225,   78,   32,   11,    1,    1]), array([ 1.45793033,  1.50139062,  1.54485092,  1.58831122,  1.63177152,
        1.67523181,  1.71869211,  1.76215241,  1.80561271,  1.849073  ,
        1.8925333 ,  1.9359936 ,  1.9794539 ,  2.0229142 ,  2.06637449,
        2.10983479,  2.15329509,  2.19675539,  2.24021568,  2.28367598,
        2.32713628]))
train/val Accuracy = 0.711646398503 / 0.728231869998 
 with threshold: [[ 0.63288482]]
============ epoch 4 ===========
training loss:		1.419167
||Xanchor-Xpos||_2  counter: 
[  23  102  208  352  540  728 1049 1283 1569 1802 2156 2388 2570 2658 2645
 2034 1089  281   41    0]
||Xanchor-Xneg||_2  counter: 
[   7   29   57  112  138  179  225  292  395  480  685  991 1399 2100 3244
 4566 4691 3012  848   68]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11930441  0.15388196  0.18845951  0.22303706  0.25761461  0.29219216
  0.3267697   0.36134725  0.3959248   0.43050235  0.4650799   0.49965745
  0.534235    0.56881255  0.6033901   0.63796764  0.67254519  0.70712274
  0.74170029  0.77627784  0.81085539]
distance difference  counter: 
(array([   6,   54,  182,  446,  779, 1224, 1698, 2358, 2731, 3124, 3358,
       3596, 2520,  922,  294,  107,   67,   37,   11,    4]), array([ 1.42177439,  1.46987081,  1.51796722,  1.56606364,  1.61416006,
        1.66225648,  1.7103529 ,  1.75844932,  1.80654573,  1.85464215,
        1.90273857,  1.95083499,  1.99893141,  2.04702783,  2.09512424,
        2.14322066,  2.19131708,  2.2394135 ,  2.28750992,  2.33560634,
        2.38370275]))
||Xanchor-Xpos||_2  counter: 
[   9   15   39   57  101  165  220  349  428  576  702  826  979 1061 1061
  885  570  178   25    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1    3   14   22   48   65  100  155  265  482  702 1066
 1614 1854 1373  448   33]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17644513  0.20436404  0.23228295  0.26020186  0.28812077  0.31603968
  0.34395859  0.3718775   0.39979641  0.42771533  0.45563424  0.48355315
  0.51147206  0.53939097  0.56730988  0.59522879  0.6231477   0.65106661
  0.67898552  0.70690444  0.73482335]
distance difference  counter: 
(array([   6,   16,   35,   89,  173,  304,  455,  595,  756,  928, 1155,
       1177, 1169,  766,  375,  164,   53,   23,    4,    3]), array([ 1.54360223,  1.57852807,  1.61345391,  1.64837976,  1.6833056 ,
        1.71823144,  1.75315728,  1.78808312,  1.82300897,  1.85793481,
        1.89286065,  1.92778649,  1.96271234,  1.99763818,  2.03256402,
        2.06748986,  2.1024157 ,  2.13734155,  2.17226739,  2.20719323,
        2.24211907]))
train/val Accuracy = 0.711455055702 / 0.726048993451 
 with threshold: [[ 0.57498548]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.020530
||Xanchor-Xpos||_2  counter: 
[  20   79  189  339  489  686  910 1130 1433 1708 1961 2185 2438 2619 2678
 2355 1579  648   70    2]
||Xanchor-Xneg||_2  counter: 
[   3   33   55   85  140  167  223  244  342  400  584  800 1112 1580 2468
 3670 4962 4486 1965  199]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18512687  0.23582937  0.28653186  0.33723436  0.38793685  0.43863935
  0.48934185  0.54004434  0.59074684  0.64144933  0.69215183  0.74285433
  0.79355682  0.84425932  0.89496181  0.94566431  0.9963668   1.0470693
  1.0977718   1.14847429  1.19917679]
distance difference  counter: 
(array([  30,  124,  280,  640, 1074, 1592, 2097, 2585, 2985, 3327, 3533,
       3097, 1371,  465,  171,   87,   36,   16,    6,    2]), array([ 0.72239554,  0.83438044,  0.94636534,  1.05835025,  1.17033515,
        1.28232005,  1.39430496,  1.50628986,  1.61827476,  1.73025966,
        1.84224457,  1.95422947,  2.06621437,  2.17819927,  2.29018418,
        2.40216908,  2.51415398,  2.62613888,  2.73812379,  2.85010869,
        2.96209359]))
||Xanchor-Xpos||_2  counter: 
[   9   22   45   88  122  179  287  334  505  598  700  914  993 1067 1022
  789  428  126   17    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    2    5   19   26   41   82  115  180  318  534  798 1231
 1725 1809 1060  272   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.30442593  0.34858518  0.39274443  0.43690368  0.48106294  0.52522219
  0.56938144  0.6135407   0.65769995  0.7018592   0.74601845  0.79017771
  0.83433696  0.87849621  0.92265547  0.96681472  1.01097397  1.05513323
  1.09929248  1.14345173  1.18761098]
distance difference  counter: 
(array([   4,   17,   50,  101,  175,  327,  505,  614,  801,  944, 1096,
       1220, 1062,  752,  348,  151,   47,   24,    6,    2]), array([ 0.84606302,  0.93512564,  1.02418827,  1.11325089,  1.20231352,
        1.29137614,  1.38043877,  1.46950139,  1.55856402,  1.64762664,
        1.73668927,  1.82575189,  1.91481452,  2.00387715,  2.09293977,
        2.1820024 ,  2.27106502,  2.36012765,  2.44919027,  2.5382529 ,
        2.62731552]))
train/val Accuracy = 0.71668509227 / 0.71040504487 
 with threshold: [[ 0.87849266]]
============ epoch 1 ===========
training loss:		0.020359
||Xanchor-Xpos||_2  counter: 
[  14   89  183  346  536  749  926 1208 1529 1766 1985 2378 2527 2647 2705
 2168 1338  390   34    0]
||Xanchor-Xneg||_2  counter: 
[   5   31   52   91  142  167  233  256  362  464  628  847 1233 1805 2722
 4113 5062 3785 1358  162]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17974257  0.23132882  0.28291506  0.3345013   0.38608754  0.43767378
  0.48926002  0.54084626  0.5924325   0.64401874  0.69560498  0.74719122
  0.79877746  0.8503637   0.90194994  0.95353618  1.00512242  1.05670866
  1.1082949   1.15988114  1.21146739]
distance difference  counter: 
(array([  32,  108,  273,  568,  942, 1516, 2101, 2571, 3114, 3285, 3585,
       3305, 1372,  458,  157,   77,   36,   11,    4,    3]), array([ 0.68540609,  0.8003604 ,  0.91531471,  1.03026902,  1.14522333,
        1.26017764,  1.37513195,  1.49008626,  1.60504057,  1.71999488,
        1.8349492 ,  1.94990351,  2.06485782,  2.17981213,  2.29476644,
        2.40972075,  2.52467506,  2.63962937,  2.75458368,  2.86953799,
        2.9844923 ]))
||Xanchor-Xpos||_2  counter: 
[   8   15   37   69  105  171  263  324  457  558  717  820  941 1082 1043
  852  540  203   40    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    1    6   15   30   39   53  111  175  276  432  684 1041
 1562 1843 1407  502   66]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29316065  0.3366168   0.38007295  0.4235291   0.46698525  0.5104414
  0.55389755  0.5973537   0.64080985  0.684266    0.72772215  0.7711783
  0.81463445  0.8580906   0.90154676  0.94500291  0.98845906  1.03191521
  1.07537136  1.11882751  1.16228366]
distance difference  counter: 
(array([  13,   37,   85,  168,  286,  414,  608,  693,  878, 1102, 1145,
       1097,  889,  484,  219,   78,   33,   15,    0,    2]), array([ 0.93233752,  1.01866182,  1.10498612,  1.19131042,  1.27763472,
        1.36395901,  1.45028331,  1.53660761,  1.62293191,  1.70925621,
        1.79558051,  1.8819048 ,  1.9682291 ,  2.0545534 ,  2.1408777 ,
        2.227202  ,  2.3135263 ,  2.39985059,  2.48617489,  2.57249919,
        2.65882349]))
train/val Accuracy = 0.71600476231 / 0.712345379578 
 with threshold: [[ 0.87324399]]
============ epoch 2 ===========
training loss:		0.020192
||Xanchor-Xpos||_2  counter: 
[  20   93  177  346  543  778 1041 1262 1595 1877 2118 2388 2654 2775 2625
 1966 1015  219   24    2]
||Xanchor-Xneg||_2  counter: 
[   6   33   63   98  136  178  237  271  375  478  653  936 1361 2005 3134
 4406 4881 3057  987  223]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17834853  0.23050536  0.2826622   0.33481904  0.38697587  0.43913271
  0.49128955  0.54344638  0.59560322  0.64776006  0.69991689  0.75207373
  0.80423056  0.8563874   0.90854424  0.96070107  1.01285791  1.06501475
  1.11717158  1.16932842  1.22148526]
distance difference  counter: 
(array([  23,   80,  164,  451,  808, 1325, 1953, 2638, 3105, 3406, 3744,
       3570, 1510,  485,  141,   70,   27,   13,    4,    1]), array([ 0.61111915,  0.73148285,  0.85184654,  0.97221023,  1.09257393,
        1.21293762,  1.33330132,  1.45366501,  1.57402871,  1.6943924 ,
        1.8147561 ,  1.93511979,  2.05548348,  2.17584718,  2.29621087,
        2.41657457,  2.53693826,  2.65730196,  2.77766565,  2.89802935,
        3.01839304]))
||Xanchor-Xpos||_2  counter: 
[   4    9   29   59   88  160  250  348  448  587  737  910 1059 1101 1111
  799  419  109   19    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    3    8   21   33   74  105  181  327  494  786 1226
 1800 1871 1056  239   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26058599  0.30657945  0.35257291  0.39856638  0.44455984  0.4905533
  0.53654676  0.58254022  0.62853368  0.67452714  0.7205206   0.76651406
  0.81250752  0.85850098  0.90449444  0.9504879   0.99648136  1.04247483
  1.08846829  1.13446175  1.18045521]
distance difference  counter: 
(array([   7,   21,   48,  124,  201,  329,  457,  598,  802,  956, 1073,
       1137, 1037,  794,  406,  153,   59,   31,   10,    3]), array([ 0.90259695,  0.9862982 ,  1.06999946,  1.15370071,  1.23740196,
        1.32110322,  1.40480447,  1.48850572,  1.57220697,  1.65590823,
        1.73960948,  1.82331073,  1.90701199,  1.99071324,  2.07441449,
        2.15811574,  2.241817  ,  2.32551825,  2.4092195 ,  2.49292076,
        2.57662201]))
train/val Accuracy = 0.719151288375 / 0.714649527043 
 with threshold: [[ 0.8681465]]
============ epoch 3 ===========
training loss:		0.020028
||Xanchor-Xpos||_2  counter: 
[  22  114  234  414  626  939 1181 1506 1935 2101 2492 2688 2967 2804 2191
 1055  223   22    4    0]
||Xanchor-Xneg||_2  counter: 
[   8   35   62  130  167  204  261  350  447  594  913 1294 1971 3052 4430
 5128 3065 1017  331   59]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17634986  0.23152279  0.28669572  0.34186864  0.39704157  0.4522145
  0.50738743  0.56256035  0.61773328  0.67290621  0.72807913  0.78325206
  0.83842499  0.89359791  0.94877084  1.00394377  1.05911669  1.11428962
  1.16946255  1.22463548  1.2798084 ]
distance difference  counter: 
(array([  22,   66,  157,  283,  668, 1177, 1862, 2442, 3077, 3605, 3799,
       3835, 1728,  523,  156,   73,   30,   10,    4,    1]), array([ 0.53912938,  0.66439987,  0.78967036,  0.91494085,  1.04021134,
        1.16548184,  1.29075233,  1.41602282,  1.54129331,  1.6665638 ,
        1.79183429,  1.91710479,  2.04237528,  2.16764577,  2.29291626,
        2.41818675,  2.54345725,  2.66872774,  2.79399823,  2.91926872,
        3.04453921]))
||Xanchor-Xpos||_2  counter: 
[   4   13   30   67  115  161  267  398  482  615  809  965 1118 1111 1036
  713  277   62    3    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    2    5   11   26   41   76  124  215  352  604  977 1507
 1841 1666  671  120    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26120797  0.30776184  0.35431571  0.40086959  0.44742346  0.49397733
  0.5405312   0.58708508  0.63363895  0.68019282  0.72674669  0.77330057
  0.81985444  0.86640831  0.91296218  0.95951606  1.00606993  1.0526238
  1.09917767  1.14573155  1.19228542]
distance difference  counter: 
(array([  18,   25,   78,  141,  234,  360,  462,  624,  754,  889, 1052,
       1102, 1061,  736,  389,  191,   79,   40,    9,    2]), array([ 0.95347846,  1.03324792,  1.11301738,  1.19278684,  1.2725563 ,
        1.35232577,  1.43209523,  1.51186469,  1.59163415,  1.67140362,
        1.75117308,  1.83094254,  1.910712  ,  1.99048147,  2.07025093,
        2.15002039,  2.22978985,  2.30955932,  2.38932878,  2.46909824,
        2.5488677 ]))
train/val Accuracy = 0.720001700825 / 0.71525588164 
 with threshold: [[ 0.86310979]]
============ epoch 4 ===========
training loss:		0.019869
||Xanchor-Xpos||_2  counter: 
[  25  101  251  443  656  937 1258 1551 2014 2274 2603 2879 2900 2756 1956
  781  107   19    6    1]
||Xanchor-Xneg||_2  counter: 
[   6   38   64  134  185  209  286  362  452  698  945 1456 2222 3455 4921
 4593 2267  753  367  105]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17531203  0.23121714  0.28712225  0.34302736  0.39893247  0.45483758
  0.51074269  0.5666478   0.62255291  0.67845802  0.73436313  0.79026824
  0.84617335  0.90207846  0.95798357  1.01388868  1.06979379  1.1256989
  1.18160401  1.23750912  1.29341424]
distance difference  counter: 
(array([  14,   58,  115,  176,  442,  818, 1456, 2236, 2991, 3484, 3788,
       4216, 2589,  775,  218,   87,   36,   11,    7,    1]), array([ 0.43438709,  0.56477826,  0.69516944,  0.82556061,  0.95595179,
        1.08634296,  1.21673414,  1.34712531,  1.47751648,  1.60790766,
        1.73829883,  1.86869001,  1.99908118,  2.12947236,  2.25986353,
        2.39025471,  2.52064588,  2.65103706,  2.78142823,  2.9118194 ,
        3.04221058]))
||Xanchor-Xpos||_2  counter: 
[  13   23   47   98  142  210  331  467  563  721  941 1050 1164 1086  824
  432  111   22    1    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    3   14   11   35   62  106  157  283  510  811 1283 1729
 1837 1079  283   37    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28613076  0.33233665  0.37854254  0.42474843  0.47095432  0.51716021
  0.56336611  0.609572    0.65577789  0.70198378  0.74818967  0.79439556
  0.84060146  0.88680735  0.93301324  0.97921913  1.02542502  1.07163091
  1.11783681  1.1640427   1.21024859]
distance difference  counter: 
(array([   7,   18,   49,   89,  186,  291,  458,  606,  776,  866, 1062,
       1200, 1064,  821,  442,  195,   78,   22,   14,    2]), array([ 0.90330362,  0.98609679,  1.06888995,  1.15168312,  1.23447628,
        1.31726944,  1.40006261,  1.48285577,  1.56564894,  1.6484421 ,
        1.73123527,  1.81402843,  1.89682159,  1.97961476,  2.06240792,
        2.14520109,  2.22799425,  2.31078742,  2.39358058,  2.47637374,
        2.55916691]))
train/val Accuracy = 0.721638744791 / 0.71992481203 
 with threshold: [[ 0.85913367]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.187957
||Xanchor-Xpos||_2  counter: 
[  21  106  181  359  518  732  955 1223 1461 1744 2063 2303 2503 2667 2551
 2180 1387  491   69    4]
||Xanchor-Xneg||_2  counter: 
[   4   35   59   89  143  183  214  268  385  440  605  836 1253 1918 2800
 4060 4859 3789 1423  155]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17863809  0.22824448  0.27785086  0.32745725  0.37706364  0.42667003
  0.47627642  0.52588281  0.5754892   0.62509559  0.67470198  0.72430837
  0.77391476  0.82352115  0.87312754  0.92273393  0.97234032  1.02194671
  1.0715531   1.12115949  1.17076588]
distance difference  counter: 
(array([  25,  117,  312,  633, 1078, 1630, 2207, 2785, 3195, 3495, 3687,
       2775, 1021,  336,  109,   63,   34,   13,    2,    1]), array([ 0.79394531,  0.90225025,  1.0105552 ,  1.11886014,  1.22716508,
        1.33547002,  1.44377496,  1.5520799 ,  1.66038485,  1.76868979,
        1.87699473,  1.98529967,  2.09360461,  2.20190955,  2.3102145 ,
        2.41851944,  2.52682438,  2.63512932,  2.74343426,  2.8517392 ,
        2.96004415]))
||Xanchor-Xpos||_2  counter: 
[   8   17   36   74  107  158  257  352  442  565  698  905 1009 1052 1015
  826  514  177   33    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1   10   15   31   39   57   99  179  273  476  733 1152
 1535 1843 1322  438   43]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2675086   0.30828002  0.34905145  0.38982287  0.4305943   0.47136573
  0.51213715  0.55290858  0.59368001  0.63445143  0.67522286  0.71599429
  0.75676571  0.79753714  0.83830856  0.87907999  0.91985142  0.96062284
  1.00139427  1.0421657   1.08293712]
distance difference  counter: 
(array([   6,   22,   62,  108,  229,  295,  537,  690,  832, 1058, 1171,
       1150, 1002,  624,  289,  109,   39,   17,    3,    3]), array([ 1.02619779,  1.10290949,  1.17962118,  1.25633288,  1.33304458,
        1.40975627,  1.48646797,  1.56317967,  1.63989136,  1.71660306,
        1.79331475,  1.87002645,  1.94673815,  2.02344984,  2.10016154,
        2.17687324,  2.25358493,  2.33029663,  2.40700833,  2.48372002,
        2.56043172]))
train/val Accuracy = 0.714218896165 / 0.730111569246 
 with threshold: [[ 0.84515885]]
============ epoch 1 ===========
training loss:		0.173354
||Xanchor-Xpos||_2  counter: 
[  33  106  224  378  560  798 1052 1324 1630 1907 2148 2447 2610 2734 2481
 1841  980  237   28    0]
||Xanchor-Xneg||_2  counter: 
[   7   35   58  108  161  189  223  306  379  501  726  950 1487 2217 3377
 4652 4558 2733  806   45]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.16430628  0.21070981  0.25711334  0.30351686  0.34992039  0.39632392
  0.44272745  0.48913097  0.5355345   0.58193803  0.62834156  0.67474508
  0.72114861  0.76755214  0.81395566  0.86035919  0.90676272  0.95316625
  0.99956977  1.0459733   1.09237683]
distance difference  counter: 
(array([  26,   81,  194,  455,  832, 1294, 1857, 2497, 2773, 3260, 3500,
       3608, 2033,  716,  225,   88,   46,   22,    8,    3]), array([ 0.94869184,  1.03783387,  1.12697589,  1.21611792,  1.30525994,
        1.39440197,  1.48354399,  1.57268602,  1.66182804,  1.75097007,
        1.84011209,  1.92925411,  2.01839614,  2.10753816,  2.19668019,
        2.28582221,  2.37496424,  2.46410626,  2.55324829,  2.64239031,
        2.73153234]))
||Xanchor-Xpos||_2  counter: 
[   9   15   38   70  114  164  284  379  447  533  676  912 1062 1032 1010
  826  506  145   23    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    3   18   25   42   60  115  175  281  463  748 1157
 1609 1819 1264  418   45]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24242164  0.27969611  0.31697058  0.35424504  0.39151951  0.42879398
  0.46606845  0.50334291  0.54061738  0.57789185  0.61516631  0.65244078
  0.68971525  0.72698972  0.76426418  0.80153865  0.83881312  0.87608758
  0.91336205  0.95063652  0.98791099]
distance difference  counter: 
(array([   4,   11,   34,  103,  156,  266,  404,  614,  733,  898, 1090,
       1122, 1154,  899,  468,  188,   57,   33,    7,    5]), array([ 1.16567659,  1.22832497,  1.29097335,  1.35362173,  1.41627011,
        1.47891849,  1.54156687,  1.60421525,  1.66686363,  1.72951201,
        1.79216039,  1.85480877,  1.91745715,  1.98010553,  2.04275391,
        2.10540229,  2.16805067,  2.23069905,  2.29334743,  2.35599581,
        2.41864419]))
train/val Accuracy = 0.716281146356 / 0.733689061363 
 with threshold: [[ 0.77051287]]
============ epoch 2 ===========
training loss:		0.161304
||Xanchor-Xpos||_2  counter: 
[  20   87  208  394  624  850 1102 1368 1752 2063 2337 2568 2779 2770 2389
 1544  565   93    5    0]
||Xanchor-Xneg||_2  counter: 
[   3   38   61  112  146  204  234  312  403  530  821 1112 1756 2690 3990
 4825 3978 1793  454   56]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.14041533  0.18443929  0.22846326  0.27248722  0.31651119  0.36053516
  0.40455912  0.44858309  0.49260705  0.53663102  0.58065499  0.62467895
  0.66870292  0.71272688  0.75675085  0.80077482  0.84479878  0.88882275
  0.93284671  0.97687068  1.02089465]
distance difference  counter: 
(array([  20,   68,  141,  321,  702, 1169, 1791, 2419, 2908, 3425, 3633,
       3792, 2096,  698,  185,   83,   40,   18,    7,    2]), array([ 1.06528902,  1.14439036,  1.22349169,  1.30259303,  1.38169436,
        1.4607957 ,  1.53989704,  1.61899837,  1.69809971,  1.77720104,
        1.85630238,  1.93540372,  2.01450505,  2.09360639,  2.17270772,
        2.25180906,  2.3309104 ,  2.41001173,  2.48911307,  2.5682144 ,
        2.64731574]))
||Xanchor-Xpos||_2  counter: 
[   8   21   37   58  114  172  286  352  459  583  696  911 1037 1064 1007
  813  464  136   26    2]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1   10   10   26   48   58  118  189  294  482  765 1200
 1650 1744 1222  375   52]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2209646   0.25500236  0.28904012  0.32307789  0.35711565  0.39115341
  0.42519118  0.45922894  0.4932667   0.52730447  0.56134223  0.59538
  0.62941776  0.66345552  0.69749329  0.73153105  0.76556881  0.79960658
  0.83364434  0.8676821   0.90171987]
distance difference  counter: 
(array([   4,   24,   73,  124,  213,  368,  550,  698,  876,  953, 1208,
       1159,  993,  602,  251,   96,   35,   12,    6,    1]), array([ 1.33533478,  1.38803396,  1.44073315,  1.49343233,  1.54613152,
        1.5988307 ,  1.65152988,  1.70422907,  1.75692825,  1.80962744,
        1.86232662,  1.91502581,  1.96772499,  2.02042418,  2.07312336,
        2.12582254,  2.17852173,  2.23122091,  2.2839201 ,  2.33661928,
        2.38931847]))
train/val Accuracy = 0.717726847521 / 0.730657288382 
 with threshold: [[ 0.70249159]]
============ epoch 3 ===========
training loss:		0.151363
||Xanchor-Xpos||_2  counter: 
[  29  111  244  434  654  920 1221 1516 1851 2212 2460 2693 2875 2726 2079
 1137  321   32    3    0]
||Xanchor-Xneg||_2  counter: 
[   7   36   73  115  178  210  251  350  456  636  877 1307 2084 3048 4401
 4680 3199 1161  372   76]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.13474084  0.17542556  0.21611028  0.256795    0.29747971  0.33816443
  0.37884915  0.41953386  0.46021858  0.5009033   0.54158802  0.58227273
  0.62295745  0.66364217  0.70432688  0.7450116   0.78569632  0.82638104
  0.86706575  0.90775047  0.94843519]
distance difference  counter: 
(array([  39,   69,  141,  316,  636, 1139, 1767, 2366, 3049, 3364, 3797,
       3809, 2111,  592,  182,   83,   34,   16,    7,    1]), array([ 1.20044863,  1.26821426,  1.33597988,  1.4037455 ,  1.47151113,
        1.53927675,  1.60704237,  1.674808  ,  1.74257362,  1.81033924,
        1.87810487,  1.94587049,  2.01363611,  2.08140174,  2.14916736,
        2.21693298,  2.28469861,  2.35246423,  2.42022985,  2.48799548,
        2.5557611 ]))
||Xanchor-Xpos||_2  counter: 
[   6   17   36   59  118  188  285  408  505  624  754 1033 1061 1120  964
  699  307   55    7    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    2    6   22   33   38   87  120  243  347  591  949 1434
 1811 1622  779  149   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19513114  0.22738191  0.25963268  0.29188345  0.32413422  0.35638499
  0.38863576  0.42088653  0.4531373   0.48538807  0.51763884  0.54988961
  0.58214038  0.61439115  0.64664192  0.67889269  0.71114346  0.74339423
  0.775645    0.80789577  0.84014654]
distance difference  counter: 
(array([   4,   22,   61,  123,  223,  324,  543,  662,  844, 1036, 1109,
       1193, 1015,  636,  290,  101,   42,   13,    3,    2]), array([ 1.44398069,  1.48779765,  1.53161461,  1.57543157,  1.61924853,
        1.66306549,  1.70688245,  1.75069941,  1.79451637,  1.83833333,
        1.88215029,  1.92596725,  1.96978421,  2.01360117,  2.05741813,
        2.10123509,  2.14505205,  2.18886901,  2.23268597,  2.27650293,
        2.32031989]))
train/val Accuracy = 0.719108767752 / 0.730293475625 
 with threshold: [[ 0.64063222]]
============ epoch 4 ===========
training loss:		0.143160
||Xanchor-Xpos||_2  counter: 
[  27  120  263  445  696  943 1344 1593 1937 2274 2585 2946 2914 2628 1817
  795  170   18    2    1]
||Xanchor-Xneg||_2  counter: 
[   9   35   74  120  188  214  283  372  480  683 1017 1555 2309 3536 4834
 4254 2375  752  327  101]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1204674   0.15860705  0.19674669  0.23488634  0.27302598  0.31116563
  0.34930527  0.38744492  0.42558457  0.46372421  0.50186386  0.5400035
  0.57814315  0.61628279  0.65442244  0.69256208  0.73070173  0.76884137
  0.80698102  0.84512066  0.88326031]
distance difference  counter: 
(array([  23,   64,  130,  218,  472,  944, 1544, 2279, 3057, 3566, 3913,
       4188, 2226,  608,  169,   74,   27,   13,    2,    1]), array([ 1.28156722,  1.34221362,  1.40286003,  1.46350644,  1.52415285,
        1.58479926,  1.64544567,  1.70609208,  1.76673849,  1.8273849 ,
        1.8880313 ,  1.94867771,  2.00932412,  2.06997053,  2.13061694,
        2.19126335,  2.25190976,  2.31255617,  2.37320257,  2.43384898,
        2.49449539]))
||Xanchor-Xpos||_2  counter: 
[   6   15   28   87  140  187  299  425  564  684  864 1031 1166 1066  919
  553  182   26    3    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    5    7   18   39   44   93  151  243  442  714 1140 1645
 1893 1285  453   69    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17701671  0.20715745  0.2372982   0.26743895  0.29757969  0.32772044
  0.35786119  0.38800194  0.41814268  0.44828343  0.47842418  0.50856492
  0.53870567  0.56884642  0.59898717  0.62912791  0.65926866  0.68940941
  0.71955015  0.7496909   0.77983165]
distance difference  counter: 
(array([   8,   26,   80,  148,  250,  403,  654,  753,  955, 1171, 1225,
       1178,  839,  365,  123,   42,   16,    6,    3,    1]), array([ 1.53635192,  1.57501401,  1.6136761 ,  1.65233818,  1.69100027,
        1.72966236,  1.76832445,  1.80698653,  1.84564862,  1.88431071,
        1.9229728 ,  1.96163489,  2.00029697,  2.03895906,  2.07762115,
        2.11628324,  2.15494533,  2.19360741,  2.2322695 ,  2.27093159,
        2.30959368]))
train/val Accuracy = 0.719980440514 / 0.728474411836 
 with threshold: [[ 0.58460138]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.455173
||Xanchor-Xpos||_2  counter: 
[  73  368  881 1641 2271 2841 2756 2484 2167 1863 1542 1312 1089  847  619
  411  221  104   27    1]
||Xanchor-Xneg||_2  counter: 
[  22  101  219  390  802 1644 2632 2592 2328 2077 1922 1708 1604 1393 1242
 1041  850  593  292   66]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.08820085  0.14291451  0.19762817  0.25234183  0.30705549  0.36176914
  0.4164828   0.47119646  0.52591012  0.58062378  0.63533743  0.69005109
  0.74476475  0.79947841  0.85419207  0.90890573  0.96361938  1.01833304
  1.0730467   1.12776036  1.18247402]
distance difference  counter: 
(array([   3,   12,   34,   70,  130,  262,  440,  732, 1340, 2277, 4463,
       7703, 5225,  620,  141,   39,   12,    9,    3,    3]), array([ 0.74526727,  0.84776143,  0.9502556 ,  1.05274976,  1.15524392,
        1.25773808,  1.36023225,  1.46272641,  1.56522057,  1.66771473,
        1.7702089 ,  1.87270306,  1.97519722,  2.07769138,  2.18018554,
        2.28267971,  2.38517387,  2.48766803,  2.59016219,  2.69265636,
        2.79515052]))
||Xanchor-Xpos||_2  counter: 
[  12   17   44   74  118  192  282  379  521  682  804  936 1071 1099  949
  670  324   65    6    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    3    3   11   19   28   39   90  135  206  374  604  954 1425
 1888 1604  747  109    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11228229  0.12937341  0.14646454  0.16355566  0.18064678  0.19773791
  0.21482903  0.23192015  0.24901128  0.2661024   0.28319352  0.30028464
  0.31737577  0.33446689  0.35155801  0.36864914  0.38574026  0.40283138
  0.41992251  0.43701363  0.45410475]
distance difference  counter: 
(array([  12,   20,   78,  156,  242,  354,  493,  650,  790,  960, 1012,
       1084, 1012,  734,  364,  180,   58,   29,   15,    3]), array([ 1.84860551,  1.86022242,  1.87183932,  1.88345622,  1.89507313,
        1.90669003,  1.91830693,  1.92992384,  1.94154074,  1.95315765,
        1.96477455,  1.97639145,  1.98800836,  1.99962526,  2.01124216,
        2.02285907,  2.03447597,  2.04609287,  2.05770978,  2.06932668,
        2.08094358]))
train/val Accuracy = 0.601432944978 / 0.5 
 with threshold: [[ 0.57391958]]
============ epoch 1 ===========
training loss:		1.090645
||Xanchor-Xpos||_2  counter: 
[  64  395  959 1605 2467 3101 2864 2493 2188 1846 1485 1229 1011  700  548
  326  177   53    6    1]
||Xanchor-Xneg||_2  counter: 
[  20  104  220  418  814 1902 2798 2679 2394 2041 1926 1782 1483 1396 1198
  996  772  400  139   35]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03220981  0.05329188  0.07437396  0.09545604  0.11653812  0.1376202
  0.15870228  0.17978435  0.20086643  0.22194851  0.24303059  0.26411267
  0.28519475  0.30627682  0.3273589   0.34844098  0.36952306  0.39060514
  0.41168722  0.43276929  0.45385137]
distance difference  counter: 
(array([   8,   16,   41,   75,  130,  225,  396,  608, 1001, 1713, 3001,
       5660, 8008, 2164,  337,   74,   34,   14,    9,    4]), array([ 1.82766938,  1.84109247,  1.85451555,  1.86793864,  1.88136172,
        1.89478481,  1.90820789,  1.92163098,  1.93505406,  1.94847715,
        1.96190023,  1.97532332,  1.9887464 ,  2.00216949,  2.01559258,
        2.02901566,  2.04243875,  2.05586183,  2.06928492,  2.082708  ,
        2.09613109]))
||Xanchor-Xpos||_2  counter: 
[   9   23   49   83  127  180  285  399  468  615  778  900 1082 1052 1042
  701  366   77    9    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    9   19   25   50   71  131  201  335  584  862 1384
 1831 1658  886  187   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04147916  0.04780869  0.05413822  0.06046775  0.06679728  0.07312681
  0.07945634  0.08578587  0.0921154   0.09844493  0.10477446  0.11110399
  0.11743352  0.12376304  0.13009257  0.1364221   0.14275163  0.14908116
  0.15541069  0.16174022  0.16806975]
distance difference  counter: 
(array([   8,   31,   60,  111,  183,  286,  455,  580,  706,  807,  975,
       1077, 1138,  843,  523,  267,  126,   50,   12,    8]), array([ 1.97825062,  1.97985386,  1.9814571 ,  1.98306034,  1.98466358,
        1.98626682,  1.98787006,  1.9894733 ,  1.99107654,  1.99267978,
        1.99428302,  1.99588626,  1.9974895 ,  1.99909274,  2.00069598,
        2.00229922,  2.00390246,  2.0055057 ,  2.00710894,  2.00871218,
        2.01031542]))
train/val Accuracy = 0.602942427077 / 0.5 
 with threshold: [[ 0.21389584]]
============ epoch 2 ===========
training loss:		1.040292
||Xanchor-Xpos||_2  counter: 
[  62  337 1009 1820 2767 3141 3000 2448 2156 1759 1438 1261  945  612  429
  233   84   15    2    0]
||Xanchor-Xneg||_2  counter: 
[  19  106  260  445  968 2131 2974 2747 2336 2141 1854 1744 1481 1343 1156
  896  596  244   64   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01109712  0.01934346  0.02758981  0.03583616  0.04408251  0.05232885
  0.0605752   0.06882155  0.0770679   0.08531424  0.09356059  0.10180694
  0.11005329  0.11829963  0.12654598  0.13479233  0.14303867  0.15128502
  0.15953137  0.16777772  0.17602406]
distance difference  counter: 
(array([   1,   12,   20,   18,   50,   96,  172,  286,  495,  789, 1297,
       2127, 3840, 6753, 6299,  955,  216,   60,   20,   12]), array([ 1.97308862,  1.97494956,  1.97681049,  1.97867143,  1.98053236,
        1.98239329,  1.98425423,  1.98611516,  1.9879761 ,  1.98983703,
        1.99169797,  1.9935589 ,  1.99541984,  1.99728077,  1.99914171,
        2.00100264,  2.00286357,  2.00472451,  2.00658544,  2.00844638,
        2.01030731]))
||Xanchor-Xpos||_2  counter: 
[   9   14   37   72  118  187  276  414  473  627  786  964 1087 1116 1006
  672  317   62    8    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    4    7   13   29   46   87  135  209  359  610  955 1433
 1858 1604  732  151   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01510088  0.01749779  0.0198947   0.02229161  0.02468853  0.02708544
  0.02948235  0.03187926  0.03427617  0.03667308  0.03906999  0.0414669
  0.04386381  0.04626072  0.04865764  0.05105455  0.05345146  0.05584837
  0.05824528  0.06064219  0.0630391 ]
distance difference  counter: 
(array([  16,   32,   79,  153,  235,  369,  583,  681,  839, 1019, 1123,
       1152,  942,  579,  283,   99,   41,   14,    6,    1]), array([ 1.99701834,  1.99725525,  1.99749217,  1.99772909,  1.997966  ,
        1.99820292,  1.99843984,  1.99867675,  1.99891367,  1.99915059,
        1.9993875 ,  1.99962442,  1.99986134,  2.00009825,  2.00033517,
        2.00057209,  2.000809  ,  2.00104592,  2.00128284,  2.00151975,
        2.00175667]))
train/val Accuracy = 0.603984182328 / 0.5 
 with threshold: [[ 0.07994044]]
============ epoch 3 ===========
training loss:		1.033337
||Xanchor-Xpos||_2  counter: 
[  80  456 1130 1952 2850 3326 2869 2466 2076 1699 1405 1170  878  561  372
  182   38    7    1    0]
||Xanchor-Xneg||_2  counter: 
[  28  101  264  493 1151 2402 2978 2654 2361 2112 1891 1719 1492 1347 1022
  815  469  155   52   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00442545  0.00754915  0.01067286  0.01379657  0.01692028  0.02004399
  0.0231677   0.02629141  0.02941512  0.03253883  0.03566254  0.03878625
  0.04190995  0.04503366  0.04815737  0.05128108  0.05440479  0.0575285
  0.06065221  0.06377592  0.06689963]
distance difference  counter: 
(array([   5,   12,   38,   61,  134,  238,  427,  781, 1396, 2448, 4828,
       8464, 4077,  454,  103,   27,   16,    3,    5,    1]), array([ 1.99638534,  1.99668381,  1.99698229,  1.99728076,  1.99757924,
        1.99787772,  1.99817619,  1.99847467,  1.99877315,  1.99907162,
        1.9993701 ,  1.99966857,  1.99996705,  2.00026553,  2.000564  ,
        2.00086248,  2.00116096,  2.00145943,  2.00175791,  2.00205638,
        2.00235486]))
||Xanchor-Xpos||_2  counter: 
[   8   16   34   72  122  177  293  409  498  682  842  954 1091 1119  995
  623  272   33    5    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    2   15   14   27   50   82  132  235  361  680 1022 1524
 1893 1481  615  100   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0054817   0.00639229  0.00730289  0.00821348  0.00912407  0.01003466
  0.01094525  0.01185585  0.01276644  0.01367703  0.01458762  0.01549821
  0.01640881  0.0173194   0.01822999  0.01914058  0.02005117  0.02096177
  0.02187236  0.02278295  0.02369354]
distance difference  counter: 
(array([  19,   40,   94,  177,  280,  472,  703,  821, 1011, 1186, 1214,
       1062,  692,  304,  115,   39,   14,    2,    0,    1]), array([ 1.99958277,  1.99961824,  1.99965372,  1.9996892 ,  1.99972467,
        1.99976015,  1.99979563,  1.9998311 ,  1.99986658,  1.99990206,
        1.99993753,  1.99997301,  2.00000849,  2.00004396,  2.00007944,
        2.00011492,  2.00015039,  2.00018587,  2.00022135,  2.00025682,
        2.0002923 ]))
train/val Accuracy = 0.606790543414 / 0.5 
 with threshold: [[ 0.02988475]]
============ epoch 4 ===========
training loss:		1.032377
||Xanchor-Xpos||_2  counter: 
[  96  527 1348 2378 3176 3411 2852 2414 1992 1665 1296  988  680  457  177
   52    9    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  29  144  310  636 1498 2986 2894 2651 2429 2045 1908 1652 1468 1145  879
  533  201   61   40    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00166078  0.00289682  0.00413286  0.00536891  0.00660495  0.00784099
  0.00907703  0.01031307  0.01154911  0.01278515  0.01402119  0.01525723
  0.01649327  0.01772931  0.01896536  0.0202014   0.02143744  0.02267348
  0.02390952  0.02514556  0.0263816 ]
distance difference  counter: 
(array([   2,    7,    9,   17,   23,   80,  146,  289,  560, 1005, 1870,
       3975, 8297, 6533,  579,   91,   22,    9,    2,    2]), array([ 1.99935746,  1.99940567,  1.99945388,  1.99950209,  1.99955029,
        1.9995985 ,  1.99964671,  1.99969492,  1.99974313,  1.99979134,
        1.99983954,  1.99988775,  1.99993596,  1.99998417,  2.00003238,
        2.00008059,  2.00012879,  2.000177  ,  2.00022521,  2.00027342,
        2.00032163]))
||Xanchor-Xpos||_2  counter: 
[   9   21   45   77  130  219  342  439  563  716  964 1059 1205 1090  790
  451  109   14    3    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1   14   18   33   60  110  159  297  505  815 1273 1850
 1866  934  262   46    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00203887  0.00239023  0.00274159  0.00309294  0.0034443   0.00379566
  0.00414701  0.00449837  0.00484973  0.00520109  0.00555244  0.0059038
  0.00625516  0.00660651  0.00695787  0.00730923  0.00766058  0.00801194
  0.0083633   0.00871465  0.00906601]
distance difference  counter: 
(array([  12,   34,   76,  124,  196,  316,  476,  564,  739,  883, 1041,
       1081, 1034,  786,  518,  231,   81,   38,   12,    4]), array([ 1.99994218,  1.99994652,  1.99995085,  1.99995518,  1.99995952,
        1.99996385,  1.99996818,  1.99997252,  1.99997685,  1.99998118,
        1.99998552,  1.99998985,  1.99999418,  1.99999852,  2.00000285,
        2.00000718,  2.00001152,  2.00001585,  2.00002018,  2.00002452,
        2.00002885]))
train/val Accuracy = 0.609915809167 / 0.5 
 with threshold: [[ 0.01118395]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019845
||Xanchor-Xpos||_2  counter: 
[  47  163  353  632  972 1372 1754 2186 2651 3012 3289 3244 2412 1172  238
   17    2    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   57  113  174  197  297  410  538  815 1220 1961 3211 4762 5291 3241
  829  207  108   56   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18436894  0.24717916  0.30998938  0.3727996   0.43560982  0.49842004
  0.56123026  0.62404048  0.6868507   0.74966092  0.81247114  0.87528136
  0.93809158  1.0009018   1.06371202  1.12652224  1.18933246  1.25214268
  1.3149529   1.37776311  1.44057333]
distance difference  counter: 
(array([   4,   11,   25,   65,  116,  214,  521, 1120, 2001, 2909, 3732,
       4204, 4548, 2998,  757,  182,   67,   33,    7,    4]), array([ 0.07786751,  0.22487462,  0.37188172,  0.51888883,  0.66589594,
        0.81290305,  0.95991015,  1.10691726,  1.25392437,  1.40093148,
        1.54793859,  1.69494569,  1.8419528 ,  1.98895991,  2.13596702,
        2.28297412,  2.42998123,  2.57698834,  2.72399545,  2.87100255,
        3.01800966]))
||Xanchor-Xpos||_2  counter: 
[   3   28   52  135  216  316  542  636  880 1043 1324 1248 1054  574  164
   23    5    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    2    7   20   29   51  123  230  383  682 1155 1692 2082 1234
  419   95   27   11    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2667354   0.31780966  0.36888392  0.41995817  0.47103243  0.52210668
  0.57318094  0.6242552   0.67532945  0.72640371  0.77747796  0.82855222
  0.87962648  0.93070073  0.98177499  1.03284924  1.0839235   1.13499776
  1.18607201  1.23714627  1.28822052]
distance difference  counter: 
(array([   2,    6,   16,   65,   94,  218,  344,  539,  736,  887, 1050,
       1279, 1190,  990,  529,  195,   63,   30,    7,    6]), array([ 0.83950615,  0.92581817,  1.01213019,  1.09844221,  1.18475423,
        1.27106625,  1.35737827,  1.44369029,  1.53000231,  1.61631433,
        1.70262635,  1.78893837,  1.87525039,  1.96156241,  2.04787443,
        2.13418645,  2.22049847,  2.30681049,  2.39312251,  2.47943453,
        2.56574655]))
train/val Accuracy = 0.723360830003 / 0.72938394373 
 with threshold: [[ 0.86195568]]
============ epoch 1 ===========
training loss:		0.018382
||Xanchor-Xpos||_2  counter: 
[  94  420 1026 1739 2645 3419 4277 4573 3578 1332  249   76   45   22   16
    5    0    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  31  120  247  368  576  933 1592 3098 5361 5662 2797 1119  529  328  254
  210  143   94   44   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.16696677  0.25253913  0.33811149  0.42368386  0.50925622  0.59482858
  0.68040095  0.76597331  0.85154567  0.93711804  1.0226904   1.10826276
  1.19383513  1.27940749  1.36497985  1.45055222  1.53612458  1.62169694
  1.70726931  1.79284167  1.87841403]
distance difference  counter: 
(array([   5,   21,   34,   62,  115,  153,  171,  215,  369,  883, 2423,
       4776, 6648, 6419, 1019,  140,   41,   16,    5,    3]), array([-1.31243157, -1.06786096, -0.82329035, -0.57871974, -0.33414912,
       -0.08957851,  0.1549921 ,  0.39956272,  0.64413333,  0.88870394,
        1.13327456,  1.37784517,  1.62241578,  1.86698639,  2.11155701,
        2.35612762,  2.60069823,  2.84526885,  3.08983946,  3.33441007,
        3.57898068]))
||Xanchor-Xpos||_2  counter: 
[  10   45  135  271  517  747 1124 1510 1703 1398  602  136   38    0    6
    2    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    2    3   18   58  118  267  625 1166 2092 2241 1036  372  110   73
   35   10   14    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23273186  0.29589337  0.35905487  0.42221637  0.48537787  0.54853937
  0.61170088  0.67486238  0.73802388  0.80118538  0.86434688  0.92750839
  0.99066989  1.05383139  1.11699289  1.18015439  1.2433159   1.3064774
  1.3696389   1.4328004   1.4959619 ]
distance difference  counter: 
(array([   2,    4,    6,   17,   26,   67,  135,  327,  644, 1110, 1513,
       1915, 1682,  647,  122,   18,    7,    1,    2,    1]), array([ 0.44035697,  0.56397762,  0.68759828,  0.81121893,  0.93483958,
        1.05846024,  1.18208089,  1.30570154,  1.4293222 ,  1.55294285,
        1.6765635 ,  1.80018415,  1.92380481,  2.04742546,  2.17104611,
        2.29466677,  2.41828742,  2.54190807,  2.66552873,  2.78914938,
        2.91277003]))
train/val Accuracy = 0.732353941662 / 0.726412806209 
 with threshold: [[ 0.8190508]]
============ epoch 2 ===========
training loss:		0.017174
||Xanchor-Xpos||_2  counter: 
[ 166  806 1832 3178 4543 5553 4745 1890  425  163   82   67   25   22    8
    6    3    4    0    0]
||Xanchor-Xneg||_2  counter: 
[  52  219  396  670 1208 2545 5146 5941 3160 1420  820  543  329  256  223
  229  165  113   69   14]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15378791  0.25504104  0.35629416  0.45754729  0.55880041  0.66005354
  0.76130666  0.86255979  0.96381291  1.06506604  1.16631916  1.26757229
  1.36882541  1.47007854  1.57133166  1.67258479  1.77383791  1.87509104
  1.97634416  2.07759729  2.17885041]
distance difference  counter: 
(array([   6,   23,   71,  115,  145,  192,  217,  246,  523, 1037, 3273,
       8164, 8737,  621,   92,   32,   15,    5,    3,    1]), array([-2.61775136, -2.24949328, -1.88123519, -1.51297711, -1.14471903,
       -0.77646095, -0.40820286, -0.03994478,  0.3283133 ,  0.69657139,
        1.06482947,  1.43308755,  1.80134563,  2.16960372,  2.5378618 ,
        2.90611988,  3.27437797,  3.64263605,  4.01089413,  4.37915221,
        4.7474103 ]))
||Xanchor-Xpos||_2  counter: 
[  23   91  281  609 1084 1607 2095 1651  600  128   55   12    1    3    3
    1    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    3   15   72  194  507 1228 2461 2182  866  355  162   77   62   29
   13    5   12    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.21587096  0.29001884  0.36416671  0.43831459  0.51246246  0.58661034
  0.66075821  0.73490609  0.80905396  0.88320184  0.95734971  1.03149759
  1.10564546  1.17979333  1.25394121  1.32808908  1.40223696  1.47638483
  1.55053271  1.62468058  1.69882846]
distance difference  counter: 
(array([   2,    2,    5,    9,    8,   29,   47,  119,  229,  710, 1735,
       2884, 2152,  280,   28,    3,    1,    1,    1,    1]), array([-0.27462721, -0.09062194,  0.09338334,  0.27738861,  0.46139388,
        0.64539915,  0.82940443,  1.0134097 ,  1.19741497,  1.38142024,
        1.56542552,  1.74943079,  1.93343606,  2.11744133,  2.3014466 ,
        2.48545188,  2.66945715,  2.85346242,  3.03746769,  3.22147297,
        3.40547824]))
train/val Accuracy = 0.740007653712 / 0.709616783895 
 with threshold: [[ 0.78218428]]
============ epoch 3 ===========
training loss:		0.016180
||Xanchor-Xpos||_2  counter: 
[ 359 1591 3556 5561 6677 3906 1142  344  152   87   59   39   22    8    8
    4    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 109  367  730 1462 3679 6123 4737 2276 1171  777  540  393  273  214  226
  191  140   89   18    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15678787  0.27496734  0.3931468   0.51132627  0.62950573  0.74768519
  0.86586466  0.98404412  1.10222359  1.22040305  1.33858252  1.45676198
  1.57494144  1.69312091  1.81130037  1.92947984  2.0476593   2.16583877
  2.28401823  2.40219769  2.52037716]
distance difference  counter: 
(array([    2,     5,    31,    88,   132,   172,   197,   240,   318,
         603,  1202,  3848, 11296,  5131,   160,    55,    24,     8,
           4,     2]), array([-4.20471621, -3.73161588, -3.25851555, -2.78541522, -2.31231489,
       -1.83921456, -1.36611423, -0.89301391, -0.41991358,  0.05318675,
        0.52628708,  0.99938741,  1.47248774,  1.94558806,  2.41868839,
        2.89178872,  3.36488905,  3.83798938,  4.31108971,  4.78419003,
        5.25729036]))
||Xanchor-Xpos||_2  counter: 
[  32  189  554 1132 2003 2350 1407  380  126   41   19    4    2    4    1
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2    7   52  199  608 1752 2823 1495  659  253  175   66   67   44   14
   12   10    7    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20132914  0.2851864   0.36904365  0.45290091  0.53675816  0.62061542
  0.70447267  0.78832992  0.87218718  0.95604443  1.03990169  1.12375894
  1.2076162   1.29147345  1.37533071  1.45918796  1.54304522  1.62690247
  1.71075973  1.79461698  1.87847424]
distance difference  counter: 
(array([   1,    2,    4,    7,    9,   16,   38,   78,  132,  367, 1293,
       3499, 2605,  176,   13,    2,    1,    2,    0,    1]), array([-0.99457836, -0.75140201, -0.50822566, -0.2650493 , -0.02187295,
        0.2213034 ,  0.46447976,  0.70765611,  0.95083246,  1.19400882,
        1.43718517,  1.68036152,  1.92353787,  2.16671423,  2.40989058,
        2.65306693,  2.89624329,  3.13941964,  3.38259599,  3.62577235,
        3.8689487 ]))
train/val Accuracy = 0.742750233863 / 0.680572398739 
 with threshold: [[ 0.75060012]]
============ epoch 4 ===========
training loss:		0.015358
||Xanchor-Xpos||_2  counter: 
[ 418 1946 4370 6733 6119 2437  788  299  155   82   70   43   23   13    9
    6    5    1    0    1]
||Xanchor-Xneg||_2  counter: 
[ 123  421  900 2150 4851 5639 3463 1810 1067  779  539  439  321  218  222
  187  195   94   73   27]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.13779025  0.26157156  0.38535287  0.50913418  0.63291548  0.75669679
  0.8804781   1.00425941  1.12804072  1.25182203  1.37560334  1.49938465
  1.62316596  1.74694727  1.87072858  1.99450989  2.1182912   2.24207251
  2.36585381  2.48963512  2.61341643]
distance difference  counter: 
(array([   13,    43,    65,   103,   162,   190,   208,   268,   447,
         751,  1489,  4913, 13315,  1352,   114,    48,    23,     7,
           3,     4]), array([ -4.70260000e+00,  -4.17995734e+00,  -3.65731468e+00,
        -3.13467202e+00,  -2.61202936e+00,  -2.08938670e+00,
        -1.56674404e+00,  -1.04410138e+00,  -5.21458721e-01,
         1.18393898e-03,   5.23826599e-01,   1.04646926e+00,
         1.56911192e+00,   2.09175458e+00,   2.61439724e+00,
         3.13703990e+00,   3.65968256e+00,   4.18232522e+00,
         4.70496788e+00,   5.22761054e+00,   5.75025320e+00]))
||Xanchor-Xpos||_2  counter: 
[  46  284  937 1903 2601 1681  500  182   60   31   11    2    1    4    1
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2   18  100  448 1610 2889 1613  722  335  212  109   57   66   29   12
    8    8    6    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18687391  0.27818537  0.36949682  0.46080828  0.55211973  0.64343119
  0.73474264  0.8260541   0.91736555  1.00867701  1.09998846  1.19129992
  1.28261137  1.37392282  1.46523428  1.55654573  1.64785719  1.73916864
  1.8304801   1.92179155  2.01310301]
distance difference  counter: 
(array([   1,    0,    2,   10,    5,   10,   29,   53,   90,  201,  635,
       2664, 4190,  320,   29,    3,    1,    2,    0,    1]), array([-1.59210467, -1.30664331, -1.02118194, -0.73572057, -0.45025921,
       -0.16479784,  0.12066352,  0.40612489,  0.69158626,  0.97704762,
        1.26250899,  1.54797035,  1.83343172,  2.11889309,  2.40435445,
        2.68981582,  2.97527719,  3.26073855,  3.54619992,  3.83166128,
        4.11712265]))
train/val Accuracy = 0.743983331916 / 0.654862963861 
 with threshold: [[ 0.72488111]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.146723
||Xanchor-Xpos||_2  counter: 
[  99  413  890 1550 2292 2901 2839 2508 2187 1816 1616 1336  987  795  601
  388  207   79   14    0]
||Xanchor-Xneg||_2  counter: 
[  25  121  227  362  703 1536 2363 2536 2386 2216 2028 1854 1627 1481 1281
 1048  884  579  227   33]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.09685863  0.15167133  0.20648403  0.26129673  0.31610942  0.37092212
  0.42573482  0.48054752  0.53536022  0.59017292  0.64498562  0.69979832
  0.75461102  0.80942372  0.86423642  0.91904912  0.97386182  1.02867451
  1.08348721  1.13829991  1.19311261]
distance difference  counter: 
(array([   7,   34,   65,  128,  209,  379,  688, 1101, 1747, 3038, 5302,
       7496, 2728,  422,  106,   42,   15,    8,    1,    2]), array([ 0.82505894,  0.92336839,  1.02167785,  1.11998731,  1.21829677,
        1.31660622,  1.41491568,  1.51322514,  1.6115346 ,  1.70984405,
        1.80815351,  1.90646297,  2.00477242,  2.10308188,  2.20139134,
        2.2997008 ,  2.39801025,  2.49631971,  2.59462917,  2.69293863,
        2.79124808]))
||Xanchor-Xpos||_2  counter: 
[   6   29   50  122  195  343  514  734  903 1134 1279 1277 1023  504  107
   18    5    2    1    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    2    6   18   37   65  113  236  401  718 1268 1890 1932 1123
  307   83   25   13    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.10788251  0.12913139  0.15038026  0.17162913  0.19287801  0.21412688
  0.23537575  0.25662463  0.2778735   0.29912237  0.32037125  0.34162012
  0.36286899  0.38411787  0.40536674  0.42661561  0.44786449  0.46911336
  0.49036223  0.51161111  0.53285998]
distance difference  counter: 
(array([   3,    4,   18,   58,  112,  252,  354,  634,  826, 1085, 1234,
       1350, 1162,  732,  295,   84,   32,    8,    1,    2]), array([ 1.79860055,  1.81433018,  1.8300598 ,  1.84578943,  1.86151905,
        1.87724867,  1.8929783 ,  1.90870792,  1.92443755,  1.94016717,
        1.95589679,  1.97162642,  1.98735604,  2.00308567,  2.01881529,
        2.03454491,  2.05027454,  2.06600416,  2.08173379,  2.09746341,
        2.11319304]))
train/val Accuracy = 0.61625138192 / 0.5 
 with threshold: [[ 0.583444]]
============ epoch 1 ===========
training loss:		0.110311
||Xanchor-Xpos||_2  counter: 
[ 159  893 2231 3610 4015 3557 2792 2209 1658 1140  757  335  109   25   17
    7    2    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  41  232  482 1250 2780 3231 3112 2674 2484 2189 1749 1416  894  470  227
  114   66   60   40    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0331128   0.06338777  0.09366273  0.1239377   0.15421267  0.18448764
  0.2147626   0.24503757  0.27531254  0.30558751  0.33586247  0.36613744
  0.39641241  0.42668738  0.45696235  0.48723731  0.51751228  0.54778725
  0.57806222  0.60833718  0.63861215]
distance difference  counter: 
(array([   6,   16,   18,   42,   64,   98,  173,  324,  642, 1304, 2955,
       7341, 9746,  658,   91,   31,    5,    3,    0,    1]), array([ 1.62604129,  1.65585875,  1.68567621,  1.71549366,  1.74531112,
        1.77512857,  1.80494603,  1.83476349,  1.86458094,  1.8943984 ,
        1.92421585,  1.95403331,  1.98385077,  2.01366822,  2.04348568,
        2.07330313,  2.10312059,  2.13293805,  2.1627555 ,  2.19257296,
        2.22239041]))
||Xanchor-Xpos||_2  counter: 
[  21   99  250  487  821 1266 1713 1866 1232  367   80   27    7    1    6
    0    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    4   13   67  124  296  712 1564 2538 1834  604  246   96   70   32
   20    6    8   11    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.04346741  0.0552706   0.0670738   0.07887699  0.09068018  0.10248337
  0.11428656  0.12608975  0.13789294  0.14969614  0.16149933  0.17330252
  0.18510571  0.1969089   0.20871209  0.22051528  0.23231848  0.24412167
  0.25592486  0.26772805  0.27953124]
distance difference  counter: 
(array([   4,    2,    8,    8,   16,   23,   56,  156,  356, 1001, 1813,
       2584, 1839,  331,   42,    3,    0,    0,    2,    2]), array([ 1.93901396,  1.94395481,  1.94889567,  1.95383652,  1.95877738,
        1.96371824,  1.96865909,  1.97359995,  1.9785408 ,  1.98348166,
        1.98842251,  1.99336337,  1.99830422,  2.00324508,  2.00818594,
        2.01312679,  2.01806765,  2.0230085 ,  2.02794936,  2.03289021,
        2.03783107]))
train/val Accuracy = 0.634875414576 / 0.50157652195 
 with threshold: [[ 0.23030912]]
============ epoch 2 ===========
training loss:		0.105262
||Xanchor-Xpos||_2  counter: 
[ 477 2922 5873 5494 3991 2605 1340  484  156   84   43   21   13    5    3
    7    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 113  660 2507 4464 4276 3565 2910 2029 1056  532  364  282  214  171  123
  107   62   51   25    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01140586  0.03005513  0.0487044   0.06735367  0.08600294  0.10465221
  0.12330148  0.14195076  0.16060003  0.1792493   0.19789857  0.21654784
  0.23519711  0.25384638  0.27249565  0.29114492  0.30979419  0.32844347
  0.34709274  0.36574201  0.38439128]
distance difference  counter: 
(array([    5,    11,    16,    36,    53,    72,   106,   127,   185,
         242,   330,   596,  1776,  6704, 12836,   312,    72,    24,
          11,     4]), array([ 1.86030614,  1.86995749,  1.87960883,  1.88926018,  1.89891152,
        1.90856287,  1.91821421,  1.92786556,  1.9375169 ,  1.94716825,
        1.95681959,  1.96647094,  1.97612228,  1.98577363,  1.99542497,
        2.00507632,  2.01472766,  2.02437901,  2.03403035,  2.0436817 ,
        2.05333304]))
||Xanchor-Xpos||_2  counter: 
[  49  291  901 1927 2729 1716  410  133   43   21   11    6    0    4    2
    2    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   1   17  104  449 1688 3225 1538  574  237  156   75   59   47   26   20
    6    7    8    8    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01521712  0.02252012  0.02982312  0.03712613  0.04442913  0.05173213
  0.05903514  0.06633814  0.07364115  0.08094415  0.08824715  0.09555016
  0.10285316  0.11015616  0.11745917  0.12476217  0.13206518  0.13936818
  0.14667118  0.15397419  0.16127719]
distance difference  counter: 
(array([   3,    2,    7,    8,    8,   10,   19,   54,   74,  156,  473,
       2661, 4449,  300,   13,    5,    0,    0,    1,    3]), array([ 1.97695279,  1.97878309,  1.9806134 ,  1.9824437 ,  1.98427401,
        1.98610431,  1.98793461,  1.98976492,  1.99159522,  1.99342552,
        1.99525583,  1.99708613,  1.99891644,  2.00074674,  2.00257704,
        2.00440735,  2.00623765,  2.00806795,  2.00989826,  2.01172856,
        2.01355886]))
train/val Accuracy = 0.64854579471 / 0.510732476352 
 with threshold: [[ 0.09398209]]
============ epoch 3 ===========
training loss:		0.104561
||Xanchor-Xpos||_2  counter: 
[1905 8259 7224 3894 1307  403  209  109   83   42   38   15   12    5    4
    6    2    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 400 3397 6010 5256 3349 1609  945  583  447  305  283  194  173  159  136
  109   76   46   21   20]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00510022  0.0167103   0.02832039  0.03993047  0.05154056  0.06315064
  0.07476072  0.08637081  0.09798089  0.10959098  0.12120106  0.13281114
  0.14442123  0.15603131  0.1676414   0.17925148  0.19086156  0.20247165
  0.21408173  0.22569182  0.2373019 ]
distance difference  counter: 
(array([   13,    15,    33,    57,    92,   131,   177,   215,   300,
         476,  1128,  7509, 13182,   127,    40,    13,     7,     1,
           1,     1]), array([ 1.94493449,  1.94944652,  1.95395855,  1.95847058,  1.96298261,
        1.96749464,  1.97200667,  1.9765187 ,  1.98103073,  1.98554276,
        1.99005479,  1.99456682,  1.99907885,  2.00359088,  2.00810291,
        2.01261494,  2.01712697,  2.021639  ,  2.02615103,  2.03066306,
        2.03517509]))
||Xanchor-Xpos||_2  counter: 
[ 240 1763 3825 1686  417  164   66   37   16   17    4    2    1    2    3
    2    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  12  272 2341 3248 1090  483  256  171  119   76   55   37   27   19   17
    3    7    5    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0064029   0.01112619  0.01584949  0.02057279  0.02529608  0.03001938
  0.03474267  0.03946597  0.04418927  0.04891256  0.05363586  0.05835916
  0.06308245  0.06780575  0.07252904  0.07725234  0.08197564  0.08669893
  0.09142223  0.09614552  0.10086882]
distance difference  counter: 
(array([   1,    1,    5,    8,    5,   10,   16,   29,   51,   99,  212,
        884, 6651,  247,   18,    5,    0,    0,    1,    3]), array([ 1.99021101,  1.99098527,  1.99175954,  1.9925338 ,  1.99330807,
        1.99408233,  1.9948566 ,  1.99563086,  1.99640512,  1.99717939,
        1.99795365,  1.99872792,  1.99950218,  2.00027645,  2.00105071,
        2.00182498,  2.00259924,  2.0033735 ,  2.00414777,  2.00492203,
        2.0056963 ]))
train/val Accuracy = 0.660132664342 / 0.524557361145 
 with threshold: [[ 0.04088662]]
============ epoch 4 ===========
training loss:		0.104463
||Xanchor-Xpos||_2  counter: 
[ 6113 11112  4170  1066   457   202   137   105    50    40    28    13
    11     5     3     4     2     0     0     0]
||Xanchor-Xneg||_2  counter: 
[1661 7853 6229 2661 1405  878  644  484  350  249  229  226  180  151  114
   89   55   36   20    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00200824  0.00961612  0.01722401  0.02483189  0.03243977  0.04004765
  0.04765553  0.05526341  0.06287129  0.07047917  0.07808705  0.08569493
  0.09330282  0.1009107   0.10851858  0.11612646  0.12373434  0.13134222
  0.1389501   0.14655798  0.15416586]
distance difference  counter: 
(array([    2,    13,    17,    28,    47,    86,   118,   152,   225,
         261,   370,   707,  2180, 18935,   283,    58,    21,     6,
           6,     3]), array([ 1.97643769,  1.97817542,  1.97991315,  1.98165088,  1.98338861,
        1.98512635,  1.98686408,  1.98860181,  1.99033954,  1.99207727,
        1.993815  ,  1.99555274,  1.99729047,  1.9990282 ,  2.00076593,
        2.00250366,  2.00424139,  2.00597913,  2.00771686,  2.00945459,
        2.01119232]))
||Xanchor-Xpos||_2  counter: 
[ 941 4466 1817  520  255  108   57   32   18   16    3    4    0    4    3
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 100 2816 2745 1049  517  339  187  137  114   57   59   34   26   24   15
    5    6    7    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00249569  0.00547298  0.00845028  0.01142758  0.01440487  0.01738217
  0.02035946  0.02333676  0.02631406  0.02929135  0.03226865  0.03524594
  0.03822324  0.04120054  0.04417783  0.04715513  0.05013242  0.05310972
  0.05608701  0.05906431  0.06204161]
distance difference  counter: 
(array([   3,    2,    4,    8,    5,    9,   19,   26,   54,   75,  187,
        564, 6895,  351,   34,    3,    3,    0,    1,    3]), array([ 1.99622333,  1.99651982,  1.99681631,  1.9971128 ,  1.9974093 ,
        1.99770579,  1.99800228,  1.99829877,  1.99859526,  1.99889175,
        1.99918824,  1.99948474,  1.99978123,  2.00007772,  2.00037421,
        2.0006707 ,  2.00096719,  2.00126368,  2.00156018,  2.00185667,
        2.00215316]))
train/val Accuracy = 0.653074241007 / 0.534259034683 
 with threshold: [[ 0.01978468]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.100208
||Xanchor-Xpos||_2  counter: 
[18706   878  1027   210   343   472   404    83    70    97   100   162
   145   190   210   194   157    65     5     0]
||Xanchor-Xneg||_2  counter: 
[18023  1111  1290   160    99   224   707   427    22    24    25    44
    61    77   103   207   342   376   180    16]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.39894831e-07   6.08470394e-02   1.21693839e-01   1.82540639e-01
   2.43387438e-01   3.04234238e-01   3.65081037e-01   4.25927837e-01
   4.86774636e-01   5.47621436e-01   6.08468235e-01   6.69315035e-01
   7.30161834e-01   7.91008634e-01   8.51855433e-01   9.12702233e-01
   9.73549033e-01   1.03439583e+00   1.09524263e+00   1.15608943e+00
   1.21693623e+00]
distance difference  counter: 
(array([    5,     6,    13,    24,    45,    53,    98,    98,   115,
         138,   163,   213,   653, 21604,   206,    45,    16,    10,
           8,     5]), array([ 0.73308647,  0.82505475,  0.91702303,  1.00899131,  1.10095959,
        1.19292787,  1.28489615,  1.37686443,  1.46883271,  1.56080099,
        1.65276927,  1.74473755,  1.83670583,  1.92867411,  2.02064239,
        2.11261067,  2.20457895,  2.29654723,  2.38851551,  2.48048379,
        2.57245207]))
||Xanchor-Xpos||_2  counter: 
[  18  127  352  788 1366 1965 2153 1105  260   66   27    8    3    1    3
    4    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    2   26   86  310  759 2018 2812 1337  441  192  110   62   34   27
   10    7    8    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.26213308e-07   1.70871249e-07   2.15529190e-07   2.60187130e-07
   3.04845071e-07   3.49503011e-07   3.94160952e-07   4.38818893e-07
   4.83476833e-07   5.28134774e-07   5.72792715e-07   6.17450655e-07
   6.62108596e-07   7.06766536e-07   7.51424477e-07   7.96082418e-07
   8.40740358e-07   8.85398299e-07   9.30056240e-07   9.74714180e-07
   1.01937212e-06]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
train/val Accuracy = 0.503869376648 / 0.5 
 with threshold: [[ 0.09268513]]
============ epoch 1 ===========
training loss:		1.032223
||Xanchor-Xpos||_2  counter: 
[20202   962   874   250   366   445   305    64    21    12     4     4
     6     1     1     1     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[19372  1149   974   387   186   269   484   361   109    66    44    36
    16    12    13    12    12     8     4     4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.32028665e-13   7.15196965e-08   1.43039261e-07   2.14558825e-07
   2.86078390e-07   3.57597954e-07   4.29117519e-07   5.00637083e-07
   5.72156648e-07   6.43676212e-07   7.15195777e-07   7.86715341e-07
   8.58234906e-07   9.29754470e-07   1.00127403e-06   1.07279360e-06
   1.14431316e-06   1.21583273e-06   1.28735229e-06   1.35887186e-06
   1.43039142e-06]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
||Xanchor-Xpos||_2  counter: 
[ 548 3702 2759  689  262  141   68   24   20   14    8    2    0    3    2
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  38 1306 3763 1438  606  371  210  156   97   74   64   29   21   30   14
    7    6    8    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  6.31310190e-14   1.26869964e-13   1.90608910e-13   2.54347855e-13
   3.18086800e-13   3.81825746e-13   4.45564691e-13   5.09303636e-13
   5.73042582e-13   6.36781527e-13   7.00520473e-13   7.64259418e-13
   8.27998363e-13   8.91737309e-13   9.55476254e-13   1.01921520e-12
   1.08295414e-12   1.14669309e-12   1.21043204e-12   1.27417098e-12
   1.33790993e-12]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 2 ===========
training loss:		1.032223
||Xanchor-Xpos||_2  counter: 
[21641  1158   435   136    63    25    23    16    10     6     3     1
     0     0     0     0     1     0     0     0]
||Xanchor-Xneg||_2  counter: 
[20768  1048   754   327   215   110    72    54    50    20    18    15
    10     7     9    11     8    11     5     6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   1.05359710e-13   2.10719419e-13   3.16079129e-13
   4.21438839e-13   5.26798548e-13   6.32158258e-13   7.37517968e-13
   8.42877677e-13   9.48237387e-13   1.05359710e-12   1.15895681e-12
   1.26431652e-12   1.36967623e-12   1.47503594e-12   1.58039565e-12
   1.68575535e-12   1.79111506e-12   1.89647477e-12   2.00183448e-12
   2.10719419e-12]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
||Xanchor-Xpos||_2  counter: 
[8033    0   80   16   15   20   25   12   29    2    0    0    3    4    1
    4    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[7806    0  114   30   19   38   57   34   78    7    7    1   12    7   15
    7    6    4    0    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   3.91853215e-20   7.83706429e-20   1.17555964e-19
   1.56741286e-19   1.95926607e-19   2.35111929e-19   2.74297250e-19
   3.13482572e-19   3.52667893e-19   3.91853215e-19   4.31038536e-19
   4.70223858e-19   5.09409179e-19   5.48594501e-19   5.87779822e-19
   6.26965144e-19   6.66150465e-19   7.05335786e-19   7.44521108e-19
   7.83706429e-19]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 3 ===========
training loss:		1.032223
||Xanchor-Xpos||_2  counter: 
[23053   110    37    91    57    60    20    14     8    14     6     4
    10     8    13     8     5     0     0     0]
||Xanchor-Xneg||_2  counter: 
[22869   104    37    88    76   127    18    21    16    20     8     7
    13    12    18    17    43    21     1     2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   5.98808557e-20   1.19761711e-19   1.79642567e-19
   2.39523423e-19   2.99404278e-19   3.59285134e-19   4.19165990e-19
   4.79046845e-19   5.38927701e-19   5.98808557e-19   6.58689412e-19
   7.18570268e-19   7.78451123e-19   8.38331979e-19   8.98212835e-19
   9.58093690e-19   1.01797455e-18   1.07785540e-18   1.13773626e-18
   1.19761711e-18]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 4 ===========
training loss:		1.032223
||Xanchor-Xpos||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 1.5 ,  1.55,  1.6 ,  1.65,  1.7 ,  1.75,  1.8 ,  1.85,  1.9 ,
        1.95,  2.  ,  2.05,  2.1 ,  2.15,  2.2 ,  2.25,  2.3 ,  2.35,
        2.4 ,  2.45,  2.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.032849
||Xanchor-Xpos||_2  counter: 
[  15   75  162  303  469  645  843 1112 1373 1671 1905 2158 2420 2523 2675
 2419 1794  815  138    3]
||Xanchor-Xneg||_2  counter: 
[   2   26   43   88  125  166  212  211  326  402  517  762 1042 1494 2226
 3440 4883 5039 2358  156]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17705555  0.22794151  0.27882746  0.32971341  0.38059937  0.43148532
  0.48237128  0.53325723  0.58414318  0.63502914  0.68591509  0.73680104
  0.787687    0.83857295  0.88945891  0.94034486  0.99123081  1.04211677
  1.09300272  1.14388867  1.19477463]
distance difference  counter: 
(array([  53,  187,  478,  798, 1276, 1673, 2250, 2690, 2964, 3254, 3458,
       2651, 1148,  378,  128,   70,   42,   14,    4,    2]), array([ 18.78526497,  18.89394407,  19.00262318,  19.11130228,
        19.21998138,  19.32866049,  19.43733959,  19.5460187 ,
        19.6546978 ,  19.7633769 ,  19.87205601,  19.98073511,
        20.08941422,  20.19809332,  20.30677242,  20.41545153,
        20.52413063,  20.63280973,  20.74148884,  20.85016794,  20.95884705]))
||Xanchor-Xpos||_2  counter: 
[   6    9   33   81  103  167  229  323  414  587  648  810  989 1083 1036
  889  592  200   45    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    2    3   10   21   43   49  110  155  267  396  683 1068
 1476 1870 1490  535   66]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2872802   0.33188583  0.37649146  0.42109709  0.46570272  0.51030836
  0.55491399  0.59951962  0.64412525  0.68873088  0.73333651  0.77794214
  0.82254777  0.8671534   0.91175903  0.95636466  1.00097029  1.04557592
  1.09018155  1.13478718  1.17939281]
distance difference  counter: 
(array([   2,   12,   55,   91,  184,  288,  474,  596,  824,  973, 1102,
       1194, 1134,  724,  386,  137,   50,   14,    5,    1]), array([ 18.81336403,  18.90455666,  18.99574928,  19.08694191,
        19.17813454,  19.26932716,  19.36051979,  19.45171242,
        19.54290504,  19.63409767,  19.7252903 ,  19.81648293,
        19.90767555,  19.99886818,  20.09006081,  20.18125343,
        20.27244606,  20.36363869,  20.45483131,  20.54602394,  20.63721657]))
train/val Accuracy = 0.716196105111 / 0.714225078826 
 with threshold: [[ 0.88223797]]
============ epoch 1 ===========
training loss:		0.032832
||Xanchor-Xpos||_2  counter: 
[  24   71  160  304  480  700  905 1118 1376 1730 1927 2125 2510 2591 2703
 2423 1662  628   77    4]
||Xanchor-Xneg||_2  counter: 
[   3   26   43   93  125  176  197  246  332  376  570  801 1153 1502 2447
 3641 5073 4864 1778   72]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17697747  0.22831669  0.27965592  0.33099514  0.38233436  0.43367359
  0.48501281  0.53635203  0.58769126  0.63903048  0.6903697   0.74170893
  0.79304815  0.84438737  0.8957266   0.94706582  0.99840504  1.04974427
  1.10108349  1.15242271  1.20376194]
distance difference  counter: 
(array([  40,  181,  422,  808, 1194, 1619, 2153, 2719, 2981, 3216, 3455,
       2818, 1203,  425,  152,   66,   40,   14,    9,    3]), array([ 18.77337265,  18.88226566,  18.99115868,  19.10005169,
        19.2089447 ,  19.31783772,  19.42673073,  19.53562374,
        19.64451675,  19.75340977,  19.86230278,  19.97119579,
        20.08008881,  20.18898182,  20.29787483,  20.40676785,
        20.51566086,  20.62455387,  20.73344688,  20.8423399 ,  20.95123291]))
||Xanchor-Xpos||_2  counter: 
[   7   13   33   53  103  142  252  322  447  555  685  810  984 1115 1016
  913  541  212   42    1]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    2    5   15   21   36   53   95  165  273  437  721 1015
 1523 1858 1468  508   48]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28465515  0.32946796  0.37428076  0.41909356  0.46390636  0.50871916
  0.55353196  0.59834476  0.64315757  0.68797037  0.73278317  0.77759597
  0.82240877  0.86722157  0.91203437  0.95684718  1.00165998  1.04647278
  1.09128558  1.13609838  1.18091118]
distance difference  counter: 
(array([   3,   12,   56,  136,  201,  319,  534,  692,  881, 1134, 1182,
       1251,  975,  531,  221,   71,   34,   10,    2,    1]), array([ 18.81518555,  18.91022902,  19.00527248,  19.10031595,
        19.19535942,  19.29040289,  19.38544636,  19.48048983,
        19.57553329,  19.67057676,  19.76562023,  19.8606637 ,
        19.95570717,  20.05075064,  20.14579411,  20.24083757,
        20.33588104,  20.43092451,  20.52596798,  20.62101145,  20.71605492]))
train/val Accuracy = 0.715622076707 / 0.709252971138 
 with threshold: [[ 0.88153145]]
============ epoch 2 ===========
training loss:		0.032815
||Xanchor-Xpos||_2  counter: 
[  15   81  191  313  471  697  925 1091 1466 1675 1918 2217 2460 2598 2668
 2357 1620  668   85    2]
||Xanchor-Xneg||_2  counter: 
[   2   28   53   91  127  187  191  252  317  421  547  786 1146 1544 2423
 3697 4995 4850 1804   57]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18059789  0.23173967  0.28288145  0.33402323  0.38516501  0.43630679
  0.48744857  0.53859036  0.58973214  0.64087392  0.6920157   0.74315748
  0.79429926  0.84544104  0.89658283  0.94772461  0.99886639  1.05000817
  1.10114995  1.15229173  1.20343351]
distance difference  counter: 
(array([  55,  167,  436,  848, 1231, 1804, 2335, 2706, 3039, 3395, 3505,
       2453,  989,  325,  120,   62,   26,   15,    5,    2]), array([ 18.77724266,  18.88775692,  18.99827118,  19.10878544,
        19.2192997 ,  19.32981396,  19.44032822,  19.55084248,
        19.66135674,  19.77187099,  19.88238525,  19.99289951,
        20.10341377,  20.21392803,  20.32444229,  20.43495655,
        20.54547081,  20.65598507,  20.76649933,  20.87701359,  20.98752785]))
||Xanchor-Xpos||_2  counter: 
[  10   12   48   72  126  145  235  338  438  565  719  852 1004 1067 1032
  845  523  181   32    2]
||Xanchor-Xneg||_2  counter: 
[   0    2    1    5    8   13   22   36   72  102  167  280  470  729 1059
 1509 1868 1406  465   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29485542  0.33919874  0.38354205  0.42788537  0.47222869  0.51657201
  0.56091533  0.60525865  0.64960197  0.69394529  0.73828861  0.78263193
  0.82697525  0.87131857  0.91566189  0.96000521  1.00434853  1.04869185
  1.09303517  1.13737849  1.18172181]
distance difference  counter: 
(array([   7,   32,   80,  137,  241,  350,  543,  682,  904, 1037, 1188,
       1175,  947,  560,  230,   85,   35,   10,    2,    1]), array([ 18.86439323,  18.95508595,  19.04577866,  19.13647137,
        19.22716408,  19.31785679,  19.4085495 ,  19.49924221,
        19.58993492,  19.68062763,  19.77132034,  19.86201305,
        19.95270576,  20.04339848,  20.13409119,  20.2247839 ,
        20.31547661,  20.40616932,  20.49686203,  20.58755474,  20.67824745]))
train/val Accuracy = 0.716557530402 / 0.710950764007 
 with threshold: [[ 0.88115067]]
============ epoch 3 ===========
training loss:		0.032797
||Xanchor-Xpos||_2  counter: 
[  21   68  156  317  470  659  856 1100 1379 1675 1983 2104 2407 2574 2621
 2472 1751  778  123    4]
||Xanchor-Xneg||_2  counter: 
[   2   25   55   73  128  173  196  249  314  404  519  768 1025 1508 2251
 3443 4757 5069 2394  165]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17660998  0.22746765  0.27832533  0.32918301  0.38004068  0.43089836
  0.48175603  0.53261371  0.58347138  0.63432906  0.68518674  0.73604441
  0.78690209  0.83775976  0.88861744  0.93947512  0.99033279  1.04119047
  1.09204814  1.14290582  1.19376349]
distance difference  counter: 
(array([  36,  162,  407,  829, 1249, 1775, 2324, 2708, 3008, 3402, 3522,
       2572,  970,  336,  115,   53,   30,   13,    5,    2]), array([ 18.764328  ,  18.87577629,  18.98722458,  19.09867287,
        19.21012115,  19.32156944,  19.43301773,  19.54446602,
        19.65591431,  19.76736259,  19.87881088,  19.99025917,
        20.10170746,  20.21315575,  20.32460403,  20.43605232,
        20.54750061,  20.6589489 ,  20.77039719,  20.88184547,  20.99329376]))
||Xanchor-Xpos||_2  counter: 
[   9    8   27   59  107  147  226  344  441  558  698  828  989 1064 1035
  927  547  190   41    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    0    6   15   21   46   61   98  161  256  455  708 1005
 1547 1866 1467  492   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28408736  0.32885785  0.37362834  0.41839882  0.46316931  0.5079398
  0.55271029  0.59748078  0.64225127  0.68702175  0.73179224  0.77656273
  0.82133322  0.86610371  0.91087419  0.95564468  1.00041517  1.04518566
  1.08995615  1.13472663  1.17949712]
distance difference  counter: 
(array([  10,   39,   84,  135,  232,  381,  517,  667,  814,  984, 1100,
       1171,  989,  657,  278,  124,   37,   19,    7,    1]), array([ 18.88893127,  18.97620392,  19.06347656,  19.15074921,
        19.23802185,  19.32529449,  19.41256714,  19.49983978,
        19.58711243,  19.67438507,  19.76165771,  19.84893036,
        19.936203  ,  20.02347565,  20.11074829,  20.19802094,
        20.28529358,  20.37256622,  20.45983887,  20.54711151,  20.63438416]))
train/val Accuracy = 0.717237860362 / 0.708343439243 
 with threshold: [[ 0.88055769]]
============ epoch 4 ===========
training loss:		0.032780
||Xanchor-Xpos||_2  counter: 
[  27   75  186  327  447  660  891 1150 1435 1666 1957 2127 2393 2576 2607
 2447 1697  725  123    2]
||Xanchor-Xneg||_2  counter: 
[   2   33   58   81  132  168  200  235  328  398  542  808 1038 1565 2240
 3498 4787 4931 2305  169]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1850376   0.23546078  0.28588396  0.33630714  0.38673033  0.43715351
  0.48757669  0.53799987  0.58842305  0.63884623  0.68926942  0.7396926
  0.79011578  0.84053896  0.89096214  0.94138533  0.99180851  1.04223169
  1.09265487  1.14307805  1.19350123]
distance difference  counter: 
(array([  48,  146,  367,  771, 1257, 1727, 2258, 2720, 3099, 3415, 3476,
       2669,  990,  340,  131,   45,   36,   14,    7,    2]), array([ 18.75681114,  18.86860237,  18.9803936 ,  19.09218483,
        19.20397606,  19.31576729,  19.42755852,  19.53934975,
        19.65114098,  19.76293221,  19.87472343,  19.98651466,
        20.09830589,  20.21009712,  20.32188835,  20.43367958,
        20.54547081,  20.65726204,  20.76905327,  20.8808445 ,  20.99263573]))
||Xanchor-Xpos||_2  counter: 
[   8   10   43   56   94  169  241  351  445  562  653  844  975 1075 1071
  869  554  187   36    3]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    1    5   13   24   43   50  109  160  270  428  722 1060
 1519 1858 1433  500   48]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28631014  0.33093422  0.37555831  0.4201824   0.46480649  0.50943057
  0.55405466  0.59867875  0.64330283  0.68792692  0.73255101  0.7771751
  0.82179918  0.86642327  0.91104736  0.95567144  1.00029553  1.04491962
  1.08954371  1.13416779  1.17879188]
distance difference  counter: 
(array([   2,   11,   36,   78,  168,  239,  412,  478,  678,  804,  955,
       1173, 1058, 1008,  663,  290,  121,   45,   21,    6]), array([ 18.82061386,  18.90620651,  18.99179916,  19.07739182,
        19.16298447,  19.24857712,  19.33416977,  19.41976242,
        19.50535507,  19.59094772,  19.67654037,  19.76213303,
        19.84772568,  19.93331833,  20.01891098,  20.10450363,
        20.19009628,  20.27568893,  20.36128159,  20.44687424,  20.53246689]))
train/val Accuracy = 0.716026022621 / 0.709980596653 
 with threshold: [[ 0.88001983]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.207132
||Xanchor-Xpos||_2  counter: 
[  29   98  176  343  471  692  915 1157 1402 1711 1950 2276 2516 2520 2629
 2282 1621  643   87    0]
||Xanchor-Xneg||_2  counter: 
[   7   29   56   94  141  169  207  252  313  419  586  832 1073 1627 2478
 3760 4898 4560 1811  206]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18713492  0.23779497  0.28845502  0.33911506  0.38977511  0.44043516
  0.4910952   0.54175525  0.5924153   0.64307534  0.69373539  0.74439544
  0.79505548  0.84571553  0.89637558  0.94703563  0.99769567  1.04835572
  1.09901577  1.14967581  1.20033586]
distance difference  counter: 
(array([  22,  111,  230,  516,  903, 1438, 2003, 2430, 2977, 3279, 3536,
       3487, 1653,  571,  202,   87,   44,   22,    4,    3]), array([ 18.67888832,  18.79277449,  18.90666065,  19.02054682,
        19.13443298,  19.24831915,  19.36220531,  19.47609148,
        19.58997765,  19.70386381,  19.81774998,  19.93163614,
        20.04552231,  20.15940847,  20.27329464,  20.38718081,
        20.50106697,  20.61495314,  20.7288393 ,  20.84272547,  20.95661163]))
||Xanchor-Xpos||_2  counter: 
[   9   20   44   76  121  164  267  362  490  602  708  871 1000 1104 1011
  784  453  138   22    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    3    5   11   22   43   90  119  159  310  527  813 1191
 1698 1731 1168  325   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29889193  0.34302854  0.38716516  0.43130177  0.47543838  0.51957499
  0.5637116   0.60784822  0.65198483  0.69612144  0.74025805  0.78439467
  0.82853128  0.87266789  0.9168045   0.96094111  1.00507773  1.04921434
  1.09335095  1.13748756  1.18162417]
distance difference  counter: 
(array([   8,    9,   38,  114,  169,  291,  448,  572,  743,  844, 1024,
       1170, 1136,  854,  491,  202,   86,   30,   15,    2]), array([ 18.85810852,  18.94360752,  19.02910652,  19.11460552,
        19.20010452,  19.28560352,  19.37110252,  19.45660152,
        19.54210052,  19.62759953,  19.71309853,  19.79859753,
        19.88409653,  19.96959553,  20.05509453,  20.14059353,
        20.22609253,  20.31159153,  20.39709053,  20.48258953,  20.56808853]))
train/val Accuracy = 0.716727612892 / 0.713073005093 
 with threshold: [[ 0.87903957]]
============ epoch 1 ===========
training loss:		0.205414
||Xanchor-Xpos||_2  counter: 
[  28  108  208  352  511  726  987 1176 1429 1762 2005 2174 2495 2546 2627
 2332 1445  542   64    1]
||Xanchor-Xneg||_2  counter: 
[   9   35   61   91  136  176  205  253  355  427  628  796 1178 1689 2522
 3905 4978 4313 1607  154]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19158682  0.24171338  0.29183993  0.34196648  0.39209304  0.44221959
  0.49234615  0.5424727   0.59259925  0.64272581  0.69285236  0.74297892
  0.79310547  0.84323203  0.89335858  0.94348513  0.99361169  1.04373824
  1.0938648   1.14399135  1.1941179 ]
distance difference  counter: 
(array([  25,  118,  219,  573,  970, 1428, 2078, 2486, 3018, 3348, 3566,
       3288, 1533,  538,  176,   87,   36,   19,    7,    5]), array([ 18.70487213,  18.81728439,  18.92969666,  19.04210892,
        19.15452118,  19.26693344,  19.3793457 ,  19.49175797,
        19.60417023,  19.71658249,  19.82899475,  19.94140701,
        20.05381927,  20.16623154,  20.2786438 ,  20.39105606,
        20.50346832,  20.61588058,  20.72829285,  20.84070511,  20.95311737]))
||Xanchor-Xpos||_2  counter: 
[   7   12   38   52  104  147  232  308  426  583  737  795 1006 1130 1063
  855  544  180   26    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    2    5   12   25   33   56  105  148  276  443  768 1086
 1622 1848 1336  429   50]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27370751  0.31826099  0.36281447  0.40736796  0.45192144  0.49647492
  0.5410284   0.58558189  0.63013537  0.67468885  0.71924233  0.76379582
  0.8083493   0.85290278  0.89745626  0.94200975  0.98656323  1.03111671
  1.07567019  1.12022368  1.16477716]
distance difference  counter: 
(array([  10,   38,   93,  158,  270,  464,  640,  796, 1063, 1110, 1300,
       1081,  724,  327,  112,   40,   12,    4,    2,    2]), array([ 18.91376305,  19.00533705,  19.09691105,  19.18848505,
        19.28005905,  19.37163305,  19.46320705,  19.55478106,
        19.64635506,  19.73792906,  19.82950306,  19.92107706,
        20.01265106,  20.10422506,  20.19579906,  20.28737307,
        20.37894707,  20.47052107,  20.56209507,  20.65366907,  20.74524307]))
train/val Accuracy = 0.716727612892 / 0.713012369634 
 with threshold: [[ 0.87061923]]
============ epoch 2 ===========
training loss:		0.203730
||Xanchor-Xpos||_2  counter: 
[  18   82  197  336  488  740  932 1176 1460 1717 2011 2316 2486 2659 2636
 2294 1420  492   58    0]
||Xanchor-Xneg||_2  counter: 
[   2   37   54   82  152  179  185  273  337  442  601  843 1145 1773 2624
 3997 5092 4187 1382  131]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17934255  0.22985833  0.28037411  0.33088989  0.38140568  0.43192146
  0.48243724  0.53295302  0.5834688   0.63398458  0.68450036  0.73501614
  0.78553192  0.8360477   0.88656348  0.93707926  0.98759504  1.03811082
  1.0886266   1.13914238  1.18965816]
distance difference  counter: 
(array([  34,  111,  230,  555,  983, 1462, 2000, 2513, 2969, 3323, 3544,
       3374, 1550,  536,  181,   74,   41,   26,    9,    3]), array([ 18.73215103,  18.84198923,  18.95182743,  19.06166563,
        19.17150383,  19.28134203,  19.39118023,  19.50101843,
        19.61085663,  19.72069483,  19.83053303,  19.94037123,
        20.05020943,  20.16004763,  20.26988583,  20.37972403,
        20.48956223,  20.59940042,  20.70923862,  20.81907682,  20.92891502]))
||Xanchor-Xpos||_2  counter: 
[   3   15   27   53  104  145  233  327  448  552  709  865 1035 1087 1091
  859  521  149   23    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    2    2   12   26   33   61   97  160  267  496  767 1128
 1714 1834 1277  330   38]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26315406  0.30803323  0.35291239  0.39779156  0.44267073  0.48754989
  0.53242906  0.57730823  0.62218739  0.66706656  0.71194573  0.75682489
  0.80170406  0.84658323  0.89146239  0.93634156  0.98122073  1.02609989
  1.07097906  1.11585823  1.1607374 ]
distance difference  counter: 
(array([  10,   21,   65,  144,  217,  380,  540,  669,  895, 1063, 1195,
       1177,  960,  542,  237,   78,   37,   12,    2,    2]), array([ 18.91816521,  19.00472727,  19.09128933,  19.17785139,
        19.26441345,  19.35097551,  19.43753757,  19.52409964,
        19.6106617 ,  19.69722376,  19.78378582,  19.87034788,
        19.95690994,  20.043472  ,  20.13003407,  20.21659613,
        20.30315819,  20.38972025,  20.47628231,  20.56284437,  20.64940643]))
train/val Accuracy = 0.715940981376 / 0.712587921416 
 with threshold: [[ 0.86278584]]
============ epoch 3 ===========
training loss:		0.202078
||Xanchor-Xpos||_2  counter: 
[  18   90  205  313  467  678  958 1199 1441 1733 2020 2243 2448 2538 2614
 2378 1503  593   77    2]
||Xanchor-Xneg||_2  counter: 
[   4   34   50   92  156  164  201  245  337  454  547  824 1116 1682 2564
 3755 5019 4320 1713  241]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17915814  0.22878028  0.27840243  0.32802457  0.37764672  0.42726887
  0.47689101  0.52651316  0.5761353   0.62575745  0.6753796   0.72500174
  0.77462389  0.82424603  0.87386818  0.92349033  0.97311247  1.02273462
  1.07235676  1.12197891  1.17160106]
distance difference  counter: 
(array([  25,   86,  207,  484,  848, 1341, 1937, 2436, 2928, 3284, 3471,
       3592, 1880,  643,  195,   86,   41,   24,    6,    4]), array([ 18.72514153,  18.83407869,  18.94301586,  19.05195303,
        19.1608902 ,  19.26982737,  19.37876453,  19.4877017 ,
        19.59663887,  19.70557604,  19.81451321,  19.92345037,
        20.03238754,  20.14132471,  20.25026188,  20.35919905,
        20.46813622,  20.57707338,  20.68601055,  20.79494772,  20.90388489]))
||Xanchor-Xpos||_2  counter: 
[   8   20   58   71  116  182  265  348  446  553  710  850  967 1064 1010
  835  520  186   34    3]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    3   10   15   25   40   67  100  174  299  471  750 1033
 1574 1775 1338  508   61]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2981059   0.34000782  0.38190975  0.42381167  0.4657136   0.50761552
  0.54951745  0.59141937  0.6333213   0.67522322  0.71712515  0.75902707
  0.800929    0.84283092  0.88473285  0.92663477  0.9685367   1.01043862
  1.05234055  1.09424247  1.1361444 ]
distance difference  counter: 
(array([   9,    9,   48,  109,  185,  299,  464,  604,  739,  908, 1113,
       1158, 1101,  810,  416,  173,   59,   26,   11,    5]), array([ 18.91916275,  19.00128469,  19.08340664,  19.16552858,
        19.24765053,  19.32977247,  19.41189442,  19.49401636,
        19.57613831,  19.65826025,  19.74038219,  19.82250414,
        19.90462608,  19.98674803,  20.06886997,  20.15099192,
        20.23311386,  20.31523581,  20.39735775,  20.47947969,  20.56160164]))
train/val Accuracy = 0.716387447912 / 0.71040504487 
 with threshold: [[ 0.85468993]]
============ epoch 4 ===========
training loss:		0.200457
||Xanchor-Xpos||_2  counter: 
[  20   83  188  336  500  709  947 1180 1508 1722 2040 2269 2487 2656 2645
 2311 1401  463   53    0]
||Xanchor-Xneg||_2  counter: 
[   4   34   59   82  143  170  208  252  349  452  614  838 1190 1769 2665
 3992 5086 4089 1363  159]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17553316  0.22522554  0.27491792  0.3246103   0.37430269  0.42399507
  0.47368745  0.52337983  0.57307221  0.62276459  0.67245697  0.72214935
  0.77184173  0.82153412  0.8712265   0.92091888  0.97061126  1.02030364
  1.06999602  1.1196884   1.16938078]
distance difference  counter: 
(array([  21,  106,  209,  543,  937, 1449, 2057, 2559, 3085, 3436, 3666,
       3313, 1408,  443,  157,   69,   38,   16,    4,    2]), array([ 18.75091743,  18.8602253 ,  18.96953316,  19.07884102,
        19.18814888,  19.29745674,  19.4067646 ,  19.51607246,
        19.62538033,  19.73468819,  19.84399605,  19.95330391,
        20.06261177,  20.17191963,  20.28122749,  20.39053535,
        20.49984322,  20.60915108,  20.71845894,  20.8277668 ,  20.93707466]))
||Xanchor-Xpos||_2  counter: 
[   7   18   39   72  107  157  286  349  447  560  701  903 1014 1063 1043
  800  491  162   27    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    1   11   18   22   35   72  114  159  285  505  794 1096
 1661 1764 1301  372   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28264323  0.32521924  0.36779526  0.41037127  0.45294728  0.4955233
  0.53809931  0.58067532  0.62325134  0.66582735  0.70840336  0.75097938
  0.79355539  0.8361314   0.87870742  0.92128343  0.96385944  1.00643546
  1.04901147  1.09158749  1.1341635 ]
distance difference  counter: 
(array([  12,   32,   85,  143,  270,  418,  555,  741,  874, 1075, 1171,
       1187,  865,  487,  200,   78,   34,   15,    2,    2]), array([ 18.98621368,  19.06815109,  19.1500885 ,  19.23202591,
        19.31396332,  19.39590073,  19.47783813,  19.55977554,
        19.64171295,  19.72365036,  19.80558777,  19.88752518,
        19.96946259,  20.05139999,  20.1333374 ,  20.21527481,
        20.29721222,  20.37914963,  20.46108704,  20.54302444,  20.62496185]))
train/val Accuracy = 0.71498426737 / 0.71355808877 
 with threshold: [[ 0.84701397]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.881207
||Xanchor-Xpos||_2  counter: 
[  20   87  191  349  521  753 1005 1299 1559 1876 2153 2459 2625 2711 2648
 1939  987  306   30    0]
||Xanchor-Xneg||_2  counter: 
[   6   26   60  105  145  167  235  274  360  483  709  984 1372 2185 3328
 4555 4784 2847  823   70]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17276575  0.22374389  0.27472204  0.32570019  0.37667834  0.42765648
  0.47863463  0.52961278  0.58059092  0.63156907  0.68254722  0.73352537
  0.78450351  0.83548166  0.88645981  0.93743796  0.9884161   1.03939425
  1.0903724   1.14135054  1.19232869]
distance difference  counter: 
(array([  12,   60,  177,  410,  814, 1309, 1788, 2483, 2870, 3233, 3640,
       3636, 2023,  676,  218,   87,   50,   20,    8,    4]), array([ 18.74034309,  18.84711046,  18.95387783,  19.0606452 ,
        19.16741257,  19.27417994,  19.3809473 ,  19.48771467,
        19.59448204,  19.70124941,  19.80801678,  19.91478415,
        20.02155151,  20.12831888,  20.23508625,  20.34185362,
        20.44862099,  20.55538836,  20.66215572,  20.76892309,  20.87569046]))
||Xanchor-Xpos||_2  counter: 
[   3   12   45   71   90  144  279  327  421  585  706  847 1009 1062 1032
  890  508  185   27    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    4    3   10   24   47   63   97  164  275  458  754 1090
 1530 1819 1431  427   50]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26218891  0.30298764  0.34378636  0.38458508  0.42538381  0.46618253
  0.50698125  0.54777998  0.5885787   0.62937742  0.67017615  0.71097487
  0.7517736   0.79257232  0.83337104  0.87416977  0.91496849  0.95576721
  0.99656594  1.03736466  1.07816339]
distance difference  counter: 
(array([  10,   36,   73,  186,  294,  505,  647,  857, 1105, 1213, 1218,
       1120,  608,  251,   80,   29,    9,    3,    1,    1]), array([ 19.06045723,  19.14118013,  19.22190304,  19.30262594,
        19.38334885,  19.46407175,  19.54479465,  19.62551756,
        19.70624046,  19.78696337,  19.86768627,  19.94840918,
        20.02913208,  20.10985498,  20.19057789,  20.27130079,
        20.3520237 ,  20.4327466 ,  20.51346951,  20.59419241,  20.67491531]))
train/val Accuracy = 0.715473254528 / 0.724411836042 
 with threshold: [[ 0.84427747]]
============ epoch 1 ===========
training loss:		1.734664
||Xanchor-Xpos||_2  counter: 
[  20   84  208  365  526  748  988 1246 1547 1793 2102 2426 2615 2675 2608
 1993 1215  310   46    3]
||Xanchor-Xneg||_2  counter: 
[   5   30   57   97  139  173  240  266  369  476  639  928 1373 1996 3143
 4511 4636 3166 1129  145]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15819809  0.2040256   0.24985312  0.29568063  0.34150815  0.38733567
  0.43316318  0.4789907   0.52481821  0.57064573  0.61647324  0.66230076
  0.70812827  0.75395579  0.7997833   0.84561082  0.89143834  0.93726585
  0.98309337  1.02892088  1.0747484 ]
distance difference  counter: 
(array([  23,   65,  223,  520,  897, 1508, 2009, 2577, 3152, 3460, 3734,
       3335, 1318,  422,  156,   68,   31,   15,    3,    2]), array([ 18.96909332,  19.05933104,  19.14956875,  19.23980646,
        19.33004417,  19.42028189,  19.5105196 ,  19.60075731,
        19.69099503,  19.78123274,  19.87147045,  19.96170816,
        20.05194588,  20.14218359,  20.2324213 ,  20.32265902,
        20.41289673,  20.50313444,  20.59337215,  20.68360987,  20.77384758]))
||Xanchor-Xpos||_2  counter: 
[   9   22   41   76  117  175  296  372  463  586  739  896 1048 1061 1011
  799  385  128   20    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    3   11   19   29   48   73  116  172  308  526  825 1198
 1692 1795 1118  282   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25329489  0.290009    0.32672312  0.36343724  0.40015136  0.43686548
  0.4735796   0.51029372  0.54700783  0.58372195  0.62043607  0.65715019
  0.69386431  0.73057843  0.76729255  0.80400667  0.84072078  0.8774349
  0.91414902  0.95086314  0.98757726]
distance difference  counter: 
(array([  11,   19,   78,  159,  304,  461,  677,  851, 1035, 1224, 1263,
       1155,  634,  254,   76,   32,    7,    4,    1,    1]), array([ 19.21327591,  19.28063717,  19.34799843,  19.41535969,
        19.48272095,  19.55008221,  19.61744347,  19.68480473,
        19.75216599,  19.81952724,  19.8868885 ,  19.95424976,
        20.02161102,  20.08897228,  20.15633354,  20.2236948 ,
        20.29105606,  20.35841732,  20.42577858,  20.49313984,  20.5605011 ]))
train/val Accuracy = 0.715345692661 / 0.728231869998 
 with threshold: [[ 0.7665559]]
============ epoch 2 ===========
training loss:		1.613787
||Xanchor-Xpos||_2  counter: 
[  35  125  247  382  586  837 1130 1341 1622 1896 2181 2544 2675 2781 2385
 1752  800  186   12    1]
||Xanchor-Xneg||_2  counter: 
[   9   38   63  123  152  183  253  288  403  522  766 1037 1566 2400 3686
 4736 4422 2270  568   32]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15630701  0.1981788   0.24005059  0.28192237  0.32379416  0.36566595
  0.40753774  0.44940953  0.49128131  0.5331531   0.57502489  0.61689668
  0.65876846  0.70064025  0.74251204  0.78438383  0.82625561  0.8681274
  0.90999919  0.95187098  0.99374276]
distance difference  counter: 
(array([   4,   15,  100,  318,  637, 1156, 1802, 2475, 3028, 3513, 3885,
       3847, 1877,  555,  175,   80,   30,   14,    4,    3]), array([ 19.07605553,  19.15508423,  19.23411293,  19.31314163,
        19.39217033,  19.47119904,  19.55022774,  19.62925644,
        19.70828514,  19.78731384,  19.86634254,  19.94537125,
        20.02439995,  20.10342865,  20.18245735,  20.26148605,
        20.34051476,  20.41954346,  20.49857216,  20.57760086,  20.65662956]))
||Xanchor-Xpos||_2  counter: 
[   9   18   41   77  106  163  247  330  438  590  695  836 1019 1065  989
  878  536  169   37    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    5    4   18   20   51   66   99  165  259  480  704 1090
 1460 1815 1456  490   63]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22476904  0.25781554  0.29086205  0.32390855  0.35695505  0.39000155
  0.42304806  0.45609456  0.48914106  0.52218756  0.55523407  0.58828057
  0.62132707  0.65437358  0.68742008  0.72046658  0.75351308  0.78655959
  0.81960609  0.85265259  0.88569909]
distance difference  counter: 
(array([  10,   15,   69,  128,  208,  341,  468,  657,  764,  942, 1079,
       1132, 1065,  741,  394,  133,   67,   23,    8,    2]), array([ 19.36316299,  19.41193886,  19.46071472,  19.50949059,
        19.55826645,  19.60704231,  19.65581818,  19.70459404,
        19.7533699 ,  19.80214577,  19.85092163,  19.89969749,
        19.94847336,  19.99724922,  20.04602509,  20.09480095,
        20.14357681,  20.19235268,  20.24112854,  20.2899044 ,  20.33868027]))
train/val Accuracy = 0.714835445191 / 0.727261702644 
 with threshold: [[ 0.6970687]]
============ epoch 3 ===========
training loss:		1.514079
||Xanchor-Xpos||_2  counter: 
[  22   80  201  328  509  710 1002 1265 1581 1785 2147 2398 2708 2701 2640
 2000 1070  326   45    0]
||Xanchor-Xneg||_2  counter: 
[   2   28   55  109  135  165  205  294  355  490  678  978 1338 2139 3205
 4493 4727 3018 1006   98]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.12561147  0.16393644  0.2022614   0.24058637  0.27891134  0.31723631
  0.35556128  0.39388624  0.43221121  0.47053618  0.50886115  0.54718611
  0.58551108  0.62383605  0.66216102  0.70048599  0.73881095  0.77713592
  0.81546089  0.85378586  0.89211082]
distance difference  counter: 
(array([  10,   40,  165,  383,  732, 1292, 1906, 2505, 3071, 3433, 3794,
       3643, 1680,  555,  174,   78,   29,   21,    5,    2]), array([ 19.26869011,  19.33159637,  19.39450264,  19.45740891,
        19.52031517,  19.58322144,  19.6461277 ,  19.70903397,
        19.77194023,  19.8348465 ,  19.89775276,  19.96065903,
        20.02356529,  20.08647156,  20.14937782,  20.21228409,
        20.27519035,  20.33809662,  20.40100288,  20.46390915,  20.52681541]))
||Xanchor-Xpos||_2  counter: 
[   9   11   32   80  117  153  237  351  456  547  678  846 1016 1025 1025
  886  540  201   32    4]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    3    5   12   21   52   65  107  149  251  434  724 1085
 1498 1795 1470  510   62]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20028317  0.23048442  0.26068566  0.29088691  0.32108816  0.35128941
  0.38149065  0.4116919   0.44189315  0.4720944   0.50229564  0.53249689
  0.56269814  0.59289939  0.62310063  0.65330188  0.68350313  0.71370437
  0.74390562  0.77410687  0.80430812]
distance difference  counter: 
(array([  12,   30,   78,  167,  229,  373,  515,  663,  742,  944, 1057,
       1080, 1003,  733,  378,  146,   63,   21,    8,    4]), array([ 19.4891243 ,  19.52848196,  19.56783962,  19.60719728,
        19.64655495,  19.68591261,  19.72527027,  19.76462793,
        19.8039856 ,  19.84334326,  19.88270092,  19.92205858,
        19.96141624,  20.00077391,  20.04013157,  20.07948923,
        20.11884689,  20.15820456,  20.19756222,  20.23691988,  20.27627754]))
train/val Accuracy = 0.715069308615 / 0.72786805724 
 with threshold: [[ 0.63318768]]
============ epoch 4 ===========
training loss:		1.431833
||Xanchor-Xpos||_2  counter: 
[  19  106  207  377  527  780 1010 1295 1573 1872 2120 2463 2614 2771 2546
 1926 1006  273   31    2]
||Xanchor-Xneg||_2  counter: 
[   5   35   55  112  143  188  203  281  392  511  655  996 1487 2156 3292
 4638 4592 2805  880   92]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1196786   0.15435627  0.18903394  0.2237116   0.25838927  0.29306694
  0.3277446   0.36242227  0.39709994  0.43177761  0.46645527  0.50113294
  0.53581061  0.57048827  0.60516594  0.63984361  0.67452128  0.70919894
  0.74387661  0.77855428  0.81323195]
distance difference  counter: 
(array([   5,   36,  130,  355,  701, 1290, 1832, 2467, 3037, 3463, 3787,
       3764, 1814,  538,  173,   70,   37,   10,    8,    1]), array([ 19.38416862,  19.43699541,  19.4898222 ,  19.54264898,
        19.59547577,  19.64830256,  19.70112934,  19.75395613,
        19.80678291,  19.8596097 ,  19.91243649,  19.96526327,
        20.01809006,  20.07091684,  20.12374363,  20.17657042,
        20.2293972 ,  20.28222399,  20.33505077,  20.38787756,  20.44070435]))
||Xanchor-Xpos||_2  counter: 
[   6   17   38   79  107  149  273  345  485  597  738  900 1047 1015  998
  849  452  128   21    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3    9   17   19   39   68  122  178  305  515  753 1194
 1629 1857 1198  308   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18192585  0.20980357  0.23768129  0.26555902  0.29343674  0.32131447
  0.34919219  0.37706991  0.40494764  0.43282536  0.46070308  0.48858081
  0.51645853  0.54433625  0.57221398  0.6000917   0.62796942  0.65584715
  0.68372487  0.71160259  0.73948032]
distance difference  counter: 
(array([  11,   38,   95,  206,  316,  522,  701,  860, 1058, 1223, 1262,
       1037,  576,  219,   73,   33,   11,    4,    0,    1]), array([ 19.57183266,  19.6088604 ,  19.64588814,  19.68291588,
        19.71994362,  19.75697136,  19.7939991 ,  19.83102684,
        19.86805458,  19.90508232,  19.94211006,  19.9791378 ,
        20.01616554,  20.05319328,  20.09022102,  20.12724876,
        20.1642765 ,  20.20130424,  20.23833199,  20.27535973,  20.31238747]))
train/val Accuracy = 0.71328344247 / 0.729020130973 
 with threshold: [[ 0.57533974]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.032778
||Xanchor-Xpos||_2  counter: 
[  23   92  202  318  510  706  934 1192 1502 1680 2030 2177 2522 2578 2603
 2299 1510  580   60    0]
||Xanchor-Xneg||_2  counter: 
[   4   32   53   97  145  162  200  261  336  441  549  824 1128 1677 2549
 3862 4920 4400 1753  125]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1858221   0.23696234  0.28810258  0.33924281  0.39038305  0.44152329
  0.49266353  0.54380377  0.59494401  0.64608424  0.69722448  0.74836472
  0.79950496  0.8506452   0.90178544  0.95292567  1.00406591  1.05520615
  1.10634639  1.15748663  1.20862687]
distance difference  counter: 
(array([   9,   79,  211,  491,  852, 1416, 1882, 2455, 2917, 3234, 3503,
       3532, 1874,  698,  208,   85,   46,   14,    8,    4]), array([ 18.65159798,  18.76643066,  18.88126335,  18.99609604,
        19.11092873,  19.22576141,  19.3405941 ,  19.45542679,
        19.57025948,  19.68509216,  19.79992485,  19.91475754,
        20.02959023,  20.14442291,  20.2592556 ,  20.37408829,
        20.48892097,  20.60375366,  20.71858635,  20.83341904,  20.94825172]))
||Xanchor-Xpos||_2  counter: 
[  11   19   48   69  127  182  300  362  462  626  751  936 1026 1085  994
  758  363  116   11    0]
||Xanchor-Xneg||_2  counter: 
[   1    2    0    3    7   15   25   55   68  120  198  322  577  851 1284
 1734 1800  994  185    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2986728   0.34367536  0.38867793  0.4336805   0.47868307  0.52368563
  0.5686882   0.61369077  0.65869334  0.70369591  0.74869847  0.79370104
  0.83870361  0.88370618  0.92870874  0.97371131  1.01871388  1.06371645
  1.10871902  1.15372158  1.19872415]
distance difference  counter: 
(array([   1,   10,   47,  115,  256,  425,  596,  783, 1009, 1275, 1368,
       1184,  733,  299,  109,   21,   13,    1,    0,    1]), array([ 18.7963829 ,  18.89803038,  18.99967785,  19.10132532,
        19.20297279,  19.30462027,  19.40626774,  19.50791521,
        19.60956268,  19.71121016,  19.81285763,  19.9145051 ,
        20.01615257,  20.11780005,  20.21944752,  20.32109499,
        20.42274246,  20.52438993,  20.62603741,  20.72768488,  20.82933235]))
train/val Accuracy = 0.717811888766 / 0.711253941305 
 with threshold: [[ 0.88107911]]
============ epoch 1 ===========
training loss:		0.032609
||Xanchor-Xpos||_2  counter: 
[  23   90  190  379  516  765  951 1222 1517 1824 2099 2329 2457 2718 2599
 2171 1259  377   32    0]
||Xanchor-Xneg||_2  counter: 
[   4   29   57  112  138  179  211  288  338  453  619  894 1229 1891 2765
 4175 4889 3751 1360  136]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18486746  0.23648006  0.28809266  0.33970526  0.39131786  0.44293046
  0.49454306  0.54615566  0.59776826  0.64938086  0.70099346  0.75260606
  0.80421866  0.85583126  0.90744386  0.95905646  1.01066906  1.06228166
  1.11389426  1.16550686  1.21711946]
distance difference  counter: 
(array([   9,   68,  179,  381,  762, 1308, 1805, 2357, 2916, 3220, 3465,
       3682, 2201,  768,  225,   89,   52,   15,   11,    5]), array([ 18.61249352,  18.72935867,  18.84622383,  18.96308899,
        19.07995415,  19.19681931,  19.31368446,  19.43054962,
        19.54741478,  19.66427994,  19.7811451 ,  19.89801025,
        20.01487541,  20.13174057,  20.24860573,  20.36547089,
        20.48233604,  20.5992012 ,  20.71606636,  20.83293152,  20.94979668]))
||Xanchor-Xpos||_2  counter: 
[  13   18   35   60  113  173  248  344  418  570  639  810  937 1073 1016
  892  589  236   57    5]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2    6   18   27   36   60  111  136  262  423  646  965
 1452 1763 1563  670  105]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29245013  0.33562735  0.37880457  0.42198179  0.46515901  0.50833623
  0.55151345  0.59469067  0.63786789  0.68104511  0.72422233  0.76739955
  0.81057677  0.85375399  0.89693121  0.94010843  0.98328565  1.02646287
  1.06964009  1.11281731  1.15599453]
distance difference  counter: 
(array([   6,   17,   45,  104,  202,  271,  425,  599,  714,  863, 1008,
       1119, 1089,  883,  504,  245,   95,   38,   14,    5]), array([ 18.86954308,  18.95349998,  19.03745689,  19.1214138 ,
        19.20537071,  19.28932762,  19.37328453,  19.45724144,
        19.54119835,  19.62515526,  19.70911217,  19.79306908,
        19.87702599,  19.96098289,  20.0449398 ,  20.12889671,
        20.21285362,  20.29681053,  20.38076744,  20.46472435,  20.54868126]))
train/val Accuracy = 0.716578790713 / 0.714710162503 
 with threshold: [[ 0.87607882]]
============ epoch 2 ===========
training loss:		0.032442
||Xanchor-Xpos||_2  counter: 
[  33  118  242  396  594  867 1116 1431 1691 2012 2305 2516 2756 2776 2496
 1565  521   76    7    0]
||Xanchor-Xneg||_2  counter: 
[   6   38   71  120  152  183  252  303  408  549  805 1092 1673 2525 3783
 4998 4194 1859  473   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1853731   0.23902761  0.29268213  0.34633664  0.39999115  0.45364567
  0.50730018  0.5609547   0.61460921  0.66826373  0.72191824  0.77557275
  0.82922727  0.88288178  0.9365363   0.99019081  1.04384533  1.09749984
  1.15115435  1.20480887  1.25846338]
distance difference  counter: 
(array([   8,   68,  131,  368,  670, 1247, 1855, 2540, 3013, 3439, 3914,
       3684, 1778,  514,  171,   73,   28,   12,    3,    2]), array([ 18.54861259,  18.67320795,  18.79780331,  18.92239866,
        19.04699402,  19.17158937,  19.29618473,  19.42078009,
        19.54537544,  19.6699708 ,  19.79456615,  19.91916151,
        20.04375687,  20.16835222,  20.29294758,  20.41754293,
        20.54213829,  20.66673365,  20.791329  ,  20.91592436,  21.04051971]))
||Xanchor-Xpos||_2  counter: 
[  10   11   35   65  100  149  264  351  443  535  705  869  953 1056 1027
  847  577  203   43    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    2    6   15   23   46   54  108  169  262  483  656 1086
 1468 1738 1469  572   88]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29009962  0.33324667  0.37639372  0.41954077  0.46268783  0.50583488
  0.54898193  0.59212898  0.63527603  0.67842308  0.72157013  0.76471719
  0.80786424  0.85101129  0.89415834  0.93730539  0.98045244  1.02359949
  1.06674654  1.1098936   1.15304065]
distance difference  counter: 
(array([   3,   14,   47,   96,  202,  334,  474,  683,  846, 1036, 1232,
       1276,  981,  616,  269,   98,   27,    7,    2,    3]), array([ 18.84849358,  18.9396286 ,  19.03076363,  19.12189865,
        19.21303368,  19.3041687 ,  19.39530373,  19.48643875,
        19.57757378,  19.6687088 ,  19.75984383,  19.85097885,
        19.94211388,  20.0332489 ,  20.12438393,  20.21551895,
        20.30665398,  20.397789  ,  20.48892403,  20.58005905,  20.67119408]))
train/val Accuracy = 0.717407942852 / 0.714346349745 
 with threshold: [[ 0.87132901]]
============ epoch 3 ===========
training loss:		0.032278
||Xanchor-Xpos||_2  counter: 
[  24  116  237  431  616  919 1209 1511 1786 2193 2474 2737 2865 2814 2109
 1162  286   23    5    1]
||Xanchor-Xneg||_2  counter: 
[   6   44   70  116  159  192  282  313  460  598  905 1254 1916 2964 4374
 4946 3319 1143  399   58]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18113665  0.23598974  0.29084282  0.34569591  0.40054899  0.45540208
  0.51025517  0.56510825  0.61996134  0.67481442  0.72966751  0.78452059
  0.83937368  0.89422676  0.94907985  1.00393293  1.05878602  1.11363911
  1.16849219  1.22334528  1.27819836]
distance difference  counter: 
(array([   7,   59,   96,  242,  477,  900, 1494, 2136, 2933, 3281, 3712,
       3852, 2970,  920,  268,  100,   39,   20,    9,    3]), array([ 18.47286224,  18.59862328,  18.72438431,  18.85014534,
        18.97590637,  19.1016674 ,  19.22742844,  19.35318947,
        19.4789505 ,  19.60471153,  19.73047256,  19.8562336 ,
        19.98199463,  20.10775566,  20.23351669,  20.35927773,
        20.48503876,  20.61079979,  20.73656082,  20.86232185,  20.98808289]))
||Xanchor-Xpos||_2  counter: 
[   9   10   40   68  107  162  274  360  479  599  737  906 1058 1034 1051
  785  414  135   16    2]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    3    9   14   22   51   59  107  190  324  511  816 1198
 1692 1740 1148  325   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2824766   0.32662116  0.37076572  0.41491027  0.45905483  0.50319938
  0.54734394  0.5914885   0.63563305  0.67977761  0.72392216  0.76806672
  0.81221128  0.85635583  0.90050039  0.94464494  0.9887895   1.03293405
  1.07707861  1.12122317  1.16536772]
distance difference  counter: 
(array([   2,   22,   65,  135,  266,  443,  659,  807, 1012, 1248, 1299,
       1131,  709,  302,   93,   37,   13,    0,    1,    2]), array([ 18.8788929 ,  18.97378531,  19.06867771,  19.16357012,
        19.25846252,  19.35335493,  19.44824734,  19.54313974,
        19.63803215,  19.73292456,  19.82781696,  19.92270937,
        20.01760178,  20.11249418,  20.20738659,  20.302279  ,
        20.3971714 ,  20.49206381,  20.58695621,  20.68184862,  20.77674103]))
train/val Accuracy = 0.720703291096 / 0.717438758186 
 with threshold: [[ 0.86637887]]
============ epoch 4 ===========
training loss:		0.032117
||Xanchor-Xpos||_2  counter: 
[  28  135  256  500  681 1030 1293 1627 1988 2367 2636 2849 3053 2648 1718
  596   94   15    4    0]
||Xanchor-Xneg||_2  counter: 
[  13   33   72  131  178  221  273  387  489  702 1049 1612 2384 3717 4961
 4318 1951  660  322   45]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17814307  0.23476242  0.29138178  0.34800114  0.40462049  0.46123985
  0.5178592   0.57447856  0.63109792  0.68771727  0.74433663  0.80095598
  0.85757534  0.91419469  0.97081405  1.02743341  1.08405276  1.14067212
  1.19729147  1.25391083  1.31053019]
distance difference  counter: 
(array([   4,   50,  100,  186,  379,  765, 1385, 2092, 2877, 3479, 3791,
       4140, 3004,  894,  221,   94,   33,   21,    1,    2]), array([ 18.38685226,  18.51988554,  18.65291882,  18.78595209,
        18.91898537,  19.05201864,  19.18505192,  19.31808519,
        19.45111847,  19.58415174,  19.71718502,  19.8502183 ,
        19.98325157,  20.11628485,  20.24931812,  20.3823514 ,
        20.51538467,  20.64841795,  20.78145123,  20.9144845 ,  21.04751778]))
||Xanchor-Xpos||_2  counter: 
[   7   12   38   68  109  164  271  375  456  608  742  996 1045 1162 1012
  730  354   87    8    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    0    2   15   21   54   72  125  210  323  558  900 1305
 1725 1798  902  212   21]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26851866  0.31363824  0.35875781  0.40387739  0.44899697  0.49411655
  0.53923613  0.58435571  0.62947529  0.67459487  0.71971445  0.76483403
  0.80995361  0.85507319  0.90019276  0.94531234  0.99043192  1.0355515
  1.08067108  1.12579066  1.17091024]
distance difference  counter: 
(array([   6,   20,   37,   91,  177,  269,  407,  580,  745,  874, 1045,
       1068, 1142,  914,  510,  213,   94,   38,   13,    3]), array([ 18.89036179,  18.9730526 ,  19.05574341,  19.13843422,
        19.22112503,  19.30381584,  19.38650665,  19.46919746,
        19.55188828,  19.63457909,  19.7172699 ,  19.79996071,
        19.88265152,  19.96534233,  20.04803314,  20.13072395,
        20.21341476,  20.29610558,  20.37879639,  20.4614872 ,  20.54417801]))
train/val Accuracy = 0.71872608215 / 0.717863206403 
 with threshold: [[ 0.86191666]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.200255
||Xanchor-Xpos||_2  counter: 
[  17   84  185  335  519  753  999 1305 1499 1810 2158 2334 2575 2721 2624
 2092 1134  338   36    0]
||Xanchor-Xneg||_2  counter: 
[   4   29   54   98  144  182  219  280  382  460  689  916 1373 2012 3128
 4341 4851 3230 1047   79]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.16890693  0.21984776  0.27078859  0.32172942  0.37267025  0.42361107
  0.4745519   0.52549273  0.57643356  0.62737439  0.67831522  0.72925605
  0.78019688  0.83113771  0.88207854  0.93301937  0.9839602   1.03490103
  1.08584186  1.13678269  1.18772352]
distance difference  counter: 
(array([   4,   57,  167,  390,  798, 1285, 1836, 2432, 2971, 3423, 3583,
       3746, 1831,  623,  218,   98,   35,   12,    6,    3]), array([ 18.70746231,  18.81774778,  18.92803326,  19.03831873,
        19.1486042 ,  19.25888968,  19.36917515,  19.47946062,
        19.58974609,  19.70003157,  19.81031704,  19.92060251,
        20.03088799,  20.14117346,  20.25145893,  20.3617444 ,
        20.47202988,  20.58231535,  20.69260082,  20.8028863 ,  20.91317177]))
||Xanchor-Xpos||_2  counter: 
[  11   19   50   70  115  161  263  321  446  568  714  879 1004 1071  994
  801  556  174   26    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    7   20   19   41   79  110  154  291  481  744 1079
 1556 1807 1346  472   37]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27626741  0.3163482   0.35642899  0.39650978  0.43659058  0.47667137
  0.51675216  0.55683295  0.59691374  0.63699453  0.67707533  0.71715612
  0.75723691  0.7973177   0.83739849  0.87747929  0.91756008  0.95764087
  0.99772166  1.03780245  1.07788324]
distance difference  counter: 
(array([   3,    5,   18,   78,  133,  222,  389,  570,  749,  946, 1062,
       1225, 1173,  910,  474,  188,   62,   25,   12,    2]), array([ 18.9723568 ,  19.0495492 ,  19.1267416 ,  19.203934  ,
        19.2811264 ,  19.35831881,  19.43551121,  19.51270361,
        19.58989601,  19.66708841,  19.74428082,  19.82147322,
        19.89866562,  19.97585802,  20.05305042,  20.13024282,
        20.20743523,  20.28462763,  20.36182003,  20.43901243,  20.51620483]))
train/val Accuracy = 0.71362360745 / 0.72944457919 
 with threshold: [[ 0.84499475]]
============ epoch 1 ===========
training loss:		0.185643
||Xanchor-Xpos||_2  counter: 
[  23  108  212  363  575  763 1116 1315 1586 2007 2175 2464 2643 2735 2549
 1816  839  219   10    0]
||Xanchor-Xneg||_2  counter: 
[   6   36   67   96  160  189  227  307  377  499  723 1038 1529 2267 3602
 4562 4411 2561  758  103]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15979348  0.20673129  0.25366911  0.30060692  0.34754473  0.39448254
  0.44142035  0.48835817  0.53529598  0.58223379  0.6291716   0.67610941
  0.72304723  0.76998504  0.81692285  0.86386066  0.91079848  0.95773629
  1.0046741   1.05161191  1.09854972]
distance difference  counter: 
(array([  26,   63,  151,  390,  770, 1199, 1775, 2326, 2894, 3219, 3529,
       3731, 2299,  727,  239,   96,   51,   19,    9,    5]), array([ 18.91495514,  19.0061161 ,  19.09727707,  19.18843803,
        19.279599  ,  19.37075996,  19.46192093,  19.55308189,
        19.64424286,  19.73540382,  19.82656479,  19.91772575,
        20.00888672,  20.10004768,  20.19120865,  20.28236961,
        20.37353058,  20.46469154,  20.55585251,  20.64701347,  20.73817444]))
||Xanchor-Xpos||_2  counter: 
[   5   13   40   69  119  168  281  361  469  613  766  932 1076 1138  976
  802  326   83    9    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    3    8   12   25   31   82  142  188  345  550  872 1356
 1774 1798  882  168    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23460613  0.27313614  0.31166615  0.35019616  0.38872617  0.42725619
  0.4657862   0.50431621  0.54284622  0.58137623  0.61990624  0.65843625
  0.69696626  0.73549627  0.77402628  0.81255629  0.8510863   0.88961631
  0.92814633  0.96667634  1.00520635]
distance difference  counter: 
(array([   7,   23,   75,  137,  232,  392,  610,  751,  911, 1112, 1231,
       1205,  857,  453,  150,   64,   29,    6,    0,    1]), array([ 19.20436859,  19.26947412,  19.33457966,  19.39968519,
        19.46479073,  19.52989626,  19.59500179,  19.66010733,
        19.72521286,  19.79031839,  19.85542393,  19.92052946,
        19.98563499,  20.05074053,  20.11584606,  20.1809516 ,
        20.24605713,  20.31116266,  20.3762682 ,  20.44137373,  20.50647926]))
train/val Accuracy = 0.714729143635 / 0.730414746544 
 with threshold: [[ 0.77083059]]
============ epoch 2 ===========
training loss:		0.173586
||Xanchor-Xpos||_2  counter: 
[  36  123  233  434  604  909 1110 1519 1821 2091 2427 2569 2875 2763 2244
 1303  394   56    7    0]
||Xanchor-Xneg||_2  counter: 
[  10   39   69  123  164  215  225  346  438  598  848 1169 1961 2924 4142
 4847 3473 1476  393   58]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.14795029  0.19211298  0.23627567  0.28043836  0.32460105  0.36876374
  0.41292644  0.45708913  0.50125182  0.54541451  0.5895772   0.63373989
  0.67790258  0.72206527  0.76622796  0.81039065  0.85455334  0.89871603
  0.94287872  0.98704141  1.0312041 ]
distance difference  counter: 
(array([  22,   48,  129,  280,  563, 1031, 1608, 2261, 2832, 3369, 3589,
       3802, 2680,  871,  268,   89,   46,   19,    9,    2]), array([ 19.03594017,  19.11595774,  19.1959753 ,  19.27599287,
        19.35601044,  19.436028  ,  19.51604557,  19.59606314,
        19.6760807 ,  19.75609827,  19.83611584,  19.9161334 ,
        19.99615097,  20.07616854,  20.1561861 ,  20.23620367,
        20.31622124,  20.3962388 ,  20.47625637,  20.55627394,  20.6362915 ]))
||Xanchor-Xpos||_2  counter: 
[   8   21   52   72  121  186  269  367  434  625  761  877 1018 1068 1011
  778  443  107   26    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    2    9   17   25   46   74  120  190  307  544  751 1223
 1603 1762 1169  362   39]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.23186368  0.2652341   0.29860453  0.33197496  0.36534538  0.39871581
  0.43208624  0.46545666  0.49882709  0.53219751  0.56556794  0.59893837
  0.63230879  0.66567922  0.69904965  0.73242007  0.7657905   0.79916092
  0.83253135  0.86590178  0.8992722 ]
distance difference  counter: 
(array([   7,   24,   71,  164,  224,  400,  571,  757, 1003, 1098, 1203,
       1166,  850,  453,  166,   52,   31,    4,    1,    1]), array([ 19.34446716,  19.39812841,  19.45178967,  19.50545092,
        19.55911217,  19.61277342,  19.66643467,  19.72009592,
        19.77375717,  19.82741842,  19.88107967,  19.93474092,
        19.98840218,  20.04206343,  20.09572468,  20.14938593,
        20.20304718,  20.25670843,  20.31036968,  20.36403093,  20.41769218]))
train/val Accuracy = 0.717131558806 / 0.728898860053 
 with threshold: [[ 0.70300825]]
============ epoch 3 ===========
training loss:		0.163639
||Xanchor-Xpos||_2  counter: 
[  29  131  274  493  684 1045 1330 1658 1977 2353 2687 2905 2973 2624 1665
  577  100   12    1    0]
||Xanchor-Xneg||_2  counter: 
[   3   49   73  142  182  226  289  395  492  751 1059 1657 2585 3973 4875
 4046 1898  593  196   34]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.13220109  0.17461879  0.21703649  0.25945419  0.30187188  0.34428958
  0.38670728  0.42912498  0.47154268  0.51396038  0.55637807  0.59879577
  0.64121347  0.68363117  0.72604887  0.76846657  0.81088426  0.85330196
  0.89571966  0.93813736  0.98055506]
distance difference  counter: 
(array([   8,   27,   82,  163,  315,  662, 1235, 1864, 2587, 3246, 3645,
       3977, 3687, 1405,  398,  121,   69,   18,    6,    3]), array([ 19.11137581,  19.18266277,  19.25394974,  19.3252367 ,
        19.39652367,  19.46781063,  19.5390976 ,  19.61038456,
        19.68167152,  19.75295849,  19.82424545,  19.89553242,
        19.96681938,  20.03810635,  20.10939331,  20.18068027,
        20.25196724,  20.3232542 ,  20.39454117,  20.46582813,  20.5371151 ]))
||Xanchor-Xpos||_2  counter: 
[  10   13   45   73  111  199  259  383  482  611  763  889 1063 1081 1040
  737  374   96   14    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    2    3   16   32   49   85  115  178  358  532  832 1270
 1722 1788  974  257   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2015972   0.23286848  0.26413977  0.29541106  0.32668234  0.35795363
  0.38922491  0.4204962   0.45176748  0.48303877  0.51431005  0.54558134
  0.57685263  0.60812391  0.6393952   0.67066648  0.70193777  0.73320905
  0.76448034  0.79575162  0.82702291]
distance difference  counter: 
(array([  13,   37,   76,  169,  258,  438,  594,  707,  913, 1128, 1208,
       1148,  858,  433,  170,   63,   22,    8,    1,    2]), array([ 19.46612358,  19.50977354,  19.5534235 ,  19.59707346,
        19.64072342,  19.68437338,  19.72802334,  19.7716733 ,
        19.81532326,  19.85897322,  19.90262318,  19.94627314,
        19.9899231 ,  20.03357306,  20.07722301,  20.12087297,
        20.16452293,  20.20817289,  20.25182285,  20.29547281,  20.33912277]))
train/val Accuracy = 0.717790628455 / 0.729020130973 
 with threshold: [[ 0.64094595]]
============ epoch 4 ===========
training loss:		0.155430
||Xanchor-Xpos||_2  counter: 
[  25  119  286  508  754 1086 1397 1755 2202 2617 2858 3084 3031 2305 1177
  263   42    8    1    0]
||Xanchor-Xneg||_2  counter: 
[   6   43   72  140  198  226  326  439  538  870 1250 1954 3167 4601 4880
 3071 1109  389  209   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11349546  0.15387567  0.19425589  0.2346361   0.27501631  0.31539653
  0.35577674  0.39615695  0.43653717  0.47691738  0.51729759  0.55767781
  0.59805802  0.63843823  0.67881844  0.71919866  0.75957887  0.79995908
  0.8403393   0.88071951  0.92109972]
distance difference  counter: 
(array([  18,   58,  109,  157,  305,  703, 1267, 1964, 2771, 3427, 3759,
       4198, 3336, 1024,  254,  101,   46,   14,    5,    2]), array([ 19.24187851,  19.30376015,  19.36564178,  19.42752342,
        19.48940506,  19.5512867 ,  19.61316833,  19.67504997,
        19.73693161,  19.79881325,  19.86069489,  19.92257652,
        19.98445816,  20.0463398 ,  20.10822144,  20.17010307,
        20.23198471,  20.29386635,  20.35574799,  20.41762962,  20.47951126]))
||Xanchor-Xpos||_2  counter: 
[   9    9   37   76  119  158  280  338  475  648  732  897 1066 1142 1028
  745  372   96   15    4]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    2    7   11   31   52   59  115  187  330  546  827 1322
 1664 1766 1004  281   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1757198   0.20461689  0.23351399  0.26241108  0.29130818  0.32020527
  0.34910237  0.37799946  0.40689656  0.43579365  0.46469074  0.49358784
  0.52248493  0.55138203  0.58027912  0.60917622  0.63807331  0.66697041
  0.6958675   0.7247646   0.75366169]
distance difference  counter: 
(array([   9,   14,   62,  113,  190,  318,  456,  667,  800,  975, 1145,
       1170, 1061,  738,  327,  120,   53,   19,    6,    3]), array([ 19.53701973,  19.57280521,  19.6085907 ,  19.64437618,
        19.68016167,  19.71594715,  19.75173264,  19.78751812,
        19.8233036 ,  19.85908909,  19.89487457,  19.93066006,
        19.96644554,  20.00223103,  20.03801651,  20.07380199,
        20.10958748,  20.14537296,  20.18115845,  20.21694393,  20.25272942]))
train/val Accuracy = 0.720788332341 / 0.729990298326 
 with threshold: [[ 0.58468765]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.467747
||Xanchor-Xpos||_2  counter: 
[  79  367  828 1437 2233 2866 2796 2508 2137 1844 1556 1391 1108  897  629
  431  279  107   21    4]
||Xanchor-Xneg||_2  counter: 
[  28   93  191  390  680 1545 2656 2599 2369 2125 1915 1763 1578 1393 1256
 1042  860  617  354   64]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.08570954  0.14012141  0.19453329  0.24894516  0.30335703  0.3577689
  0.41218077  0.46659264  0.52100452  0.57541639  0.62982826  0.68424013
  0.738652    0.79306387  0.84747575  0.90188762  0.95629949  1.01071136
  1.06512323  1.1195351   1.17394698]
distance difference  counter: 
(array([   2,    7,   31,   78,  130,  254,  447,  708, 1328, 2070, 4045,
       7259, 6072,  811,  174,   59,   27,    9,    5,    2]), array([ 18.77693748,  18.87577   ,  18.97460251,  19.07343502,
        19.17226753,  19.27110004,  19.36993256,  19.46876507,
        19.56759758,  19.66643009,  19.7652626 ,  19.86409512,
        19.96292763,  20.06176014,  20.16059265,  20.25942516,
        20.35825768,  20.45709019,  20.5559227 ,  20.65475521,  20.75358772]))
||Xanchor-Xpos||_2  counter: 
[   7   14   29   78  104  156  262  316  463  537  673  894 1016 1070 1039
  877  505  177   27    2]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    4    5   18   22   38   67   99  165  253  483  739 1101
 1555 1812 1367  476   39]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.10592438  0.12279704  0.13966971  0.15654237  0.17341504  0.19028771
  0.20716037  0.22403304  0.24090571  0.25777837  0.27465104  0.29152371
  0.30839637  0.32526904  0.34214171  0.35901437  0.37588704  0.3927597
  0.40963237  0.42650504  0.4433777 ]
distance difference  counter: 
(array([   3,   11,   51,  114,  234,  364,  553,  777,  921, 1113, 1284,
       1253,  904,  430,  143,   64,   19,    7,    0,    1]), array([ 19.83083916,  19.84470186,  19.85856457,  19.87242727,
        19.88628998,  19.90015268,  19.91401539,  19.92787809,
        19.9417408 ,  19.9556035 ,  19.96946621,  19.98332891,
        19.99719162,  20.01105433,  20.02491703,  20.03877974,
        20.05264244,  20.06650515,  20.08036785,  20.09423056,  20.10809326]))
train/val Accuracy = 0.60043371035 / 0.5 
 with threshold: [[ 0.5738433]]
============ epoch 1 ===========
training loss:		1.102936
||Xanchor-Xpos||_2  counter: 
[  60  275  800 1453 2167 2927 2954 2636 2122 1875 1585 1329 1130  835  608
  394  217  119   32    0]
||Xanchor-Xneg||_2  counter: 
[  12   89  190  362  659 1465 2719 2697 2367 2186 1937 1727 1564 1453 1241
 1125  815  579  264   67]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.02889629  0.04956473  0.07023318  0.09090163  0.11157008  0.13223853
  0.15290698  0.17357543  0.19424388  0.21491233  0.23558078  0.25624923
  0.27691768  0.29758613  0.31825458  0.33892303  0.35959147  0.38025992
  0.40092837  0.42159682  0.44226527]
distance difference  counter: 
(array([   8,   17,   45,   83,  131,  233,  363,  646, 1012, 1699, 3010,
       5575, 7862, 2304,  349,  115,   40,   15,    5,    6]), array([ 19.83093452,  19.84407501,  19.8572155 ,  19.87035599,
        19.88349648,  19.89663696,  19.90977745,  19.92291794,
        19.93605843,  19.94919891,  19.9623394 ,  19.97547989,
        19.98862038,  20.00176086,  20.01490135,  20.02804184,
        20.04118233,  20.05432281,  20.0674633 ,  20.08060379,  20.09374428]))
||Xanchor-Xpos||_2  counter: 
[   5   11   26   46   99  155  257  363  453  604  732  917 1047 1090 1064
  810  427  123   17    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    3    5   15   16   48   68  108  169  305  520  782 1195
 1715 1874 1132  275   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03722428  0.04374102  0.05025776  0.0567745   0.06329124  0.06980798
  0.07632471  0.08284145  0.08935819  0.09587493  0.10239167  0.10890841
  0.11542515  0.12194189  0.12845862  0.13497536  0.1414921   0.14800884
  0.15452558  0.16104232  0.16755906]
distance difference  counter: 
(array([   7,   31,   77,  143,  240,  388,  605,  734,  940, 1059, 1200,
       1209,  875,  458,  180,   69,   21,    5,    3,    2]), array([ 19.97772026,  19.97953148,  19.9813427 ,  19.98315392,
        19.98496513,  19.98677635,  19.98858757,  19.99039879,
        19.99221001,  19.99402122,  19.99583244,  19.99764366,
        19.99945488,  20.0012661 ,  20.00307732,  20.00488853,
        20.00669975,  20.00851097,  20.01032219,  20.01213341,  20.01394463]))
train/val Accuracy = 0.602857385832 / 0.5 
 with threshold: [[ 0.21387475]]
============ epoch 2 ===========
training loss:		1.052545
||Xanchor-Xpos||_2  counter: 
[  56  325  793 1646 2397 3136 2917 2626 2190 1817 1525 1248  964  792  547
  324  156   52    7    0]
||Xanchor-Xneg||_2  counter: 
[  14   79  223  398  772 1757 2800 2677 2476 2138 1995 1703 1535 1428 1195
  988  729  452  141   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01069472  0.01866374  0.02663275  0.03460177  0.04257079  0.0505398
  0.05850882  0.06647784  0.07444685  0.08241587  0.09038489  0.09835391
  0.10632292  0.11429194  0.12226096  0.13022997  0.13819899  0.14616801
  0.15413702  0.16210604  0.17007506]
distance difference  counter: 
(array([   4,   12,   28,   56,  107,  177,  323,  482,  820, 1312, 2208,
       4112, 7057, 5751,  786,  180,   58,   26,   14,    5]), array([ 19.97529793,  19.97714596,  19.97899399,  19.98084202,
        19.98269005,  19.98453808,  19.98638611,  19.98823414,
        19.99008217,  19.9919302 ,  19.99377823,  19.99562626,
        19.99747429,  19.99932232,  20.00117035,  20.00301838,
        20.00486641,  20.00671444,  20.00856247,  20.0104105 ,  20.01225853]))
||Xanchor-Xpos||_2  counter: 
[   6   17   41   66  109  162  278  376  463  613  731  891 1110 1080 1013
  757  391  124   17    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    6   21   24   40   72  110  182  322  560  822 1239
 1690 1793 1068  277   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01473815  0.01711993  0.01950171  0.02188349  0.02426527  0.02664705
  0.02902882  0.0314106   0.03379238  0.03617416  0.03855594  0.04093772
  0.0433195   0.04570128  0.04808306  0.05046484  0.05284662  0.05522839
  0.05761017  0.05999195  0.06237373]
distance difference  counter: 
(array([   2,   13,   35,   81,  149,  259,  393,  541,  715,  874,  981,
       1151, 1163,  928,  595,  218,   95,   35,   12,    6]), array([ 19.99675179,  19.99699125,  19.99723072,  19.99747019,
        19.99770966,  19.99794912,  19.99818859,  19.99842806,
        19.99866753,  19.99890699,  19.99914646,  19.99938593,
        19.9996254 ,  19.99986486,  20.00010433,  20.0003438 ,
        20.00058327,  20.00082273,  20.0010622 ,  20.00130167,  20.00154114]))
train/val Accuracy = 0.605685007229 / 0.5 
 with threshold: [[ 0.07984899]]
============ epoch 3 ===========
training loss:		1.045584
||Xanchor-Xpos||_2  counter: 
[  64  364  970 1902 2772 3204 2897 2597 2178 1747 1468 1200  860  646  374
  194   72    9    0    0]
||Xanchor-Xneg||_2  counter: 
[  18  100  252  464  978 2202 2966 2672 2436 2165 1931 1725 1502 1348 1137
  825  535  213   41    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00397685  0.00709714  0.01021744  0.01333774  0.01645804  0.01957833
  0.02269863  0.02581893  0.02893923  0.03205952  0.03517982  0.03830012
  0.04142042  0.04454071  0.04766101  0.05078131  0.05390161  0.0570219
  0.0601422   0.0632625   0.0663828 ]
distance difference  counter: 
(array([   4,    3,   14,   28,   51,  151,  246,  403,  702, 1291, 2290,
       4451, 7969, 5194,  541,  123,   35,   15,    5,    2]), array([ 19.99607277,  19.99636984,  19.99666691,  19.99696398,
        19.99726105,  19.99755812,  19.99785519,  19.99815226,
        19.99844933,  19.9987464 ,  19.99904346,  19.99934053,
        19.9996376 ,  19.99993467,  20.00023174,  20.00052881,
        20.00082588,  20.00112295,  20.00142002,  20.00171709,  20.00201416]))
||Xanchor-Xpos||_2  counter: 
[   8   11   40   64  103  178  279  376  506  626  764  925 1045 1135 1047
  694  339   94   12    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    3   10   11   29   54   63  119  194  345  606  844 1304
 1720 1722  941  264   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00543957  0.00633564  0.00723171  0.00812777  0.00902384  0.00991991
  0.01081598  0.01171204  0.01260811  0.01350418  0.01440024  0.01529631
  0.01619238  0.01708845  0.01798451  0.01888058  0.01977665  0.02067272
  0.02156878  0.02246485  0.02336092]
distance difference  counter: 
(array([   3,   14,   37,   84,  149,  247,  429,  620,  668,  944, 1167,
       1143, 1147,  885,  438,  154,   78,   27,   11,    1]), array([ 19.99954224,  19.99957676,  19.99961128,  19.99964581,
        19.99968033,  19.99971485,  19.99974937,  19.9997839 ,
        19.99981842,  19.99985294,  19.99988747,  19.99992199,
        19.99995651,  19.99999104,  20.00002556,  20.00006008,
        20.0000946 ,  20.00012913,  20.00016365,  20.00019817,  20.0002327 ]))
train/val Accuracy = 0.606662981546 / 0.5 
 with threshold: [[ 0.02987252]]
============ epoch 4 ===========
training loss:		1.044623
||Xanchor-Xpos||_2  counter: 
[  75  445 1146 1995 2783 3355 2909 2496 2026 1693 1460 1146  822  608  349
  156   47    4    3    0]
||Xanchor-Xneg||_2  counter: 
[  25  120  282  471 1065 2465 2958 2667 2457 2211 1809 1695 1516 1295 1050
  756  444  167   52   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00159384  0.00277075  0.00394765  0.00512456  0.00630146  0.00747836
  0.00865527  0.00983217  0.01100908  0.01218598  0.01336289  0.01453979
  0.0157167   0.0168936   0.0180705   0.01924741  0.02042431  0.02160122
  0.02277812  0.02395503  0.02513193]
distance difference  counter: 
(array([   2,    4,   12,   27,   44,   99,  161,  326,  563,  935, 1669,
       3131, 6416, 8335, 1445,  245,   59,   31,   13,    1]), array([ 19.9994278 ,  19.99946957,  19.99951134,  19.99955311,
        19.99959488,  19.99963665,  19.99967842,  19.99972019,
        19.99976196,  19.99980373,  19.9998455 ,  19.99988728,
        19.99992905,  19.99997082,  20.00001259,  20.00005436,
        20.00009613,  20.0001379 ,  20.00017967,  20.00022144,  20.00026321]))
||Xanchor-Xpos||_2  counter: 
[  10   25   49   76  143  209  293  398  508  661  825  980 1072 1088  944
  632  253   69   10    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    4   10   17   42   46   84  130  234  388  624  972 1386
 1698 1574  834  183   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00217276  0.00250167  0.00283058  0.0031595   0.00348841  0.00381733
  0.00414624  0.00447516  0.00480407  0.00513298  0.0054619   0.00579081
  0.00611973  0.00644864  0.00677756  0.00710647  0.00743538  0.0077643
  0.00809321  0.00842213  0.00875104]
distance difference  counter: 
(array([   9,   29,  101,  107,  181,  415,  400,  536, 1014,  760,  877,
       1414,  886,  695,  570,  131,   64,   45,    5,    7]), array([ 19.99994087,  19.99994535,  19.99994984,  19.99995432,
        19.9999588 ,  19.99996328,  19.99996777,  19.99997225,
        19.99997673,  19.99998121,  19.99998569,  19.99999018,
        19.99999466,  19.99999914,  20.00000362,  20.00000811,
        20.00001259,  20.00001707,  20.00002155,  20.00002604,  20.00003052]))
train/val Accuracy = 0.60842758738 / 0.5 
 with threshold: [[ 0.01118005]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.032097
||Xanchor-Xpos||_2  counter: 
[  52  183  405  662 1050 1463 1901 2306 2780 3260 3375 3168 2102  688  104
   13    3    3    0    0]
||Xanchor-Xneg||_2  counter: 
[  16   53  104  192  237  292  442  611  935 1430 2296 3867 5430 4866 1949
  453  179   99   45   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18164031  0.24624595  0.31085158  0.37545721  0.44006284  0.50466848
  0.56927411  0.63387974  0.69848538  0.76309101  0.82769664  0.89230228
  0.95690791  1.02151354  1.08611918  1.15072481  1.21533044  1.27993608
  1.34454171  1.40914734  1.47375298]
distance difference  counter: 
(array([   6,   17,   38,   60,  118,  220,  630, 1472, 2594, 3726, 4636,
       5116, 3775,  823,  197,   64,   20,    4,    1,    1]), array([ 17.96332741,  18.12995882,  18.29659023,  18.46322165,
        18.62985306,  18.79648447,  18.96311588,  19.1297473 ,
        19.29637871,  19.46301012,  19.62964153,  19.79627295,
        19.96290436,  20.12953577,  20.29616718,  20.4627986 ,
        20.62943001,  20.79606142,  20.96269283,  21.12932425,  21.29595566]))
||Xanchor-Xpos||_2  counter: 
[   9   24   56  123  213  316  454  632  801 1070 1167 1264 1145  677  242
   38   12    1    2    0]
||Xanchor-Xneg||_2  counter: 
[   0    2    2    6   14   35   51  112  184  352  599 1008 1556 1952 1527
  598  179   46   16    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27281317  0.32236877  0.37192436  0.42147996  0.47103555  0.52059115
  0.57014674  0.61970234  0.66925793  0.71881353  0.76836912  0.81792472
  0.86748031  0.91703591  0.9665915   1.0161471   1.06570269  1.11525829
  1.16481389  1.21436948  1.26392508]
distance difference  counter: 
(array([   7,    9,   41,   87,  134,  242,  447,  599,  762,  895, 1153,
       1252, 1173,  839,  396,  141,   40,   19,    9,    1]), array([ 18.88432503,  18.9693923 ,  19.05445957,  19.13952684,
        19.22459412,  19.30966139,  19.39472866,  19.47979593,
        19.5648632 ,  19.64993048,  19.73499775,  19.82006502,
        19.90513229,  19.99019957,  20.07526684,  20.16033411,
        20.24540138,  20.33046865,  20.41553593,  20.5006032 ,  20.58567047]))
train/val Accuracy = 0.721766306659 / 0.729869027407 
 with threshold: [[ 0.85936982]]
============ epoch 1 ===========
training loss:		0.030622
||Xanchor-Xpos||_2  counter: 
[ 122  623 1345 2313 3437 4621 5117 4109 1412  231   87   55   21   12    5
    2    4    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  42  161  316  475  812 1495 3089 5817 6116 2617  961  525  344  249  180
  138   85   52   35    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.16858986  0.26423196  0.35987406  0.45551616  0.55115826  0.64680036
  0.74244246  0.83808456  0.93372666  1.02936876  1.12501086  1.22065296
  1.31629506  1.41193716  1.50757926  1.60322136  1.69886346  1.79450556
  1.89014767  1.98578977  2.08143187]
distance difference  counter: 
(array([   6,   10,   25,   40,   59,  103,  148,  192,  246,  439, 1205,
       3697, 7241, 8418, 1488,  138,   40,   15,    5,    3]), array([ 15.87667274,  16.17701969,  16.47736664,  16.77771358,
        17.07806053,  17.37840748,  17.67875443,  17.97910137,
        18.27944832,  18.57979527,  18.88014221,  19.18048916,
        19.48083611,  19.78118305,  20.08153   ,  20.38187695,
        20.68222389,  20.98257084,  21.28291779,  21.58326473,  21.88361168]))
||Xanchor-Xpos||_2  counter: 
[  23   66  174  396  664  992 1381 1748 1570  924  214   64   19    2    5
    1    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    9   34   81  203  423  918 1887 2347 1441  486  198   99   55
   30   13    9   10    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25589132  0.32114729  0.38640326  0.45165923  0.5169152   0.58217117
  0.64742714  0.71268311  0.77793908  0.84319505  0.90845102  0.97370699
  1.03896296  1.10421893  1.1694749   1.23473087  1.29998684  1.36524281
  1.43049878  1.49575475  1.56101072]
distance difference  counter: 
(array([   4,    2,    6,   13,   15,   30,   88,  196,  452, 1006, 1614,
       2267, 1901,  543,   93,   12,    0,    1,    0,    3]), array([ 18.11260986,  18.26287794,  18.41314602,  18.5634141 ,
        18.71368217,  18.86395025,  19.01421833,  19.16448641,
        19.31475449,  19.46502256,  19.61529064,  19.76555872,
        19.9158268 ,  20.06609488,  20.21636295,  20.36663103,
        20.51689911,  20.66716719,  20.81743526,  20.96770334,  21.11797142]))
train/val Accuracy = 0.732226379794 / 0.730172204705 
 with threshold: [[ 0.81890141]]
============ epoch 2 ===========
training loss:		0.029339
||Xanchor-Xpos||_2  counter: 
[ 434 2170 4916 7526 6298 1476  305  145   95   66   35   24   11   10    5
    1    0    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 120  472 1061 2888 7393 6181 2048 1066  599  402  300  218  225  161  166
  103   52   33   23    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15522724  0.30413205  0.45303686  0.60194167  0.75084648  0.89975129
  1.0486561   1.19756091  1.34646572  1.49537053  1.64427534  1.79318015
  1.94208496  2.09098977  2.23989457  2.38879938  2.53770419  2.686609
  2.83551381  2.98441862  3.13332343]
distance difference  counter: 
(array([    2,    17,    20,    22,    53,    85,   158,   160,   230,
         269,   446,  1114,  5754, 14576,   487,    80,    28,     9,
           5,     3]), array([ 10.47139931,  11.16945705,  11.8675148 ,  12.56557255,
        13.26363029,  13.96168804,  14.65974579,  15.35780354,
        16.05586128,  16.75391903,  17.45197678,  18.15003452,
        18.84809227,  19.54615002,  20.24420776,  20.94226551,
        21.64032326,  22.338381  ,  23.03643875,  23.7344965 ,  24.43255424]))
||Xanchor-Xpos||_2  counter: 
[  43  228  709 1479 2420 2261  811  177   61   26   16    6    0    3    2
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2   16   68  284  999 2699 2470  906  314  194  102   67   43   30   18
   11   10    4    8    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2208472   0.31868447  0.41652174  0.514359    0.61219627  0.71003353
  0.8078708   0.90570806  1.00354533  1.10138259  1.19921986  1.29705713
  1.39489439  1.49273166  1.59056892  1.68840619  1.78624345  1.88408072
  1.98191798  2.07975525  2.17759252]
distance difference  counter: 
(array([   1,    5,    5,    7,   15,    4,   23,   51,   90,  148,  533,
       2402, 4295,  623,   32,    6,    2,    0,    2,    2]), array([ 15.93824196,  16.25649738,  16.57475281,  16.89300823,
        17.21126366,  17.52951908,  17.84777451,  18.16602993,
        18.48428535,  18.80254078,  19.1207962 ,  19.43905163,
        19.75730705,  20.07556248,  20.3938179 ,  20.71207333,
        21.03032875,  21.34858418,  21.6668396 ,  21.98509502,  22.30335045]))
train/val Accuracy = 0.741857300791 / 0.696640795537 
 with threshold: [[ 0.79690231]]
============ epoch 3 ===========
training loss:		0.028133
||Xanchor-Xpos||_2  counter: 
[ 1332  7276 10888  2695   645   275   144    93    73    49    22     9
     7     6     2     0     0     1     0     1]
||Xanchor-Xneg||_2  counter: 
[ 339 1589 7381 7481 2474 1191  758  547  401  279  212  199  199  161  127
   77   65   22   12    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.13657837  0.37026246  0.60394656  0.83763066  1.07131475  1.30499885
  1.53868295  1.77236704  2.00605114  2.23973523  2.47341933  2.70710343
  2.94078752  3.17447162  3.40815572  3.64183981  3.87552391  4.10920801
  4.3428921   4.5765762   4.8102603 ]
distance difference  counter: 
(array([    3,     8,     9,    20,    60,    73,   116,   167,   186,
         240,   323,   630,  1638, 18504,  1411,    81,    31,    11,
           5,     2]), array([ -2.54229546,  -0.92127409,   0.69974728,   2.32076864,
         3.94179001,   5.56281137,   7.18383274,   8.80485411,
        10.42587547,  12.04689684,  13.66791821,  15.28893957,
        16.90996094,  18.5309823 ,  20.15200367,  21.77302504,
        23.3940464 ,  25.01506777,  26.63608913,  28.2571105 ,  29.87813187]))
||Xanchor-Xpos||_2  counter: 
[ 157 1250 3352 2549  581  206   67   32   22   16    5    0    3    3    2
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7  140 1268 3749 1605  605  319  176  129   69   59   36   26   25   11
    3    9    5    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.21668877  0.36883543  0.5209821   0.67312877  0.82527543  0.9774221
  1.12956877  1.28171543  1.4338621   1.58600877  1.73815543  1.8903021
  2.04244877  2.19459543  2.3467421   2.49888876  2.65103543  2.8031821
  2.95532876  3.10747543  3.2596221 ]
distance difference  counter: 
(array([   1,    0,    6,    5,    5,    9,   15,   21,   47,   75,  160,
        487, 5165, 2190,   46,    8,    2,    0,    1,    3]), array([  9.948946  ,  10.71848135,  11.4880167 ,  12.25755205,
        13.0270874 ,  13.79662275,  14.5661581 ,  15.33569345,
        16.10522881,  16.87476416,  17.64429951,  18.41383486,
        19.18337021,  19.95290556,  20.72244091,  21.49197626,
        22.26151161,  23.03104696,  23.80058231,  24.57011766,  25.33965302]))
train/val Accuracy = 0.724827791479 / 0.63764249333 
 with threshold: [[ 0.81412123]]
============ epoch 4 ===========
training loss:		0.026964
||Xanchor-Xpos||_2  counter: 
[ 3108 12838  5075  1233   509   274   156    99    78    54    45    20
    10     8     7     1     1     1     0     1]
||Xanchor-Xneg||_2  counter: 
[ 641 5231 8620 3254 1577  944  718  505  397  311  229  194  195  174  169
  144  120   60   24   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.13821881  0.4428648   0.7475108   1.05215679  1.35680279  1.66144878
  1.96609478  2.27074077  2.57538677  2.88003276  3.18467876  3.48932475
  3.79397075  4.09861674  4.40326274  4.70790873  5.01255473  5.31720072
  5.62184672  5.92649271  6.23113871]
distance difference  counter: 
(array([    7,     8,    28,    71,    93,   126,   158,   181,   225,
         242,   406,   771,  2112, 18531,   426,    78,    23,    21,
           6,     5]), array([-18.53323746, -15.70931416, -12.88539085, -10.06146755,
        -7.23754425,  -4.41362095,  -1.58969765,   1.23422565,
         4.05814896,   6.88207226,   9.70599556,  12.52991886,
        15.35384216,  18.17776546,  21.00168877,  23.82561207,
        26.64953537,  29.47345867,  32.29738197,  35.12130527,  37.94522858]))
||Xanchor-Xpos||_2  counter: 
[ 357 2922 3433  911  317  156   69   29   20   14    8    1    1    4    1
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  18  709 3758 1811  737  423  254  141  113   84   53   49   32   20   16
    6    6    9    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20099245  0.39543983  0.58988721  0.78433459  0.97878197  1.17322936
  1.36767674  1.56212412  1.7565715   1.95101888  2.14546626  2.33991364
  2.53436102  2.7288084   2.92325578  3.11770317  3.31215055  3.50659793
  3.70104531  3.89549269  4.08994007]
distance difference  counter: 
(array([   2,    2,    7,    6,    5,   13,   18,   29,   61,   86,  186,
        591, 6745,  456,   28,    5,    2,    0,    0,    4]), array([  3.80167961,   5.06703787,   6.33239613,   7.59775438,
         8.86311264,  10.1284709 ,  11.39382915,  12.65918741,
        13.92454567,  15.18990393,  16.45526218,  17.72062044,
        18.9859787 ,  20.25133696,  21.51669521,  22.78205347,
        24.04741173,  25.31276999,  26.57812824,  27.8434865 ,  29.10884476]))
train/val Accuracy = 0.680521302832 / 0.601685665777 
 with threshold: [[ 0.89006596]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.158942
||Xanchor-Xpos||_2  counter: 
[  62  302  813 1386 2250 2845 2897 2567 2213 1924 1619 1322 1090  834  619
  414  233  101   27    0]
||Xanchor-Xneg||_2  counter: 
[  18   99  205  328  652 1272 2311 2672 2374 2296 2011 1954 1702 1451 1294
 1089  895  597  258   40]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.08321378  0.138458    0.19370222  0.24894645  0.30419067  0.35943489
  0.41467911  0.46992333  0.52516755  0.58041177  0.63565599  0.69090021
  0.74614443  0.80138865  0.85663287  0.91187709  0.96712131  1.02236553
  1.07760975  1.13285397  1.18809819]
distance difference  counter: 
(array([   9,   24,   47,  121,  175,  324,  608, 1044, 1656, 2878, 4919,
       7427, 3579,  513,  127,   45,    9,    9,    2,    2]), array([ 18.81786346,  18.915763  ,  19.01366253,  19.11156206,
        19.20946159,  19.30736113,  19.40526066,  19.50316019,
        19.60105972,  19.69895926,  19.79685879,  19.89475832,
        19.99265785,  20.09055738,  20.18845692,  20.28635645,
        20.38425598,  20.48215551,  20.58005505,  20.67795458,  20.77585411]))
||Xanchor-Xpos||_2  counter: 
[  11   22   53   96  203  291  426  560  774  975 1220 1236 1170  787  336
   70   10    6    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    3   11   25   53   99  164  297  583  865 1486 1892 1718
  758  210   58   13    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.10667862  0.12707029  0.14746195  0.16785362  0.18824528  0.20863695
  0.22902862  0.24942028  0.26981195  0.29020362  0.31059528  0.33098695
  0.35137861  0.37177028  0.39216195  0.41255361  0.43294528  0.45333694
  0.47372861  0.49412028  0.51451194]
distance difference  counter: 
(array([   2,    6,   22,   72,  128,  243,  416,  594,  813,  992, 1211,
       1329, 1177,  764,  333,   84,   40,   13,    5,    2]), array([ 19.80277252,  19.81810417,  19.83343582,  19.84876747,
        19.86409912,  19.87943077,  19.89476242,  19.91009407,
        19.92542572,  19.94075737,  19.95608902,  19.97142067,
        19.98675232,  20.00208397,  20.01741562,  20.03274727,
        20.04807892,  20.06341057,  20.07874222,  20.09407387,  20.10940552]))
train/val Accuracy = 0.614805680755 / 0.5 
 with threshold: [[ 0.58193168]]
============ epoch 1 ===========
training loss:		0.122553
||Xanchor-Xpos||_2  counter: 
[ 144  857 2178 3574 4146 3537 2842 2266 1602 1188  702  341  102   25    8
    2    2    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  43  227  502 1254 2712 3328 3098 2754 2463 2208 1814 1361  871  361  238
  111   84   63   22    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03063387  0.06126556  0.09189725  0.12252894  0.15316062  0.18379231
  0.214424    0.24505569  0.27568738  0.30631906  0.33695075  0.36758244
  0.39821413  0.42884582  0.4594775   0.49010919  0.52074088  0.55137257
  0.58200426  0.61263594  0.64326763]
distance difference  counter: 
(array([   4,    5,   22,   32,   62,   73,  119,  153,  255,  500,  874,
       1716, 3774, 7974, 7271,  551,   84,   33,   11,    5]), array([ 19.63506317,  19.66045942,  19.68585567,  19.71125193,
        19.73664818,  19.76204443,  19.78744068,  19.81283693,
        19.83823318,  19.86362944,  19.88902569,  19.91442194,
        19.93981819,  19.96521444,  19.99061069,  20.01600695,
        20.0414032 ,  20.06679945,  20.0921957 ,  20.11759195,  20.1429882 ]))
||Xanchor-Xpos||_2  counter: 
[  14   66  171  369  695 1108 1517 1869 1539  691  149   30   18    1    4
    3    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    2    3   34   86  230  536 1145 2204 2332 1026  340  132   80   47
   22   10   11    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03893494  0.0507005   0.06246605  0.07423161  0.08599716  0.09776272
  0.10952827  0.12129383  0.13305938  0.14482493  0.15659049  0.16835604
  0.1801216   0.19188715  0.20365271  0.21541826  0.22718382  0.23894937
  0.25071493  0.26248048  0.27424604]
distance difference  counter: 
(array([   3,    0,    2,    9,    9,   25,   44,   97,  250,  599, 1266,
       1931, 2433, 1320,  218,   30,    6,    0,    0,    4]), array([ 19.94059753,  19.94513445,  19.94967136,  19.95420828,
        19.95874519,  19.96328211,  19.96781902,  19.97235594,
        19.97689285,  19.98142977,  19.98596668,  19.9905036 ,
        19.99504051,  19.99957743,  20.00411434,  20.00865126,
        20.01318817,  20.01772509,  20.022262  ,  20.02679892,  20.03133583]))
train/val Accuracy = 0.634726592397 / 0.501333980112 
 with threshold: [[ 0.22970874]]
============ epoch 2 ===========
training loss:		0.117507
||Xanchor-Xpos||_2  counter: 
[ 616 3222 5966 5328 3859 2443 1333  441  163   54   36   20   19   13    2
    1    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 155  759 2683 4520 4192 3613 2917 1849  937  463  395  291  215  167  119
   82   85   45   27    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01329756  0.03181609  0.05033463  0.06885316  0.0873717   0.10589023
  0.12440876  0.1429273   0.16144583  0.17996437  0.1984829   0.21700144
  0.23551997  0.2540385   0.27255704  0.29107557  0.30959411  0.32811264
  0.34663118  0.36514971  0.38366824]
distance difference  counter: 
(array([    2,    10,    23,    37,    54,    81,    87,   144,   195,
         282,   389,   735,  2331, 11134,  7786,   157,    43,    17,
           7,     4]), array([ 19.86030197,  19.87015886,  19.88001575,  19.88987265,
        19.89972954,  19.90958643,  19.91944332,  19.92930021,
        19.9391571 ,  19.949014  ,  19.95887089,  19.96872778,
        19.97858467,  19.98844156,  19.99829845,  20.00815535,
        20.01801224,  20.02786913,  20.03772602,  20.04758291,  20.0574398 ]))
||Xanchor-Xpos||_2  counter: 
[  75  369 1115 2152 2713 1345  313   90   28   22   14    1    0    6    2
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2   24  146  648 2087 3100 1219  452  211  130   70   56   37   24   17
    4    6   10    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01658559  0.02393433  0.03128307  0.03863182  0.04598056  0.0533293
  0.06067804  0.06802679  0.07537553  0.08272427  0.09007301  0.09742175
  0.1047705   0.11211924  0.11946798  0.12681672  0.13416547  0.14151421
  0.14886295  0.15621169  0.16356044]
distance difference  counter: 
(array([   1,    1,    6,    5,    6,   11,   17,   26,   61,  118,  278,
       1426, 4968, 1271,   39,    7,    1,    0,    2,    2]), array([ 19.97593689,  19.97779264,  19.9796484 ,  19.98150415,
        19.98335991,  19.98521566,  19.98707142,  19.98892717,
        19.99078293,  19.99263868,  19.99449444,  19.99635019,
        19.99820595,  20.0000617 ,  20.00191746,  20.00377321,
        20.00562897,  20.00748472,  20.00934048,  20.01119623,  20.01305199]))
train/val Accuracy = 0.64990645463 / 0.510671840893 
 with threshold: [[ 0.09367227]]
============ epoch 3 ===========
training loss:		0.116807
||Xanchor-Xpos||_2  counter: 
[1680 8018 7334 4096 1446  439  189  110   80   50   35   13   14    8    1
    3    0    1    1    0]
||Xanchor-Xneg||_2  counter: 
[ 349 3105 5982 5330 3520 1741  957  593  439  320  221  249  188  168  120
   99   65   43   25    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00441336  0.01599458  0.02757581  0.03915703  0.05073826  0.06231948
  0.07390071  0.08548193  0.09706315  0.10864438  0.1202256   0.13180683
  0.14338805  0.15496928  0.1665505   0.17813173  0.18971295  0.20129418
  0.2128754   0.22445663  0.23603785]
distance difference  counter: 
(array([    3,    10,    20,    48,    58,    91,   115,   182,   231,
         251,   413,   866,  3281, 17572,   272,    65,    21,    10,
           6,     3]), array([ 19.94560814,  19.94962721,  19.95364628,  19.95766535,
        19.96168442,  19.96570349,  19.96972256,  19.97374163,
        19.9777607 ,  19.98177977,  19.98579884,  19.98981791,
        19.99383698,  19.99785604,  20.00187511,  20.00589418,
        20.00991325,  20.01393232,  20.01795139,  20.02197046,  20.02598953]))
||Xanchor-Xpos||_2  counter: 
[ 212 1597 3807 1873  437  165   75   31   22   14    3    1    3    2    2
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10  217 2150 3407 1170  504  261  168  115   69   53   44   24   17   14
    5    8    6    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00596234  0.0107373   0.01551227  0.02028724  0.02506221  0.02983717
  0.03461214  0.03938711  0.04416208  0.04893704  0.05371201  0.05848698
  0.06326195  0.06803691  0.07281188  0.07758685  0.08236182  0.08713678
  0.09191175  0.09668672  0.10146169]
distance difference  counter: 
(array([   1,    1,    2,    6,    8,   10,   12,   26,   49,   74,  174,
        542, 6493,  804,   34,    6,    0,    0,    1,    3]), array([ 19.99010277,  19.99087019,  19.99163761,  19.99240503,
        19.99317245,  19.99393988,  19.9947073 ,  19.99547472,
        19.99624214,  19.99700956,  19.99777699,  19.99854441,
        19.99931183,  20.00007925,  20.00084667,  20.00161409,
        20.00238152,  20.00314894,  20.00391636,  20.00468378,  20.0054512 ]))
train/val Accuracy = 0.660472829322 / 0.524375454766 
 with threshold: [[ 0.04066477]]
============ epoch 4 ===========
training loss:		0.116709
||Xanchor-Xpos||_2  counter: 
[ 6212 11207  4035  1026   433   228   139    86    65    33    20    13
    13     4     1     2     0     1     0     0]
||Xanchor-Xneg||_2  counter: 
[1748 7878 6279 2629 1423  860  619  437  339  258  236  216  185  154   95
   72   47   22   15    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00192352  0.00962083  0.01731814  0.02501545  0.03271275  0.04041006
  0.04810737  0.05580468  0.06350198  0.07119929  0.0788966   0.08659391
  0.09429122  0.10198852  0.10968583  0.11738314  0.12508045  0.13277775
  0.14047506  0.14817237  0.15586968]
distance difference  counter: 
(array([    3,     9,    11,    27,    50,    67,    99,   180,   234,
         282,   397,   821,  3276, 17816,   177,    40,    21,     6,
           1,     1]), array([ 19.9760685 ,  19.97786179,  19.97965508,  19.98144836,
        19.98324165,  19.98503494,  19.98682823,  19.98862152,
        19.99041481,  19.9922081 ,  19.99400139,  19.99579468,
        19.99758797,  19.99938126,  20.00117455,  20.00296783,
        20.00476112,  20.00655441,  20.0083477 ,  20.01014099,  20.01193428]))
||Xanchor-Xpos||_2  counter: 
[ 926 4615 1736  513  229  102   52   30   17   13    3    1    1    2    4
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  87 3021 2669  993  517  323  180  138  100   58   47   37   25   20    6
    6    7    9    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00236221  0.00546639  0.00857058  0.01167477  0.01477895  0.01788314
  0.02098733  0.02409151  0.0271957   0.03029989  0.03340407  0.03650826
  0.03961244  0.04271663  0.04582082  0.048925    0.05202919  0.05513338
  0.05823756  0.06134175  0.06444594]
distance difference  counter: 
(array([   1,    0,    4,    7,    7,    6,   11,   23,   41,   62,  147,
        381, 5903, 1595,   45,    9,    0,    0,    0,    4]), array([ 19.99590492,  19.9962204 ,  19.99653587,  19.99685135,
        19.99716682,  19.9974823 ,  19.99779778,  19.99811325,
        19.99842873,  19.9987442 ,  19.99905968,  19.99937515,
        19.99969063,  20.0000061 ,  20.00032158,  20.00063705,
        20.00095253,  20.00126801,  20.00158348,  20.00189896,  20.00221443]))
train/val Accuracy = 0.65787907135 / 0.535471743876 
 with threshold: [[ 0.01967862]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.112475
||Xanchor-Xpos||_2  counter: 
[18673   901  1005   196   307   462   461   112    69    84   110   125
   162   177   200   194   164    94    22     0]
||Xanchor-Xneg||_2  counter: 
[17942  1210  1208   229    72   195   638   529    33    12    31    43
    62    65   120   181   301   364   243    40]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.77079209e-07   5.98486076e-02   1.19696938e-01   1.79545268e-01
   2.39393599e-01   2.99241929e-01   3.59090260e-01   4.18938590e-01
   4.78786921e-01   5.38635251e-01   5.98483582e-01   6.58331912e-01
   7.18180243e-01   7.78028573e-01   8.37876904e-01   8.97725234e-01
   9.57573565e-01   1.01742190e+00   1.07727023e+00   1.13711856e+00
   1.19696689e+00]
distance difference  counter: 
(array([    1,     6,    10,    31,    44,    71,    93,   134,   149,
         165,   237,   714, 21674,   126,    32,    18,     8,     4,
           0,     1]), array([ 18.6851387 ,  18.78925238,  18.89336605,  18.99747972,
        19.1015934 ,  19.20570707,  19.30982075,  19.41393442,
        19.5180481 ,  19.62216177,  19.72627544,  19.83038912,
        19.93450279,  20.03861647,  20.14273014,  20.24684381,
        20.35095749,  20.45507116,  20.55918484,  20.66329851,  20.76741219]))
||Xanchor-Xpos||_2  counter: 
[  30  132  356  727 1331 1807 2024 1352  345   93   25   12    3    2    3
    2    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2    5   28   83  262  683 1643 2780 1671  548  250  121   66   43   27
   13    6    7    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.33370236e-07   1.76050690e-07   2.18731145e-07   2.61411600e-07
   3.04092055e-07   3.46772509e-07   3.89452964e-07   4.32133419e-07
   4.74813874e-07   5.17494328e-07   5.60174783e-07   6.02855238e-07
   6.45535692e-07   6.88216147e-07   7.30896602e-07   7.73577057e-07
   8.16257511e-07   8.58937966e-07   9.01618421e-07   9.44298876e-07
   9.86979330e-07]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
train/val Accuracy = 0.503316608555 / 0.5 
 with threshold: [[ 0.09285047]]
============ epoch 1 ===========
training loss:		1.044469
||Xanchor-Xpos||_2  counter: 
[20219   911   909   249   322   464   316    85    23     5     4     3
     4     1     2     0     0     0     1     0]
||Xanchor-Xneg||_2  counter: 
[19407  1147   904   451   176   248   501   353   120    65    45    22
    18     8    11    10     8    12     9     3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.16932248e-13   7.13941037e-08   1.42788090e-07   2.14182077e-07
   2.85576064e-07   3.56970051e-07   4.28364037e-07   4.99758024e-07
   5.71152011e-07   6.42545998e-07   7.13939984e-07   7.85333971e-07
   8.56727958e-07   9.28121945e-07   9.99515931e-07   1.07090992e-06
   1.14230390e-06   1.21369789e-06   1.28509188e-06   1.35648586e-06
   1.42787985e-06]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
||Xanchor-Xpos||_2  counter: 
[ 455 3717 2862  692  265  120   61   29   16   15    4    1    3    3    1
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  33 1219 3972 1390  593  360  211  132  108   60   57   37   25   21    7
    2    8    8    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  5.71495772e-14   1.23262525e-13   1.89375472e-13   2.55488419e-13
   3.21601366e-13   3.87714314e-13   4.53827261e-13   5.19940208e-13
   5.86053156e-13   6.52166103e-13   7.18279050e-13   7.84391997e-13
   8.50504945e-13   9.16617892e-13   9.82730839e-13   1.04884379e-12
   1.11495673e-12   1.18106968e-12   1.24718263e-12   1.31329558e-12
   1.37940852e-12]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 2 ===========
training loss:		1.044469
||Xanchor-Xpos||_2  counter: 
[21709  1118   471    98    48    33    14     7     3     6     4     4
     1     0     1     1     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[20809  1130   736   353   148    89    49    65    25    15    20    11
     9    10    15    10     8    10     4     2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   1.05605520e-13   2.11211040e-13   3.16816560e-13
   4.22422080e-13   5.28027600e-13   6.33633120e-13   7.39238640e-13
   8.44844160e-13   9.50449680e-13   1.05605520e-12   1.16166072e-12
   1.26726624e-12   1.37287176e-12   1.47847728e-12   1.58408280e-12
   1.68968832e-12   1.79529384e-12   1.90089936e-12   2.00650488e-12
   2.11211040e-12]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
||Xanchor-Xpos||_2  counter: 
[8174    0    0    0   18    0    7   35    2    0    3    3    2    0    0
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[8056    0    0    0   38    0   17   68   23    0   12   11    3    2    8
    2    0    1    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   2.42434954e-20   4.84869907e-20   7.27304861e-20
   9.69739814e-20   1.21217477e-19   1.45460972e-19   1.69704468e-19
   1.93947963e-19   2.18191458e-19   2.42434954e-19   2.66678449e-19
   2.90921944e-19   3.15165440e-19   3.39408935e-19   3.63652430e-19
   3.87895926e-19   4.12139421e-19   4.36382917e-19   4.60626412e-19
   4.84869907e-19]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 3 ===========
training loss:		1.044469
||Xanchor-Xpos||_2  counter: 
[23215     0   119    33    33    17    12     8    13     6    11     8
    15    12     5     7     4     0     0     0]
||Xanchor-Xneg||_2  counter: 
[23096     0   136    51    35    19    14     6    10    11     9    13
    16    18    17    27    24     9     5     2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   5.14862235e-20   1.02972447e-19   1.54458671e-19
   2.05944894e-19   2.57431118e-19   3.08917341e-19   3.60403565e-19
   4.11889788e-19   4.63376012e-19   5.14862235e-19   5.66348459e-19
   6.17834683e-19   6.69320906e-19   7.20807130e-19   7.72293353e-19
   8.23779577e-19   8.75265800e-19   9.26752024e-19   9.78238247e-19
   1.02972447e-18]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 4 ===========
training loss:		1.044469
||Xanchor-Xpos||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([ 19.5 ,  19.55,  19.6 ,  19.65,  19.7 ,  19.75,  19.8 ,  19.85,
        19.9 ,  19.95,  20.  ,  20.05,  20.1 ,  20.15,  20.2 ,  20.25,
        20.3 ,  20.35,  20.4 ,  20.45,  20.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.087266
||Xanchor-Xpos||_2  counter: 
[  22   95  174  335  494  677  876 1143 1428 1676 1833 2259 2377 2521 2600
 2420 1726  747  111    4]
||Xanchor-Xneg||_2  counter: 
[   3   32   54   84  144  165  204  231  350  399  576  735 1106 1563 2292
 3528 4650 4832 2347  223]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18778095  0.23806337  0.28834579  0.33862821  0.38891063  0.43919305
  0.48947547  0.53975789  0.59004031  0.64032273  0.69060515  0.74088757
  0.79116999  0.84145241  0.89173483  0.94201725  0.99229967  1.04258209
  1.09286451  1.14314693  1.19342935]
distance difference  counter: 
(array([  11,   99,  313,  552,  968, 1553, 1937, 2420, 2862, 3129, 3436,
       3342, 1820,  681,  220,   97,   44,   21,    9,    4]), array([  98.72123718,   98.830476  ,   98.93971481,   99.04895363,
         99.15819244,   99.26743126,   99.37667007,   99.48590889,
         99.59514771,   99.70438652,   99.81362534,   99.92286415,
        100.03210297,  100.14134178,  100.2505806 ,  100.35981941,
        100.46905823,  100.57829704,  100.68753586,  100.79677467,
        100.90601349]))
||Xanchor-Xpos||_2  counter: 
[   7    7   30   56   88  125  259  292  427  564  693  851  999 1123 1058
  898  543  194   29    3]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    1    3   10   23   32   57   93  156  252  463  704 1042
 1598 1913 1390  459   47]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26488966  0.31112625  0.35736285  0.40359944  0.44983604  0.49607264
  0.54230923  0.58854583  0.63478242  0.68101902  0.72725561  0.77349221
  0.8197288   0.8659654   0.91220199  0.95843859  1.00467519  1.05091178
  1.09714838  1.14338497  1.18962157]
distance difference  counter: 
(array([   4,    5,   34,  109,  153,  286,  481,  609,  776,  978, 1106,
       1213, 1130,  752,  392,  143,   49,   19,    5,    2]), array([  98.78813934,   98.88113594,   98.97413254,   99.06712914,
         99.16012573,   99.25312233,   99.34611893,   99.43911552,
         99.53211212,   99.62510872,   99.71810532,   99.81110191,
         99.90409851,   99.99709511,  100.09009171,  100.1830883 ,
        100.2760849 ,  100.3690815 ,  100.46207809,  100.55507469,
        100.64807129]))
train/val Accuracy = 0.71430393741 / 0.707676449187 
 with threshold: [[ 0.87998177]]
============ epoch 1 ===========
training loss:		0.087249
||Xanchor-Xpos||_2  counter: 
[  21   92  178  347  515  665  910 1126 1375 1658 1907 2174 2440 2548 2605
 2416 1720  723   93    5]
||Xanchor-Xneg||_2  counter: 
[   4   29   53   96  127  168  204  242  334  407  580  779 1050 1583 2316
 3553 4699 4758 2301  235]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18732749  0.23765307  0.28797865  0.33830423  0.38862981  0.43895539
  0.48928096  0.53960654  0.58993212  0.6402577   0.69058328  0.74090886
  0.79123444  0.84156002  0.8918856   0.94221118  0.99253676  1.04286234
  1.09318791  1.14351349  1.19383907]
distance difference  counter: 
(array([  15,  128,  320,  621, 1038, 1582, 2155, 2601, 3001, 3185, 3519,
       3158, 1352,  520,  172,   83,   43,   16,    6,    3]), array([  98.72975159,   98.84079628,   98.95184097,   99.06288567,
         99.17393036,   99.28497505,   99.39601974,   99.50706444,
         99.61810913,   99.72915382,   99.84019852,   99.95124321,
        100.0622879 ,  100.1733326 ,  100.28437729,  100.39542198,
        100.50646667,  100.61751137,  100.72855606,  100.83960075,
        100.95064545]))
||Xanchor-Xpos||_2  counter: 
[   4   21   36   83  109  155  248  363  481  543  751  902  998 1123 1017
  830  420  144   17    1]
||Xanchor-Xneg||_2  counter: 
[   0    2    0    4   10   15   25   40   59  116  170  296  521  789 1140
 1709 1837 1160  335   18]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29468396  0.33972815  0.38477233  0.42981651  0.47486069  0.51990487
  0.56494906  0.60999324  0.65503742  0.7000816   0.74512579  0.79016997
  0.83521415  0.88025833  0.92530251  0.9703467   1.01539088  1.06043506
  1.10547924  1.15052343  1.19556761]
distance difference  counter: 
(array([   6,   20,   72,  129,  240,  386,  570,  716,  893, 1108, 1215,
       1170,  930,  479,  194,   82,   25,    6,    2,    3]), array([  98.85343933,   98.94603996,   99.03864059,   99.13124123,
         99.22384186,   99.31644249,   99.40904312,   99.50164375,
         99.59424438,   99.68684502,   99.77944565,   99.87204628,
         99.96464691,  100.05724754,  100.14984818,  100.24244881,
        100.33504944,  100.42765007,  100.5202507 ,  100.61285133,
        100.70545197]))
train/val Accuracy = 0.715409473595 / 0.707373271889 
 with threshold: [[ 0.87954697]]
============ epoch 2 ===========
training loss:		0.087232
||Xanchor-Xpos||_2  counter: 
[  15   93  195  300  477  673  899 1138 1416 1645 1942 2214 2350 2555 2606
 2425 1705  754  109    7]
||Xanchor-Xneg||_2  counter: 
[   5   32   52   95  133  161  190  251  342  417  574  756 1048 1540 2258
 3461 4704 4735 2485  279]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18708377  0.23725572  0.28742767  0.33759962  0.38777157  0.43794352
  0.48811547  0.53828742  0.58845938  0.63863133  0.68880328  0.73897523
  0.78914718  0.83931913  0.88949108  0.93966303  0.98983499  1.04000694
  1.09017889  1.14035084  1.19052279]
distance difference  counter: 
(array([  15,  120,  321,  659, 1099, 1622, 2145, 2739, 3062, 3358, 3568,
       2978, 1187,  385,  137,   77,   27,   13,    4,    2]), array([  98.72108459,   98.83443794,   98.94779129,   99.06114464,
         99.17449799,   99.28785133,   99.40120468,   99.51455803,
         99.62791138,   99.74126472,   99.85461807,   99.96797142,
        100.08132477,  100.19467812,  100.30803146,  100.42138481,
        100.53473816,  100.64809151,  100.76144485,  100.8747982 ,
        100.98815155]))
||Xanchor-Xpos||_2  counter: 
[   3    8   20   52   86  133  223  318  421  532  693  851  997 1110 1086
  897  560  217   37    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    1    5   14   25   28   44   88  144  262  436  667 1071
 1570 1880 1449  497   63]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26444489  0.31048009  0.35651528  0.40255048  0.44858568  0.49462087
  0.54065607  0.58669127  0.63272647  0.67876166  0.72479686  0.77083206
  0.81686726  0.86290245  0.90893765  0.95497285  1.00100805  1.04704324
  1.09307844  1.13911364  1.18514884]
distance difference  counter: 
(array([   4,    7,   52,  150,  280,  498,  654,  867, 1134, 1360, 1376,
       1099,  525,  166,   59,    8,    4,    1,    1,    1]), array([  98.7908783 ,   98.89656639,   99.00225449,   99.10794258,
         99.21363068,   99.31931877,   99.42500687,   99.53069496,
         99.63638306,   99.74207115,   99.84775925,   99.95344734,
        100.05913544,  100.16482353,  100.27051163,  100.37619972,
        100.48188782,  100.58757591,  100.69326401,  100.7989521 ,
        100.9046402 ]))
train/val Accuracy = 0.715792159197 / 0.710890128547 
 with threshold: [[ 0.87859623]]
============ epoch 3 ===========
training loss:		0.087214
||Xanchor-Xpos||_2  counter: 
[  36  120  217  363  522  733  947 1167 1426 1705 1881 2160 2469 2551 2484
 2363 1586  690   95    3]
||Xanchor-Xneg||_2  counter: 
[  15   40   54  106  160  157  211  261  344  418  583  783 1108 1618 2383
 3487 4673 4637 2223  257]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20304064  0.2525187   0.30199676  0.35147482  0.40095288  0.45043093
  0.49990899  0.54938705  0.59886511  0.64834316  0.69782122  0.74729928
  0.79677734  0.8462554   0.89573345  0.94521151  0.99468957  1.04416763
  1.09364568  1.14312374  1.1926018 ]
distance difference  counter: 
(array([  12,  123,  306,  607, 1039, 1640, 2188, 2674, 3026, 3330, 3574,
       3121, 1243,  377,  137,   71,   27,   15,    5,    3]), array([  98.71097565,   98.82482948,   98.93868332,   99.05253716,
         99.16639099,   99.28024483,   99.39409866,   99.5079525 ,
         99.62180634,   99.73566017,   99.84951401,   99.96336784,
        100.07722168,  100.19107552,  100.30492935,  100.41878319,
        100.53263702,  100.64649086,  100.7603447 ,  100.87419853,
        100.98805237]))
||Xanchor-Xpos||_2  counter: 
[   8   11   42   68  109  164  240  335  444  567  738  869  974 1046 1069
  837  501  191   32    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    4    6   18   16   39   56   97  169  297  478  697 1116
 1573 1865 1334  429   51]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29005834  0.33480233  0.37954631  0.42429029  0.46903427  0.51377825
  0.55852223  0.60326621  0.64801019  0.69275417  0.73749815  0.78224213
  0.82698611  0.87173009  0.91647407  0.96121805  1.00596203  1.05070601
  1.09544999  1.14019397  1.18493795]
distance difference  counter: 
(array([   5,    3,   25,   72,  170,  246,  408,  510,  691,  883, 1037,
       1126, 1136,  973,  562,  262,   91,   34,    9,    3]), array([  98.79169464,   98.8808567 ,   98.97001877,   99.05918083,
         99.1483429 ,   99.23750496,   99.32666702,   99.41582909,
         99.50499115,   99.59415321,   99.68331528,   99.77247734,
         99.8616394 ,   99.95080147,  100.03996353,  100.1291256 ,
        100.21828766,  100.30744972,  100.39661179,  100.48577385,
        100.57493591]))
train/val Accuracy = 0.716323666978 / 0.709010429299 
 with threshold: [[ 0.87815859]]
============ epoch 4 ===========
training loss:		0.087196
||Xanchor-Xpos||_2  counter: 
[  17   90  187  318  497  671  902 1187 1379 1728 1922 2152 2423 2532 2549
 2381 1747  713  119    4]
||Xanchor-Xneg||_2  counter: 
[   2   38   53   95  139  162  197  225  343  405  555  758 1055 1579 2323
 3503 4604 4746 2444  292]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18717797  0.23734837  0.28751877  0.33768917  0.38785957  0.43802997
  0.48820037  0.53837077  0.58854117  0.63871157  0.68888197  0.73905237
  0.78922277  0.83939317  0.88956357  0.93973397  0.98990437  1.04007477
  1.09024517  1.14041557  1.19058597]
distance difference  counter: 
(array([  22,  142,  335,  659, 1095, 1644, 2116, 2744, 3104, 3282, 3591,
       3026, 1143,  369,  135,   61,   31,    8,    9,    2]), array([  98.72357941,   98.83679771,   98.95001602,   99.06323433,
         99.17645264,   99.28967094,   99.40288925,   99.51610756,
         99.62932587,   99.74254417,   99.85576248,   99.96898079,
        100.0821991 ,  100.1954174 ,  100.30863571,  100.42185402,
        100.53507233,  100.64829063,  100.76150894,  100.87472725,
        100.98794556]))
||Xanchor-Xpos||_2  counter: 
[   4   11   25   46   82  145  230  301  443  548  689  828  947 1128 1098
  917  544  224   35    1]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    3    5    8   18   39   72   87  145  261  420  653 1105
 1506 1954 1418  491   59]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26400033  0.30997171  0.3559431   0.40191448  0.44788587  0.49385726
  0.53982864  0.58580003  0.63177142  0.6777428   0.72371419  0.76968557
  0.81565696  0.86162835  0.90759973  0.95357112  0.9995425   1.04551389
  1.09148528  1.13745666  1.18342805]
distance difference  counter: 
(array([  17,   59,  108,  182,  298,  448,  609,  750,  879, 1070, 1143,
       1103,  836,  441,  189,   68,   31,    9,    3,    3]), array([  98.9331665 ,   99.02024498,   99.10732346,   99.19440193,
         99.28148041,   99.36855888,   99.45563736,   99.54271584,
         99.62979431,   99.71687279,   99.80395126,   99.89102974,
         99.97810822,  100.06518669,  100.15226517,  100.23934364,
        100.32642212,  100.4135006 ,  100.50057907,  100.58765755,
        100.67473602]))
train/val Accuracy = 0.717641806276 / 0.708100897405 
 with threshold: [[ 0.8778267]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.261492
||Xanchor-Xpos||_2  counter: 
[  22  115  181  368  505  730  934 1165 1452 1735 1960 2244 2458 2621 2576
 2321 1516  562   53    0]
||Xanchor-Xneg||_2  counter: 
[   9   28   61   98  149  165  217  245  328  438  600  813 1127 1709 2524
 3735 4899 4546 1721  106]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19047107  0.24112662  0.29178218  0.34243773  0.39309329  0.44374884
  0.4944044   0.54505995  0.59571551  0.64637106  0.69702662  0.74768217
  0.79833773  0.84899328  0.89964884  0.95030439  1.00095995  1.0516155
  1.10227106  1.15292661  1.20358217]
distance difference  counter: 
(array([  17,  116,  346,  675, 1069, 1580, 2094, 2547, 3021, 3341, 3442,
       3113, 1372,  498,  150,   73,   39,   16,    5,    4]), array([  98.7247467 ,   98.83650894,   98.94827118,   99.06003342,
         99.17179565,   99.28355789,   99.39532013,   99.50708237,
         99.6188446 ,   99.73060684,   99.84236908,   99.95413132,
        100.06589355,  100.17765579,  100.28941803,  100.40118027,
        100.5129425 ,  100.62470474,  100.73646698,  100.84822922,
        100.95999146]))
||Xanchor-Xpos||_2  counter: 
[   8   17   39   69  104  182  248  345  484  602  712  832 1000 1069 1047
  840  485  132   29    2]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    1    7   22   28   47   60  118  182  301  482  747 1114
 1604 1874 1206  408   43]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.29755217  0.34159552  0.38563887  0.42968223  0.47372558  0.51776893
  0.56181229  0.60585564  0.64989899  0.69394235  0.7379857   0.78202905
  0.82607241  0.87011576  0.91415911  0.95820247  1.00224582  1.04628917
  1.09033253  1.13437588  1.17841923]
distance difference  counter: 
(array([   5,   33,   68,  152,  227,  380,  561,  733,  823, 1011, 1156,
       1151,  950,  598,  230,  100,   51,   15,    0,    2]), array([  98.89448547,   98.98242149,   99.07035751,   99.15829353,
         99.24622955,   99.33416557,   99.42210159,   99.51003761,
         99.59797363,   99.68590965,   99.77384567,   99.86178169,
         99.94971771,  100.03765373,  100.12558975,  100.21352577,
        100.30146179,  100.38939781,  100.47733383,  100.56526985,
        100.65320587]))
train/val Accuracy = 0.715622076707 / 0.709374242057 
 with threshold: [[ 0.87829955]]
============ epoch 1 ===========
training loss:		0.259777
||Xanchor-Xpos||_2  counter: 
[  23  100  177  335  497  732  966 1140 1468 1724 1903 2331 2445 2648 2677
 2273 1478  535   66    0]
||Xanchor-Xneg||_2  counter: 
[   3   37   48  102  147  162  219  255  337  436  571  866 1107 1723 2595
 3806 4889 4463 1661   91]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18395415  0.23453281  0.28511148  0.33569014  0.38626881  0.43684747
  0.48742613  0.5380048   0.58858346  0.63916213  0.68974079  0.74031946
  0.79089812  0.84147678  0.89205545  0.94263411  0.99321278  1.04379144
  1.09437011  1.14494877  1.19552743]
distance difference  counter: 
(array([  26,  137,  400,  726, 1115, 1718, 2228, 2743, 3079, 3447, 3690,
       2638, 1007,  324,  133,   60,   26,   14,    4,    3]), array([  98.75094604,   98.86323318,   98.97552032,   99.08780746,
         99.2000946 ,   99.31238174,   99.42466888,   99.53695602,
         99.64924316,   99.7615303 ,   99.87381744,   99.98610458,
        100.09839172,  100.21067886,  100.322966  ,  100.43525314,
        100.54754028,  100.65982742,  100.77211456,  100.8844017 ,
        100.99668884]))
||Xanchor-Xpos||_2  counter: 
[   9    9   40   60  113  175  250  336  467  563  701  851 1032 1062 1065
  841  498  142   31    1]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    7   18   22   34   73  110  174  276  467  772 1126
 1632 1824 1252  414   45]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28510356  0.32924524  0.37338692  0.4175286   0.46167028  0.50581196
  0.54995364  0.59409532  0.638237    0.68237868  0.72652036  0.77066204
  0.81480372  0.8589454   0.90308708  0.94722876  0.99137044  1.03551212
  1.0796538   1.12379548  1.16793716]
distance difference  counter: 
(array([  15,   30,   78,  150,  242,  329,  460,  639,  723,  900, 1033,
       1081, 1031,  810,  423,  180,   77,   32,    9,    4]), array([  98.94668579,   99.02639046,   99.10609512,   99.18579979,
         99.26550446,   99.34520912,   99.42491379,   99.50461845,
         99.58432312,   99.66402779,   99.74373245,   99.82343712,
         99.90314178,   99.98284645,  100.06255112,  100.14225578,
        100.22196045,  100.30166512,  100.38136978,  100.46107445,
        100.54077911]))
train/val Accuracy = 0.715218130793 / 0.712830463255 
 with threshold: [[ 0.87030687]]
============ epoch 2 ===========
training loss:		0.258094
||Xanchor-Xpos||_2  counter: 
[  18  120  205  349  492  734  949 1149 1495 1703 2012 2236 2436 2590 2605
 2288 1523  562   52    0]
||Xanchor-Xneg||_2  counter: 
[   5   37   59   94  136  173  213  246  355  452  576  842 1120 1731 2552
 3729 4807 4479 1787  125]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18676497  0.23653538  0.2863058   0.33607621  0.38584663  0.43561704
  0.48538745  0.53515787  0.58492828  0.6346987   0.68446911  0.73423953
  0.78400994  0.83378035  0.88355077  0.93332118  0.9830916   1.03286201
  1.08263242  1.13240284  1.18217325]
distance difference  counter: 
(array([  21,  106,  310,  673,  983, 1551, 2108, 2472, 2906, 3255, 3447,
       3338, 1466,  550,  179,   82,   46,   18,    4,    3]), array([  98.760849  ,   98.86843643,   98.97602386,   99.0836113 ,
         99.19119873,   99.29878616,   99.4063736 ,   99.51396103,
         99.62154846,   99.72913589,   99.83672333,   99.94431076,
        100.05189819,  100.15948563,  100.26707306,  100.37466049,
        100.48224792,  100.58983536,  100.69742279,  100.80501022,
        100.91259766]))
||Xanchor-Xpos||_2  counter: 
[   8   12   40   62  101  167  264  351  455  552  720  820 1004 1130 1067
  850  484  130   28    1]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    1    8   13   25   45   51  121  178  289  484  770 1117
 1617 1837 1245  405   38]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.28333974  0.32708612  0.3708325   0.41457888  0.45832527  0.50207165
  0.54581803  0.58956441  0.63331079  0.67705718  0.72080356  0.76454994
  0.80829632  0.8520427   0.89578909  0.93953547  0.98328185  1.02702823
  1.07077461  1.114521    1.15826738]
distance difference  counter: 
(array([   6,   24,   72,  188,  294,  451,  701,  825, 1026, 1257, 1330,
       1106,  601,  252,   71,   30,    9,    1,    1,    1]), array([  98.91134644,   99.00491753,   99.09848862,   99.19205971,
         99.2856308 ,   99.37920189,   99.47277298,   99.56634407,
         99.65991516,   99.75348625,   99.84705734,   99.94062843,
        100.03419952,  100.12777061,  100.22134171,  100.3149128 ,
        100.40848389,  100.50205498,  100.59562607,  100.68919716,
        100.78276825]))
train/val Accuracy = 0.715473254528 / 0.709071064759 
 with threshold: [[ 0.86197637]]
============ epoch 3 ===========
training loss:		0.256442
||Xanchor-Xpos||_2  counter: 
[  19   86  176  340  503  663  935 1179 1476 1733 2043 2286 2512 2583 2679
 2300 1463  500   42    0]
||Xanchor-Xneg||_2  counter: 
[   1   30   55   78  145  164  226  260  351  425  563  848 1135 1781 2613
 3887 4962 4320 1583   91]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17243935  0.22269649  0.27295362  0.32321075  0.37346789  0.42372502
  0.47398215  0.52423929  0.57449642  0.62475355  0.67501069  0.72526782
  0.77552496  0.82578209  0.87603922  0.92629636  0.97655349  1.02681062
  1.07706776  1.12732489  1.17758203]
distance difference  counter: 
(array([  29,  124,  326,  654, 1019, 1487, 2107, 2525, 2912, 3227, 3412,
       3245, 1560,  548,  179,   90,   42,   26,    3,    3]), array([  98.78807831,   98.89311905,   98.99815979,   99.10320053,
         99.20824127,   99.31328201,   99.41832275,   99.52336349,
         99.62840424,   99.73344498,   99.83848572,   99.94352646,
        100.0485672 ,  100.15360794,  100.25864868,  100.36368942,
        100.46873016,  100.5737709 ,  100.67881165,  100.78385239,
        100.88889313]))
||Xanchor-Xpos||_2  counter: 
[   4    7   29   50   94  141  246  303  420  543  664  839 1001 1110 1090
  896  570  200   39    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    2    3   13   24   35   51   88  162  261  409  717 1072
 1538 1872 1432  500   65]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.25786263  0.30210998  0.34635733  0.39060468  0.43485203  0.47909938
  0.52334673  0.56759408  0.61184143  0.65608878  0.70033613  0.74458348
  0.78883083  0.83307818  0.87732553  0.92157288  0.96582023  1.01006758
  1.05431493  1.09856228  1.14280963]
distance difference  counter: 
(array([  14,   25,   76,  153,  237,  391,  566,  735,  845, 1048, 1159,
       1169,  916,  550,  215,   85,   41,   17,    2,    2]), array([  98.95503998,   99.03869171,   99.12234344,   99.20599518,
         99.28964691,   99.37329865,   99.45695038,   99.54060211,
         99.62425385,   99.70790558,   99.79155731,   99.87520905,
         99.95886078,  100.04251251,  100.12616425,  100.20981598,
        100.29346771,  100.37711945,  100.46077118,  100.54442291,
        100.62807465]))
train/val Accuracy = 0.716897695382 / 0.715559058938 
 with threshold: [[ 0.85393258]]
============ epoch 4 ===========
training loss:		0.254822
||Xanchor-Xpos||_2  counter: 
[  22  114  225  369  511  746 1039 1175 1583 1758 2094 2265 2511 2652 2631
 2177 1264  364   18    0]
||Xanchor-Xneg||_2  counter: 
[   5   34   67  106  146  186  217  271  347  423  665  896 1288 1894 2703
 4098 5000 3990 1136   46]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18472999  0.23423312  0.28373625  0.33323937  0.3827425   0.43224563
  0.48174875  0.53125188  0.58075501  0.63025813  0.67976126  0.72926439
  0.77876751  0.82827064  0.87777377  0.92727689  0.97678002  1.02628315
  1.07578627  1.1252894   1.17479253]
distance difference  counter: 
(array([  28,  135,  329,  656, 1013, 1509, 2134, 2535, 2876, 3194, 3477,
       3212, 1551,  528,  196,   84,   36,   14,    8,    3]), array([  98.81474304,   98.91754494,   99.02034683,   99.12314873,
         99.22595062,   99.32875252,   99.43155441,   99.53435631,
         99.6371582 ,   99.7399601 ,   99.84276199,   99.94556389,
        100.04836578,  100.15116768,  100.25396957,  100.35677147,
        100.45957336,  100.56237526,  100.66517715,  100.76797905,
        100.87078094]))
||Xanchor-Xpos||_2  counter: 
[   9   17   37   61  108  172  237  354  461  588  707  821 1032 1094 1016
  845  504  157   22    4]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    1    9   13   26   43   49  120  166  314  477  767 1139
 1582 1820 1259  407   54]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27718121  0.32013717  0.36309313  0.40604909  0.44900506  0.49196102
  0.53491698  0.57787294  0.6208289   0.66378486  0.70674083  0.74969679
  0.79265275  0.83560871  0.87856467  0.92152064  0.9644766   1.00743256
  1.05038852  1.09334448  1.13630044]
distance difference  counter: 
(array([   3,   20,   50,  123,  205,  335,  464,  635,  834,  929, 1125,
       1178, 1059,  728,  347,  141,   44,   16,    6,    4]), array([  98.9393692 ,   99.02149048,   99.10361176,   99.18573303,
         99.26785431,   99.34997559,   99.43209686,   99.51421814,
         99.59633942,   99.67846069,   99.76058197,   99.84270325,
         99.92482452,  100.0069458 ,  100.08906708,  100.17118835,
        100.25330963,  100.33543091,  100.41755219,  100.49967346,
        100.58179474]))
train/val Accuracy = 0.714516540522 / 0.712163473199 
 with threshold: [[ 0.84616423]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.935274
||Xanchor-Xpos||_2  counter: 
[  45  118  230  407  550  834 1104 1338 1641 1880 2222 2460 2661 2702 2410
 1800  896  203   17    0]
||Xanchor-Xneg||_2  counter: 
[  11   39   71  114  157  190  212  330  387  513  761  974 1554 2379 3586
 4745 4541 2429  508   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18759708  0.23822653  0.28885597  0.33948542  0.39011487  0.44074431
  0.49137376  0.54200321  0.59263265  0.6432621   0.69389155  0.74452099
  0.79515044  0.84577989  0.89640933  0.94703878  0.99766823  1.04829767
  1.09892712  1.14955657  1.20018601]
distance difference  counter: 
(array([  18,   70,  224,  473,  792, 1298, 1834, 2354, 2803, 3154, 3409,
       3561, 2199,  849,  277,  104,   58,   28,    7,    6]), array([  98.77429199,   98.87715149,   98.98001099,   99.08287048,
         99.18572998,   99.28858948,   99.39144897,   99.49430847,
         99.59716797,   99.70002747,   99.80288696,   99.90574646,
        100.00860596,  100.11146545,  100.21432495,  100.31718445,
        100.42004395,  100.52290344,  100.62576294,  100.72862244,
        100.83148193]))
||Xanchor-Xpos||_2  counter: 
[   8   12   38   61  100  141  228  324  413  560  639  766  984 1052  971
  963  635  273   75    3]
||Xanchor-Xneg||_2  counter: 
[   1    1    2    0    9    9   27   34   58   87  143  226  413  636  983
 1353 1782 1563  797  122]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26483804  0.30470866  0.34457927  0.38444989  0.42432051  0.46419112
  0.50406174  0.54393236  0.58380297  0.62367359  0.66354421  0.70341482
  0.74328544  0.78315606  0.82302667  0.86289729  0.90276791  0.94263853
  0.98250914  1.02237976  1.06225038]
distance difference  counter: 
(array([   5,   29,   55,  125,  224,  398,  542,  729,  838, 1057, 1219,
       1162,  978,  534,  244,   65,   24,   16,    1,    1]), array([  99.04344177,   99.12019768,   99.19695358,   99.27370949,
         99.35046539,   99.4272213 ,   99.5039772 ,   99.58073311,
         99.65748901,   99.73424492,   99.81100082,   99.88775673,
         99.96451263,  100.04126854,  100.11802444,  100.19478035,
        100.27153625,  100.34829216,  100.42504807,  100.50180397,
        100.57855988]))
train/val Accuracy = 0.715643337018 / 0.725078826098 
 with threshold: [[ 0.84337536]]
============ epoch 1 ===========
training loss:		1.788794
||Xanchor-Xpos||_2  counter: 
[  23   76  199  344  512  703 1026 1197 1513 1736 2118 2273 2560 2645 2592
 2131 1314  460   93    3]
||Xanchor-Xneg||_2  counter: 
[   6   32   54   97  139  194  202  282  360  431  636  863 1237 1977 2934
 4187 4874 3495 1338  180]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15812771  0.20350123  0.24887474  0.29424826  0.33962177  0.38499529
  0.4303688   0.47574232  0.52111583  0.56648935  0.61186286  0.65723638
  0.70260989  0.74798341  0.79335692  0.83873044  0.88410395  0.92947747
  0.97485098  1.0202245   1.06559801]
distance difference  counter: 
(array([  24,   95,  253,  612, 1086, 1603, 2188, 2759, 3136, 3451, 3833,
       2887, 1037,  330,  116,   68,   21,   12,    3,    4]), array([  98.99729919,   99.08704987,   99.17680054,   99.26655121,
         99.35630188,   99.44605255,   99.53580322,   99.62555389,
         99.71530457,   99.80505524,   99.89480591,   99.98455658,
        100.07430725,  100.16405792,  100.25380859,  100.34355927,
        100.43330994,  100.52306061,  100.61281128,  100.70256195,
        100.79231262]))
||Xanchor-Xpos||_2  counter: 
[   6   10   21   49   97  141  214  293  416  521  621  802 1018 1064 1045
  932  643  287   61    5]
||Xanchor-Xneg||_2  counter: 
[   0    0    1    1    4    8   20   29   61   88  147  237  398  606  957
 1449 1851 1547  743   99]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22493897  0.26213744  0.2993359   0.33653437  0.37373283  0.41093129
  0.44812976  0.48532822  0.52252668  0.55972515  0.59692361  0.63412208
  0.67132054  0.708519    0.74571747  0.78291593  0.8201144   0.85731286
  0.89451132  0.93170979  0.96890825]
distance difference  counter: 
(array([   9,   37,   89,  183,  337,  486,  699,  861, 1051, 1253, 1261,
       1062,  591,  214,   78,   23,    9,    1,    1,    1]), array([  99.22743225,   99.29441376,   99.36139526,   99.42837677,
         99.49535828,   99.56233978,   99.62932129,   99.6963028 ,
         99.7632843 ,   99.83026581,   99.89724731,   99.96422882,
        100.03121033,  100.09819183,  100.16517334,  100.23215485,
        100.29913635,  100.36611786,  100.43309937,  100.50008087,
        100.56706238]))
train/val Accuracy = 0.714920486436 / 0.730899830221 
 with threshold: [[ 0.7661812]]
============ epoch 2 ===========
training loss:		1.667968
||Xanchor-Xpos||_2  counter: 
[  24   99  193  363  530  783 1060 1240 1515 1820 2077 2345 2567 2748 2490
 2089 1190  351   34    0]
||Xanchor-Xneg||_2  counter: 
[   1   38   63   98  136  201  219  268  374  449  668  941 1356 2075 3144
 4341 4816 3174 1072   84]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.14411391  0.18573377  0.22735363  0.26897349  0.31059335  0.35221322
  0.39383308  0.43545294  0.4770728   0.51869266  0.56031252  0.60193238
  0.64355224  0.6851721   0.72679196  0.76841182  0.81003168  0.85165154
  0.8932714   0.93489126  0.97651112]
distance difference  counter: 
(array([  31,  117,  274,  604, 1006, 1458, 2036, 2571, 2906, 3259, 3561,
       3364, 1501,  503,  175,   82,   42,   13,   10,    5]), array([  99.17990875,   99.25120697,   99.32250519,   99.39380341,
         99.46510162,   99.53639984,   99.60769806,   99.67899628,
         99.75029449,   99.82159271,   99.89289093,   99.96418915,
        100.03548737,  100.10678558,  100.1780838 ,  100.24938202,
        100.32068024,  100.39197845,  100.46327667,  100.53457489,
        100.60587311]))
||Xanchor-Xpos||_2  counter: 
[  10   12   32   55  116  141  227  329  431  585  633  764  985 1039 1020
  904  625  275   61    2]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    2    5   11   22   38   53   83  154  255  424  626  979
 1423 1787 1549  726  107]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.21544816  0.24864069  0.28183323  0.31502576  0.3482183   0.38141083
  0.41460337  0.4477959   0.48098844  0.51418098  0.54737351  0.58056605
  0.61375858  0.64695112  0.68014365  0.71333619  0.74652872  0.77972126
  0.81291379  0.84610633  0.87929887]
distance difference  counter: 
(array([   6,   27,   63,  139,  229,  391,  534,  707,  870, 1035, 1166,
       1208,  986,  525,  243,   81,   23,   10,    2,    1]), array([  99.35164642,   99.40352249,   99.45539856,   99.50727463,
         99.5591507 ,   99.61102676,   99.66290283,   99.7147789 ,
         99.76665497,   99.81853104,   99.8704071 ,   99.92228317,
         99.97415924,  100.02603531,  100.07791138,  100.12978745,
        100.18166351,  100.23353958,  100.28541565,  100.33729172,
        100.38916779]))
train/val Accuracy = 0.71379368994 / 0.727504244482 
 with threshold: [[ 0.69578963]]
============ epoch 3 ===========
training loss:		1.568303
||Xanchor-Xpos||_2  counter: 
[  20  106  197  383  584  774 1032 1294 1627 1921 2175 2416 2659 2638 2571
 1879 1002  215   25    0]
||Xanchor-Xneg||_2  counter: 
[   8   29   69   96  162  176  241  279  400  479  738  993 1468 2287 3437
 4661 4622 2675  667   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.13169803  0.17001433  0.20833063  0.24664693  0.28496323  0.32327953
  0.36159583  0.39991213  0.43822843  0.47654473  0.51486102  0.55317732
  0.59149362  0.62980992  0.66812622  0.70644252  0.74475882  0.78307512
  0.82139142  0.85970772  0.89802402]
distance difference  counter: 
(array([  23,   96,  268,  574,  963, 1527, 2002, 2639, 3068, 3351, 3605,
       3282, 1400,  439,  165,   70,   26,   14,    3,    3]), array([  99.31606293,   99.37593842,   99.4358139 ,   99.49568939,
         99.55556488,   99.61544037,   99.67531586,   99.73519135,
         99.79506683,   99.85494232,   99.91481781,   99.9746933 ,
        100.03456879,  100.09444427,  100.15431976,  100.21419525,
        100.27407074,  100.33394623,  100.39382172,  100.4536972 ,
        100.51357269]))
||Xanchor-Xpos||_2  counter: 
[   8   12   41   52  103  150  222  340  391  526  640  759 1022 1001 1034
  956  638  273   72    6]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    0    5   13   23   31   52   96  159  247  381  626  964
 1378 1769 1599  778  123]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19568889  0.22571947  0.25575005  0.28578063  0.3158112   0.34584178
  0.37587236  0.40590294  0.43593352  0.4659641   0.49599468  0.52602526
  0.55605584  0.58608642  0.616117    0.64614758  0.67617815  0.70620873
  0.73623931  0.76626989  0.79630047]
distance difference  counter: 
(array([   8,   23,   59,  110,  217,  353,  504,  643,  825,  985, 1063,
       1186, 1054,  693,  325,  124,   49,   18,    5,    2]), array([  99.46477509,   99.5064537 ,   99.54813232,   99.58981094,
         99.63148956,   99.67316818,   99.7148468 ,   99.75652542,
         99.79820404,   99.83988266,   99.88156128,   99.9232399 ,
         99.96491852,  100.00659714,  100.04827576,  100.08995438,
        100.131633  ,  100.17331161,  100.21499023,  100.25666885,
        100.29834747]))
train/val Accuracy = 0.71532443235 / 0.726048993451 
 with threshold: [[ 0.63224197]]
============ epoch 4 ===========
training loss:		1.486093
||Xanchor-Xpos||_2  counter: 
[  37  123  215  391  569  805 1085 1307 1580 1816 2156 2362 2579 2615 2484
 1943 1076  341   34    0]
||Xanchor-Xneg||_2  counter: 
[   9   35   69  116  158  185  208  295  388  462  716  998 1380 2139 3204
 4427 4651 3007  987   83]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.12846184  0.16240087  0.19633991  0.23027894  0.26421797  0.29815701
  0.33209604  0.36603507  0.39997411  0.43391314  0.46785218  0.50179121
  0.53573024  0.56966928  0.60360831  0.63754734  0.67148638  0.70542541
  0.73936445  0.77330348  0.80724251]
distance difference  counter: 
(array([  23,   91,  259,  547,  941, 1445, 1924, 2527, 2994, 3334, 3476,
       3504, 1580,  541,  177,   76,   47,   22,    7,    3]), array([  99.43229675,   99.48136597,   99.53043518,   99.57950439,
         99.62857361,   99.67764282,   99.72671204,   99.77578125,
         99.82485046,   99.87391968,   99.92298889,   99.97205811,
        100.02112732,  100.07019653,  100.11926575,  100.16833496,
        100.21740417,  100.26647339,  100.3155426 ,  100.36461182,
        100.41368103]))
||Xanchor-Xpos||_2  counter: 
[   3   17   34   64   94  148  251  279  416  543  627  779  965 1001 1039
  947  648  295   88    8]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    1    6   13   23   30   48   99  145  230  420  611  940
 1310 1731 1631  844  162]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17811839  0.20527003  0.23242166  0.25957329  0.28672493  0.31387656
  0.34102819  0.36817982  0.39533146  0.42248309  0.44963472  0.47678636
  0.50393799  0.53108962  0.55824126  0.58539289  0.61254452  0.63969615
  0.66684779  0.69399942  0.72115105]
distance difference  counter: 
(array([   8,   35,   73,  153,  246,  436,  622,  753,  910, 1076, 1266,
       1174,  841,  404,  169,   50,   23,    3,    3,    1]), array([  99.56299591,   99.59901047,   99.63502502,   99.67103958,
         99.70705414,   99.7430687 ,   99.77908325,   99.81509781,
         99.85111237,   99.88712692,   99.92314148,   99.95915604,
         99.99517059,  100.03118515,  100.06719971,  100.10321426,
        100.13922882,  100.17524338,  100.21125793,  100.24727249,
        100.28328705]))
train/val Accuracy = 0.715579556085 / 0.723381033228 
 with threshold: [[ 0.5741531]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357, 0.72291015832831729]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.087207
||Xanchor-Xpos||_2  counter: 
[  22   93  191  346  491  684  924 1118 1422 1601 1879 2175 2329 2477 2664
 2388 1753  818  136    7]
||Xanchor-Xneg||_2  counter: 
[   7   33   55   95  138  177  191  239  330  397  552  744 1069 1511 2179
 3468 4489 4699 2813  331]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.1951752   0.24472833  0.29428145  0.34383457  0.3933877   0.44294082
  0.49249395  0.54204707  0.5916002   0.64115332  0.69070645  0.74025957
  0.7898127   0.83936582  0.88891895  0.93847207  0.98802519  1.03757832
  1.08713144  1.13668457  1.18623769]
distance difference  counter: 
(array([  64,  203,  425,  766, 1179, 1729, 2168, 2611, 3002, 3152, 3476,
       2838, 1215,  413,  150,   64,   33,   19,    7,    4]), array([  98.78211212,   98.89014778,   98.99818344,   99.1062191 ,
         99.21425476,   99.32229042,   99.43032608,   99.53836174,
         99.6463974 ,   99.75443306,   99.86246872,   99.97050438,
        100.07854004,  100.1865757 ,  100.29461136,  100.40264702,
        100.51068268,  100.61871834,  100.726754  ,  100.83478966,
        100.94282532]))
||Xanchor-Xpos||_2  counter: 
[   3   10   31   46   94  155  224  333  454  538  714  854 1014 1093 1059
  883  521  186   34    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    1    7   13   19   45   58   88  163  259  462  727 1055
 1605 1946 1306  448   42]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27195281  0.31745466  0.36295652  0.40845837  0.45396023  0.49946208
  0.54496394  0.59046579  0.63596765  0.6814695   0.72697136  0.77247321
  0.81797507  0.86347692  0.90897878  0.95448063  0.99998249  1.04548434
  1.0909862   1.13648805  1.18198991]
distance difference  counter: 
(array([   2,   16,   48,  126,  229,  381,  598,  745,  910, 1163, 1287,
       1211,  854,  432,  152,   63,   23,    4,    1,    1]), array([  98.81641388,   98.91363068,   99.01084747,   99.10806427,
         99.20528107,   99.30249786,   99.39971466,   99.49693146,
         99.59414825,   99.69136505,   99.78858185,   99.88579865,
         99.98301544,  100.08023224,  100.17744904,  100.27466583,
        100.37188263,  100.46909943,  100.56631622,  100.66353302,
        100.76074982]))
train/val Accuracy = 0.71413385492 / 0.71198156682 
 with threshold: [[ 0.8797316]]
============ epoch 1 ===========
training loss:		0.087037
||Xanchor-Xpos||_2  counter: 
[  15   73  189  333  502  683  883 1181 1410 1749 1900 2245 2475 2551 2713
 2400 1585  568   61    2]
||Xanchor-Xneg||_2  counter: 
[   3   27   50   83  136  182  187  261  326  426  593  814 1114 1594 2511
 3704 4767 4373 2102  265]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17815962  0.22911772  0.28007582  0.33103391  0.38199201  0.4329501
  0.4839082   0.53486629  0.58582439  0.63678248  0.68774058  0.73869867
  0.78965677  0.84061487  0.89157296  0.94253106  0.99348915  1.04444725
  1.09540534  1.14636344  1.19732153]
distance difference  counter: 
(array([  29,  104,  289,  531,  900, 1428, 1903, 2384, 2795, 3111, 3370,
       3429, 2038,  763,  245,  105,   54,   23,   11,    6]), array([  98.70565796,   98.81510544,   98.92455292,   99.0340004 ,
         99.14344788,   99.25289536,   99.36234283,   99.47179031,
         99.58123779,   99.69068527,   99.80013275,   99.90958023,
        100.01902771,  100.12847519,  100.23792267,  100.34737015,
        100.45681763,  100.56626511,  100.67571259,  100.78516006,
        100.89460754]))
||Xanchor-Xpos||_2  counter: 
[  10   10   42   67  102  154  244  333  441  556  694  786  963 1105  991
  886  594  209   56    3]
||Xanchor-Xneg||_2  counter: 
[   0    0    2    2    6   12   24   42   53   93  157  271  439  682 1023
 1411 1836 1466  619  108]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2895723   0.33308237  0.37659245  0.42010253  0.4636126   0.50712268
  0.55063276  0.59414283  0.63765291  0.68116299  0.72467306  0.76818314
  0.81169322  0.85520329  0.89871337  0.94222344  0.98573352  1.0292436
  1.07275367  1.11626375  1.15977383]
distance difference  counter: 
(array([   7,   33,   53,  115,  192,  306,  431,  575,  747,  861,  990,
       1156, 1032,  836,  518,  221,  112,   44,   11,    6]), array([  98.89339447,   98.97574463,   99.05809479,   99.14044495,
         99.2227951 ,   99.30514526,   99.38749542,   99.46984558,
         99.55219574,   99.6345459 ,   99.71689606,   99.79924622,
         99.88159637,   99.96394653,  100.04629669,  100.12864685,
        100.21099701,  100.29334717,  100.37569733,  100.45804749,
        100.54039764]))
train/val Accuracy = 0.715983501998 / 0.712951734174 
 with threshold: [[ 0.8748756]]
============ epoch 2 ===========
training loss:		0.086869
||Xanchor-Xpos||_2  counter: 
[  30  114  218  399  592  767 1057 1341 1573 1933 2122 2365 2575 2753 2599
 1913  982  176    9    0]
||Xanchor-Xneg||_2  counter: 
[   9   38   57  104  154  188  235  273  370  501  701  933 1387 2080 3129
 4501 4648 3080 1013  116]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19182026  0.24341495  0.29500964  0.34660432  0.39819901  0.4497937
  0.50138838  0.55298307  0.60457776  0.65617244  0.70776713  0.75936182
  0.8109565   0.86255119  0.91414587  0.96574056  1.01733525  1.06892993
  1.12052462  1.17211931  1.22371399]
distance difference  counter: 
(array([  14,   63,  180,  365,  724, 1250, 1773, 2372, 2926, 3293, 3454,
       3693, 2253,  759,  229,   87,   47,   23,    9,    4]), array([  98.61129761,   98.72782288,   98.84434814,   98.96087341,
         99.07739868,   99.19392395,   99.31044922,   99.42697449,
         99.54349976,   99.66002502,   99.77655029,   99.89307556,
        100.00960083,  100.1261261 ,  100.24265137,  100.35917664,
        100.4757019 ,  100.59222717,  100.70875244,  100.82527771,
        100.94180298]))
||Xanchor-Xpos||_2  counter: 
[  10   18   26   81  119  167  278  366  503  626  720  927 1060 1096 1055
  726  348  108   12    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    5    8   17   26   40   75  128  196  337  568  827 1238
 1786 1764  952  259   19]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2862049   0.33097832  0.37575174  0.42052516  0.46529858  0.510072
  0.55484542  0.59961884  0.64439226  0.68916568  0.7339391   0.77871252
  0.82348593  0.86825935  0.91303277  0.95780619  1.00257961  1.04735303
  1.09212645  1.13689987  1.18167329]
distance difference  counter: 
(array([   3,   37,   58,  161,  208,  435,  606,  756,  936, 1187, 1237,
       1146,  818,  426,  142,   60,   19,    8,    2,    1]), array([  98.88199615,   98.97422295,   99.06644974,   99.15867653,
         99.25090332,   99.34313011,   99.4353569 ,   99.52758369,
         99.61981049,   99.71203728,   99.80426407,   99.89649086,
         99.98871765,  100.08094444,  100.17317123,  100.26539803,
        100.35762482,  100.44985161,  100.5420784 ,  100.63430519,
        100.72653198]))
train/val Accuracy = 0.717769368144 / 0.71367935969 
 with threshold: [[ 0.86984124]]
============ epoch 3 ===========
training loss:		0.086706
||Xanchor-Xpos||_2  counter: 
[  20   95  207  378  568  853 1145 1376 1707 1949 2271 2671 2829 2802 2524
 1538  529   50    6    0]
||Xanchor-Xneg||_2  counter: 
[   4   33   64  102  154  200  224  321  397  548  774 1073 1711 2530 3756
 4876 4239 1876  537   99]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17593138  0.22966511  0.28339884  0.33713256  0.39086629  0.44460002
  0.49833375  0.55206748  0.6058012   0.65953493  0.71326866  0.76700239
  0.82073612  0.87446984  0.92820357  0.9819373   1.03567103  1.08940476
  1.14313848  1.19687221  1.25060594]
distance difference  counter: 
(array([  20,   64,  143,  317,  617, 1126, 1684, 2335, 2918, 3382, 3535,
       3811, 2391,  799,  214,   89,   44,   21,    6,    2]), array([  98.56183624,   98.68219528,   98.80255432,   98.92291336,
         99.0432724 ,   99.16363144,   99.28399048,   99.40434952,
         99.52470856,   99.6450676 ,   99.76542664,   99.88578568,
        100.00614471,  100.12650375,  100.24686279,  100.36722183,
        100.48758087,  100.60793991,  100.72829895,  100.84865799,
        100.96901703]))
||Xanchor-Xpos||_2  counter: 
[   9   15   50   72  116  190  283  368  542  649  827  997 1088 1125  955
  663  247   48    2    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    2   10   17   30   49   80  129  220  365  662  959 1487
 1886 1523  689  129    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.27595922  0.32185824  0.36775726  0.41365627  0.45955529  0.50545431
  0.55135333  0.59725234  0.64315136  0.68905038  0.7349494   0.78084841
  0.82674743  0.87264645  0.91854546  0.96444448  1.0103435   1.05624252
  1.10214153  1.14804055  1.19393957]
distance difference  counter: 
(array([   2,   10,   45,   89,  184,  316,  482,  656,  870, 1008, 1210,
       1283, 1058,  644,  256,   86,   34,   10,    2,    1]), array([  98.83060455,   98.9227253 ,   99.01484604,   99.10696678,
         99.19908752,   99.29120827,   99.38332901,   99.47544975,
         99.5675705 ,   99.65969124,   99.75181198,   99.84393272,
         99.93605347,  100.02817421,  100.12029495,  100.2124157 ,
        100.30453644,  100.39665718,  100.48877792,  100.58089867,
        100.67301941]))
train/val Accuracy = 0.720108002381 / 0.71671113267 
 with threshold: [[ 0.8653864]]
============ epoch 4 ===========
training loss:		0.086545
||Xanchor-Xpos||_2  counter: 
[  27  116  225  433  614  901 1199 1556 1893 2133 2494 2845 2948 2833 2132
  967  178   22    2    0]
||Xanchor-Xneg||_2  counter: 
[   6   33   64  122  171  206  263  359  467  609  843 1412 1980 3116 4585
 4826 2957 1024  370  105]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.17434271  0.22959935  0.28485599  0.34011264  0.39536928  0.45062592
  0.50588257  0.56113921  0.61639585  0.6716525   0.72690914  0.78216578
  0.83742242  0.89267907  0.94793571  1.00319235  1.058449    1.11370564
  1.16896228  1.22421893  1.27947557]
distance difference  counter: 
(array([  13,   61,  121,  226,  454,  891, 1532, 2170, 2905, 3419, 3598,
       3932, 2845,  922,  270,   83,   55,   13,    6,    2]), array([  98.4794693 ,   98.60494232,   98.73041534,   98.85588837,
         98.98136139,   99.10683441,   99.23230743,   99.35778046,
         99.48325348,   99.6087265 ,   99.73419952,   99.85967255,
         99.98514557,  100.11061859,  100.23609161,  100.36156464,
        100.48703766,  100.61251068,  100.7379837 ,  100.86345673,
        100.98892975]))
||Xanchor-Xpos||_2  counter: 
[   6   13   37   63  127  205  277  417  516  676  897 1074 1119 1133  957
  543  162   22    2    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1   10   18   31   53   84  142  236  435  699 1094 1705
 1956 1271  428   78    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26302949  0.31012202  0.35721456  0.4043071   0.45139964  0.49849217
  0.54558471  0.59267725  0.63976979  0.68686232  0.73395486  0.7810474
  0.82813994  0.87523247  0.92232501  0.96941755  1.01651009  1.06360262
  1.11069516  1.1577877   1.20488024]
distance difference  counter: 
(array([   2,   25,   45,   88,  182,  311,  444,  560,  746,  892, 1058,
       1125, 1130,  847,  481,  197,   67,   34,   10,    2]), array([  98.8996048 ,   98.98210907,   99.06461334,   99.14711761,
         99.22962189,   99.31212616,   99.39463043,   99.4771347 ,
         99.55963898,   99.64214325,   99.72464752,   99.80715179,
         99.88965607,   99.97216034,  100.05466461,  100.13716888,
        100.21967316,  100.30217743,  100.3846817 ,  100.46718597,
        100.54969025]))
train/val Accuracy = 0.721213538566 / 0.71998544749 
 with threshold: [[ 0.86046551]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357, 0.72291015832831729, 0.72059949302794823]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.254526
||Xanchor-Xpos||_2  counter: 
[  27  106  224  354  528  723 1018 1227 1480 1799 2035 2242 2486 2681 2568
 2165 1301  474   76    4]
||Xanchor-Xneg||_2  counter: 
[  12   32   54  114  142  184  226  259  356  442  628  858 1241 1890 2924
 4112 4917 3625 1359  143]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18324666  0.23253938  0.2818321   0.33112483  0.38041755  0.42971027
  0.479003    0.52829572  0.57758844  0.62688117  0.67617389  0.72546661
  0.77475933  0.82405206  0.87334478  0.9226375   0.97193023  1.02122295
  1.07051567  1.1198084   1.16910112]
distance difference  counter: 
(array([  17,  111,  250,  542,  993, 1460, 2055, 2548, 2982, 3344, 3568,
       3355, 1478,  514,  164,   68,   45,   12,   10,    2]), array([  98.79298401,   98.8979805 ,   99.00297699,   99.10797348,
         99.21296997,   99.31796646,   99.42296295,   99.52795944,
         99.63295593,   99.73795242,   99.84294891,   99.9479454 ,
        100.05294189,  100.15793839,  100.26293488,  100.36793137,
        100.47292786,  100.57792435,  100.68292084,  100.78791733,
        100.89291382]))
||Xanchor-Xpos||_2  counter: 
[   9   12   40   76  115  146  253  367  444  571  706  831  963 1076 1012
  882  546  170   27    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    2    2    9   16   18   47   59  107  178  261  482  742 1084
 1513 1878 1340  448   59]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.26856884  0.30916993  0.34977102  0.39037211  0.4309732   0.47157428
  0.51217537  0.55277646  0.59337755  0.63397864  0.67457972  0.71518081
  0.7557819   0.79638299  0.83698408  0.87758517  0.91818625  0.95878734
  0.99938843  1.03998952  1.08059061]
distance difference  counter: 
(array([   1,   17,   63,  101,  230,  376,  586,  767,  944, 1137, 1255,
       1243,  868,  419,  166,   55,   13,    4,    0,    1]), array([  99.0078125 ,   99.08936577,   99.17091904,   99.25247231,
         99.33402557,   99.41557884,   99.49713211,   99.57868538,
         99.66023865,   99.74179192,   99.82334518,   99.90489845,
         99.98645172,  100.06800499,  100.14955826,  100.23111153,
        100.31266479,  100.39421806,  100.47577133,  100.5573246 ,
        100.63887787]))
train/val Accuracy = 0.715175610171 / 0.72465437788 
 with threshold: [[ 0.84350007]]
============ epoch 1 ===========
training loss:		0.239941
||Xanchor-Xpos||_2  counter: 
[  28  119  233  393  560  733 1019 1279 1610 1867 2119 2379 2641 2678 2518
 1926 1043  337   35    1]
||Xanchor-Xneg||_2  counter: 
[  12   34   61  114  158  177  214  298  411  476  667  924 1390 2165 3186
 4542 4591 2949 1030  119]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.168947    0.2145438   0.26014061  0.30573742  0.35133423  0.39693103
  0.44252784  0.48812465  0.53372146  0.57931826  0.62491507  0.67051188
  0.71610869  0.76170549  0.8073023   0.85289911  0.89849592  0.94409272
  0.98968953  1.03528634  1.08088315]
distance difference  counter: 
(array([  16,   83,  222,  480,  948, 1541, 2193, 2767, 3243, 3621, 3947,
       2966,  988,  307,  106,   47,   29,    8,    4,    2]), array([  98.93984985,   99.03476486,   99.12967987,   99.22459488,
         99.31950989,   99.4144249 ,   99.5093399 ,   99.60425491,
         99.69916992,   99.79408493,   99.88899994,   99.98391495,
        100.07882996,  100.17374496,  100.26865997,  100.36357498,
        100.45848999,  100.553405  ,  100.64832001,  100.74323502,
        100.83815002]))
||Xanchor-Xpos||_2  counter: 
[   6   22   44   67  114  178  287  366  457  608  719  910 1059 1119  988
  777  391  124   10    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    2    3   13   11   21   37   67  131  170  324  532  825 1231
 1728 1765 1103  256   26]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24434271  0.28197512  0.31960752  0.35723993  0.39487233  0.43250474
  0.47013714  0.50776954  0.54540195  0.58303435  0.62066676  0.65829916
  0.69593157  0.73356397  0.77119637  0.80882878  0.84646118  0.88409359
  0.92172599  0.9593584   0.9969908 ]
distance difference  counter: 
(array([  12,   35,   83,  179,  288,  515,  718,  932, 1073, 1237, 1307,
       1011,  553,  214,   60,   18,    8,    2,    0,    1]), array([  99.2117691 ,   99.28031425,   99.34885941,   99.41740456,
         99.48594971,   99.55449486,   99.62304001,   99.69158516,
         99.76013031,   99.82867546,   99.89722061,   99.96576576,
        100.03431091,  100.10285606,  100.17140121,  100.23994637,
        100.30849152,  100.37703667,  100.44558182,  100.51412697,
        100.58267212]))
train/val Accuracy = 0.716259886045 / 0.730596652923 
 with threshold: [[ 0.76915729]]
============ epoch 2 ===========
training loss:		0.227906
||Xanchor-Xpos||_2  counter: 
[  32  134  251  462  618  873 1156 1463 1715 2080 2353 2554 2801 2700 2373
 1385  479   81    7    1]
||Xanchor-Xneg||_2  counter: 
[  10   39   75  116  187  193  218  349  439  564  786 1226 1833 2760 4092
 4891 3655 1635  406   44]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15309532  0.19649487  0.23989442  0.28329397  0.32669352  0.37009307
  0.41349262  0.45689218  0.50029173  0.54369128  0.58709083  0.63049038
  0.67388993  0.71728948  0.76068903  0.80408858  0.84748813  0.89088768
  0.93428723  0.97768678  1.02108634]
distance difference  counter: 
(array([  15,   60,  136,  366,  703, 1219, 1807, 2567, 3056, 3579, 3888,
       3771, 1611,  483,  144,   72,   23,   13,    4,    1]), array([  99.0588913 ,   99.14007072,   99.22125015,   99.30242958,
         99.38360901,   99.46478844,   99.54596786,   99.62714729,
         99.70832672,   99.78950615,   99.87068558,   99.95186501,
        100.03304443,  100.11422386,  100.19540329,  100.27658272,
        100.35776215,  100.43894157,  100.520121  ,  100.60130043,
        100.68247986]))
||Xanchor-Xpos||_2  counter: 
[   6    9   30   63  103  167  272  388  462  604  754  913 1079 1152 1014
  755  373   95    7    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    3    6   15   24   41   70  105  206  321  550  876 1281
 1796 1753  964  211   22]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.20761609  0.24297515  0.2783342   0.31369326  0.34905231  0.38441136
  0.41977042  0.45512947  0.49048853  0.52584758  0.56120664  0.59656569
  0.63192475  0.6672838   0.70264286  0.73800191  0.77336097  0.80872002
  0.84407908  0.87943813  0.91479719]
distance difference  counter: 
(array([  11,   26,   79,  178,  283,  457,  658,  772, 1040, 1125, 1238,
       1110,  776,  310,  127,   38,   12,    3,    0,    3]), array([  99.34934998,   99.40397644,   99.45860291,   99.51322937,
         99.56785583,   99.6224823 ,   99.67710876,   99.73173523,
         99.78636169,   99.84098816,   99.89561462,   99.95024109,
        100.00486755,  100.05949402,  100.11412048,  100.16874695,
        100.22337341,  100.27799988,  100.33262634,  100.38725281,
        100.44187927]))
train/val Accuracy = 0.715685857641 / 0.730717923842 
 with threshold: [[ 0.7014235]]
============ epoch 3 ===========
training loss:		0.217976
||Xanchor-Xpos||_2  counter: 
[  22  107  245  430  661  933 1235 1535 1892 2239 2586 2818 2898 2791 1987
  907  207   24    1    0]
||Xanchor-Xneg||_2  counter: 
[   5   31   68  122  182  206  251  375  464  665  928 1370 2240 3484 4857
 4602 2551  829  252   36]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.12656009  0.16830659  0.21005308  0.25179957  0.29354607  0.33529256
  0.37703906  0.41878555  0.46053205  0.50227854  0.54402503  0.58577153
  0.62751802  0.66926452  0.71101101  0.7527575   0.794504    0.83625049
  0.87799699  0.91974348  0.96148998]
distance difference  counter: 
(array([  16,   73,  119,  260,  508,  952, 1578, 2214, 2708, 3400, 3633,
       3921, 2753,  930,  262,  104,   51,   26,    6,    4]), array([  99.18965149,   99.25647621,   99.32330093,   99.39012566,
         99.45695038,   99.5237751 ,   99.59059982,   99.65742455,
         99.72424927,   99.79107399,   99.85789871,   99.92472343,
         99.99154816,  100.05837288,  100.1251976 ,  100.19202232,
        100.25884705,  100.32567177,  100.39249649,  100.45932121,
        100.52614594]))
||Xanchor-Xpos||_2  counter: 
[  12   18   39   79  135  193  331  385  513  701  816 1076 1152 1094  917
  570  183   31    1    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    2    9   17   32   51   98  141  246  440  663 1096 1641
 1879 1405  445   78    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19876041  0.23146757  0.26417474  0.2968819   0.32958907  0.36229623
  0.3950034   0.42771057  0.46041773  0.4931249   0.52583206  0.55853923
  0.5912464   0.62395356  0.65666073  0.68936789  0.72207506  0.75478223
  0.78748939  0.82019656  0.85290372]
distance difference  counter: 
(array([  21,   43,  108,  200,  360,  579,  680,  917, 1114, 1246, 1179,
        980,  535,  174,   81,   16,   10,    1,    0,    2]), array([  99.47333527,   99.51950455,   99.56567383,   99.61184311,
         99.65801239,   99.70418167,   99.75035095,   99.79652023,
         99.84268951,   99.8888588 ,   99.93502808,   99.98119736,
        100.02736664,  100.07353592,  100.1197052 ,  100.16587448,
        100.21204376,  100.25821304,  100.30438232,  100.35055161,
        100.39672089]))
train/val Accuracy = 0.720341865805 / 0.733385884065 
 with threshold: [[ 0.63980653]]
============ epoch 4 ===========
training loss:		0.209784
||Xanchor-Xpos||_2  counter: 
[  35  131  316  525  726 1020 1291 1638 1999 2403 2608 2926 2938 2522 1679
  616  124   17    4    0]
||Xanchor-Xneg||_2  counter: 
[  12   46   79  135  180  242  279  398  500  766 1027 1644 2458 3955 4871
 4030 1879  641  293   83]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.12589215  0.16400005  0.20210796  0.24021586  0.27832377  0.31643168
  0.35453958  0.39264749  0.43075539  0.4688633   0.5069712   0.54507911
  0.58318701  0.62129492  0.65940282  0.69751073  0.73561864  0.77372654
  0.81183445  0.84994235  0.88805026]
distance difference  counter: 
(array([  30,   58,  133,  251,  507, 1048, 1903, 2690, 3364, 3951, 4405,
       3628, 1121,  272,   94,   43,   14,    5,    0,    1]), array([  99.27519989,   99.33918533,   99.40317078,   99.46715622,
         99.53114166,   99.59512711,   99.65911255,   99.72309799,
         99.78708344,   99.85106888,   99.91505432,   99.97903976,
        100.04302521,  100.10701065,  100.17099609,  100.23498154,
        100.29896698,  100.36295242,  100.42693787,  100.49092331,
        100.55490875]))
||Xanchor-Xpos||_2  counter: 
[  11   18   60   64  139  195  309  403  541  685  813  988 1138 1072  982
  576  208   40    4    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    3   13   15   28   58   88  154  234  431  680 1021 1531
 1865 1474  515  120   14]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.18413042  0.21350187  0.24287333  0.27224478  0.30161624  0.3309877
  0.36035915  0.38973061  0.41910206  0.44847352  0.47784498  0.50721643
  0.53658789  0.56595934  0.5953308   0.62470226  0.65407371  0.68344517
  0.71281662  0.74218808  0.77155954]
distance difference  counter: 
(array([   3,   24,   45,   92,  209,  314,  501,  634,  772,  984, 1129,
       1160, 1068,  726,  370,  128,   57,   19,    9,    2]), array([  99.53346252,   99.56947594,   99.60548935,   99.64150276,
         99.67751617,   99.71352959,   99.749543  ,   99.78555641,
         99.82156982,   99.85758324,   99.89359665,   99.92961006,
         99.96562347,  100.00163689,  100.0376503 ,  100.07366371,
        100.10967712,  100.14569054,  100.18170395,  100.21771736,
        100.25373077]))
train/val Accuracy = 0.719193808997 / 0.728231869998 
 with threshold: [[ 0.58324279]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357, 0.72291015832831729, 0.72059949302794823, 0.7268638749349583]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.522756
||Xanchor-Xpos||_2  counter: 
[  41  300  701 1369 2104 2842 2924 2563 2212 1921 1600 1371 1140  868  655
  494  246  128   39    0]
||Xanchor-Xneg||_2  counter: 
[  11   84  190  320  606 1355 2584 2748 2367 2147 1977 1777 1552 1497 1233
 1084  888  667  346   85]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.07592516  0.13066887  0.18541257  0.24015628  0.29489998  0.34964369
  0.40438739  0.4591311   0.5138748   0.56861851  0.62336221  0.67810591
  0.73284962  0.78759332  0.84233703  0.89708073  0.95182444  1.00656814
  1.06131185  1.11605555  1.17079926]
distance difference  counter: 
(array([  10,   24,   57,  111,  188,  338,  564,  909, 1423, 2438, 4585,
       7405, 4602,  628,  139,   52,   24,   12,    7,    2]), array([  98.86910248,   98.96180954,   99.0545166 ,   99.14722366,
         99.23993073,   99.33263779,   99.42534485,   99.51805191,
         99.61075897,   99.70346603,   99.7961731 ,   99.88888016,
         99.98158722,  100.07429428,  100.16700134,  100.2597084 ,
        100.35241547,  100.44512253,  100.53782959,  100.63053665,
        100.72324371]))
||Xanchor-Xpos||_2  counter: 
[   7   19   36   73  121  167  238  346  451  595  747  901  974 1082 1027
  849  438  158   14    3]
||Xanchor-Xneg||_2  counter: 
[   1    1    0    2    7   14   23   39   66  106  193  298  518  749 1151
 1667 1860 1222  299   30]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.10761739  0.12454248  0.14146757  0.15839267  0.17531776  0.19224285
  0.20916794  0.22609304  0.24301813  0.25994322  0.27686832  0.29379341
  0.3107185   0.3276436   0.34456869  0.36149378  0.37841888  0.39534397
  0.41226906  0.42919416  0.44611925]
distance difference  counter: 
(array([   3,   18,   44,  108,  219,  309,  519,  772,  811, 1018, 1242,
       1216,  999,  571,  268,   74,   41,   12,    0,    2]), array([  99.83427429,   99.84743309,   99.86059189,   99.87375069,
         99.88690948,   99.90006828,   99.91322708,   99.92638588,
         99.93954468,   99.95270348,   99.96586227,   99.97902107,
         99.99217987,  100.00533867,  100.01849747,  100.03165627,
        100.04481506,  100.05797386,  100.07113266,  100.08429146,
        100.09745026]))
train/val Accuracy = 0.601900671826 / 0.5 
 with threshold: [[ 0.57381006]]
============ epoch 1 ===========
training loss:		1.157442
||Xanchor-Xpos||_2  counter: 
[  51  282  811 1470 2308 3026 2994 2467 2129 1843 1601 1342 1041  800  622
  401  225   85   20    0]
||Xanchor-Xneg||_2  counter: 
[  18   74  208  348  731 1557 2688 2721 2475 2083 1957 1763 1554 1399 1241
 1039  824  556  238   44]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.02907614  0.0499355   0.07079485  0.0916542   0.11251356  0.13337291
  0.15423227  0.17509162  0.19595097  0.21681033  0.23766968  0.25852904
  0.27938839  0.30024775  0.3211071   0.34196645  0.36282581  0.38368516
  0.40454452  0.42540387  0.44626322]
distance difference  counter: 
(array([   1,    8,   15,   40,   70,  162,  302,  448,  663, 1184, 2009,
       3713, 6578, 6864, 1104,  242,   72,   31,    7,    5]), array([  99.81993866,   99.83322716,   99.84651566,   99.85980415,
         99.87309265,   99.88638115,   99.89966965,   99.91295815,
         99.92624664,   99.93953514,   99.95282364,   99.96611214,
         99.97940063,   99.99268913,  100.00597763,  100.01926613,
        100.03255463,  100.04584312,  100.05913162,  100.07242012,
        100.08570862]))
||Xanchor-Xpos||_2  counter: 
[   5   14   25   66  104  164  235  344  440  589  746  883  993 1102 1057
  837  472  150   16    4]
||Xanchor-Xneg||_2  counter: 
[   1    0    1    3    4   13   26   44   70   90  172  295  494  742 1141
 1650 1846 1255  363   36]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03888275  0.04524328  0.05160381  0.05796434  0.06432486  0.07068539
  0.07704592  0.08340644  0.08976697  0.0961275   0.10248802  0.10884855
  0.11520908  0.1215696   0.12793013  0.13429066  0.14065118  0.14701171
  0.15337224  0.15973276  0.16609329]
distance difference  counter: 
(array([   4,   18,   58,  112,  201,  293,  480,  631,  805,  912, 1133,
       1130, 1033,  788,  403,  148,   54,   32,    9,    2]), array([  99.97756195,   99.9792778 ,   99.98099365,   99.9827095 ,
         99.98442535,   99.9861412 ,   99.98785706,   99.98957291,
         99.99128876,   99.99300461,   99.99472046,   99.99643631,
         99.99815216,   99.99986801,  100.00158386,  100.00329971,
        100.00501556,  100.00673141,  100.00844727,  100.01016312,
        100.01187897]))
train/val Accuracy = 0.601645548091 / 0.5 
 with threshold: [[ 0.21412504]]
============ epoch 2 ===========
training loss:		1.106982
||Xanchor-Xpos||_2  counter: 
[  82  370  976 1695 2469 3095 2865 2540 2123 1745 1509 1211  979  791  543
  317  156   47    5    0]
||Xanchor-Xneg||_2  counter: 
[  23   96  251  442  787 1892 2836 2629 2358 2164 1909 1752 1503 1340 1208
 1033  709  397  158   31]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0120218   0.01992442  0.02782704  0.03572966  0.04363229  0.05153491
  0.05943753  0.06734016  0.07524278  0.0831454   0.09104803  0.09895065
  0.10685327  0.11475589  0.12265852  0.13056114  0.13846376  0.14636639
  0.15426901  0.16217163  0.17007425]
distance difference  counter: 
(array([   2,    7,   19,   38,   78,  166,  261,  484,  774, 1416, 2338,
       4576, 7602, 4963,  586,  138,   40,   23,    3,    4]), array([  99.97408295,   99.97604179,   99.97800064,   99.97995949,
         99.98191833,   99.98387718,   99.98583603,   99.98779488,
         99.98975372,   99.99171257,   99.99367142,   99.99563026,
         99.99758911,   99.99954796,  100.00150681,  100.00346565,
        100.0054245 ,  100.00738335,  100.00934219,  100.01130104,
        100.01325989]))
||Xanchor-Xpos||_2  counter: 
[   9   11   27   87  118  152  253  373  450  587  773  882 1044 1080 1033
  773  440  139   15    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    0    1    7   15   26   40   68  115  191  303  527  773 1228
 1600 1830 1156  329   36]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01478074  0.01714142  0.0195021   0.02186278  0.02422346  0.02658414
  0.02894482  0.03130549  0.03366617  0.03602685  0.03838753  0.04074821
  0.04310889  0.04546957  0.04783025  0.05019093  0.05255161  0.05491229
  0.05727297  0.05963365  0.06199433]
distance difference  counter: 
(array([   2,   10,   57,  104,  217,  330,  513,  725,  815, 1042, 1210,
       1226,  993,  596,  266,   89,   40,    8,    2,    1]), array([  99.99678802,   99.99704247,   99.99729691,   99.99755135,
         99.99780579,   99.99806023,   99.99831467,   99.99856911,
         99.99882355,   99.99907799,   99.99933243,   99.99958687,
         99.99984131,  100.00009575,  100.00035019,  100.00060463,
        100.00085907,  100.00111351,  100.00136795,  100.00162239,
        100.00187683]))
train/val Accuracy = 0.606301556255 / 0.5 
 with threshold: [[ 0.07998471]]
============ epoch 3 ===========
training loss:		1.100012
||Xanchor-Xpos||_2  counter: 
[  69  388 1007 1717 2571 3188 2948 2548 2079 1768 1485 1214  926  689  487
  293  116   24    1    0]
||Xanchor-Xneg||_2  counter: 
[  16   91  234  459  905 1966 2949 2690 2339 2083 1949 1781 1541 1427 1076
  897  653  318  116   28]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00427127  0.00729321  0.01031516  0.0133371   0.01635904  0.01938098
  0.02240292  0.02542486  0.02844681  0.03146875  0.03449069  0.03751263
  0.04053457  0.04355651  0.04657845  0.0496004   0.05262234  0.05564428
  0.05866622  0.06168816  0.0647101 ]
distance difference  counter: 
(array([   5,   11,   18,   38,   86,  145,  325,  605, 1197, 1982, 3983,
       7880, 6384,  683,  121,   33,   15,    6,    0,    1]), array([  99.99613953,   99.99645233,   99.99676514,   99.99707794,
         99.99739075,   99.99770355,   99.99801636,   99.99832916,
         99.99864197,   99.99895477,   99.99926758,   99.99958038,
         99.99989319,  100.00020599,  100.0005188 ,  100.0008316 ,
        100.00114441,  100.00145721,  100.00177002,  100.00208282,
        100.00239563]))
||Xanchor-Xpos||_2  counter: 
[  10    9   37   74  124  179  264  423  495  647  834 1004 1085 1088  985
  667  261   53    7    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    1    2    6   16   30   37   84  123  206  389  621  973 1449
 1841 1641  695  121   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00538427  0.00629701  0.00720974  0.00812247  0.00903521  0.00994794
  0.01086068  0.01177341  0.01268615  0.01359888  0.01451162  0.01542435
  0.01633709  0.01724982  0.01816256  0.01907529  0.01998803  0.02090076
  0.02181349  0.02272623  0.02363896]
distance difference  counter: 
(array([   2,   19,   38,  112,  213,  268,  570,  733,  722, 1078, 1306,
       1028, 1142,  616,  246,   98,   41,    8,    2,    4]), array([  99.99954987,   99.99958534,   99.99962082,   99.9996563 ,
         99.99969177,   99.99972725,   99.99976273,   99.9997982 ,
         99.99983368,   99.99986916,   99.99990463,   99.99994011,
         99.99997559,  100.00001106,  100.00004654,  100.00008202,
        100.00011749,  100.00015297,  100.00018845,  100.00022392,
        100.0002594 ]))
train/val Accuracy = 0.607003146526 / 0.5 
 with threshold: [[ 0.02990373]]
============ epoch 4 ===========
training loss:		1.099049
||Xanchor-Xpos||_2  counter: 
[ 107  484 1202 2054 2981 3217 2891 2359 2056 1685 1443 1065  837  609  330
  158   31    7    1    1]
||Xanchor-Xneg||_2  counter: 
[  29  133  292  485 1182 2586 2908 2644 2382 2126 1844 1699 1478 1320 1049
  739  387  156   62   17]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00173431  0.00290472  0.00407514  0.00524555  0.00641596  0.00758638
  0.00875679  0.0099272   0.01109762  0.01226803  0.01343844  0.01460886
  0.01577927  0.01694968  0.0181201   0.01929051  0.02046092  0.02163134
  0.02280175  0.02397216  0.02514258]
distance difference  counter: 
(array([   7,   13,   25,   38,   67,  155,  259,  459,  897, 1341, 2311,
       5519, 7855, 3914,  498,   92,   46,   15,    3,    4]), array([  99.99946594,   99.99950676,   99.99954758,   99.99958839,
         99.99962921,   99.99967003,   99.99971085,   99.99975166,
         99.99979248,   99.9998333 ,   99.99987411,   99.99991493,
         99.99995575,   99.99999657,  100.00003738,  100.0000782 ,
        100.00011902,  100.00015984,  100.00020065,  100.00024147,
        100.00028229]))
||Xanchor-Xpos||_2  counter: 
[   7   19   38   74  124  166  291  367  529  642  806 1017 1118 1127  972
  653  239   52    5    0]
||Xanchor-Xneg||_2  counter: 
[   1    0    0    1    7   14   29   53   80  122  224  408  614  988 1460
 1829 1565  687  151   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00200167  0.00234252  0.00268338  0.00302423  0.00336509  0.00370594
  0.0040468   0.00438765  0.0047285   0.00506936  0.00541021  0.00575107
  0.00609192  0.00643278  0.00677363  0.00711449  0.00745534  0.0077962
  0.00813705  0.0084779   0.00881876]
distance difference  counter: 
(array([   4,   56,    0,  157,    0,  407,  756,    0, 1190,    0, 1626,
       1828,    0, 1462,    0,  591,  133,    0,   33,    3]), array([  99.99993896,   99.99994354,   99.99994812,   99.9999527 ,
         99.99995728,   99.99996185,   99.99996643,   99.99997101,
         99.99997559,   99.99998016,   99.99998474,   99.99998932,
         99.9999939 ,   99.99999847,  100.00000305,  100.00000763,
        100.00001221,  100.00001678,  100.00002136,  100.00002594,
        100.00003052]))
train/val Accuracy = 0.607088187771 / 0.5 
 with threshold: [[ 0.01118202]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357, 0.72291015832831729, 0.72059949302794823, 0.7268638749349583, 0.55354409388553449]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.086519
||Xanchor-Xpos||_2  counter: 
[  27  141  334  566  877 1286 1656 2101 2507 2905 3207 3286 2700 1518  356
   40    6    4    0    1]
||Xanchor-Xneg||_2  counter: 
[   6   45   88  163  211  280  372  498  724 1108 1753 2768 4438 5563 3816
 1195  272  134   60   24]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.16986522  0.23223225  0.29459928  0.35696631  0.41933334  0.48170037
  0.5440674   0.60643443  0.66880146  0.73116849  0.79353552  0.85590255
  0.91826957  0.9806366   1.04300363  1.10537066  1.16773769  1.23010472
  1.29247175  1.35483878  1.41720581]
distance difference  counter: 
(array([  12,   21,   53,   75,  131,  363,  743, 1466, 2245, 3127, 3753,
       4165, 4475, 2144,  504,  148,   63,   21,    6,    3]), array([  98.20220947,   98.34260292,   98.48299637,   98.62338982,
         98.76378326,   98.90417671,   99.04457016,   99.18496361,
         99.32535706,   99.4657505 ,   99.60614395,   99.7465374 ,
         99.88693085,  100.0273243 ,  100.16771774,  100.30811119,
        100.44850464,  100.58889809,  100.72929153,  100.86968498,
        101.01007843]))
||Xanchor-Xpos||_2  counter: 
[   9   11   58   84  168  245  388  517  647  849 1101 1234 1218  992  564
  127   29    3    2    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    1    2   10   26   41   70  134  227  394  734 1149 1773 1960
 1208  377  109   20    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24980284  0.29837171  0.34694058  0.39550945  0.44407831  0.49264718
  0.54121605  0.58978492  0.63835379  0.68692265  0.73549152  0.78406039
  0.83262926  0.88119813  0.92976699  0.97833586  1.02690473  1.0754736
  1.12404246  1.17261133  1.2211802 ]
distance difference  counter: 
(array([   6,   28,   72,  127,  219,  325,  521,  681,  838,  996, 1122,
       1230, 1043,  626,  271,   91,   31,   11,    5,    3]), array([  98.96934509,   99.05057983,   99.13181458,   99.21304932,
         99.29428406,   99.3755188 ,   99.45675354,   99.53798828,
         99.61922302,   99.70045776,   99.7816925 ,   99.86292725,
         99.94416199,  100.02539673,  100.10663147,  100.18786621,
        100.26910095,  100.35033569,  100.43157043,  100.51280518,
        100.59403992]))
train/val Accuracy = 0.721171017944 / 0.731203007519 
 with threshold: [[ 0.85732232]]
============ epoch 1 ===========
training loss:		0.085050
||Xanchor-Xpos||_2  counter: 
[  99  481 1144 2077 3142 4205 4978 4621 2200  373  101   46   25   13    5
    2    6    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  27  135  307  424  702 1270 2454 4815 6621 3825 1260  560  352  255  194
  131   91   66   17   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.15647148  0.2498733   0.34327513  0.43667695  0.53007878  0.62348061
  0.71688243  0.81028426  0.90368609  0.99708791  1.09048974  1.18389156
  1.27729339  1.37069522  1.46409704  1.55749887  1.65090069  1.74430252
  1.83770435  1.93110617  2.024508  ]
distance difference  counter: 
(array([   5,    6,   18,   38,   54,   79,  135,  144,  210,  306,  733,
       2323, 5359, 7702, 5785,  502,   78,   25,   12,    4]), array([  96.03482056,   96.31169357,   96.58856659,   96.86543961,
         97.14231262,   97.41918564,   97.69605865,   97.97293167,
         98.24980469,   98.5266777 ,   98.80355072,   99.08042374,
         99.35729675,   99.63416977,   99.91104279,  100.1879158 ,
        100.46478882,  100.74166183,  101.01853485,  101.29540787,
        101.57228088]))
||Xanchor-Xpos||_2  counter: 
[  17   52  138  281  553  839 1149 1539 1655 1346  513  109   41    5    2
    3    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    1    5   24   55  133  284  662 1347 2193 2087  887  295  121   76
   37   16   10    8    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24053779  0.30346329  0.36638879  0.42931429  0.49223979  0.55516528
  0.61809078  0.68101628  0.74394178  0.80686728  0.86979277  0.93271827
  0.99564377  1.05856927  1.12149477  1.18442027  1.24734576  1.31027126
  1.37319676  1.43612226  1.49904776]
distance difference  counter: 
(array([   2,    1,    3,   11,   18,   23,   57,  125,  353,  751, 1277,
       1820, 2141, 1336,  266,   51,    7,    0,    1,    3]), array([  98.18928528,   98.32692871,   98.46457214,   98.60221558,
         98.73985901,   98.87750244,   99.01514587,   99.15278931,
         99.29043274,   99.42807617,   99.5657196 ,   99.70336304,
         99.84100647,   99.9786499 ,  100.11629333,  100.25393677,
        100.3915802 ,  100.52922363,  100.66686707,  100.8045105 ,
        100.94215393]))
train/val Accuracy = 0.732035036993 / 0.721258792142 
 with threshold: [[ 0.81685867]]
============ epoch 2 ===========
training loss:		0.083778
||Xanchor-Xpos||_2  counter: 
[ 315 1794 4103 6724 7067 2604  479  181  102   60   38   21   10   12    3
    4    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  97  402  870 2119 5553 7585 3103 1266  748  434  284  250  213  184  146
   99   74   53   23   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.14820212  0.28845853  0.42871494  0.56897134  0.70922775  0.84948416
  0.98974057  1.12999698  1.27025338  1.41050979  1.5507662   1.69102261
  1.83127902  1.97153542  2.11179183  2.25204824  2.39230465  2.53256105
  2.67281746  2.81307387  2.95333028]
distance difference  counter: 
(array([    8,    12,    26,    42,    65,    91,   130,   184,   229,
         282,   506,  1377,  7459, 12636,   373,    56,    27,     9,
           4,     2]), array([  91.48332214,   92.11175461,   92.74018707,   93.36861954,
         93.997052  ,   94.62548447,   95.25391693,   95.8823494 ,
         96.51078186,   97.13921432,   97.76764679,   98.39607925,
         99.02451172,   99.65294418,  100.28137665,  100.90980911,
        101.53824158,  102.16667404,  102.79510651,  103.42353897,
        104.05197144]))
||Xanchor-Xpos||_2  counter: 
[  35  232  671 1258 2185 2361 1117  254   74   24   19    7    0    3    2
    3    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   3   10   60  245  735 2279 2825 1149  434  180  125   68   45   35   19
   13    6    7    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.22792462  0.32011441  0.41230421  0.50449401  0.59668381  0.68887361
  0.78106341  0.87325321  0.96544301  1.05763281  1.14982261  1.24201241
  1.33420221  1.42639201  1.5185818   1.6107716   1.7029614   1.7951512
  1.887341    1.9795308   2.0717206 ]
distance difference  counter: 
(array([   3,    3,    3,    8,   10,   15,   22,   49,   89,  179,  657,
       2491, 4052,  617,   36,    6,    2,    0,    3,    1]), array([  96.33425903,   96.62179832,   96.90933762,   97.19687691,
         97.4844162 ,   97.77195549,   98.05949478,   98.34703407,
         98.63457336,   98.92211266,   99.20965195,   99.49719124,
         99.78473053,  100.07226982,  100.35980911,  100.6473484 ,
        100.9348877 ,  101.22242699,  101.50996628,  101.79750557,
        102.08504486]))
train/val Accuracy = 0.739391104686 / 0.696883337376 
 with threshold: [[ 0.79227632]]
============ epoch 3 ===========
training loss:		0.082591
||Xanchor-Xpos||_2  counter: 
[ 1200  6410 10894  3552   716   303   168   101    70    38    28    15
     9     7     4     2     0     0     1     0]
||Xanchor-Xneg||_2  counter: 
[ 306 1329 6027 8374 2991 1317  813  583  401  250  227  212  198  154  115
   97   72   26   21    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.138475    0.35863651  0.57879801  0.79895952  1.01912103  1.23928253
  1.45944404  1.67960555  1.89976705  2.11992856  2.34009007  2.56025157
  2.78041308  3.00057459  3.22073609  3.4408976   3.66105911  3.88122061
  4.10138212  4.32154362  4.54170513]
distance difference  counter: 
(array([    2,    10,    18,    26,    63,    79,   113,   152,   203,
         282,   327,   697,  2130, 18778,   523,    72,    26,     7,
           6,     4]), array([  79.57974243,   81.06505203,   82.55036163,   84.03567123,
         85.52098083,   87.00629044,   88.49160004,   89.97690964,
         91.46221924,   92.94752884,   94.43283844,   95.91814804,
         97.40345764,   98.88876724,  100.37407684,  101.85938644,
        103.34469604,  104.83000565,  106.31531525,  107.80062485,
        109.28593445]))
||Xanchor-Xpos||_2  counter: 
[ 128  962 2777 3079  837  262  105   39   26   13    7    2    1    2    4
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   95  798 3357 2242  766  371  186  139   95   54   33   37   26   13
    7    7    6    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.21358766  0.35476046  0.49593327  0.63710608  0.77827889  0.91945169
  1.0606245   1.20179731  1.34297012  1.48414293  1.62531573  1.76648854
  1.90766135  2.04883416  2.19000696  2.33117977  2.47235258  2.61352539
  2.75469819  2.895871    3.03704381]
distance difference  counter: 
(array([   1,    3,    3,    7,    5,    9,   17,   35,   49,   99,  199,
        759, 6412,  604,   32,    6,    2,    0,    1,    3]), array([  91.29415131,   91.97206535,   92.6499794 ,   93.32789345,
         94.0058075 ,   94.68372154,   95.36163559,   96.03954964,
         96.71746368,   97.39537773,   98.07329178,   98.75120583,
         99.42911987,  100.10703392,  100.78494797,  101.46286201,
        102.14077606,  102.81869011,  103.49660416,  104.1745182 ,
        104.85243225]))
train/val Accuracy = 0.728527085637 / 0.637278680572 
 with threshold: [[ 0.80502558]]
============ epoch 4 ===========
training loss:		0.081297
||Xanchor-Xpos||_2  counter: 
[ 3813 13893  3825   972   418   205   130    95    59    50    29    14
     6     3     4     2     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[ 772 7293 7781 2682 1327  917  616  460  334  249  239  206  181  151  119
   78   54   33   16   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.12709999  0.46775966  0.80841932  1.14907899  1.48973866  1.83039832
  2.17105799  2.51171765  2.85237732  3.19303699  3.53369665  3.87435632
  4.21501598  4.55567565  4.89633532  5.23699498  5.57765465  5.91831431
  6.25897398  6.59963365  6.94029331]
distance difference  counter: 
(array([    3,     9,    17,    30,    51,    66,   106,   155,   214,
         236,   348,   610,  1624, 19353,   576,    74,    30,    10,
           4,     2]), array([  52.11897278,   55.59700546,   59.07503815,   62.55307083,
         66.03110352,   69.5091362 ,   72.98716888,   76.46520157,
         79.94323425,   83.42126694,   86.89929962,   90.37733231,
         93.85536499,   97.33339767,  100.81143036,  104.28946304,
        107.76749573,  111.24552841,  114.7235611 ,  118.20159378,
        121.67962646]))
||Xanchor-Xpos||_2  counter: 
[ 438 3493 3003  744  278  133   75   27   23   15    5    3    1    1    4
    1    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  29 1046 3914 1508  616  402  221  134  111   80   52   41   26   21   14
    8    7    8    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.19867547  0.41092714  0.62317881  0.83543048  1.04768215  1.25993383
  1.4721855   1.68443717  1.89668884  2.10894051  2.32119218  2.53344385
  2.74569553  2.9579472   3.17019887  3.38245054  3.59470221  3.80695388
  4.01920555  4.23145723  4.4437089 ]
distance difference  counter: 
(array([   1,    4,    4,    9,    5,   13,   19,   25,   58,   98,  202,
        825, 6759,  194,   21,    4,    1,    0,    1,    3]), array([  80.7512207 ,   82.2823967 ,   83.81357269,   85.34474869,
         86.87592468,   88.40710068,   89.93827667,   91.46945267,
         93.00062866,   94.53180466,   96.06298065,   97.59415665,
         99.12533264,  100.65650864,  102.18768463,  103.71886063,
        105.25003662,  106.78121262,  108.31238861,  109.84356461,
        111.3747406 ]))
train/val Accuracy = 0.680606344077 / 0.602716468591 
 with threshold: [[ 0.89350644]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357, 0.72291015832831729, 0.72059949302794823, 0.7268638749349583, 0.55354409388553449, 0.72664691456729302]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.213358
||Xanchor-Xpos||_2  counter: 
[  55  303  714 1328 2108 2753 2857 2596 2182 1890 1664 1433 1142  876  679
  485  294  131   25    3]
||Xanchor-Xneg||_2  counter: 
[  17   79  170  320  579 1182 2164 2630 2328 2211 2112 1922 1694 1510 1375
 1177  956  629  368   95]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.08170054  0.13589489  0.19008924  0.24428359  0.29847794  0.35267229
  0.40686664  0.46106099  0.51525534  0.56944969  0.62364404  0.67783839
  0.73203274  0.78622709  0.84042144  0.89461579  0.94881014  1.00300449
  1.05719884  1.11139319  1.16558754]
distance difference  counter: 
(array([   5,    9,   23,   74,  128,  288,  527,  903, 1692, 2715, 5028,
       7809, 3687,  433,  139,   26,   21,    5,    4,    2]), array([  98.74320221,   98.84728355,   98.9513649 ,   99.05544624,
         99.15952759,   99.26360893,   99.36769028,   99.47177162,
         99.57585297,   99.67993431,   99.78401566,   99.888097  ,
         99.99217834,  100.09625969,  100.20034103,  100.30442238,
        100.40850372,  100.51258507,  100.61666641,  100.72074776,
        100.8248291 ]))
||Xanchor-Xpos||_2  counter: 
[  11   30   67  120  198  290  453  601  737  946 1095 1286 1104  831  378
   77   16    3    3    0]
||Xanchor-Xneg||_2  counter: 
[   1    1    3    6   13   32   56   96  179  311  495  915 1339 1845 1737
  847  257   78   20   15]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.11472043  0.13434746  0.15397449  0.17360152  0.19322854  0.21285557
  0.2324826   0.25210962  0.27173665  0.29136368  0.31099071  0.33061773
  0.35024476  0.36987179  0.38949881  0.40912584  0.42875287  0.4483799
  0.46800692  0.48763395  0.50726098]
distance difference  counter: 
(array([   2,    4,   21,   49,   98,  184,  361,  490,  703,  892, 1075,
       1217, 1322, 1001,  550,  175,   81,   11,    8,    2]), array([  99.8000946 ,   99.81501198,   99.82992935,   99.84484673,
         99.8597641 ,   99.87468147,   99.88959885,   99.90451622,
         99.91943359,   99.93435097,   99.94926834,   99.96418571,
         99.97910309,   99.99402046,  100.00893784,  100.02385521,
        100.03877258,  100.05368996,  100.06860733,  100.0835247 ,
        100.09844208]))
train/val Accuracy = 0.614869461689 / 0.5 
 with threshold: [[ 0.58190162]]
============ epoch 1 ===========
training loss:		0.176978
||Xanchor-Xpos||_2  counter: 
[ 208  995 2342 3739 3931 3411 2729 2133 1649 1162  696  363  124   18   13
    3    1    0    1    0]
||Xanchor-Xneg||_2  counter: 
[  52  236  558 1379 2934 3202 2983 2702 2401 2047 1798 1377  875  450  198
  140   84   61   29   12]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.03693654  0.06682496  0.09671338  0.12660181  0.15649023  0.18637865
  0.21626708  0.2461555   0.27604392  0.30593235  0.33582077  0.3657092
  0.39559762  0.42548604  0.45537447  0.48526289  0.51515131  0.54503974
  0.57492816  0.60481658  0.63470501]
distance difference  counter: 
(array([   10,     8,    29,    44,    75,   116,   174,   314,   616,
        1214,  2736,  6730, 10378,   906,   121,    31,    12,     1,
           2,     1]), array([  99.6385498 ,   99.66714745,   99.69574509,   99.72434273,
         99.75294037,   99.78153801,   99.81013565,   99.83873329,
         99.86733093,   99.89592857,   99.92452621,   99.95312386,
         99.9817215 ,  100.01031914,  100.03891678,  100.06751442,
        100.09611206,  100.1247097 ,  100.15330734,  100.18190498,
        100.21050262]))
||Xanchor-Xpos||_2  counter: 
[  10   69  195  363  686 1069 1441 1810 1593  772  163   50   16    0    3
    3    1    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    3   13   32   92  219  467 1110 2095 2368 1140  368  155   85   41
   28   11   10    8    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.0399712   0.05149882  0.06302645  0.07455408  0.08608171  0.09760934
  0.10913696  0.12066459  0.13219222  0.14371985  0.15524748  0.1667751
  0.17830273  0.18983036  0.20135799  0.21288562  0.22441324  0.23594087
  0.2474685   0.25899613  0.27052376]
distance difference  counter: 
(array([   3,    3,    9,   14,   21,   54,  114,  332,  782, 1476, 2295,
       2291,  743,   94,   11,    0,    0,    2,    1,    1]), array([  99.94549561,   99.95014877,   99.95480194,   99.95945511,
         99.96410828,   99.96876144,   99.97341461,   99.97806778,
         99.98272095,   99.98737411,   99.99202728,   99.99668045,
        100.00133362,  100.00598679,  100.01063995,  100.01529312,
        100.01994629,  100.02459946,  100.02925262,  100.03390579,
        100.03855896]))
train/val Accuracy = 0.631835190067 / 0.501273344652 
 with threshold: [[ 0.22954294]]
============ epoch 2 ===========
training loss:		0.171934
||Xanchor-Xpos||_2  counter: 
[ 623 3096 5859 5190 3931 2569 1392  526  149   87   48   23   12    4    4
    3    0    1    1    0]
||Xanchor-Xneg||_2  counter: 
[ 170  711 2605 4377 4120 3543 2941 2090 1022  535  424  291  189  142  116
   95   69   53   19    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01363361  0.03175177  0.04986992  0.06798807  0.08610623  0.10422438
  0.12234253  0.14046069  0.15857884  0.17669699  0.19481515  0.2129333
  0.23105145  0.24916961  0.26728776  0.28540591  0.30352407  0.32164222
  0.33976037  0.35787853  0.37599668]
distance difference  counter: 
(array([    5,     7,    23,    41,    70,    74,   109,   153,   206,
         336,   495,  1302,  4985, 15066,   535,    65,    28,    12,
           5,     1]), array([  99.86679077,   99.8765419 ,   99.88629303,   99.89604416,
         99.90579529,   99.91554642,   99.92529755,   99.93504868,
         99.9447998 ,   99.95455093,   99.96430206,   99.97405319,
         99.98380432,   99.99355545,  100.00330658,  100.01305771,
        100.02280884,  100.03255997,  100.0423111 ,  100.05206223,
        100.06181335]))
||Xanchor-Xpos||_2  counter: 
[  52  296  927 1910 2681 1725  440  123   43   21   16    3    0    3    4
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   2   15  104  451 1590 3202 1652  557  260  147   95   58   40   26   18
    9    7    8    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.01584974  0.02296967  0.0300896   0.03720953  0.04432946  0.05144939
  0.05856932  0.06568925  0.07280918  0.07992911  0.08704904  0.09416897
  0.1012889   0.10840883  0.11552876  0.12264869  0.12976862  0.13688855
  0.14400848  0.15112841  0.15824834]
distance difference  counter: 
(array([   1,    2,    5,    5,    6,   14,   18,   33,   69,  131,  339,
       1683, 4848, 1039,   41,    6,    2,    0,    0,    4]), array([  99.97766876,   99.97939758,   99.9811264 ,   99.98285522,
         99.98458405,   99.98631287,   99.98804169,   99.98977051,
         99.99149933,   99.99322815,   99.99495697,   99.99668579,
         99.99841461,  100.00014343,  100.00187225,  100.00360107,
        100.0053299 ,  100.00705872,  100.00878754,  100.01051636,
        100.01224518]))
train/val Accuracy = 0.647482779148 / 0.509701673539 
 with threshold: [[ 0.09351895]]
============ epoch 3 ===========
training loss:		0.171233
||Xanchor-Xpos||_2  counter: 
[1910 7932 7258 3990 1469  432  211  110   88   52   29   13   11    6    3
    1    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 424 3161 5965 5164 3495 1776  976  601  438  293  268  237  207  138  120
   97   67   54   24   13]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00520238  0.01649193  0.02778149  0.03907105  0.0503606   0.06165016
  0.07293971  0.08422927  0.09551883  0.10680838  0.11809794  0.12938749
  0.14067705  0.1519666   0.16325616  0.17454572  0.18583527  0.19712483
  0.20841438  0.21970394  0.23099349]
distance difference  counter: 
(array([    9,    12,    37,    53,    71,   107,   130,   216,   297,
         368,   718,  2432, 18567,   392,    75,    19,     9,     3,
           2,     1]), array([  99.94779205,   99.95191116,   99.95603027,   99.96014938,
         99.96426849,   99.9683876 ,   99.97250671,   99.97662582,
         99.98074493,   99.98486404,   99.98898315,   99.99310226,
         99.99722137,  100.00134048,  100.00545959,  100.0095787 ,
        100.01369781,  100.01781693,  100.02193604,  100.02605515,
        100.03017426]))
||Xanchor-Xpos||_2  counter: 
[ 154 1391 3611 2210  514  190   87   40   16   17    5    2    2    1    2
    3    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6  180 1606 3672 1352  557  313  170  125   84   54   40   25   27   11
    5    9    4    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00576131  0.01037528  0.01498925  0.01960322  0.02421719  0.02883116
  0.03344513  0.0380591   0.04267307  0.04728704  0.05190101  0.05651498
  0.06112895  0.06574292  0.07035689  0.07497086  0.07958483  0.0841988
  0.08881277  0.09342674  0.09804071]
distance difference  counter: 
(array([   1,    3,    3,    4,   10,    8,   18,   28,   55,   76,  215,
        747, 6700,  345,   21,    6,    2,    0,    1,    3]), array([  99.99078369,   99.99150696,   99.99223022,   99.99295349,
         99.99367676,   99.99440002,   99.99512329,   99.99584656,
         99.99656982,   99.99729309,   99.99801636,   99.99873962,
         99.99946289,  100.00018616,  100.00090942,  100.00163269,
        100.00235596,  100.00307922,  100.00380249,  100.00452576,
        100.00524902]))
train/val Accuracy = 0.659664937495 / 0.524557361145 
 with threshold: [[ 0.04047525]]
============ epoch 4 ===========
training loss:		0.171135
||Xanchor-Xpos||_2  counter: 
[ 5909 11015  4351  1156   467   213   141    93    57    56    24    14
    12     2     5     0     2     1     0     0]
||Xanchor-Xneg||_2  counter: 
[1560 7646 6283 2800 1482  924  616  472  362  271  234  185  203  141  125
   85   56   34   23   16]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00205567  0.00941681  0.01677795  0.02413908  0.03150022  0.03886136
  0.0462225   0.05358364  0.06094478  0.06830591  0.07566705  0.08302819
  0.09038933  0.09775047  0.1051116   0.11247274  0.11983388  0.12719502
  0.13455616  0.14191729  0.14927843]
distance difference  counter: 
(array([   12,    15,    14,    39,    53,    71,   127,   161,   221,
         265,   373,   780,  2506, 18534,   248,    61,    22,     7,
           6,     3]), array([  99.97793579,   99.97957153,   99.98120728,   99.98284302,
         99.98447876,   99.9861145 ,   99.98775024,   99.98938599,
         99.99102173,   99.99265747,   99.99429321,   99.99592896,
         99.9975647 ,   99.99920044,  100.00083618,  100.00247192,
        100.00410767,  100.00574341,  100.00737915,  100.00901489,
        100.01065063]))
||Xanchor-Xpos||_2  counter: 
[ 793 4465 1924  559  260  104   64   27   19   14    7    1    2    0    4
    1    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  72 2553 2984 1068  540  341  192  148  103   72   43   41   24   25   10
    7    8    6    7    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.00234751  0.00529139  0.00823526  0.01117914  0.01412301  0.01706689
  0.02001076  0.02295464  0.02589851  0.02884239  0.03178626  0.03473013
  0.03767401  0.04061788  0.04356176  0.04650563  0.04944951  0.05239338
  0.05533726  0.05828113  0.06122501]
distance difference  counter: 
(array([   1,    2,    6,    8,    6,    9,   10,   27,   43,   63,  157,
        358, 4619, 2870,   50,   10,    3,    0,    0,    4]), array([  99.99632263,   99.99660454,   99.99688644,   99.99716835,
         99.99745026,   99.99773216,   99.99801407,   99.99829597,
         99.99857788,   99.99885979,   99.99914169,   99.9994236 ,
         99.99970551,   99.99998741,  100.00026932,  100.00055122,
        100.00083313,  100.00111504,  100.00139694,  100.00167885,
        100.00196075]))
train/val Accuracy = 0.654328599371 / 0.534440941062 
 with threshold: [[ 0.01953902]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357, 0.72291015832831729, 0.72059949302794823, 0.7268638749349583, 0.55354409388553449, 0.72664691456729302, 0.59438477021651404]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 100, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.166871
||Xanchor-Xpos||_2  counter: 
[18607   943  1032   169   301   481   437   137    70    84    92   142
   144   168   196   206   151   118    34     6]
||Xanchor-Xneg||_2  counter: 
[17898  1231  1156   289    74   190   580   617    28    19    26    34
    45    52    91   170   259   365   319    74]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.59996938e-07   5.88331189e-02   1.17665978e-01   1.76498837e-01
   2.35331696e-01   2.94164555e-01   3.52997413e-01   4.11830272e-01
   4.70663131e-01   5.29495990e-01   5.88328849e-01   6.47161708e-01
   7.05994567e-01   7.64827426e-01   8.23660285e-01   8.82493144e-01
   9.41326003e-01   1.00015886e+00   1.05899172e+00   1.11782458e+00
   1.17665744e+00]
distance difference  counter: 
(array([    3,    10,    20,    26,    58,    79,   104,   125,   142,
         143,   177,   406,  2171, 19940,    63,    28,    12,     5,
           3,     3]), array([  98.79307556,   98.88558578,   98.97809601,   99.07060623,
         99.16311646,   99.25562668,   99.3481369 ,   99.44064713,
         99.53315735,   99.62566757,   99.7181778 ,   99.81068802,
         99.90319824,   99.99570847,  100.08821869,  100.18072891,
        100.27323914,  100.36574936,  100.45825958,  100.55076981,
        100.64328003]))
||Xanchor-Xpos||_2  counter: 
[  28  111  362  763 1230 1901 2080 1298  344   77   27   14    2    1    4
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1    5   26   81  251  696 1709 2778 1652  538  231  106   68   43   25
   16    5   10    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.28676973e-07   1.72236997e-07   2.15797020e-07   2.59357044e-07
   3.02917067e-07   3.46477091e-07   3.90037114e-07   4.33597138e-07
   4.77157161e-07   5.20717185e-07   5.64277208e-07   6.07837232e-07
   6.51397255e-07   6.94957279e-07   7.38517302e-07   7.82077326e-07
   8.25637349e-07   8.69197373e-07   9.12757396e-07   9.56317420e-07
   9.99877443e-07]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
train/val Accuracy = 0.503167786376 / 0.5 
 with threshold: [[ 0.0925598]]
============ epoch 1 ===========
training loss:		1.098895
||Xanchor-Xpos||_2  counter: 
[20132   921   934   268   363   426   345    78    20    11     4     4
     4     4     0     2     2     0     0     0]
||Xanchor-Xneg||_2  counter: 
[19328  1194   903   448   149   227   452   422   151    80    41    33
    16    16     9    15     9    14     6     5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.21783104e-13   6.94370405e-08   1.38873959e-07   2.08310878e-07
   2.77747797e-07   3.47184715e-07   4.16621634e-07   4.86058553e-07
   5.55495472e-07   6.24932390e-07   6.94369309e-07   7.63806228e-07
   8.33243147e-07   9.02680065e-07   9.72116984e-07   1.04155390e-06
   1.11099082e-06   1.18042774e-06   1.24986466e-06   1.31930158e-06
   1.38873850e-06]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
||Xanchor-Xpos||_2  counter: 
[ 457 3596 2946  713  272  118   68   29   17   14    5    2    2    3    2
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  35 1128 3933 1463  618  361  218  136  114   62   55   45   19   20   14
    6    7    7    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  6.03138823e-14   1.23707908e-13   1.87101933e-13   2.50495958e-13
   3.13889984e-13   3.77284009e-13   4.40678035e-13   5.04072060e-13
   5.67466086e-13   6.30860111e-13   6.94254136e-13   7.57648162e-13
   8.21042187e-13   8.84436213e-13   9.47830238e-13   1.01122426e-12
   1.07461829e-12   1.13801231e-12   1.20140634e-12   1.26480037e-12
   1.32819439e-12]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 2 ===========
training loss:		1.098895
||Xanchor-Xpos||_2  counter: 
[21665  1110   494   132    41    31    14    12     4     6     3     3
     3     0     0     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[20766  1074   823   303   161    89    89    49    35    25    18    13
    10    14    10    13    11     7     7     1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   1.03509237e-13   2.07018474e-13   3.10527710e-13
   4.14036947e-13   5.17546184e-13   6.21055421e-13   7.24564657e-13
   8.28073894e-13   9.31583131e-13   1.03509237e-12   1.13860160e-12
   1.24211084e-12   1.34562008e-12   1.44912931e-12   1.55263855e-12
   1.65614779e-12   1.75965703e-12   1.86316626e-12   1.96667550e-12
   2.07018474e-12]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
||Xanchor-Xpos||_2  counter: 
[8192    0    0   17   17    8    0    0    1    0    1    3    1    2    0
    0    1    3    0    0]
||Xanchor-Xneg||_2  counter: 
[8062    0    0   45   55   38    0    1    1    2    1   10    3    4    5
    3    1    7    3    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   3.35271011e-20   6.70542021e-20   1.00581303e-19
   1.34108404e-19   1.67635505e-19   2.01162606e-19   2.34689707e-19
   2.68216808e-19   3.01743910e-19   3.35271011e-19   3.68798112e-19
   4.02325213e-19   4.35852314e-19   4.69379415e-19   5.02906516e-19
   5.36433617e-19   5.69960718e-19   6.03487819e-19   6.37014920e-19
   6.70542021e-19]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 3 ===========
training loss:		1.098895
||Xanchor-Xpos||_2  counter: 
[23326     0    41    43    15     5    12     4     5     4     5    10
    10     2     4     3    12     7    10     0]
||Xanchor-Xneg||_2  counter: 
[23210     0    42    54    13    17    15     6     5    10     3    22
    13    10     7     3    11    24    35    18]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.00000000e+00   4.94620816e-20   9.89241631e-20   1.48386245e-19
   1.97848326e-19   2.47310408e-19   2.96772489e-19   3.46234571e-19
   3.95696653e-19   4.45158734e-19   4.94620816e-19   5.44082897e-19
   5.93544979e-19   6.43007060e-19   6.92469142e-19   7.41931224e-19
   7.91393305e-19   8.40855387e-19   8.90317468e-19   9.39779550e-19
   9.89241631e-19]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
============ epoch 4 ===========
training loss:		1.098895
||Xanchor-Xpos||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[    0     0     0     0     0     0     0     0     0     0 23518     0
     0     0     0     0     0     0     0     0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([    0,     0,     0,     0,     0,     0,     0,     0,     0,
           0, 23518,     0,     0,     0,     0,     0,     0,     0,
           0,     0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
||Xanchor-Xpos||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   0    0    0    0    0    0    0    0    0    0 8246    0    0    0    0
    0    0    0    0    0]
||Xanchor-X_neg/pos||_2  bins edge: 
[-0.5  -0.45 -0.4  -0.35 -0.3  -0.25 -0.2  -0.15 -0.1  -0.05  0.    0.05
  0.1   0.15  0.2   0.25  0.3   0.35  0.4   0.45  0.5 ]
distance difference  counter: 
(array([   0,    0,    0,    0,    0,    0,    0,    0,    0,    0, 8246,
          0,    0,    0,    0,    0,    0,    0,    0,    0]), array([  99.5 ,   99.55,   99.6 ,   99.65,   99.7 ,   99.75,   99.8 ,
         99.85,   99.9 ,   99.95,  100.  ,  100.05,  100.1 ,  100.15,
        100.2 ,  100.25,  100.3 ,  100.35,  100.4 ,  100.45,  100.5 ]))
train/val Accuracy = 0.0 / 0.0 
 with threshold: [[ nan]]
untile now, the train_val_mean_acc: [0.71306947803713427, 0.71417946687286671, 0.72249834872920882, 0.71597200297007013, 0.72297670573235528, 0.55351220341865803, 0.73153957067310071, 0.59476684992852147, 0.50173271536695296, 0.71557635646715778, 0.7146928030953611, 0.72107661762401531, 0.72078177841064939, 0.72498510385953385, 0.55495790458372318, 0.72938337393538855, 0.59366663784518559, 0.50193468832383714, 0.7152105919685382, 0.71490030899281565, 0.72178878132925761, 0.71907102464098438, 0.72538931533382334, 0.55421379368993962, 0.73119929224975588, 0.59667540761271154, 0.50165830427757463, 0.7133411438721925, 0.71622837715996357, 0.72291015832831729, 0.72059949302794823, 0.7268638749349583, 0.55354409388553449, 0.72664691456729302, 0.59438477021651404, 0.50158389318819629]
Done

----------------- end -----------------
Fr 30. Sep 22:38:34 CEST 2016
elapsed time: 003:26:48
---------------------------------------

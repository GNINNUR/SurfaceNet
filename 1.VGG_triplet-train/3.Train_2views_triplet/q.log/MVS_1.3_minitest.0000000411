---------------- start ----------------
Fri Sep 30 15:46:47 CEST 2016
max threads: 2
max memory: 6000 MB
time limit: 9 hours
gpu device id: 2
.VGGface_MVS-train.sh.1  1
---------------------------------------

This is VGGface_MVS-train5.py
Using gpu device 0: GeForce GTX TITAN X (CNMeM is enabled with initial size: 95.0% of memory, cuDNN 4007)
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
VGGface_MVS-train5-1.py:243: UserWarning: The parameter 'updates' of theano.function() expects an OrderedDict, got <type 'dict'>. Using a standard dictionary here results in non-deterministic behavior. You should use an OrderedDict if you are using Python 2.7 (theano.compat.OrderedDict for older python), or use a list of (shared, update) pairs. Do not just convert your dictionary to this type before the call as the conversion will still be non-deterministic.
  get_dist_from_feature_embed(feature_embed), updates=updates)
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027156
||Xanchor-Xpos||_2  counter: 
[  86  901 2543 2574 2745 3062 3131 2740 2136 1450  951  583  327  155   71
   32   19    8    3    1]
||Xanchor-Xneg||_2  counter: 
[  39  496 1741 2140 2452 3139 3392 3111 2514 1836 1191  703  386  206   85
   51   25    6    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.54762268   94.157061    128.76649933  163.37593765  197.98537598
  232.5948143   267.20425262  301.81369095  336.42312927  371.0325676
  405.64200592  440.25144424  474.86088257  509.47032089  544.07975922
  578.68919754  613.29863586  647.90807419  682.51751251  717.12695084
  751.73638916]
distance difference  counter: 
(array([    2,     0,     1,     0,     2,     3,     8,    13,    14,
          33,    45,   123,   205,   341,   759,  1769,  5798, 12513,
        1803,    86]), array([-4.91029739, -4.62661904, -4.34294069, -4.05926234, -3.77558398,
       -3.49190563, -3.20822728, -2.92454892, -2.64087057, -2.35719222,
       -2.07351387, -1.78983551, -1.50615716, -1.22247881, -0.93880045,
       -0.6551221 , -0.37144375, -0.0877654 ,  0.19591296,  0.47959131,
        0.76326966]))
||Xanchor-Xpos||_2  counter: 
[  55  159  334  547  725  897 1025 1072 1022  811  577  435  292  163   70
   44   14    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   37  111  241  456  689  901  921 1103  975  954  666  483  294  215
   86   66   24   13    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.192379     67.97376804   89.75515709  111.53654613  133.31793518
  155.09932423  176.88071327  198.66210232  220.44349136  242.22488041
  264.00626945  285.7876585   307.56904755  329.35043659  351.13182564
  372.91321468  394.69460373  416.47599277  438.25738182  460.03877087
  481.82015991]
distance difference  counter: 
(array([   2,    1,    0,    1,    2,    0,    5,    6,    9,    7,   25,
         35,   73,  137,  242,  562, 1516, 3822, 1643,  158]), array([-5.26702261, -4.97199014, -4.67695766, -4.38192519, -4.08689271,
       -3.79186024, -3.49682776, -3.20179529, -2.90676281, -2.61173034,
       -2.31669787, -2.02166539, -1.72663292, -1.43160044, -1.13656797,
       -0.84153549, -0.54650302, -0.25147054,  0.04356193,  0.3385944 ,
        0.63362688]))
train/val Accuracy = 0.540479632622 / 0.556451612903 
 with threshold: [[ 280.07238197]]
============ epoch 1 ===========
training loss:		0.027143
||Xanchor-Xpos||_2  counter: 
[ 141 1031 2614 2494 2669 3084 3045 2664 2091 1484  967  604  301  155   82
   55   21   12    3    0]
||Xanchor-Xneg||_2  counter: 
[  60  615 1806 2045 2440 3135 3271 3110 2489 1763 1228  705  415  232  103
   67   19   11    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  64.67338562   98.49018021  132.30697479  166.12376938  199.94056396
  233.75735855  267.57415314  301.39094772  335.20774231  369.0245369
  402.84133148  436.65812607  470.47492065  504.29171524  538.10850983
  571.92530441  605.742099    639.55889359  673.37568817  707.19248276
  741.00927734]
distance difference  counter: 
(array([    1,     0,     1,     2,     0,     3,     4,     5,    10,
          20,    36,    75,   163,   251,   511,  1177,  3493, 13576,
        3981,   209]), array([-5.39266777, -5.08708459, -4.78150142, -4.47591824, -4.17033507,
       -3.86475189, -3.55916871, -3.25358554, -2.94800236, -2.64241919,
       -2.33683601, -2.03125283, -1.72566966, -1.42008648, -1.11450331,
       -0.80892013, -0.50333695, -0.19775378,  0.1078294 ,  0.41341257,
        0.71899575]))
||Xanchor-Xpos||_2  counter: 
[  61  184  394  647  835  983 1134 1092  977  757  525  320  182   95   40
   15    5    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   38  139  302  572  803  993 1133 1094 1037  809  514  369  232  104
   66   20   12    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.84865189   69.09306622   92.33748055  115.58189487  138.8263092
  162.07072353  185.31513786  208.55955219  231.80396652  255.04838085
  278.29279518  301.53720951  324.78162384  348.02603817  371.2704525
  394.51486683  417.75928116  441.00369549  464.24810982  487.49252415
  510.73693848]
distance difference  counter: 
(array([   1,    1,    0,    3,    0,    4,    6,    7,   10,   13,   25,
         43,   61,  150,  285,  643, 1651, 3752, 1452,  139]), array([-4.98146439, -4.70143092, -4.42139745, -4.14136398, -3.86133051,
       -3.58129704, -3.30126357, -3.0212301 , -2.74119663, -2.46116316,
       -2.18112969, -1.90109622, -1.62106276, -1.34102929, -1.06099582,
       -0.78096235, -0.50092888, -0.22089541,  0.05913806,  0.33917153,
        0.619205  ]))
train/val Accuracy = 0.538651245854 / 0.555966529226 
 with threshold: [[ 279.53638069]]
============ epoch 2 ===========
training loss:		0.027131
||Xanchor-Xpos||_2  counter: 
[ 109 1011 2621 2527 2811 3146 3077 2654 2150 1352  942  566  257  156   78
   40   12    4    3    2]
||Xanchor-Xneg||_2  counter: 
[  46  599 1847 2085 2541 3241 3315 3100 2461 1733 1133  680  365  195   99
   46   19   10    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.34824753   96.8901125   131.43197746  165.97384243  200.5157074
  235.05757236  269.59943733  304.1413023   338.68316727  373.22503223
  407.7668972   442.30876217  476.85062714  511.3924921   545.93435707
  580.47622204  615.01808701  649.55995197  684.10181694  718.64368191
  753.18554688]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     6,     2,     4,    10,
          17,    27,    77,   125,   252,   513,  1183,  3434, 13614,
        4066,   186]), array([-5.52759647, -5.21450573, -4.90141498, -4.58832423, -4.27523348,
       -3.96214274, -3.64905199, -3.33596124, -3.02287049, -2.70977975,
       -2.396689  , -2.08359825, -1.7705075 , -1.45741675, -1.14432601,
       -0.83123526, -0.51814451, -0.20505376,  0.10803698,  0.42112773,
        0.73421848]))
||Xanchor-Xpos||_2  counter: 
[  62  211  376  679  821  963 1180 1074  958  743  505  343  185   85   44
   10    6    0    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   37  153  315  593  795  989 1094 1090 1048  817  514  351  228  112
   61   24   13    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.9065094    70.04478073   93.18305206  116.32132339  139.45959473
  162.59786606  185.73613739  208.87440872  232.01268005  255.15095139
  278.28922272  301.42749405  324.56576538  347.70403671  370.84230804
  393.98057938  417.11885071  440.25712204  463.39539337  486.5336647
  509.67193604]
distance difference  counter: 
(array([   2,    0,    2,    1,    3,    3,    6,    7,    8,   23,   27,
         43,   87,  154,  296,  696, 1791, 3682, 1289,  126]), array([-4.79855633, -4.52783627, -4.25711622, -3.98639616, -3.71567611,
       -3.44495605, -3.17423599, -2.90351594, -2.63279588, -2.36207583,
       -2.09135577, -1.82063572, -1.54991566, -1.2791956 , -1.00847555,
       -0.73775549, -0.46703544, -0.19631538,  0.07440467,  0.34512473,
        0.61584479]))
train/val Accuracy = 0.539374096437 / 0.556087800146 
 with threshold: [[ 279.43422779]]
============ epoch 3 ===========
training loss:		0.027119
||Xanchor-Xpos||_2  counter: 
[  85  807 2559 2518 2781 2997 3188 2741 2147 1508 1018  554  290  163   81
   45   21    9    5    1]
||Xanchor-Xneg||_2  counter: 
[  33  480 1761 2066 2439 3051 3450 3150 2589 1758 1213  736  373  218  115
   49   19   11    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.68286896   93.05631218  127.4297554   161.80319862  196.17664185
  230.55008507  264.92352829  299.29697151  333.67041473  368.04385796
  402.41730118  436.7907444   471.16418762  505.53763084  539.91107407
  574.28451729  608.65796051  643.03140373  677.40484695  711.77829018
  746.1517334 ]
distance difference  counter: 
(array([    1,     0,     1,     2,     2,     2,     3,     6,    13,
          26,    53,    98,   179,   308,   605,  1435,  4176, 13265,
        3162,   181]), array([-5.02927876, -4.74234036, -4.45540196, -4.16846356, -3.88152516,
       -3.59458676, -3.30764836, -3.02070996, -2.73377156, -2.44683316,
       -2.15989476, -1.87295637, -1.58601797, -1.29907957, -1.01214117,
       -0.72520277, -0.43826437, -0.15132597,  0.13561243,  0.42255083,
        0.70948923]))
||Xanchor-Xpos||_2  counter: 
[  66  191  387  658  809  969 1135 1112  983  761  518  330  164   94   48
   12    9    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   40  127  328  550  812  961 1149 1093 1024  802  574  351  211  111
   59   29   12    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.89365387   69.05919914   92.22474442  115.39028969  138.55583496
  161.72138023  184.88692551  208.05247078  231.21801605  254.38356133
  277.5491066   300.71465187  323.88019714  347.04574242  370.21128769
  393.37683296  416.54237823  439.70792351  462.87346878  486.03901405
  509.20455933]
distance difference  counter: 
(array([   2,    1,    2,    3,    4,    1,    7,    6,   16,   15,   30,
         42,   97,  170,  304,  743, 1767, 3697, 1207,  132]), array([-4.69879293, -4.43320666, -4.16762038, -3.90203411, -3.63644783,
       -3.37086156, -3.10527529, -2.83968901, -2.57410274, -2.30851646,
       -2.04293019, -1.77734391, -1.51175764, -1.24617136, -0.98058509,
       -0.71499881, -0.44941254, -0.18382626,  0.08176001,  0.34734629,
        0.61293256]))
train/val Accuracy = 0.539182753636 / 0.556815425661 
 with threshold: [[ 278.98708686]]
============ epoch 4 ===========
training loss:		0.027106
||Xanchor-Xpos||_2  counter: 
[ 162 1239 2756 2562 2878 3166 3049 2604 1976 1354  845  444  256  113   68
   23   13    7    2    1]
||Xanchor-Xneg||_2  counter: 
[  69  737 1956 2164 2699 3289 3418 3013 2334 1595 1023  593  329  152   83
   37   20    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  65.59030151  100.5180069   135.44571228  170.37341766  205.30112305
  240.22882843  275.15653381  310.0842392   345.01194458  379.93964996
  414.86735535  449.79506073  484.72276611  519.6504715   554.57817688
  589.50588226  624.43358765  659.36129303  694.28899841  729.2167038
  764.14440918]
distance difference  counter: 
(array([   2,    1,    0,    9,    5,    5,   14,   17,   35,   64,  112,
        156,  303,  495, 1083, 2493, 9192, 8411, 1051,   70]), array([ -4.26532078e+00,  -4.01428345e+00,  -3.76324612e+00,
        -3.51220879e+00,  -3.26117146e+00,  -3.01013413e+00,
        -2.75909680e+00,  -2.50805947e+00,  -2.25702214e+00,
        -2.00598481e+00,  -1.75494748e+00,  -1.50391015e+00,
        -1.25287282e+00,  -1.00183550e+00,  -7.50798166e-01,
        -4.99760836e-01,  -2.48723507e-01,   2.31382251e-03,
         2.53351152e-01,   5.04388481e-01,   7.55425811e-01]))
||Xanchor-Xpos||_2  counter: 
[  54  200  388  622  831 1019 1137 1111  939  752  535  341  164   89   46
   12    5    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   46  139  310  545  813 1003 1122 1106 1012  786  578  363  217  104
   56   26   11    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.71692276   68.89927425   92.08162575  115.26397724  138.44632874
  161.62868023  184.81103172  207.99338322  231.17573471  254.3580862
  277.5404377   300.72278919  323.90514069  347.08749218  370.26984367
  393.45219517  416.63454666  439.81689816  462.99924965  486.18160114
  509.36395264]
distance difference  counter: 
(array([   2,    2,    0,    2,    1,    2,    9,    7,   10,   14,   30,
         50,   91,  168,  303,  717, 1913, 3711, 1101,  113]), array([-4.75127268, -4.48226569, -4.21325871, -3.94425172, -3.67524474,
       -3.40623775, -3.13723077, -2.86822378, -2.59921679, -2.33020981,
       -2.06120282, -1.79219584, -1.52318885, -1.25418187, -0.98517488,
       -0.7161679 , -0.44716091, -0.17815393,  0.09085306,  0.35986004,
        0.62886703]))
train/val Accuracy = 0.539841823284 / 0.556451612903 
 with threshold: [[ 278.87413163]]
untile now, the train_val_mean_acc: [0.54846562276252375]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.270722
||Xanchor-Xpos||_2  counter: 
[ 160 1544 2944 2819 3306 3605 3104 2338 1705  986  507  286  126   53   23
    5    5    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  73  972 2149 2443 3219 3792 3568 2824 2005 1137  696  349  168   80   29
    6    5    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  60.97610474   99.57602997  138.1759552   176.77588043  215.37580566
  253.9757309   292.57565613  331.17558136  369.77550659  408.37543182
  446.97535706  485.57528229  524.17520752  562.77513275  601.37505798
  639.97498322  678.57490845  717.17483368  755.77475891  794.37468414
  832.97460938]
distance difference  counter: 
(array([    1,     1,     3,     1,     5,     3,     7,    10,    24,
          36,    81,   116,   241,   354,   785,  1839,  6518, 11843,
        1575,    75]), array([-4.85597658, -4.57420744, -4.2924383 , -4.01066917, -3.72890003,
       -3.44713089, -3.16536175, -2.88359261, -2.60182347, -2.32005433,
       -2.0382852 , -1.75651606, -1.47474692, -1.19297778, -0.91120864,
       -0.6294395 , -0.34767036, -0.06590123,  0.21586791,  0.49763705,
        0.77940619]))
||Xanchor-Xpos||_2  counter: 
[  56  168  361  574  765  960 1018 1145  988  806  570  412  218  118   56
   19    8    2    2    0]
||Xanchor-Xneg||_2  counter: 
[   8   36  114  263  493  767  923 1015 1097 1085  860  619  418  274  154
   63   38   10    4    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.39113235   67.46517925   89.53922615  111.61327305  133.68731995
  155.76136684  177.83541374  199.90946064  221.98350754  244.05755444
  266.13160133  288.20564823  310.27969513  332.35374203  354.42778893
  376.50183582  398.57588272  420.64992962  442.72397652  464.79802341
  486.87207031]
distance difference  counter: 
(array([   1,    1,    1,    5,    3,    3,    7,    7,   13,   13,   39,
         47,   98,  206,  336,  846, 2114, 3531,  892,   83]), array([-4.60277414, -4.34017511, -4.07757608, -3.81497704, -3.55237801,
       -3.28977898, -3.02717994, -2.76458091, -2.50198188, -2.23938285,
       -1.97678381, -1.71418478, -1.45158575, -1.18898671, -0.92638768,
       -0.66378865, -0.40118961, -0.13859058,  0.12400845,  0.38660749,
        0.64920652]))
train/val Accuracy = 0.538119738073 / 0.55220713073 
 with threshold: [[ 278.84930053]]
============ epoch 1 ===========
training loss:		0.269492
||Xanchor-Xpos||_2  counter: 
[  75  762 2326 2345 2559 2836 3040 2764 2232 1722 1226  712  434  232  131
   59   32   19    7    5]
||Xanchor-Xneg||_2  counter: 
[  36  432 1542 1945 2197 2806 3165 3175 2680 2020 1411  937  539  299  175
   77   49   18    9    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  57.04114532   89.64545403  122.24976273  154.85407143  187.45838013
  220.06268883  252.66699753  285.27130623  317.87561493  350.47992363
  383.08423233  415.68854103  448.29284973  480.89715843  513.50146713
  546.10577583  578.71008453  611.31439323  643.91870193  676.52301064
  709.12731934]
distance difference  counter: 
(array([    3,     2,     2,     0,     3,     5,     7,    10,    16,
          46,    69,   129,   234,   405,   793,  1930,  6708, 11550,
        1518,    88]), array([-4.74986219, -4.47398448, -4.19810676, -3.92222904, -3.64635133,
       -3.37047361, -3.09459589, -2.81871817, -2.54284046, -2.26696274,
       -1.99108502, -1.71520731, -1.43932959, -1.16345187, -0.88757415,
       -0.61169644, -0.33581872, -0.059941  ,  0.21593671,  0.49181443,
        0.76769215]))
||Xanchor-Xpos||_2  counter: 
[  91  207  446  662  808 1029 1109 1121  949  723  482  299  189   74   35
   16    4    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  14   51  167  324  593  840  974 1147 1121  981  771  555  330  210   93
   43   21    4    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  49.72078323   72.17049541   94.6202076   117.06991978  139.51963196
  161.96934414  184.41905632  206.8687685   229.31848068  251.76819286
  274.21790504  296.66761723  319.11732941  341.56704159  364.01675377
  386.46646595  408.91617813  431.36589031  453.81560249  476.26531467
  498.71502686]
distance difference  counter: 
(array([   1,    1,    1,    0,    4,    3,    6,    4,   10,   14,   22,
         51,   80,  164,  326,  689, 1874, 3790, 1106,  100]), array([-4.8961277 , -4.61885926, -4.34159082, -4.06432238, -3.78705394,
       -3.5097855 , -3.23251706, -2.95524862, -2.67798018, -2.40071175,
       -2.12344331, -1.84617487, -1.56890643, -1.29163799, -1.01436955,
       -0.73710111, -0.45983267, -0.18256423,  0.09470421,  0.37197265,
        0.64924109]))
train/val Accuracy = 0.538927629901 / 0.554814455494 
 with threshold: [[ 276.2361072]]
============ epoch 2 ===========
training loss:		0.268285
||Xanchor-Xpos||_2  counter: 
[ 187 1274 2561 2339 2715 2972 3031 2631 2023 1541  968  618  314  176   90
   41   20    8    6    2]
||Xanchor-Xneg||_2  counter: 
[  88  772 1842 2007 2379 3074 3292 3022 2440 1738 1214  757  441  212  124
   63   35   12    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  66.5508728    99.29009552  132.02931824  164.76854095  197.50776367
  230.24698639  262.98620911  295.72543182  328.46465454  361.20387726
  393.94309998  426.68232269  459.42154541  492.16076813  524.89999084
  557.63921356  590.37843628  623.117659    655.85688171  688.59610443
  721.33532715]
distance difference  counter: 
(array([    1,     1,     2,     1,     2,     1,     3,    10,    17,
          31,    51,    81,   163,   293,   639,  1344,  4374, 13784,
        2589,   131]), array([-5.27356148, -4.97185703, -4.67015257, -4.36844812, -4.06674367,
       -3.76503922, -3.46333477, -3.16163032, -2.85992587, -2.55822141,
       -2.25651696, -1.95481251, -1.65310806, -1.35140361, -1.04969916,
       -0.74799471, -0.44629025, -0.1445858 ,  0.15711865,  0.4588231 ,
        0.76052755]))
||Xanchor-Xpos||_2  counter: 
[  56  163  344  561  741  877 1024 1130  986  848  611  412  239  135   71
   30   13    4    1    0]
||Xanchor-Xneg||_2  counter: 
[   4   37  106  265  450  741  912  952 1096 1064  853  673  460  298  178
   76   53   18    4    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.75538635   65.98823013   87.22107391  108.45391769  129.68676147
  150.91960526  172.15244904  193.38529282  214.6181366   235.85098038
  257.08382416  278.31666794  299.54951172  320.7823555   342.01519928
  363.24804306  384.48088684  405.71373062  426.9465744   448.17941818
  469.41226196]
distance difference  counter: 
(array([   2,    1,    2,    4,    1,    3,   12,    7,   12,   11,   34,
         51,  103,  194,  385,  862, 2154, 3491,  835,   82]), array([-4.60334921, -4.34029084, -4.07723247, -3.8141741 , -3.55111573,
       -3.28805736, -3.02499899, -2.76194062, -2.49888225, -2.23582388,
       -1.97276551, -1.70970713, -1.44664876, -1.18359039, -0.92053202,
       -0.65747365, -0.39441528, -0.13135691,  0.13170146,  0.39475983,
        0.6578182 ]))
train/val Accuracy = 0.538119738073 / 0.555663351928 
 with threshold: [[ 273.82776372]]
============ epoch 3 ===========
training loss:		0.267101
||Xanchor-Xpos||_2  counter: 
[ 106  972 2472 2478 2632 3017 3107 2696 2144 1561 1003  618  366  191   83
   35   18   11    4    3]
||Xanchor-Xneg||_2  counter: 
[  48  587 1725 1963 2465 2959 3321 3134 2566 1826 1270  745  444  232  137
   54   21   13    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.59145355   91.52096291  124.45047226  157.37998161  190.30949097
  223.23900032  256.16850967  289.09801903  322.02752838  354.95703773
  387.88654709  420.81605644  453.7455658   486.67507515  519.6045845
  552.53409386  585.46360321  618.39311256  651.32262192  684.25213127
  717.18164062]
distance difference  counter: 
(array([    1,     2,     0,     3,     1,     1,    10,    13,    18,
          25,    53,   103,   159,   308,   660,  1445,  4919, 13428,
        2257,   112]), array([-5.18982649, -4.89187926, -4.59393203, -4.2959848 , -3.99803758,
       -3.70009035, -3.40214312, -3.10419589, -2.80624866, -2.50830144,
       -2.21035421, -1.91240698, -1.61445975, -1.31651253, -1.0185653 ,
       -0.72061807, -0.42267084, -0.12472361,  0.17322361,  0.47117084,
        0.76911807]))
||Xanchor-Xpos||_2  counter: 
[  53  200  403  651  903 1094 1143 1136  986  698  443  289  136   70   27
    9    5    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   45  145  318  626  897 1011 1197 1182  981  742  503  314  147   74
   38   15    2    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.62680817   65.70488396   88.78295975  111.86103554  134.93911133
  158.01718712  181.09526291  204.1733387   227.25141449  250.32949028
  273.40756607  296.48564186  319.56371765  342.64179344  365.71986923
  388.79794502  411.87602081  434.9540966   458.03217239  481.11024818
  504.18832397]
distance difference  counter: 
(array([   2,    2,    1,    1,    4,    1,    6,   17,    5,   25,   39,
         42,   89,  201,  386,  858, 2129, 3535,  837,   66]), array([-4.60364532, -4.34057043, -4.07749554, -3.81442065, -3.55134575,
       -3.28827086, -3.02519597, -2.76212108, -2.49904618, -2.23597129,
       -1.9728964 , -1.7098215 , -1.44674661, -1.18367172, -0.92059683,
       -0.65752193, -0.39444704, -0.13137215,  0.13170274,  0.39477764,
        0.65785253]))
train/val Accuracy = 0.539374096437 / 0.554753820034 
 with threshold: [[ 270.93626252]]
============ epoch 4 ===========
training loss:		0.265940
||Xanchor-Xpos||_2  counter: 
[ 104 1047 2574 2468 2677 3084 3066 2691 2215 1457  939  573  334  146   77
   34   23    4    1    3]
||Xanchor-Xneg||_2  counter: 
[  46  626 1764 2040 2478 3064 3415 2988 2559 1840 1138  745  413  190  116
   51   30    8    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.71879196   91.68606892  124.65334587  157.62062283  190.58789978
  223.55517673  256.52245369  289.48973064  322.4570076   355.42428455
  388.39156151  421.35883846  454.32611542  487.29339237  520.26066933
  553.22794628  586.19522324  619.16250019  652.12977715  685.0970541
  718.06433105]
distance difference  counter: 
(array([    2,     2,     1,     1,     3,     4,     7,     8,    19,
          30,    60,   117,   180,   334,   721,  1522,  5255, 13000,
        2140,   112]), array([-5.02966595, -4.74027773, -4.45088952, -4.1615013 , -3.87211308,
       -3.58272487, -3.29333665, -3.00394844, -2.71456022, -2.42517201,
       -2.13578379, -1.84639558, -1.55700736, -1.26761914, -0.97823093,
       -0.68884271, -0.3994545 , -0.11006628,  0.17932193,  0.46871015,
        0.75809836]))
||Xanchor-Xpos||_2  counter: 
[  63  201  414  666  888 1075 1192 1138  928  694  481  273  141   58   25
    5    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   47  147  339  616  936 1042 1147 1132 1010  743  504  292  163   62
   43   10    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.68178558   66.46738167   89.25297775  112.03857384  134.82416992
  157.60976601  180.39536209  203.18095818  225.96655426  248.75215034
  271.53774643  294.32334251  317.1089386   339.89453468  362.68013077
  385.46572685  408.25132294  431.03691902  453.82251511  476.60811119
  499.39370728]
distance difference  counter: 
(array([   1,    1,    4,    0,    3,    5,    5,   10,   11,   19,   34,
         45,   97,  197,  337,  815, 2006, 3570,  987,   99]), array([-4.56537056, -4.30552108, -4.04567161, -3.78582213, -3.52597265,
       -3.26612318, -3.0062737 , -2.74642422, -2.48657475, -2.22672527,
       -1.96687579, -1.70702631, -1.44717684, -1.18732736, -0.92747788,
       -0.66762841, -0.40777893, -0.14792945,  0.11192002,  0.3717695 ,
        0.63161898]))
train/val Accuracy = 0.538098477762 / 0.55220713073 
 with threshold: [[ 268.36393085]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.658220
||Xanchor-Xpos||_2  counter: 
[ 116  990 2534 2490 2743 3001 3080 2660 2135 1475 1024  604  323  164  100
   37   24    9    8    0]
||Xanchor-Xneg||_2  counter: 
[  52  566 1791 2031 2427 3120 3342 3042 2455 1839 1222  712  457  226  121
   68   28   13    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.58840942   92.16984711  124.75128479  157.33272247  189.91416016
  222.49559784  255.07703552  287.65847321  320.23991089  352.82134857
  385.40278625  417.98422394  450.56566162  483.1470993   515.72853699
  548.30997467  580.89141235  613.47285004  646.05428772  678.6357254
  711.21716309]
distance difference  counter: 
(array([    2,     2,     1,     3,     4,     7,     3,    13,    20,
          50,    73,   112,   222,   407,   781,  1845,  6282, 11816,
        1771,   104]), array([-4.70297098, -4.43056766, -4.15816435, -3.88576103, -3.61335771,
       -3.34095439, -3.06855108, -2.79614776, -2.52374444, -2.25134112,
       -1.9789378 , -1.70653449, -1.43413117, -1.16172785, -0.88932453,
       -0.61692122, -0.3445179 , -0.07211458,  0.20028874,  0.47269205,
        0.74509537]))
||Xanchor-Xpos||_2  counter: 
[  52  192  401  606  862 1022 1178 1137  977  734  524  293  147   74   26
   17    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   37  128  309  586  837 1024 1145 1188  973  802  542  322  186   95
   40   20    5    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  40.7046051    61.94946671   83.19432831  104.43918991  125.68405151
  146.92891312  168.17377472  189.41863632  210.66349792  231.90835953
  253.15322113  274.39808273  295.64294434  316.88780594  338.13266754
  359.37752914  380.62239075  401.86725235  423.11211395  444.35697556
  465.60183716]
distance difference  counter: 
(array([   1,    1,    2,    4,    2,    4,    2,    8,   12,   19,   29,
         47,   86,  190,  395,  847, 2113, 3595,  823,   66]), array([-4.64268541, -4.37742094, -4.11215647, -3.846892  , -3.58162752,
       -3.31636305, -3.05109858, -2.78583411, -2.52056963, -2.25530516,
       -1.99004069, -1.72477622, -1.45951174, -1.19424727, -0.9289828 ,
       -0.66371833, -0.39845386, -0.13318938,  0.13207509,  0.39733956,
        0.66260403]))
train/val Accuracy = 0.539437877371 / 0.544445791899 
 with threshold: [[ 268.15669163]]
============ epoch 1 ===========
training loss:		2.553615
||Xanchor-Xpos||_2  counter: 
[ 193 1311 2676 2581 2925 3151 3107 2524 1905 1357  815  436  278  127   82
   27   14    5    2    1]
||Xanchor-Xneg||_2  counter: 
[  81  829 1910 2224 2587 3335 3314 3073 2284 1604 1051  578  305  187   77
   46   22    7    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.57826614   88.90478191  119.23129768  149.55781345  179.88432922
  210.21084499  240.53736076  270.86387653  301.1903923   331.51690807
  361.84342384  392.16993961  422.49645538  452.82297115  483.14948692
  513.47600269  543.80251846  574.12903423  604.45555     634.78206577
  665.10858154]
distance difference  counter: 
(array([    1,     0,     0,     1,     6,     4,     4,    14,    19,
          30,    63,   103,   206,   376,   738,  1756,  5701, 12465,
        1917,   114]), array([-4.83654881, -4.55739113, -4.27823345, -3.99907577, -3.7199181 ,
       -3.44076042, -3.16160274, -2.88244506, -2.60328739, -2.32412971,
       -2.04497203, -1.76581436, -1.48665668, -1.207499  , -0.92834132,
       -0.64918365, -0.37002597, -0.09086829,  0.18828939,  0.46744706,
        0.74660474]))
||Xanchor-Xpos||_2  counter: 
[  77  215  369  632  813  950 1095 1114  982  767  497  388  187   90   42
   19    7    1    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   39  134  339  529  774  972 1073 1127 1008  787  639  359  227  119
   62   35    7    6    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  40.72209167   59.15465469   77.58721771   96.01978073  114.45234375
  132.88490677  151.31746979  169.75003281  188.18259583  206.61515884
  225.04772186  243.48028488  261.9128479   280.34541092  298.77797394
  317.21053696  335.64309998  354.07566299  372.50822601  390.94078903
  409.37335205]
distance difference  counter: 
(array([   2,    0,    1,    0,    3,    1,    5,    5,    8,   20,   21,
         36,   66,  147,  301,  639, 1650, 3866, 1367,  108]), array([-4.98928595, -4.70831881, -4.42735168, -4.14638454, -3.86541741,
       -3.58445027, -3.30348314, -3.02251601, -2.74154887, -2.46058174,
       -2.1796146 , -1.89864747, -1.61768034, -1.3367132 , -1.05574607,
       -0.77477893, -0.4938118 , -0.21284466,  0.06812247,  0.3490896 ,
        0.63005674]))
train/val Accuracy = 0.539756782039 / 0.543718166384 
 with threshold: [[ 243.4209627]]
============ epoch 2 ===========
training loss:		2.467334
||Xanchor-Xpos||_2  counter: 
[ 129 1064 2555 2493 2784 3226 2994 2729 2003 1483  952  502  316  158   67
   34   19    8    1    1]
||Xanchor-Xneg||_2  counter: 
[  49  629 1817 2126 2563 3096 3415 3014 2526 1715 1100  693  409  179  105
   42   20   13    3    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  49.18733597   76.48035564  103.77337532  131.066395    158.35941467
  185.65243435  212.94545403  240.2384737   267.53149338  294.82451305
  322.11753273  349.41055241  376.70357208  403.99659176  431.28961143
  458.58263111  485.87565079  513.16867046  540.46169014  567.75470982
  595.04772949]
distance difference  counter: 
(array([    2,     0,     2,     1,     1,     3,    10,    10,    17,
          28,    47,   105,   206,   322,   639,  1531,  5005, 13096,
        2388,   105]), array([-5.0056119 , -4.71812774, -4.43064358, -4.14315942, -3.85567526,
       -3.5681911 , -3.28070694, -2.99322278, -2.70573862, -2.41825446,
       -2.1307703 , -1.84328614, -1.55580198, -1.26831782, -0.98083366,
       -0.6933495 , -0.40586534, -0.11838118,  0.16910298,  0.45658714,
        0.7440713 ]))
||Xanchor-Xpos||_2  counter: 
[  54  186  393  590  758  961 1077 1179  989  771  554  359  191  101   55
   23    5    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   34  128  303  502  780  955 1074 1161 1004  811  632  387  239  123
   54   34   13    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  34.98096085   51.82307339   68.66518593   85.50729847  102.34941101
  119.19152355  136.03363609  152.87574863  169.71786118  186.55997372
  203.40208626  220.2441988   237.08631134  253.92842388  270.77053642
  287.61264896  304.45476151  321.29687405  338.13898659  354.98109913
  371.82321167]
distance difference  counter: 
(array([   1,    0,    0,    0,    3,    2,    3,    2,    5,   14,   18,
         29,   53,  100,  226,  517, 1428, 3950, 1774,  121]), array([-5.46787071, -5.1621581 , -4.8564455 , -4.55073289, -4.24502028,
       -3.93930767, -3.63359507, -3.32788246, -3.02216985, -2.71645724,
       -2.41074464, -2.10503203, -1.79931942, -1.49360681, -1.18789421,
       -0.8821816 , -0.57646899, -0.27075638,  0.03495622,  0.34066883,
        0.64638144]))
train/val Accuracy = 0.540139467642 / 0.545173417415 
 with threshold: [[ 220.93400527]]
============ epoch 3 ===========
training loss:		2.396167
||Xanchor-Xpos||_2  counter: 
[ 172 1158 2626 2476 2867 3123 3023 2671 1960 1435  896  553  279  166   58
   31   13    9    2    0]
||Xanchor-Xneg||_2  counter: 
[  70  704 1853 2062 2639 3208 3349 3008 2397 1774 1095  604  366  209   91
   49   24   10    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.69280624   71.41719608   96.14158592  120.86597576  145.5903656
  170.31475544  195.03914528  219.76353512  244.48792496  269.2123148
  293.93670464  318.66109447  343.38548431  368.10987415  392.83426399
  417.55865383  442.28304367  467.00743351  491.73182335  516.45621319
  541.18060303]
distance difference  counter: 
(array([    1,     1,     1,     7,     3,     5,    10,    13,    25,
          52,    80,   113,   248,   450,   842,  1881,  6762, 11281,
        1638,   105]), array([-4.55752993, -4.29289404, -4.02825814, -3.76362225, -3.49898636,
       -3.23435047, -2.96971458, -2.70507869, -2.4404428 , -2.17580691,
       -1.91117102, -1.64653513, -1.38189924, -1.11726335, -0.85262746,
       -0.58799157, -0.32335567, -0.05871978,  0.20591611,  0.470552  ,
        0.73518789]))
||Xanchor-Xpos||_2  counter: 
[  51  175  396  588  796  988 1130 1160  987  762  549  329  176  100   34
   19    4    1    1    0]
||Xanchor-Xneg||_2  counter: 
[   8   36  114  305  527  790 1015 1097 1144 1020  820  599  344  215  119
   51   26   12    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.49274826   46.08896198   61.6851757    77.28138943   92.87760315
  108.47381687  124.07003059  139.66624432  155.26245804  170.85867176
  186.45488548  202.05109921  217.64731293  233.24352665  248.83974037
  264.43595409  280.03216782  295.62838154  311.22459526  326.82080898
  342.41702271]
distance difference  counter: 
(array([   1,    0,    1,    2,    2,    3,    6,    5,   12,   10,   19,
         43,   80,  140,  295,  678, 1778, 3858, 1220,   93]), array([-4.96811295, -4.68738428, -4.40665561, -4.12592694, -3.84519827,
       -3.56446961, -3.28374094, -3.00301227, -2.7222836 , -2.44155493,
       -2.16082627, -1.8800976 , -1.59936893, -1.31864026, -1.03791159,
       -0.75718293, -0.47645426, -0.19572559,  0.08500308,  0.36573175,
        0.64646041]))
train/val Accuracy = 0.538906369589 / 0.543536260005 
 with threshold: [[ 200.65326542]]
============ epoch 4 ===========
training loss:		2.337466
||Xanchor-Xpos||_2  counter: 
[ 131 1112 2636 2498 2875 3177 3133 2603 2018 1422  866  502  259  157   66
   37   16    8    1    0]
||Xanchor-Xneg||_2  counter: 
[  59  668 1804 2186 2518 3259 3447 3022 2449 1670 1079  636  359  185   98
   42   23    6    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  40.92580414   63.65338478   86.38096542  109.10854607  131.83612671
  154.56370735  177.29128799  200.01886864  222.74644928  245.47402992
  268.20161057  290.92919121  313.65677185  336.38435249  359.11193314
  381.83951378  404.56709442  427.29467506  450.02225571  472.74983635
  495.47741699]
distance difference  counter: 
(array([    3,     4,     5,     4,     5,    14,    13,    35,    42,
          82,   140,   207,   383,   637,  1332,  3327, 10990,  5534,
         714,    47]), array([-3.93738508, -3.70235759, -3.46733009, -3.2323026 , -2.9972751 ,
       -2.76224761, -2.52722011, -2.29219262, -2.05716512, -1.82213763,
       -1.58711013, -1.35208264, -1.11705514, -0.88202765, -0.64700015,
       -0.41197266, -0.17694516,  0.05808233,  0.29310983,  0.52813732,
        0.76316482]))
||Xanchor-Xpos||_2  counter: 
[  57  193  385  581  802  942 1121 1102  991  806  544  369  178   95   52
   18    8    1    1    0]
||Xanchor-Xneg||_2  counter: 
[   6   40  124  288  507  791  960 1085 1149 1009  822  608  378  250  116
   62   33   13    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.85518265   42.75013561   56.64508858   70.54004154   84.43499451
   98.32994747  112.22490044  126.1198534   140.01480637  153.90975933
  167.8047123   181.69966526  195.59461823  209.48957119  223.38452415
  237.27947712  251.17443008  265.06938305  278.96433601  292.85928898
  306.75424194]
distance difference  counter: 
(array([   1,    1,    0,    4,    1,    2,    6,   10,   17,   16,   25,
         45,   99,  181,  339,  799, 2057, 3672,  913,   58]), array([-4.73751783, -4.467498  , -4.19747817, -3.92745834, -3.6574385 ,
       -3.38741867, -3.11739884, -2.84737901, -2.57735918, -2.30733934,
       -2.03731951, -1.76729968, -1.49727985, -1.22726001, -0.95724018,
       -0.68722035, -0.41720052, -0.14718069,  0.12283915,  0.39285898,
        0.66287881]))
train/val Accuracy = 0.539969385152 / 0.544930875576 
 with threshold: [[ 182.36544541]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027114
||Xanchor-Xpos||_2  counter: 
[ 111  881 2487 2399 2614 2971 3015 2760 2202 1605 1042  654  373  213   89
   62   17   15    4    3]
||Xanchor-Xneg||_2  counter: 
[  39  530 1681 2018 2287 2929 3306 3088 2652 1866 1309  819  476  246  139
   77   37    9    7    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  60.9307251    94.25192566  127.57312622  160.89432678  194.21552734
  227.53672791  260.85792847  294.17912903  327.50032959  360.82153015
  394.14273071  427.46393127  460.78513184  494.1063324   527.42753296
  560.74873352  594.06993408  627.39113464  660.71233521  694.03353577
  727.35473633]
distance difference  counter: 
(array([    1,     0,     0,     0,     2,     4,     3,     8,    13,
          18,    28,    90,   137,   264,   516,  1189,  3781, 13929,
        3380,   155]), array([-5.54075623, -5.22572548, -4.91069474, -4.595664  , -4.28063326,
       -3.96560252, -3.65057178, -3.33554103, -3.02051029, -2.70547955,
       -2.39044881, -2.07541807, -1.76038733, -1.44535658, -1.13032584,
       -0.8152951 , -0.50026436, -0.18523362,  0.12979712,  0.44482787,
        0.75985861]))
||Xanchor-Xpos||_2  counter: 
[  56  176  393  581  752  937 1083 1062 1028  797  559  397  216  118   63
   17    6    3    2    0]
||Xanchor-Xneg||_2  counter: 
[  11   35  130  298  476  801  907 1059 1114 1033  843  595  433  259  135
   58   33   18    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.41665649   67.58269501   89.74873352  111.91477203  134.08081055
  156.24684906  178.41288757  200.57892609  222.7449646   244.91100311
  267.07704163  289.24308014  311.40911865  333.57515717  355.74119568
  377.90723419  400.07327271  422.23931122  444.40534973  466.57138824
  488.73742676]
distance difference  counter: 
(array([   1,    1,    0,    0,    2,    5,    4,    4,    9,    9,   16,
         20,   53,  114,  220,  479, 1309, 3689, 2098,  213]), array([-5.36923409, -5.07047409, -4.7717141 , -4.47295411, -4.17419412,
       -3.87543413, -3.57667414, -3.27791415, -2.97915416, -2.68039417,
       -2.38163418, -2.08287418, -1.78411419, -1.4853542 , -1.18659421,
       -0.88783422, -0.58907423, -0.29031424,  0.00844575,  0.30720574,
        0.60596573]))
train/val Accuracy = 0.538672506165 / 0.551297598836 
 with threshold: [[ 278.60799057]]
============ epoch 1 ===========
training loss:		0.026991
||Xanchor-Xpos||_2  counter: 
[ 141 1205 2705 2613 2897 3270 3092 2646 1934 1315  810  413  236  127   71
   27    6    8    1    1]
||Xanchor-Xneg||_2  counter: 
[  60  728 1946 2259 2551 3438 3346 3152 2311 1552 1005  559  289  178   77
   41   14    7    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.25064087   97.35215607  132.45367126  167.55518646  202.65670166
  237.75821686  272.85973206  307.96124725  343.06276245  378.16427765
  413.26579285  448.36730804  483.46882324  518.57033844  553.67185364
  588.77336884  623.87488403  658.97639923  694.07791443  729.17942963
  764.28094482]
distance difference  counter: 
(array([    1,     1,     0,     1,     2,     7,     7,     8,    16,
          44,    55,   104,   214,   355,   713,  1642,  5547, 12691,
        1996,   114]), array([-4.90488005, -4.6220628 , -4.33924555, -4.0564283 , -3.77361106,
       -3.49079381, -3.20797656, -2.92515931, -2.64234207, -2.35952482,
       -2.07670757, -1.79389032, -1.51107308, -1.22825583, -0.94543858,
       -0.66262133, -0.37980409, -0.09698684,  0.18583041,  0.46864766,
        0.7514649 ]))
||Xanchor-Xpos||_2  counter: 
[  66  196  401  554  777  991 1070 1056 1017  747  565  402  197  129   43
   27    6    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  10   41  141  294  517  808  914 1078 1056 1014  828  609  440  230  143
   66   36   13    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.2844429    68.18838634   90.09232979  111.99627323  133.90021667
  155.80416012  177.70810356  199.612047    221.51599045  243.41993389
  265.32387733  287.22782078  309.13176422  331.03570766  352.93965111
  374.84359455  396.74753799  418.65148144  440.55542488  462.45936832
  484.36331177]
distance difference  counter: 
(array([   1,    0,    0,    0,    4,    1,    2,    6,   10,   10,   17,
         33,   52,  108,  242,  548, 1401, 3883, 1775,  153]), array([-5.37677383, -5.07627172, -4.77576961, -4.4752675 , -4.17476538,
       -3.87426327, -3.57376116, -3.27325905, -2.97275693, -2.67225482,
       -2.37175271, -2.0712506 , -1.77074848, -1.47024637, -1.16974426,
       -0.86924215, -0.56874003, -0.26823792,  0.03226419,  0.3327663 ,
        0.63326842]))
train/val Accuracy = 0.539501658304 / 0.552692214407 
 with threshold: [[ 276.11983216]]
============ epoch 2 ===========
training loss:		0.026870
||Xanchor-Xpos||_2  counter: 
[  71  727 2413 2505 2546 2976 3072 2860 2167 1668 1045  682  369  201  124
   52   19   12    7    2]
||Xanchor-Xneg||_2  counter: 
[  23  446 1576 2008 2283 2880 3363 3136 2708 1948 1282  826  496  251  164
   63   40   14    9    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  55.95594788   88.91778793  121.87962799  154.84146805  187.80330811
  220.76514816  253.72698822  286.68882828  319.65066833  352.61250839
  385.57434845  418.53618851  451.49802856  484.45986862  517.42170868
  550.38354874  583.34538879  616.30722885  649.26906891  682.23090897
  715.19274902]
distance difference  counter: 
(array([    2,     1,     2,     2,     7,     3,     6,    12,    16,
          45,    57,   108,   218,   334,   690,  1576,  5065, 12822,
        2390,   162]), array([-4.83271837, -4.55510338, -4.27748839, -3.99987339, -3.7222584 ,
       -3.44464341, -3.16702842, -2.88941342, -2.61179843, -2.33418344,
       -2.05656844, -1.77895345, -1.50133846, -1.22372347, -0.94610847,
       -0.66849348, -0.39087849, -0.11326349,  0.1643515 ,  0.44196649,
        0.71958148]))
||Xanchor-Xpos||_2  counter: 
[  58  152  356  510  659  887  972 1036 1006  851  627  471  307  174   97
   46   25    7    4    1]
||Xanchor-Xneg||_2  counter: 
[   7   33  116  238  422  665  844  958 1017 1008  905  714  542  334  223
  102   63   34   16    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.90475464   66.36747131   86.83018799  107.29290466  127.75562134
  148.21833801  168.68105469  189.14377136  209.60648804  230.06920471
  250.53192139  270.99463806  291.45735474  311.92007141  332.38278809
  352.84550476  373.30822144  393.77093811  414.23365479  434.69637146
  455.15908813]
distance difference  counter: 
(array([   1,    0,    2,    1,    2,    2,    1,    6,    7,   10,   19,
         25,   64,  114,  211,  518, 1425, 3891, 1787,  160]), array([-5.38458967, -5.08368186, -4.78277404, -4.48186623, -4.18095841,
       -3.8800506 , -3.57914279, -3.27823497, -2.97732716, -2.67641934,
       -2.37551153, -2.07460371, -1.7736959 , -1.47278808, -1.17188027,
       -0.87097245, -0.57006464, -0.26915683,  0.03175099,  0.3326588 ,
        0.63356662]))
train/val Accuracy = 0.538948890212 / 0.552328401649 
 with threshold: [[ 273.54260778]]
============ epoch 3 ===========
training loss:		0.026752
||Xanchor-Xpos||_2  counter: 
[ 195 1143 2575 2365 2565 3014 3000 2662 2133 1546  971  597  359  187  102
   44   38   16    6    0]
||Xanchor-Xneg||_2  counter: 
[  88  715 1794 1990 2387 3028 3211 3022 2474 1829 1209  789  466  271  107
   69   40   17    6    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  66.2931366    98.30442886  130.31572113  162.3270134   194.33830566
  226.34959793  258.3608902   290.37218246  322.38347473  354.394767
  386.40605927  418.41735153  450.4286438   482.43993607  514.45122833
  546.4625206   578.47381287  610.48510513  642.4963974   674.50768967
  706.51898193]
distance difference  counter: 
(array([    1,     1,     0,     0,     3,     8,     4,     7,    17,
          26,    54,   105,   182,   321,   654,  1524,  4915, 13359,
        2224,   113]), array([-5.12129831, -4.82703564, -4.53277298, -4.23851031, -3.94424764,
       -3.64998497, -3.3557223 , -3.06145963, -2.76719697, -2.4729343 ,
       -2.17867163, -1.88440896, -1.59014629, -1.29588362, -1.00162095,
       -0.70735829, -0.41309562, -0.11883295,  0.17542972,  0.46969239,
        0.76395506]))
||Xanchor-Xpos||_2  counter: 
[  71  170  403  574  799  913 1048 1149  997  740  585  387  201  120   52
   22   11    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   47  122  299  534  779  919 1066 1075 1016  829  626  422  241  142
   71   34   17    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.81857681   66.36470699   87.91083717  109.45696735  131.00309753
  152.54922771  174.09535789  195.64148808  217.18761826  238.73374844
  260.27987862  281.8260088   303.37213898  324.91826916  346.46439934
  368.01052952  389.5566597   411.10278988  432.64892006  454.19505024
  475.74118042]
distance difference  counter: 
(array([   1,    0,    0,    0,    1,    1,    2,    4,    4,    9,   12,
         19,   33,   64,  135,  371,  961, 3302, 3091,  236]), array([-6.24178934, -5.89800678, -5.55422422, -5.21044166, -4.8666591 ,
       -4.52287655, -4.17909399, -3.83531143, -3.49152887, -3.14774631,
       -2.80396375, -2.46018119, -2.11639863, -1.77261607, -1.42883351,
       -1.08505096, -0.7412684 , -0.39748584, -0.05370328,  0.29007928,
        0.63386184]))
train/val Accuracy = 0.539140233013 / 0.551843317972 
 with threshold: [[ 271.09585371]]
============ epoch 4 ===========
training loss:		0.026636
||Xanchor-Xpos||_2  counter: 
[  99  928 2490 2377 2563 2883 3041 2814 2177 1681  998  651  386  206  104
   72   27   11    7    3]
||Xanchor-Xneg||_2  counter: 
[  48  568 1682 1956 2303 2878 3230 3144 2646 1920 1255  807  499  271  161
   78   41   22    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.96928406   91.78539505  123.60150604  155.41761703  187.23372803
  219.04983902  250.86595001  282.682061    314.498172    346.31428299
  378.13039398  409.94650497  441.76261597  473.57872696  505.39483795
  537.21094894  569.02705994  600.84317093  632.65928192  664.47539291
  696.29150391]
distance difference  counter: 
(array([    1,     1,     1,     1,     1,     4,     7,     6,    18,
          31,    47,   102,   195,   320,   616,  1465,  4956, 13269,
        2359,   118]), array([-5.09473419, -4.80233313, -4.50993207, -4.21753101, -3.92512995,
       -3.63272889, -3.34032783, -3.04792677, -2.75552571, -2.46312465,
       -2.17072359, -1.87832253, -1.58592147, -1.29352041, -1.00111935,
       -0.70871828, -0.41631722, -0.12391616,  0.1684849 ,  0.46088596,
        0.75328702]))
||Xanchor-Xpos||_2  counter: 
[  70  186  413  584  764  948 1098 1079 1020  748  553  351  223  125   52
   23    7    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   47  140  289  510  803  911 1030 1114 1024  839  627  405  246  125
   74   34   15    1    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.30434418   66.61415443   87.92396469  109.23377495  130.54358521
  151.85339546  173.16320572  194.47301598  215.78282623  237.09263649
  258.40244675  279.712257    301.02206726  322.33187752  343.64168777
  364.95149803  386.26130829  407.57111855  428.8809288   450.19073906
  471.50054932]
distance difference  counter: 
(array([   1,    0,    3,    3,    2,    7,   10,    5,   13,   16,   18,
         53,  101,  170,  340,  818, 2005, 3674,  914,   93]), array([-4.70942307, -4.44129902, -4.17317497, -3.90505092, -3.63692687,
       -3.36880282, -3.10067877, -2.83255472, -2.56443067, -2.29630662,
       -2.02818257, -1.76005852, -1.49193447, -1.22381042, -0.95568637,
       -0.68756232, -0.41943827, -0.15131422,  0.11680983,  0.38493388,
        0.65305793]))
train/val Accuracy = 0.538374861808 / 0.554450642736 
 with threshold: [[ 268.51589665]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.265763
||Xanchor-Xpos||_2  counter: 
[ 178 1351 2734 2693 2950 3225 3129 2533 1935 1258  718  415  214  100   49
   21    9    3    2    1]
||Xanchor-Xneg||_2  counter: 
[  76  815 1984 2243 2767 3380 3460 3050 2255 1505  958  504  267  129   73
   35   11    4    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  61.87553406   96.68155899  131.48758392  166.29360886  201.09963379
  235.90565872  270.71168365  305.51770859  340.32373352  375.12975845
  409.93578339  444.74180832  479.54783325  514.35385818  549.15988312
  583.96590805  618.77193298  653.57795792  688.38398285  723.19000778
  757.99603271]
distance difference  counter: 
(array([   1,    2,    5,    5,    4,    5,    8,   20,   35,   52,   97,
        144,  271,  478,  955, 2227, 8331, 9595, 1201,   82]), array([-4.44540453, -4.18517037, -3.92493621, -3.66470205, -3.40446789,
       -3.14423373, -2.88399957, -2.62376541, -2.36353126, -2.1032971 ,
       -1.84306294, -1.58282878, -1.32259462, -1.06236046, -0.8021263 ,
       -0.54189214, -0.28165798, -0.02142382,  0.23881034,  0.4990445 ,
        0.75927866]))
||Xanchor-Xpos||_2  counter: 
[  58  168  377  508  714  884 1026 1074 1005  840  619  421  267  151   83
   32   11    6    2    0]
||Xanchor-Xneg||_2  counter: 
[   9   31  114  251  441  669  864 1010 1072 1050  872  710  459  325  182
   95   45   25   17    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.30491638   62.20253525   82.10015411  101.99777298  121.89539185
  141.79301071  161.69062958  181.58824844  201.48586731  221.38348618
  241.28110504  261.17872391  281.07634277  300.97396164  320.87158051
  340.76919937  360.66681824  380.5644371   400.46205597  420.35967484
  440.2572937 ]
distance difference  counter: 
(array([   2,    2,    0,    2,    3,    4,   15,    9,    8,   33,   28,
         53,   99,  174,  379,  850, 2116, 3510,  874,   85]), array([-4.5754838 , -4.31439175, -4.05329971, -3.79220766, -3.53111562,
       -3.27002357, -3.00893152, -2.74783948, -2.48674743, -2.22565539,
       -1.96456334, -1.70347129, -1.44237925, -1.1812872 , -0.92019516,
       -0.65910311, -0.39801106, -0.13691902,  0.12417303,  0.38526507,
        0.64635712]))
train/val Accuracy = 0.539714261417 / 0.543839437303 
 with threshold: [[ 270.07051707]]
============ epoch 1 ===========
training loss:		0.255282
||Xanchor-Xpos||_2  counter: 
[ 145 1238 2740 2527 2979 3246 3094 2632 1948 1305  751  458  241  118   59
   23    8    4    2    0]
||Xanchor-Xneg||_2  counter: 
[  66  756 1958 2154 2689 3327 3508 3068 2256 1612  985  580  293  146   67
   27   18    4    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  54.64848709   86.02661572  117.40474434  148.78287296  180.16100159
  211.53913021  242.91725883  274.29538746  305.67351608  337.05164471
  368.42977333  399.80790195  431.18603058  462.5641592   493.94228783
  525.32041645  556.69854507  588.0766737   619.45480232  650.83293095
  682.21105957]
distance difference  counter: 
(array([    2,     1,     0,     2,     4,     5,    15,    10,    20,
          41,    83,   146,   200,   371,   827,  1861,  6390, 11680,
        1738,   122]), array([-4.67910433, -4.40800014, -4.13689596, -3.86579178, -3.59468759,
       -3.32358341, -3.05247923, -2.78137504, -2.51027086, -2.23916667,
       -1.96806249, -1.69695831, -1.42585412, -1.15474994, -0.88364576,
       -0.61254157, -0.34143739, -0.0703332 ,  0.20077098,  0.47187516,
        0.74297935]))
||Xanchor-Xpos||_2  counter: 
[  55  159  332  496  717  907  951 1063  994  866  665  442  269  180   90
   36   11   10    3    0]
||Xanchor-Xneg||_2  counter: 
[   6   33   95  259  417  658  853  937 1088 1042  885  719  511  332  207
  111   49   25   16    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  38.14486313   56.05417576   73.96348839   91.87280102  109.78211365
  127.69142628  145.60073891  163.51005154  181.41936417  199.3286768
  217.23798943  235.14730206  253.05661469  270.96592731  288.87523994
  306.78455257  324.6938652   342.60317783  360.51249046  378.42180309
  396.33111572]
distance difference  counter: 
(array([   1,    4,    1,    1,    0,    4,    3,    9,   12,   14,   29,
         40,   88,  148,  330,  664, 1875, 3820, 1088,  115]), array([-4.89037275, -4.61351602, -4.33665929, -4.05980256, -3.78294582,
       -3.50608909, -3.22923236, -2.95237563, -2.67551889, -2.39866216,
       -2.12180543, -1.8449487 , -1.56809196, -1.29123523, -1.0143785 ,
       -0.73752177, -0.46066504, -0.1838083 ,  0.09304843,  0.36990516,
        0.64676189]))
train/val Accuracy = 0.539629220172 / 0.546871210284 
 with threshold: [[ 245.16779083]]
============ epoch 2 ===========
training loss:		0.246637
||Xanchor-Xpos||_2  counter: 
[  83  920 2444 2372 2627 3043 3042 2717 2217 1598 1055  646  363  207  106
   41   19   11    3    3]
||Xanchor-Xneg||_2  counter: 
[  37  516 1667 1997 2338 2934 3343 3117 2577 1877 1324  828  455  251  136
   69   34   14    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  47.0984993    74.02555065  100.95260201  127.87965336  154.80670471
  181.73375607  208.66080742  235.58785877  262.51491013  289.44196148
  316.36901283  343.29606419  370.22311554  397.15016689  424.07721825
  451.0042696   477.93132095  504.85837231  531.78542366  558.71247501
  585.63952637]
distance difference  counter: 
(array([    1,     0,     1,     6,     4,     4,     4,     8,    16,
          35,    57,    98,   184,   329,   682,  1504,  5209, 13157,
        2116,   103]), array([-5.08497477, -4.79244214, -4.49990951, -4.20737688, -3.91484425,
       -3.62231162, -3.32977899, -3.03724636, -2.74471374, -2.45218111,
       -2.15964848, -1.86711585, -1.57458322, -1.28205059, -0.98951796,
       -0.69698533, -0.40445271, -0.11192008,  0.18061255,  0.47314518,
        0.76567781]))
||Xanchor-Xpos||_2  counter: 
[  51  157  346  526  727  897  990 1121  964  852  616  446  253  153   84
   40   14    7    2    0]
||Xanchor-Xneg||_2  counter: 
[   6   35  104  245  433  680  859  965 1092 1032  895  707  491  327  173
  104   55   27   12    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  34.34406281   50.77658348   67.20910416   83.64162483  100.07414551
  116.50666618  132.93918686  149.37170753  165.80422821  182.23674889
  198.66926956  215.10179024  231.53431091  247.96683159  264.39935226
  280.83187294  297.26439362  313.69691429  330.12943497  346.56195564
  362.99447632]
distance difference  counter: 
(array([   2,    0,    1,    4,    0,    3,    9,   10,   13,   19,   31,
         47,   91,  179,  349,  811, 2021, 3672,  891,   93]), array([-4.73987007, -4.47003309, -4.20019611, -3.93035913, -3.66052215,
       -3.39068517, -3.12084819, -2.85101121, -2.58117423, -2.31133725,
       -2.04150027, -1.77166329, -1.50182631, -1.23198933, -0.96215235,
       -0.69231537, -0.42247839, -0.15264141,  0.11719557,  0.38703255,
        0.65686953]))
train/val Accuracy = 0.539969385152 / 0.547235023041 
 with threshold: [[ 222.91762227]]
============ epoch 3 ===========
training loss:		0.239506
||Xanchor-Xpos||_2  counter: 
[ 160 1116 2587 2428 2732 3061 3049 2587 2124 1453  993  560  343  154   85
   47   22    8    6    3]
||Xanchor-Xneg||_2  counter: 
[  74  713 1797 2070 2355 3135 3289 2997 2538 1797 1163  710  429  226  136
   42   28   13    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  47.18937302   71.69641132   96.20344963  120.71048794  145.21752625
  169.72456455  194.23160286  218.73864117  243.24567947  267.75271778
  292.25975609  316.7667944   341.2738327   365.78087101  390.28790932
  414.79494762  439.30198593  463.80902424  488.31606255  512.82310085
  537.33013916]
distance difference  counter: 
(array([    4,     3,     2,     1,     8,     9,    14,    26,    41,
          56,   101,   164,   333,   569,  1054,  2590, 10100,  7505,
         889,    49]), array([-4.26865482, -4.01647141, -3.764288  , -3.51210458, -3.25992117,
       -3.00773776, -2.75555434, -2.50337093, -2.25118752, -1.9990041 ,
       -1.74682069, -1.49463727, -1.24245386, -0.99027045, -0.73808703,
       -0.48590362, -0.23372021,  0.01846321,  0.27064662,  0.52283003,
        0.77501345]))
||Xanchor-Xpos||_2  counter: 
[  51  174  363  563  727  933 1078 1184  942  777  591  421  200  141   64
   22   11    3    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   33  113  274  481  722  918 1039 1078 1065  842  668  429  268  159
   79   43   19    3    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  31.0958004    46.445263     61.79472561   77.14418821   92.49365082
  107.84311342  123.19257603  138.54203863  153.89150124  169.24096384
  184.59042645  199.93988905  215.28935165  230.63881426  245.98827686
  261.33773947  276.68720207  292.03666468  307.38612728  322.73558989
  338.08505249]
distance difference  counter: 
(array([   1,    1,    0,    0,    3,    2,    6,    5,   14,    5,   27,
         43,   59,  129,  264,  575, 1510, 3893, 1565,  144]), array([-5.20324278, -4.9115649 , -4.61988701, -4.32820913, -4.03653125,
       -3.74485336, -3.45317548, -3.1614976 , -2.86981971, -2.57814183,
       -2.28646395, -1.99478606, -1.70310818, -1.4114303 , -1.11975241,
       -0.82807453, -0.53639665, -0.24471876,  0.04695912,  0.338637  ,
        0.63031489]))
train/val Accuracy = 0.539799302662 / 0.546446762066 
 with threshold: [[ 202.50581731]]
============ epoch 4 ===========
training loss:		0.233624
||Xanchor-Xpos||_2  counter: 
[ 129 1143 2555 2505 2832 3201 3026 2686 2168 1324  920  495  278  135   67
   27   15   10    0    1]
||Xanchor-Xneg||_2  counter: 
[  52  660 1831 2116 2504 3136 3451 3093 2504 1733 1082  633  345  196   97
   47   22   12    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  40.28296661   63.29838371   86.31380081  109.32921791  132.34463501
  155.36005211  178.37546921  201.39088631  224.40630341  247.4217205
  270.4371376   293.4525547   316.4679718   339.4833889   362.498806
  385.5142231   408.5296402   431.5450573   454.5604744   477.57589149
  500.59130859]
distance difference  counter: 
(array([    1,     2,     1,     2,     1,     4,    10,     9,    33,
          40,    56,   122,   215,   384,   729,  1690,  5735, 12414,
        1951,   119]), array([-4.8151288 , -4.53719033, -4.25925186, -3.98131338, -3.70337491,
       -3.42543644, -3.14749796, -2.86955949, -2.59162102, -2.31368254,
       -2.03574407, -1.7578056 , -1.47986712, -1.20192865, -0.92399018,
       -0.6460517 , -0.36811323, -0.09017476,  0.18776371,  0.46570219,
        0.74364066]))
||Xanchor-Xpos||_2  counter: 
[  62  177  388  566  751  942 1072 1097  975  801  576  417  205  124   53
   27   10    2    1    0]
||Xanchor-Xneg||_2  counter: 
[  11   41  115  287  475  758  908 1028 1088 1082  826  648  407  269  150
   88   40   16    7    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.98159981   42.92123594   56.86087208   70.80050821   84.74014435
   98.67978048  112.61941662  126.55905275  140.49868889  154.43832502
  168.37796116  182.31759729  196.25723343  210.19686956  224.1365057
  238.07614183  252.01577797  265.9554141   279.89505024  293.83468637
  307.77432251]
distance difference  counter: 
(array([   4,    2,    4,    1,    2,    6,    5,    7,   12,   23,   35,
         51,   75,  193,  364,  769, 1937, 3634, 1011,  111]), array([-4.63984919, -4.37634704, -4.1128449 , -3.84934275, -3.58584061,
       -3.32233846, -3.05883632, -2.79533417, -2.53183203, -2.26832988,
       -2.00482774, -1.74132559, -1.47782345, -1.2143213 , -0.95081916,
       -0.68731701, -0.42381487, -0.16031272,  0.10318942,  0.36669157,
        0.63019371]))
train/val Accuracy = 0.541585168807 / 0.546568032986 
 with threshold: [[ 184.05083728]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.361618
||Xanchor-Xpos||_2  counter: 
[ 410 2250 3330 3814 3489 2782 2243 1734 1235  826  577  336  203  146   59
   41   17   17    3    4]
||Xanchor-Xneg||_2  counter: 
[ 227 1594 2850 3644 3616 2978 2519 1893 1444  996  675  443  289  147   82
   62   27   15   13    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.61370468   58.41221867   88.21073265  118.00924664  147.80776062
  177.6062746   207.40478859  237.20330257  267.00181656  296.80033054
  326.59884453  356.39735851  386.1958725   415.99438648  445.79290047
  475.59141445  505.38992844  535.18844242  564.98695641  594.78547039
  624.58398438]
distance difference  counter: 
(array([    2,     1,     2,     1,     2,     6,     9,     6,    11,
          43,    63,   124,   182,   381,   684,  1661,  5867, 12529,
        1849,    95]), array([-4.98612452, -4.69810925, -4.41009398, -4.1220787 , -3.83406343,
       -3.54604816, -3.25803289, -2.97001762, -2.68200235, -2.39398708,
       -2.10597181, -1.81795654, -1.52994127, -1.241926  , -0.95391073,
       -0.66589546, -0.37788019, -0.08986492,  0.19815035,  0.48616562,
        0.77418089]))
||Xanchor-Xpos||_2  counter: 
[  64  217  380  605  826 1010 1161 1060  966  748  531  334  176   99   38
   24    4    2    1    0]
||Xanchor-Xneg||_2  counter: 
[  13   42  143  305  553  831  966 1081 1130  996  780  603  382  214  106
   52   27   14    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.63308144   26.02176886   34.41045628   42.7991437    51.18783112
   59.57651854   67.96520596   76.35389338   84.7425808    93.13126822
  101.51995564  109.90864305  118.29733047  126.68601789  135.07470531
  143.46339273  151.85208015  160.24076757  168.62945499  177.01814241
  185.40682983]
distance difference  counter: 
(array([   2,    0,    1,    2,    3,    2,    4,   10,   15,   19,   26,
         54,   88,  188,  341,  841, 2197, 3585,  803,   65]), array([-4.73926115, -4.46837288, -4.1974846 , -3.92659633, -3.65570805,
       -3.38481978, -3.1139315 , -2.84304323, -2.57215495, -2.30126668,
       -2.0303784 , -1.75949013, -1.48860185, -1.21771358, -0.9468253 ,
       -0.67593703, -0.40504875, -0.13416048,  0.1367278 ,  0.40761607,
        0.67850435]))
train/val Accuracy = 0.52889276299 / 0.50006063546 
 with threshold: [[ 185.26953564]]
============ epoch 1 ===========
training loss:		2.101185
||Xanchor-Xpos||_2  counter: 
[ 727 3119 4307 4186 3503 2614 1817 1314  832  507  283  155   80   40   18
    6    7    2    0    1]
||Xanchor-Xneg||_2  counter: 
[ 469 2298 3791 4364 3663 2902 2125 1492 1013  640  357  185  106   60   31
   12    6    2    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  11.43549728   24.29196644   37.14843559   50.00490475   62.8613739
   75.71784306   88.57431221  101.43078136  114.28725052  127.14371967
  140.00018883  152.85665798  165.71312714  178.56959629  191.42606544
  204.2825346   217.13900375  229.99547291  242.85194206  255.70841122
  268.56488037]
distance difference  counter: 
(array([    2,     0,     3,     1,     3,     6,     6,     9,    16,
          36,    57,   120,   196,   349,   717,  1716,  5696, 12656,
        1838,    91]), array([-4.98522186, -4.69731152, -4.40940118, -4.12149085, -3.83358051,
       -3.54567017, -3.25775983, -2.96984949, -2.68193915, -2.39402881,
       -2.10611847, -1.81820813, -1.53029779, -1.24238745, -0.95447711,
       -0.66656677, -0.37865644, -0.0907461 ,  0.19716424,  0.48507458,
        0.77298492]))
||Xanchor-Xpos||_2  counter: 
[  67  197  390  609  786  996 1074 1115  979  724  567  350  201  112   44
   24    7    4    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   44  129  295  539  798  937 1084 1074 1026  818  573  411  238  140
   70   32   15    7    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  6.62908125   9.71970017  12.81031909  15.90093801  18.99155693
  22.08217585  25.17279477  28.26341369  31.35403261  34.44465153
  37.53527045  40.62588937  43.71650829  46.80712721  49.89774613
  52.98836505  56.07898397  59.16960289  62.26022182  65.35084074
  68.44145966]
distance difference  counter: 
(array([   1,    1,    0,    2,    0,    2,    4,    6,    8,   14,   11,
         39,   49,  118,  236,  583, 1600, 4099, 1347,  126]), array([-5.46040392, -5.15311596, -4.845828  , -4.53854004, -4.23125209,
       -3.92396413, -3.61667617, -3.30938821, -3.00210025, -2.69481229,
       -2.38752434, -2.08023638, -1.77294842, -1.46566046, -1.1583725 ,
       -0.85108455, -0.54379659, -0.23650863,  0.07077933,  0.37806729,
        0.68535525]))
train/val Accuracy = 0.530274683221 / 0.5 
 with threshold: [[ 68.92337749]]
============ epoch 2 ===========
training loss:		2.065228
||Xanchor-Xpos||_2  counter: 
[ 629 2617 3956 4119 3499 2712 2037 1423 1010  652  390  216  130   70   35
   10   10    2    0    1]
||Xanchor-Xneg||_2  counter: 
[ 397 1858 3297 3978 3715 3119 2319 1681 1231  787  490  301  158   94   50
   23   13    5    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  4.38354158   8.86602848  13.34851537  17.83100226  22.31348915
  26.79597604  31.27846293  35.76094983  40.24343672  44.72592361
  49.2084105   53.69089739  58.17338428  62.65587118  67.13835807
  71.62084496  76.10333185  80.58581874  85.06830564  89.55079253
  94.03327942]
distance difference  counter: 
(array([    3,     0,     3,     2,     7,     3,     8,    16,    21,
          47,    77,   137,   182,   352,   721,  1663,  6051, 12518,
        1611,    96]), array([-5.01858997, -4.72806791, -4.43754585, -4.14702379, -3.85650172,
       -3.56597966, -3.2754576 , -2.98493553, -2.69441347, -2.40389141,
       -2.11336935, -1.82284728, -1.53232522, -1.24180316, -0.95128109,
       -0.66075903, -0.37023697, -0.07971491,  0.21080716,  0.50132922,
        0.79185128]))
||Xanchor-Xpos||_2  counter: 
[ 101  258  555  856 1066 1244 1235 1073  795  497  300  146   64   31   17
    5    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   75  202  496  822 1041 1194 1197 1098  831  564  332  188   94   46
   25   20    3    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.52086711   3.89329787   5.26572864   6.63815941   8.01059017
   9.38302094  10.7554517   12.12788247  13.50031323  14.872744
  16.24517477  17.61760553  18.9900363   20.36246706  21.73489783
  23.10732859  24.47975936  25.85219012  27.22462089  28.59705166
  29.96948242]
distance difference  counter: 
(array([   1,    0,    0,    2,    0,    3,    2,    6,    7,    9,   18,
         18,   44,   75,  192,  421, 1242, 4200, 1880,  126]), array([-6.33803606, -5.98401903, -5.630002  , -5.27598497, -4.92196794,
       -4.5679509 , -4.21393387, -3.85991684, -3.50589981, -3.15188278,
       -2.79786575, -2.44384872, -2.08983169, -1.73581465, -1.38179762,
       -1.02778059, -0.67376356, -0.31974653,  0.0342705 ,  0.38828753,
        0.74230456]))
train/val Accuracy = 0.534569266094 / 0.500545719137 
 with threshold: [[ 25.8876185]]
============ epoch 3 ===========
training loss:		2.060265
||Xanchor-Xpos||_2  counter: 
[1076 3538 4815 4283 3363 2437 1637 1058  624  337  174  100   36   23    9
    4    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 574 2546 4203 4305 3708 2857 2032 1294  878  491  297  153   81   43   28
   14    5    5    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.7943759    3.76621964   5.73806338   7.70990713   9.68175087
  11.65359461  13.62543836  15.5972821   17.56912584  19.54096959
  21.51281333  23.48465707  25.45650082  27.42834456  29.4001883
  31.37203205  33.34387579  35.31571953  37.28756328  39.25940702
  41.23125076]
distance difference  counter: 
(array([    1,     0,     1,     1,     2,     1,     7,     9,    13,
          24,    38,    62,   127,   217,   404,   844,  2124, 12723,
        6541,   379]), array([-6.44010687, -6.0801353 , -5.72016374, -5.36019217, -5.00022061,
       -4.64024904, -4.28027748, -3.92030591, -3.56033435, -3.20036278,
       -2.84039122, -2.48041965, -2.12044809, -1.76047652, -1.40050496,
       -1.04053339, -0.68056183, -0.32059026,  0.0393813 ,  0.39935287,
        0.75932443]))
||Xanchor-Xpos||_2  counter: 
[  64  262  559  869 1170 1327 1285 1037  736  440  272  105   56   32   19
    6    5    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  12   60  189  457  829 1076 1255 1201 1071  784  530  330  203  110   59
   30   25   15    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.89926594   1.46594658   2.03262722   2.59930786   3.16598849
   3.73266913   4.29934977   4.8660304    5.43271104   5.99939168
   6.56607231   7.13275295   7.69943359   8.26611423   8.83279486
   9.3994755    9.96615614  10.53283677  11.09951741  11.66619805
  12.23287868]
distance difference  counter: 
(array([   1,    0,    0,    2,    1,    3,    1,    3,    7,   10,   16,
         28,   38,   76,  182,  429, 1252, 3875, 2158,  164]), array([-6.40741968, -6.04957556, -5.69173143, -5.3338873 , -4.97604318,
       -4.61819905, -4.26035492, -3.9025108 , -3.54466667, -3.18682255,
       -2.82897842, -2.47113429, -2.11329017, -1.75544604, -1.39760191,
       -1.03975779, -0.68191366, -0.32406954,  0.03377459,  0.39161872,
        0.74946284]))
train/val Accuracy = 0.542159197211 / 0.502364782925 
 with threshold: [[ 10.03365135]]
============ epoch 4 ===========
training loss:		2.059586
||Xanchor-Xpos||_2  counter: 
[ 287 2966 5175 5225 4040 2631 1541  847  450  181   96   47   19    5    6
    1    0    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 108 1537 3593 4743 4483 3488 2331 1449  806  439  233  145   70   44   17
   16   10    2    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.64166498   1.48406599   2.32646699   3.16886799   4.011269     4.85367
   5.696071     6.53847201   7.38087301   8.22327402   9.06567502
   9.90807602  10.75047703  11.59287803  12.43527904  13.27768004
  14.12008104  14.96248205  15.80488305  16.64728405  17.48968506]
distance difference  counter: 
(array([    3,     2,     2,     4,     6,     4,    12,    11,    37,
          57,    93,   141,   235,   397,   830,  1836,  6066, 11356,
        2293,   133]), array([-4.99519491, -4.70792317, -4.42065143, -4.13337969, -3.84610795,
       -3.55883621, -3.27156447, -2.98429272, -2.69702098, -2.40974924,
       -2.1224775 , -1.83520576, -1.54793402, -1.26066228, -0.97339054,
       -0.6861188 , -0.39884706, -0.11157531,  0.17569643,  0.46296817,
        0.75023991]))
||Xanchor-Xpos||_2  counter: 
[  79  282  615 1024 1399 1489 1270  945  588  322  154   46   18   12    1
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   45  167  434  869 1134 1418 1329 1041  737  481  273  149   80   41
   21   10    2    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.52083009  0.80797345  1.0951168   1.38226015  1.66940351  1.95654686
  2.24369021  2.53083356  2.81797692  3.10512027  3.39226362  3.67940697
  3.96655033  4.25369368  4.54083703  4.82798038  5.11512374  5.40226709
  5.68941044  5.97655379  6.26369715]
distance difference  counter: 
(array([   1,    0,    3,    2,    3,    7,    8,   10,   18,   38,   51,
         95,  175,  334,  624, 1369, 2458, 2410,  591,   49]), array([ -3.74063444e+00,  -3.52054687e+00,  -3.30045929e+00,
        -3.08037171e+00,  -2.86028414e+00,  -2.64019656e+00,
        -2.42010899e+00,  -2.20002141e+00,  -1.97993383e+00,
        -1.75984626e+00,  -1.53975868e+00,  -1.31967111e+00,
        -1.09958353e+00,  -8.79495955e-01,  -6.59408379e-01,
        -4.39320803e-01,  -2.19233227e-01,   8.54349136e-04,
         2.20941925e-01,   4.41029501e-01,   6.61117077e-01]))
train/val Accuracy = 0.576388298325 / 0.508670870725 
 with threshold: [[ 4.25700566]]
============ epoch 5 ===========
training loss:		2.059503
||Xanchor-Xpos||_2  counter: 
[  78 1207 3568 4832 4914 3920 2489 1372  650  284  139   35   15    9    3
    2    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  17  468 1684 2856 3794 4187 3731 2599 1822 1016  589  332  199  104   59
   31   13   12    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.48928013  0.95327118  1.41726224  1.88125329  2.34524434  2.80923539
  3.27322644  3.73721749  4.20120854  4.66519959  5.12919064  5.59318169
  6.05717274  6.52116379  6.98515484  7.44914589  7.91313694  8.37712799
  8.84111904  9.30511009  9.76910114]
distance difference  counter: 
(array([   4,    2,    4,    2,    4,    6,    7,   14,   22,   54,   77,
        137,  256,  482, 1038, 2479, 5910, 9436, 3363,  221]), array([-4.91427135, -4.63344473, -4.3526181 , -4.07179148, -3.79096485,
       -3.51013823, -3.2293116 , -2.94848498, -2.66765835, -2.38683173,
       -2.1060051 , -1.82517848, -1.54435185, -1.26352523, -0.9826986 ,
       -0.70187198, -0.42104535, -0.14021873,  0.1406079 ,  0.42143452,
        0.70226115]))
||Xanchor-Xpos||_2  counter: 
[  60  282  684 1206 1388 1437 1231  864  531  290  149   82   23   13    3
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2   43  188  487  847 1172 1393 1158 1009  706  488  344  190   93   68
   27   13   11    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.38351884  0.66806316  0.95260748  1.2371518   1.52169611  1.80624043
  2.09078475  2.37532907  2.65987338  2.9444177   3.22896202  3.51350634
  3.79805065  4.08259497  4.36713929  4.65168361  4.93622792  5.22077224
  5.50531656  5.78986088  6.07440519]
distance difference  counter: 
(array([   3,    0,    2,    1,    3,    4,    6,   10,   19,   29,   46,
         72,  149,  258,  521, 1043, 2065, 2768, 1144,  103]), array([-4.6113081 , -4.34594095, -4.0805738 , -3.81520665, -3.5498395 ,
       -3.28447235, -3.0191052 , -2.75373805, -2.4883709 , -2.22300375,
       -1.95763659, -1.69226944, -1.42690229, -1.16153514, -0.89616799,
       -0.63080084, -0.36543369, -0.10006654,  0.16530061,  0.43066776,
        0.69603491]))
train/val Accuracy = 0.622501913428 / 0.58695124909 
 with threshold: [[ 2.91143919]]
============ epoch 6 ===========
training loss:		2.059496
||Xanchor-Xpos||_2  counter: 
[ 441 2667 4815 5305 4316 3068 1594  744  352  122   53   28   10    1    2
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 117 1091 2479 3637 4184 3844 3083 2085 1282  782  414  246  129   69   37
   13   10    6    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.66262746  1.12719926  1.59177105  2.05634285  2.52091465  2.98548645
  3.45005825  3.91463004  4.37920184  4.84377364  5.30834544  5.77291723
  6.23748903  6.70206083  7.16663263  7.63120443  8.09577622  8.56034802
  9.02491982  9.48949162  9.95406342]
distance difference  counter: 
(array([   2,    0,    0,    0,    0,    1,    3,    3,    6,   20,   37,
         63,  138,  284,  612, 1527, 4254, 9370, 6800,  398]), array([-6.36208534, -6.00715755, -5.65222976, -5.29730196, -4.94237417,
       -4.58744638, -4.23251858, -3.87759079, -3.522663  , -3.1677352 ,
       -2.81280741, -2.45787962, -2.10295182, -1.74802403, -1.39309624,
       -1.03816845, -0.68324065, -0.32831286,  0.02661493,  0.38154273,
        0.73647052]))
||Xanchor-Xpos||_2  counter: 
[  87  521 1125 1637 1671 1269  857  507  283  152   70   36   14   10    3
    3    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   95  376  871 1335 1447 1283 1007  679  465  293  161  108   54   31
   14   10    3    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.3862054   0.74409049  1.10197558  1.45986067  1.81774576  2.17563085
  2.53351593  2.89140102  3.24928611  3.6071712   3.96505629  4.32294137
  4.68082646  5.03871155  5.39659664  5.75448173  6.11236681  6.4702519
  6.82813699  7.18602208  7.54390717]
distance difference  counter: 
(array([   1,    1,    0,    0,    1,    3,    4,    6,   10,   10,   26,
         34,   79,  137,  282,  624, 1394, 2795, 2478,  361]), array([ -6.38119507e+00,  -6.02638914e+00,  -5.67158321e+00,
        -5.31677728e+00,  -4.96197135e+00,  -4.60716543e+00,
        -4.25235950e+00,  -3.89755357e+00,  -3.54274764e+00,
        -3.18794171e+00,  -2.83313578e+00,  -2.47832986e+00,
        -2.12352393e+00,  -1.76871800e+00,  -1.41391207e+00,
        -1.05910614e+00,  -7.04300213e-01,  -3.49494284e-01,
         5.31164408e-03,   3.60117573e-01,   7.14923501e-01]))
train/val Accuracy = 0.629730419253 / 0.613691486781 
 with threshold: [[ 2.7847038]]
============ epoch 7 ===========
training loss:		2.059495
||Xanchor-Xpos||_2  counter: 
[ 275 2046 4421 5223 4721 3232 1856  941  437  213   89   36   15    8    2
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  64  796 2200 3285 3945 4002 3251 2320 1487  954  537  284  174  112   52
   29   14    7    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.5867008   1.04489012  1.50307945  1.96126878  2.4194581   2.87764743
  3.33583676  3.79402608  4.25221541  4.71040474  5.16859406  5.62678339
  6.08497272  6.54316204  7.00135137  7.45954069  7.91773002  8.37591935
  8.83410867  9.292298    9.75048733]
distance difference  counter: 
(array([   2,    0,    0,    3,    1,    2,    4,    3,   14,   33,   44,
         81,  151,  318,  768, 1837, 4680, 9351, 5859,  367]), array([-6.13761568, -5.79359386, -5.44957203, -5.10555021, -4.76152838,
       -4.41750656, -4.07348474, -3.72946291, -3.38544109, -3.04141926,
       -2.69739744, -2.35337562, -2.00935379, -1.66533197, -1.32131014,
       -0.97728832, -0.6332665 , -0.28924467,  0.05477715,  0.39879898,
        0.7428208 ]))
||Xanchor-Xpos||_2  counter: 
[ 108  357  795 1210 1387 1434 1114  809  501  264  143   78   30   10    4
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   52  229  486  879 1153 1297 1179  919  738  524  333  198  121   68
   28   22   11    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.43988556  0.70962366  0.97936177  1.24909987  1.51883798  1.78857608
  2.05831419  2.32805229  2.5977904   2.8675285   3.13726661  3.40700471
  3.67674282  3.94648092  4.21621903  4.48595713  4.75569524  5.02543334
  5.29517145  5.56490955  5.83464766]
distance difference  counter: 
(array([   1,    1,    1,    1,    2,    8,    5,    9,   22,   22,   47,
         75,  150,  287,  528, 1033, 1957, 2802, 1206,   89]), array([-4.82890606, -4.55163671, -4.27436737, -3.99709802, -3.71982868,
       -3.44255933, -3.16528999, -2.88802064, -2.6107513 , -2.33348195,
       -2.0562126 , -1.77894326, -1.50167391, -1.22440457, -0.94713522,
       -0.66986588, -0.39259653, -0.11532719,  0.16194216,  0.43921151,
        0.71648085]))
train/val Accuracy = 0.636767582277 / 0.596713558089 
 with threshold: [[ 2.80269935]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.026627
||Xanchor-Xpos||_2  counter: 
[ 165 1226 2728 2565 2847 3301 2994 2670 1932 1323  809  484  227  133   72
   23   13    3    2    1]
||Xanchor-Xneg||_2  counter: 
[  71  746 1935 2188 2658 3314 3391 2982 2440 1575 1046  583  288  152   69
   46   25    5    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.16426468   96.47947063  130.79467659  165.10988255  199.4250885
  233.74029446  268.05550041  302.37070637  336.68591232  371.00111828
  405.31632423  439.63153019  473.94673615  508.2619421   542.57714806
  576.89235401  611.20755997  645.52276592  679.83797188  714.15317783
  748.46838379]
distance difference  counter: 
(array([    2,     1,     1,     1,     7,     1,     5,    10,    12,
          39,    44,   118,   194,   330,   701,  1636,  5518, 12836,
        1962,   100]), array([-5.02173805, -4.73225219, -4.44276633, -4.15328047, -3.86379461,
       -3.57430875, -3.28482289, -2.99533703, -2.70585117, -2.41636531,
       -2.12687945, -1.83739359, -1.54790773, -1.25842187, -0.96893601,
       -0.67945015, -0.38996429, -0.10047843,  0.18900743,  0.47849329,
        0.76797915]))
||Xanchor-Xpos||_2  counter: 
[  77  193  396  609  813  984 1095 1062  978  777  525  357  199  100   53
   18    7    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   49  135  314  533  793  961 1047 1150  996  816  582  396  233  125
   55   35   15    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.10463715   63.93839149   84.77214584  105.60590019  126.43965454
  147.27340889  168.10716324  188.94091759  209.77467194  230.60842628
  251.44218063  272.27593498  293.10968933  313.94344368  334.77719803
  355.61095238  376.44470673  397.27846107  418.11221542  438.94596977
  459.77972412]
distance difference  counter: 
(array([   1,    1,    0,    0,    2,    3,    1,    4,   13,   13,   23,
         32,   61,  117,  242,  555, 1480, 3949, 1607,  142]), array([-5.36231995, -5.06195784, -4.76159573, -4.46123362, -4.16087152,
       -3.86050941, -3.5601473 , -3.2597852 , -2.95942309, -2.65906098,
       -2.35869887, -2.05833677, -1.75797466, -1.45761255, -1.15725045,
       -0.85688834, -0.55652623, -0.25616412,  0.04419798,  0.34456009,
        0.6449222 ]))
train/val Accuracy = 0.540500892933 / 0.544021343682 
 with threshold: [[ 271.62286907]]
============ epoch 1 ===========
training loss:		0.025579
||Xanchor-Xpos||_2  counter: 
[  97  989 2607 2617 2724 3145 3123 2694 2130 1432  898  508  273  152   68
   34   14    7    4    1]
||Xanchor-Xneg||_2  counter: 
[  52  603 1786 2099 2568 3109 3450 3061 2502 1773 1110  647  372  199   93
   62   19    9    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  52.43837738   83.44924355  114.46010971  145.47097588  176.48184204
  207.49270821  238.50357437  269.51444054  300.5253067   331.53617287
  362.54703903  393.5579052   424.56877136  455.57963753  486.59050369
  517.60136986  548.61223602  579.62310219  610.63396835  641.64483452
  672.65570068]
distance difference  counter: 
(array([    1,     0,     2,     0,     3,     2,     9,    12,    15,
          36,    50,   100,   210,   346,   662,  1518,  5071, 13195,
        2164,   122]), array([-5.0851264 , -4.79286953, -4.50061266, -4.2083558 , -3.91609893,
       -3.62384206, -3.33158519, -3.03932832, -2.74707146, -2.45481459,
       -2.16255772, -1.87030085, -1.57804399, -1.28578712, -0.99353025,
       -0.70127338, -0.40901651, -0.11675965,  0.17549722,  0.46775409,
        0.76001096]))
||Xanchor-Xpos||_2  counter: 
[  76  209  423  639  830 1022 1121 1128  960  724  481  306  181   91   29
   17    7    1    1    0]
||Xanchor-Xneg||_2  counter: 
[   7   51  140  362  557  844  999 1125 1132 1002  730  547  344  204  111
   51   25    8    6    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  39.28839111   58.71382294   78.13925476   97.56468658  116.99011841
  136.41555023  155.84098206  175.26641388  194.6918457   214.11727753
  233.54270935  252.96814117  272.393573    291.81900482  311.24443665
  330.66986847  350.09530029  369.52073212  388.94616394  408.37159576
  427.79702759]
distance difference  counter: 
(array([   1,    0,    0,    0,    1,    3,    1,    4,    6,    9,   19,
         31,   39,   69,  184,  413, 1174, 3597, 2490,  205]), array([-5.89733458, -5.57074112, -5.24414767, -4.91755422, -4.59096076,
       -4.26436731, -3.93777386, -3.61118041, -3.28458695, -2.9579935 ,
       -2.63140005, -2.3048066 , -1.97821314, -1.65161969, -1.32502624,
       -0.99843279, -0.67183933, -0.34524588, -0.01865243,  0.30794103,
        0.63453448]))
train/val Accuracy = 0.541245003827 / 0.544203250061 
 with threshold: [[ 247.5459155]]
============ epoch 2 ===========
training loss:		0.024714
||Xanchor-Xpos||_2  counter: 
[ 172 1403 2874 2681 3145 3406 3120 2483 1763 1143  673  327  176   88   38
   17    5    2    1    1]
||Xanchor-Xneg||_2  counter: 
[  70  873 2066 2311 2891 3554 3443 2995 2160 1372  863  450  241  132   47
   31   12    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  50.5678978    80.43084202  110.29378624  140.15673046  170.01967468
  199.8826189   229.74556313  259.60850735  289.47145157  319.33439579
  349.19734001  379.06028423  408.92322845  438.78617268  468.6491169
  498.51206112  528.37500534  558.23794956  588.10089378  617.96383801
  647.82678223]
distance difference  counter: 
(array([    1,     2,     1,     1,     6,     4,     6,    20,    25,
          49,    90,   123,   242,   408,   854,  1727,  6582, 11657,
        1615,   105]), array([-4.7106266 , -4.43751677, -4.16440693, -3.8912971 , -3.61818726,
       -3.34507743, -3.07196759, -2.79885775, -2.52574792, -2.25263808,
       -1.97952825, -1.70641841, -1.43330858, -1.16019874, -0.88708891,
       -0.61397907, -0.34086924, -0.0677594 ,  0.20535043,  0.47846027,
        0.75157011]))
||Xanchor-Xpos||_2  counter: 
[  59  178  390  571  767  960 1085 1090  997  798  558  368  204  125   55
   21   13    4    3    0]
||Xanchor-Xneg||_2  counter: 
[   9   38  120  304  468  772  932  980 1137 1046  846  600  453  248  154
   66   41   21    5    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  34.32622528   51.48200569   68.6377861    85.79356651  102.94934692
  120.10512733  137.26090775  154.41668816  171.57246857  188.72824898
  205.88402939  223.0398098   240.19559021  257.35137062  274.50715103
  291.66293144  308.81871185  325.97449226  343.13027267  360.28605309
  377.4418335 ]
distance difference  counter: 
(array([   2,    1,    2,    1,    4,    1,    6,    8,   12,   18,   19,
         40,   82,  153,  289,  682, 1733, 3881, 1182,  130]), array([-5.02994394, -4.74606195, -4.46217996, -4.17829797, -3.89441597,
       -3.61053398, -3.32665199, -3.04277   , -2.75888801, -2.47500601,
       -2.19112402, -1.90724203, -1.62336004, -1.33947805, -1.05559605,
       -0.77171406, -0.48783207, -0.20395008,  0.07993191,  0.36381391,
        0.6476959 ]))
train/val Accuracy = 0.541755251297 / 0.546446762066 
 with threshold: [[ 225.50950707]]
============ epoch 3 ===========
training loss:		0.024001
||Xanchor-Xpos||_2  counter: 
[  86  975 2698 2643 3026 3306 3152 2707 1949 1340  766  424  237  117   50
   24   14    2    1    0]
||Xanchor-Xneg||_2  counter: 
[  43  587 1829 2196 2725 3317 3437 3077 2498 1605 1014  566  304  176   78
   38   17    6    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  41.06996918   67.8391758    94.60838242  121.37758904  148.14679565
  174.91600227  201.68520889  228.45441551  255.22362213  281.99282875
  308.76203537  335.53124199  362.30044861  389.06965523  415.83886185
  442.60806847  469.37727509  496.1464817   522.91568832  549.68489494
  576.45410156]
distance difference  counter: 
(array([    2,     1,     0,     0,     4,     6,     4,     8,    12,
          22,    54,    82,   154,   275,   572,  1229,  3832, 14034,
        3069,   158]), array([-5.48419619, -5.17209207, -4.85998794, -4.54788382, -4.2357797 ,
       -3.92367558, -3.61157146, -3.29946734, -2.98736322, -2.6752591 ,
       -2.36315498, -2.05105086, -1.73894674, -1.42684262, -1.11473849,
       -0.80263437, -0.49053025, -0.17842613,  0.13367799,  0.44578211,
        0.75788623]))
||Xanchor-Xpos||_2  counter: 
[  74  237  406  643  851 1046 1165 1095  879  721  538  271  173   81   43
   13    5    5    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   56  141  352  608  829 1001 1113 1101  961  804  523  333  206  115
   47   30   13    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.4719429    49.61920147   65.76646004   81.91371861   98.06097717
  114.20823574  130.35549431  146.50275288  162.65001144  178.79727001
  194.94452858  211.09178715  227.23904572  243.38630428  259.53356285
  275.68082142  291.82807999  307.97533855  324.12259712  340.26985569
  356.41711426]
distance difference  counter: 
(array([   1,    0,    0,    0,    1,    1,    5,    5,    3,   15,   18,
         19,   38,   91,  161,  390, 1098, 3645, 2557,  198]), array([-6.12809801, -5.78898491, -5.44987181, -5.11075871, -4.77164561,
       -4.4325325 , -4.0934194 , -3.7543063 , -3.4151932 , -3.0760801 ,
       -2.736967  , -2.3978539 , -2.05874079, -1.71962769, -1.38051459,
       -1.04140149, -0.70228839, -0.36317529, -0.02406219,  0.31505091,
        0.65416402]))
train/val Accuracy = 0.543243473084 / 0.546507397526 
 with threshold: [[ 205.74383479]]
============ epoch 4 ===========
training loss:		0.023413
||Xanchor-Xpos||_2  counter: 
[ 165 1225 2682 2516 2850 3181 3092 2648 1993 1325  860  483  249  129   65
   30   17    5    1    1]
||Xanchor-Xneg||_2  counter: 
[  79  713 1908 2067 2558 3242 3313 2995 2452 1685 1056  655  371  216  107
   45   30   14    9    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.61893463   66.06041374   89.50189285  112.94337196  136.38485107
  159.82633018  183.2678093   206.70928841  230.15076752  253.59224663
  277.03372574  300.47520485  323.91668396  347.35816307  370.79964218
  394.24112129  417.6826004   441.12407951  464.56555862  488.00703773
  511.44851685]
distance difference  counter: 
(array([    1,     0,     3,     2,     4,     6,     8,    11,    20,
          34,    69,   113,   182,   329,   668,  1469,  4786, 13510,
        2177,   126]), array([-5.23771191, -4.93719859, -4.63668528, -4.33617197, -4.03565866,
       -3.73514535, -3.43463203, -3.13411872, -2.83360541, -2.5330921 ,
       -2.23257878, -1.93206547, -1.63155216, -1.33103885, -1.03052554,
       -0.73001222, -0.42949891, -0.1289856 ,  0.17152771,  0.47204103,
        0.77255434]))
||Xanchor-Xpos||_2  counter: 
[  61  205  411  627  835 1040 1136 1130  917  743  510  313  165   92   35
   15    6    4    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   42  145  319  582  851  973 1059 1139 1000  802  556  327  218  113
   55   32   17    3    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.82082939   43.67545137   58.53007336   73.38469534   88.23931732
  103.0939393   117.94856129  132.80318327  147.65780525  162.51242723
  177.36704922  192.2216712   207.07629318  221.93091516  236.78553715
  251.64015913  266.49478111  281.3494031   296.20402508  311.05864706
  325.91326904]
distance difference  counter: 
(array([   1,    2,    1,    2,    2,    3,    7,    9,   14,   13,   27,
         35,   64,  129,  310,  593, 1652, 3970, 1279,  133]), array([-5.25449896, -4.95857584, -4.66265272, -4.36672961, -4.07080649,
       -3.77488337, -3.47896026, -3.18303714, -2.88711402, -2.59119091,
       -2.29526779, -1.99934467, -1.70342156, -1.40749844, -1.11157532,
       -0.81565221, -0.51972909, -0.22380597,  0.07211714,  0.36804026,
        0.66396338]))
train/val Accuracy = 0.543264733396 / 0.547235023041 
 with threshold: [[ 187.72604781]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.236232
||Xanchor-Xpos||_2  counter: 
[ 526 2436 3699 4056 3506 2834 2071 1489 1069  752  471  243  157   99   57
   31    7   11    1    1]
||Xanchor-Xneg||_2  counter: 
[ 324 1796 3083 3921 3676 3051 2322 1870 1257  898  567  320  175  123   66
   36   22    4    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.10534859   61.20219908   92.29904957  123.39590006  154.49275055
  185.58960104  216.68645153  247.78330202  278.88015251  309.977003
  341.07385349  372.17070398  403.26755447  434.36440496  465.46125546
  496.55810595  527.65495644  558.75180693  589.84865742  620.94550791
  652.0423584 ]
distance difference  counter: 
(array([    2,     0,     0,     4,     5,     4,     5,    18,    14,
          46,    65,   121,   193,   353,   665,  1682,  5322, 12699,
        2188,   132]), array([-4.85142708, -4.57225194, -4.2930768 , -4.01390166, -3.73472652,
       -3.45555139, -3.17637625, -2.89720111, -2.61802597, -2.33885083,
       -2.05967569, -1.78050056, -1.50132542, -1.22215028, -0.94297514,
       -0.6638    , -0.38462486, -0.10544972,  0.17372541,  0.45290055,
        0.73207569]))
||Xanchor-Xpos||_2  counter: 
[  77  179  364  602  734  938 1037 1064  968  777  618  406  230  143   64
   30   11    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   42  130  272  485  786  857  996 1076 1025  860  630  437  286  188
   85   48   23    7    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  18.47320175   26.54613819   34.61907463   42.69201107   50.76494751
   58.83788395   66.91082039   74.98375683   83.05669327   91.12962971
   99.20256615  107.27550259  115.34843903  123.42137547  131.4943119
  139.56724834  147.64018478  155.71312122  163.78605766  171.8589941
  179.93193054]
distance difference  counter: 
(array([   1,    1,    3,    1,    1,    7,    3,    9,    9,   12,   32,
         44,   80,  145,  314,  717, 1772, 3771, 1192,  132]), array([-4.85483599, -4.58043303, -4.30603006, -4.0316271 , -3.75722414,
       -3.48282118, -3.20841822, -2.93401526, -2.6596123 , -2.38520934,
       -2.11080638, -1.83640341, -1.56200045, -1.28759749, -1.01319453,
       -0.73879157, -0.46438861, -0.18998565,  0.08441731,  0.35882027,
        0.63322324]))
train/val Accuracy = 0.529636873884 / 0.5 
 with threshold: [[ 184.67207942]]
============ epoch 1 ===========
training loss:		0.210203
||Xanchor-Xpos||_2  counter: 
[ 469 2528 3849 4192 3607 2819 2017 1511 1054  622  379  216  118   71   37
   15    9    3    0    2]
||Xanchor-Xneg||_2  counter: 
[ 269 1734 3226 4033 3769 3153 2438 1769 1200  781  503  290  155  105   44
   34    8    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  10.1930294    22.4854928    34.7779562    47.0704196    59.362883
   71.65534639   83.94780979   96.24027319  108.53273659  120.82519999
  133.11766338  145.41012678  157.70259018  169.99505358  182.28751698
  194.57998037  206.87244377  219.16490717  231.45737057  243.74983397
  256.04229736]
distance difference  counter: 
(array([    1,     0,     2,     1,     3,     4,     5,     7,    25,
          45,    65,    74,   155,   277,   595,  1250,  4068, 14406,
        2417,   118]), array([-5.63732576, -5.31531335, -4.99330093, -4.67128851, -4.34927609,
       -4.02726367, -3.70525125, -3.38323883, -3.06122642, -2.739214  ,
       -2.41720158, -2.09518916, -1.77317674, -1.45116432, -1.1291519 ,
       -0.80713949, -0.48512707, -0.16311465,  0.15889777,  0.48091019,
        0.80292261]))
||Xanchor-Xpos||_2  counter: 
[  67  241  490  791 1084 1269 1271 1092  811  545  320  149   68   35   10
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   54  197  445  784 1023 1213 1215 1120  844  561  357  220   88   66
   28   14    6    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  6.16220427   9.93168766  13.70117106  17.47065446  21.24013786
  25.00962126  28.77910466  32.54858806  36.31807146  40.08755486
  43.85703826  47.62652166  51.39600506  55.16548846  58.93497186
  62.70445526  66.47393866  70.24342206  74.01290545  77.78238885
  81.55187225]
distance difference  counter: 
(array([   2,    1,    1,    1,    2,    4,    9,    7,   12,   17,   26,
         28,   46,  143,  242,  551, 1419, 3909, 1651,  175]), array([-5.53765678, -5.22779742, -4.91793805, -4.60807869, -4.29821932,
       -3.98835996, -3.67850059, -3.36864123, -3.05878186, -2.7489225 ,
       -2.43906313, -2.12920377, -1.8193444 , -1.50948504, -1.19962567,
       -0.88976631, -0.57990694, -0.27004758,  0.03981179,  0.34967116,
        0.65953052]))
train/val Accuracy = 0.536227570372 / 0.500666990056 
 with threshold: [[ 69.88091068]]
============ epoch 2 ===========
training loss:		0.206608
||Xanchor-Xpos||_2  counter: 
[ 849 3564 4849 4504 3465 2426 1641  997  611  330  153   69   33   20    4
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 465 2425 4129 4627 3759 2835 2048 1335  856  503  249  146   68   36   13
   11    5    6    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[   4.29219294    9.74879949   15.20540605   20.6620126    26.11861916
   31.57522571   37.03183227   42.48843882   47.94504538   53.40165193
   58.85825849   64.31486504   69.7714716    75.22807815   80.68468471
   86.14129126   91.59789782   97.05450437  102.51111093  107.96771748
  113.42432404]
distance difference  counter: 
(array([    1,     0,     0,     2,     3,     1,     5,    10,    13,
          19,    45,    76,   122,   221,   387,   781,  2244, 13329,
        5987,   272]), array([-6.75343132, -6.376325  , -5.99921868, -5.62211237, -5.24500605,
       -4.86789973, -4.49079341, -4.1136871 , -3.73658078, -3.35947446,
       -2.98236814, -2.60526182, -2.22815551, -1.85104919, -1.47394287,
       -1.09683655, -0.71973023, -0.34262392,  0.0344824 ,  0.41158872,
        0.78869504]))
||Xanchor-Xpos||_2  counter: 
[  74  268  562  903 1186 1389 1329 1040  674  433  218  105   46    9    6
    3    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   57  181  469  856 1118 1304 1309 1062  754  494  294  171   86   43
   17   16    2    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.52820921   4.02423298   5.52025676   7.01628053   8.51230431
  10.00832808  11.50435185  13.00037563  14.4963994   15.99242318
  17.48844695  18.98447073  20.4804945   21.97651827  23.47254205
  24.96856582  26.4645896   27.96061337  29.45663714  30.95266092
  32.44868469]
distance difference  counter: 
(array([   1,    2,    0,    2,    3,    1,    3,    7,    8,   16,   20,
         37,   50,  116,  230,  541, 1371, 3700, 1959,  179]), array([-5.59582615, -5.28412836, -4.97243056, -4.66073277, -4.34903498,
       -4.03733718, -3.72563939, -3.4139416 , -3.1022438 , -2.79054601,
       -2.47884822, -2.16715043, -1.85545263, -1.54375484, -1.23205705,
       -0.92035925, -0.60866146, -0.29696367,  0.01473413,  0.32643192,
        0.63812971]))
train/val Accuracy = 0.546198656348 / 0.500606354596 
 with threshold: [[ 27.0638618]]
============ epoch 3 ===========
training loss:		0.206114
||Xanchor-Xpos||_2  counter: 
[ 325 2897 4700 4853 4048 2947 1721 1003  556  258  114   66   18    6    4
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 121 1505 3144 4209 4443 3596 2644 1621 1001  582  326  163   76   45   20
   10    7    2    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.08461428   4.19157131   6.29852834   8.40548537  10.5124424
  12.61939943  14.72635646  16.83331349  18.94027052  21.04722755
  23.15418458  25.26114161  27.36809864  29.47505567  31.5820127
  33.68896973  35.79592676  37.90288379  40.00984082  42.11679785
  44.22375488]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     0,     2,     0,
           9,    10,    18,    55,   110,   192,   461,  1302,  5719,
       14753,   886]), array([-8.53371811, -8.07128062, -7.60884312, -7.14640563, -6.68396814,
       -6.22153065, -5.75909315, -5.29665566, -4.83421817, -4.37178068,
       -3.90934318, -3.44690569, -2.9844682 , -2.52203071, -2.05959321,
       -1.59715572, -1.13471823, -0.67228073, -0.20984324,  0.25259425,
        0.71503174]))
||Xanchor-Xpos||_2  counter: 
[ 135  492  996 1409 1693 1403  942  592  304  162   77   20   14    6    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  13  100  363  809 1347 1455 1437  988  687  450  258  160   75   49   20
   20    9    3    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.56605697   2.57909409   3.59213121   4.60516833   5.61820545
   6.63124257   7.64427969   8.65731682   9.67035394  10.68339106
  11.69642818  12.7094653   13.72250242  14.73553954  15.74857666
  16.76161379  17.77465091  18.78768803  19.80072515  20.81376227
  21.82679939]
distance difference  counter: 
(array([   1,    1,    2,    1,    3,    8,    7,    7,   10,   19,   31,
         47,   87,  141,  324,  618, 1581, 3172, 1969,  217]), array([-5.80276299, -5.47948003, -5.15619708, -4.83291413, -4.50963118,
       -4.18634823, -3.86306528, -3.53978233, -3.21649938, -2.89321643,
       -2.56993347, -2.24665052, -1.92336757, -1.60008462, -1.27680167,
       -0.95351872, -0.63023577, -0.30695282,  0.01633013,  0.33961309,
        0.66289604]))
train/val Accuracy = 0.577663917 / 0.532258064516 
 with threshold: [[ 11.50801471]]
============ epoch 4 ===========
training loss:		0.206058
||Xanchor-Xpos||_2  counter: 
[ 143 1756 4202 5026 4722 3634 2114 1051  472  238   94   33   20    5    5
    1    0    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  54  789 2128 3413 4222 4201 3320 2255 1382  754  446  242  127   94   47
   26   10    6    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.57432103   2.95079898   4.32727692   5.70375487   7.08023281
   8.45671076   9.8331887   11.20966665  12.58614459  13.96262254
  15.33910048  16.71557842  18.09205637  19.46853431  20.84501226
  22.2214902   23.59796815  24.97444609  26.35092404  27.72740198
  29.10387993]
distance difference  counter: 
(array([    1,     0,     1,     0,     0,     3,     1,    10,     4,
          21,    35,    54,    95,   207,   449,  1179,  3460, 10199,
        7454,   345]), array([-7.01404762, -6.62568419, -6.23732076, -5.84895733, -5.4605939 ,
       -5.07223047, -4.68386704, -4.29550361, -3.90714018, -3.51877675,
       -3.13041332, -2.74204989, -2.35368646, -1.96532303, -1.5769596 ,
       -1.18859617, -0.80023274, -0.41186931, -0.02350588,  0.36485755,
        0.75322098]))
||Xanchor-Xpos||_2  counter: 
[  72  337  785 1257 1498 1433 1153  759  469  237  121   79   22   12    8
    4    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   55  214  569  974 1273 1374 1180  871  659  430  278  153   95   49
   24   18   11    6    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.19360304   2.06719325   2.94078345   3.81437366   4.68796387
   5.56155407   6.43514428   7.30873449   8.1823247    9.0559149
   9.92950511  10.80309532  11.67668552  12.55027573  13.42386594
  14.29745615  15.17104635  16.04463656  16.91822677  17.79181697
  18.66540718]
distance difference  counter: 
(array([   1,    0,    0,    0,    0,    1,    1,    6,    7,   10,   13,
         26,   48,   79,  171,  407,  983, 2628, 3319,  546]), array([-7.44411993, -7.03960267, -6.6350854 , -6.23056814, -5.82605088,
       -5.42153361, -5.01701635, -4.61249909, -4.20798182, -3.80346456,
       -3.3989473 , -2.99443004, -2.58991277, -2.18539551, -1.78087825,
       -1.37636098, -0.97184372, -0.56732646, -0.16280919,  0.24170807,
        0.64622533]))
train/val Accuracy = 0.611680415001 / 0.597501819064 
 with threshold: [[ 8.28759573]]
============ epoch 5 ===========
training loss:		0.206053
||Xanchor-Xpos||_2  counter: 
[ 208 2361 4813 5448 4567 3084 1686  764  364  131   49   23   11    6    1
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  73 1005 2514 3793 4406 4085 3100 1955 1125  675  362  191  110   61   26
   14   11    7    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.64678073   3.04433872   4.4418967    5.83945469   7.23701267
   8.63457066  10.03212864  11.42968663  12.82724462  14.2248026
  15.62236059  17.01991857  18.41747656  19.81503454  21.21259253
  22.61015052  24.0077085   25.40526649  26.80282447  28.20038246
  29.59794044]
distance difference  counter: 
(array([   2,    2,    4,    3,    2,   13,   12,   20,   34,   45,   82,
        162,  253,  537, 1083, 2576, 5820, 9196, 3440,  232]), array([-5.42921638, -5.12164123, -4.81406608, -4.50649092, -4.19891577,
       -3.89134061, -3.58376546, -3.2761903 , -2.96861515, -2.66104   ,
       -2.35346484, -2.04588969, -1.73831453, -1.43073938, -1.12316422,
       -0.81558907, -0.50801392, -0.20043876,  0.10713639,  0.41471155,
        0.7222867 ]))
||Xanchor-Xpos||_2  counter: 
[  87  463 1074 1605 1625 1394  930  520  281  138   82   26   12    9    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   92  366  819 1339 1504 1354 1003  702  434  240  162   88   60   40
   19    5    6    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.09886634   2.1197079    3.14054946   4.16139101   5.18223257
   6.20307413   7.22391568   8.24475724   9.2655988   10.28644035
  11.30728191  12.32812347  13.34896502  14.36980658  15.39064814
  16.4114897   17.43233125  18.45317281  19.47401437  20.49485592
  21.51569748]
distance difference  counter: 
(array([   1,    0,    1,    2,    3,    1,    7,    5,    7,   14,   21,
         48,   68,  116,  254,  559, 1325, 2956, 2565,  293]), array([-7.2101717 , -6.81248334, -6.41479498, -6.01710662, -5.61941826,
       -5.2217299 , -4.82404155, -4.42635319, -4.02866483, -3.63097647,
       -3.23328811, -2.83559975, -2.43791139, -2.04022303, -1.64253467,
       -1.24484631, -0.84715796, -0.4494696 , -0.05178124,  0.34590712,
        0.74359548]))
train/val Accuracy = 0.620886129773 / 0.608901285472 
 with threshold: [[ 8.04071562]]
============ epoch 6 ===========
training loss:		0.206052
||Xanchor-Xpos||_2  counter: 
[ 224 2281 4839 5547 4683 3131 1608  716  313  101   48   17    6    3    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  67  953 2540 3760 4614 4202 3054 1941 1112  647  302  162   80   36   26
   12    3    5    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.52278459   2.93839436   4.35400413   5.7696139    7.18522367
   8.60083345  10.01644322  11.43205299  12.84766276  14.26327253
  15.6788823   17.09449207  18.51010184  19.92571161  21.34132138
  22.75693116  24.17254093  25.5881507   27.00376047  28.41937024
  29.83498001]
distance difference  counter: 
(array([   1,    2,    1,    2,    5,   10,    8,   13,   32,   38,   46,
         95,  209,  399,  845, 2008, 5024, 9459, 5007,  314]), array([-5.89306211, -5.56306643, -5.23307074, -4.90307506, -4.57307937,
       -4.24308369, -3.913088  , -3.58309231, -3.25309663, -2.92310094,
       -2.59310526, -2.26310957, -1.93311388, -1.6031182 , -1.27312251,
       -0.94312683, -0.61313114, -0.28313546,  0.04686023,  0.37685592,
        0.7068516 ]))
||Xanchor-Xpos||_2  counter: 
[  63  406  919 1360 1637 1444 1056  646  369  180  100   26   25    9    4
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   73  270  662 1179 1354 1352 1126  833  585  368  198  124   55   33
   12    5    6    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.05909336   1.96344097   2.86778859   3.77213621   4.67648382
   5.58083144   6.48517905   7.38952667   8.29387429   9.1982219
  10.10256952  11.00691714  11.91126475  12.81561237  13.71995999
  14.6243076   15.52865522  16.43300284  17.33735045  18.24169807
  19.14604568]
distance difference  counter: 
(array([   4,    2,    1,    4,    5,   10,   13,   19,   30,   45,   75,
         98,  180,  342,  641, 1191, 2042, 2524,  937,   83]), array([-4.85354185, -4.57516371, -4.29678556, -4.01840742, -3.74002928,
       -3.46165113, -3.18327299, -2.90489484, -2.6265167 , -2.34813856,
       -2.06976041, -1.79138227, -1.51300412, -1.23462598, -0.95624784,
       -0.67786969, -0.39949155, -0.1211134 ,  0.15726474,  0.43564288,
        0.71402103]))
train/val Accuracy = 0.623862573348 / 0.60283773951 
 with threshold: [[ 7.9511873]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.109356
||Xanchor-Xpos||_2  counter: 
[19435  1226   533   542   418   254   191   184   189   177   136    94
    54    40    19    15     6     2     0     1]
||Xanchor-Xneg||_2  counter: 
[19242  1278   510   552   468   223   201   172   217   204   151   107
   100    46    21    12     9     1     3     1]
||Xanchor-X_neg/pos||_2  bins edge: 
[   0.76251203   34.04049971   67.31848739  100.59647507  133.87446275
  167.15245043  200.43043811  233.70842579  266.98641347  300.26440115
  333.54238883  366.82037651  400.09836419  433.37635187  466.65433955
  499.93232723  533.21031491  566.48830259  599.76629027  633.04427795
  666.32226562]
distance difference  counter: 
(array([    1,     1,     0,     0,     0,     0,     1,     1,     1,
           4,     3,     9,    15,    20,    35,    98,   247,   853,
        5208, 17021]), array([-26.80559158, -25.41838497, -24.03117836, -22.64397175,
       -21.25676514, -19.86955853, -18.48235192, -17.09514531,
       -15.70793869, -14.32073208, -12.93352547, -11.54631886,
       -10.15911225,  -8.77190564,  -7.38469903,  -5.99749242,
        -4.61028581,  -3.2230792 ,  -1.83587258,  -0.44866597,   0.93854064]))
||Xanchor-Xpos||_2  counter: 
[ 808 2108 1772 1168  785  548  378  250  174  106   57   42   28    8    8
    3    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 250 1420 1667 1275  958  750  518  406  313  218  171  120   63   39   29
   21   14    5    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.7679919    2.61924532   4.47049874   6.32175216   8.17300558
  10.024259    11.87551242  13.72676584  15.57801926  17.42927268
  19.2805261   21.13177952  22.98303294  24.83428636  26.68553978
  28.5367932   30.38804662  32.23930004  34.09055346  35.94180688
  37.7930603 ]
distance difference  counter: 
(array([   2,    1,    2,    2,    1,    2,    4,    0,    6,    9,    9,
         17,   23,   47,   78,  168,  376,  972, 2749, 3778]), array([-20.15366364, -19.10042896, -18.04719428, -16.99395961,
       -15.94072493, -14.88749026, -13.83425558, -12.78102091,
       -11.72778623, -10.67455156,  -9.62131688,  -8.5680822 ,
        -7.51484753,  -6.46161285,  -5.40837818,  -4.3551435 ,
        -3.30190883,  -2.24867415,  -1.19543948,  -0.1422048 ,   0.91102988]))
train/val Accuracy = 0.50391189727 / 0.500485083677 
 with threshold: [[ 34.45477833]]
============ epoch 1 ===========
training loss:		2.060736
||Xanchor-Xpos||_2  counter: 
[4229 8747 5161 2524 1281  703  395  209  136   66   29   17   12    4    4
    0    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[2117 6662 5492 3403 2156 1357  831  554  340  217  150   93   59   36   21
   12    9    0    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.73572838   3.15894009   5.58215181   8.00536352  10.42857523
  12.85178694  15.27499865  17.69821036  20.12142208  22.54463379
  24.9678455   27.39105721  29.81426892  32.23748063  34.66069235
  37.08390406  39.50711577  41.93032748  44.35353919  46.7767509
  49.19996262]
distance difference  counter: 
(array([    1,     0,     3,     1,     1,     3,     6,     4,     9,
          13,    20,    45,    69,   107,   192,   397,  1005,  2875,
       10167,  8600]), array([ -1.81356983e+01,  -1.71819343e+01,  -1.62281703e+01,
        -1.52744063e+01,  -1.43206423e+01,  -1.33668783e+01,
        -1.24131143e+01,  -1.14593503e+01,  -1.05055862e+01,
        -9.55182223e+00,  -8.59805822e+00,  -7.64429421e+00,
        -6.69053020e+00,  -5.73676620e+00,  -4.78300219e+00,
        -3.82923818e+00,  -2.87547417e+00,  -1.92171016e+00,
        -9.67946148e-01,  -1.41821384e-02,   9.39581871e-01]))
||Xanchor-Xpos||_2  counter: 
[ 279 1444 1923 1554 1125  700  433  288  187  127   70   45   30   15    7
    8    7    3    0    0]
||Xanchor-Xneg||_2  counter: 
[  62  626 1348 1629 1255  995  724  470  385  238  172  130   84   43   31
   30   10    6    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.48140123   1.55314216   2.62488308   3.69662401   4.76836493
   5.84010585   6.91184678   7.9835877    9.05532863  10.12706955
  11.19881047  12.2705514   13.34229232  14.41403324  15.48577417
  16.55751509  17.62925602  18.70099694  19.77273786  20.84447879
  21.91621971]
distance difference  counter: 
(array([   1,    0,    1,    1,    4,    6,    6,    6,    9,   12,   18,
         37,   64,   99,  189,  367,  783, 1675, 3516, 1452]), array([-11.68206692, -11.05367082, -10.42527472,  -9.79687863,
        -9.16848253,  -8.54008643,  -7.91169034,  -7.28329424,
        -6.65489814,  -6.02650205,  -5.39810595,  -4.76970985,
        -4.14131376,  -3.51291766,  -2.88452156,  -2.25612547,
        -1.62772937,  -0.99933327,  -0.37093717,   0.25745892,   0.88585502]))
train/val Accuracy = 0.586699549281 / 0.56494057725 
 with threshold: [[ 7.11785509]]
============ epoch 2 ===========
training loss:		2.060732
||Xanchor-Xpos||_2  counter: 
[2628 7730 5872 3331 1799  991  562  298  153   70   42   23    7    6    1
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[1254 4885 5440 4081 2813 1809 1187  777  489  345  196  103   68   31   17
    7    8    4    0    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.65265226   2.74306481   4.83347735   6.9238899    9.01430244
  11.10471499  13.19512753  15.28554008  17.37595263  19.46636517
  21.55677772  23.64719026  25.73760281  27.82801535  29.9184279
  32.00884044  34.09925299  36.18966553  38.28007808  40.37049062
  42.46090317]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     0,     1,     4,     2,
           6,     6,    20,    35,    48,   104,   215,   527,  1800,
        7769, 12979]), array([-23.81868744, -22.58184636, -21.34500528, -20.1081642 ,
       -18.87132312, -17.63448204, -16.39764096, -15.16079988,
       -13.9239588 , -12.68711772, -11.45027664, -10.21343556,
        -8.97659448,  -7.7397534 ,  -6.50291232,  -5.26607125,
        -4.02923017,  -2.79238909,  -1.55554801,  -0.31870693,   0.91813415]))
||Xanchor-Xpos||_2  counter: 
[ 381 1536 1891 1580 1057  689  406  289  150   97   84   41   19   11   10
    3    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  83  603 1400 1564 1382  987  703  527  346  241  136   94   69   44   22
   23    7    9    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.60278976   1.7642011    2.92561244   4.08702378   5.24843512
   6.40984645   7.57125779   8.73266913   9.89408047  11.05549181
  12.21690315  13.37831449  14.53972583  15.70113717  16.86254851
  18.02395985  19.18537118  20.34678252  21.50819386  22.6696052
  23.83101654]
distance difference  counter: 
(array([   1,    0,    0,    0,    1,    2,    1,    5,    7,    6,    8,
         14,   24,   45,  104,  224,  492, 1322, 3548, 2442]), array([-14.91573906, -14.12645933, -13.3371796 , -12.54789987,
       -11.75862014, -10.96934041, -10.18006068,  -9.39078096,
        -8.60150123,  -7.8122215 ,  -7.02294177,  -6.23366204,
        -5.44438231,  -4.65510258,  -3.86582285,  -3.07654312,
        -2.28726339,  -1.49798366,  -0.70870394,   0.08057579,   0.86985552]))
train/val Accuracy = 0.598286418913 / 0.578219742906 
 with threshold: [[ 7.03182705]]
============ epoch 3 ===========
training loss:		2.060731
||Xanchor-Xpos||_2  counter: 
[3010 7920 5636 3079 1734  945  527  281  173   97   56   23   18    5    6
    2    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[1386 5155 5467 4028 2536 1775 1145  722  521  296  185  116   67   45   32
   14    9   11    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.66526586   2.79813912   4.93101237   7.06388563   9.19675889
  11.32963215  13.46250541  15.59537866  17.72825192  19.86112518
  21.99399844  24.1268717   26.25974495  28.39261821  30.52549147
  32.65836473  34.79123799  36.92411124  39.0569845   41.18985776
  43.32273102]
distance difference  counter: 
(array([   3,    0,    1,    1,    2,    5,    2,    6,   10,   17,   32,
         42,   67,  116,  232,  440, 1038, 3178, 9829, 8497]), array([-17.95487595, -17.01084777, -16.06681959, -15.12279141,
       -14.17876323, -13.23473506, -12.29070688, -11.3466787 ,
       -10.40265052,  -9.45862235,  -8.51459417,  -7.57056599,
        -6.62653781,  -5.68250963,  -4.73848146,  -3.79445328,
        -2.8504251 ,  -1.90639692,  -0.96236874,  -0.01834057,   0.92568761]))
||Xanchor-Xpos||_2  counter: 
[ 293 1371 1926 1566 1132  716  504  261  191  119   66   41   29   16    7
    4    3    0    1    0]
||Xanchor-Xneg||_2  counter: 
[  57  626 1362 1569 1322  981  731  515  349  263  167  119   80   42   29
   13    7    8    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.48108432   1.77800035   3.07491638   4.37183242   5.66874845
   6.96566448   8.26258052   9.55949655  10.85641258  12.15332862
  13.45024465  14.74716068  16.04407672  17.34099275  18.63790878
  19.93482482  21.23174085  22.52865688  23.82557292  25.12248895
  26.41940498]
distance difference  counter: 
(array([   2,    1,    2,    2,    3,    3,    1,   13,    7,    9,   21,
         25,   44,   70,  142,  258,  592, 1504, 3434, 2113]), array([-13.0829649 , -12.38634067, -11.68971645, -10.99309222,
       -10.296468  ,  -9.59984377,  -8.90321954,  -8.20659532,
        -7.50997109,  -6.81334687,  -6.11672264,  -5.42009842,
        -4.72347419,  -4.02684997,  -3.33022574,  -2.63360152,
        -1.93697729,  -1.24035307,  -0.54372884,   0.15289539,   0.84951961]))
train/val Accuracy = 0.596947019304 / 0.579978171235 
 with threshold: [[ 7.06355475]]
============ epoch 4 ===========
training loss:		2.060732
||Xanchor-Xpos||_2  counter: 
[3051 8096 5897 3084 1592  854  452  231  144   55   37   13    7    2    0
    1    1    0    1    0]
||Xanchor-Xneg||_2  counter: 
[1381 5412 5758 4155 2552 1576 1046  652  404  254  134   81   48   27   18
   12    3    3    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.62187165   2.80600806   4.99014446   7.17428087   9.35841727
  11.54255368  13.72669008  15.91082649  18.09496289  20.2790993
  22.46323571  24.64737211  26.83150852  29.01564492  31.19978133
  33.38391773  35.56805414  37.75219055  39.93632695  42.12046336
  44.30459976]
distance difference  counter: 
(array([    1,     0,     2,     2,     3,     3,     3,     4,    11,
          14,    24,    37,    58,    98,   199,   421,  1039,  3032,
       10142,  8425]), array([ -1.81759453e+01,  -1.72198133e+01,  -1.62636813e+01,
        -1.53075492e+01,  -1.43514172e+01,  -1.33952852e+01,
        -1.24391532e+01,  -1.14830212e+01,  -1.05268892e+01,
        -9.57075717e+00,  -8.61462516e+00,  -7.65849314e+00,
        -6.70236113e+00,  -5.74622912e+00,  -4.79009711e+00,
        -3.83396509e+00,  -2.87783308e+00,  -1.92170107e+00,
        -9.65569055e-01,  -9.43704247e-03,   9.46694970e-01]))
||Xanchor-Xpos||_2  counter: 
[ 516 1879 2017 1402  908  601  371  240  117   86   58   24   15    4    4
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 149 1059 1767 1532 1144  801  552  416  289  200  127   87   57   32   12
   11    7    2    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.53055388   2.01741558   3.50427728   4.99113899   6.47800069
   7.96486239   9.45172409  10.9385858   12.4254475   13.9123092
  15.39917091  16.88603261  18.37289431  19.85975601  21.34661772
  22.83347942  24.32034112  25.80720282  27.29406453  28.78092623
  30.26778793]
distance difference  counter: 
(array([   2,    0,    1,    2,    1,    3,    4,    4,    6,   10,   11,
         25,   25,   57,  107,  220,  513, 1206, 3278, 2771]), array([-15.60192871, -14.77778306, -13.9536374 , -13.12949175,
       -12.3053461 , -11.48120044, -10.65705479,  -9.83290913,
        -9.00876348,  -8.18461783,  -7.36047217,  -6.53632652,
        -5.71218086,  -4.88803521,  -4.06388956,  -3.2397439 ,
        -2.41559825,  -1.5914526 ,  -0.76730694,   0.05683871,   0.88098437]))
train/val Accuracy = 0.597818692066 / 0.577007033713 
 with threshold: [[ 6.89282654]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027164
||Xanchor-Xpos||_2  counter: 
[ 114 1054 2755 2701 2997 3306 3154 2648 1889 1311  788  397  217   99   45
   26   13    4    0    0]
||Xanchor-Xneg||_2  counter: 
[  43  611 1952 2193 2835 3473 3451 3044 2348 1572  968  531  243  137   67
   31    9    5    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.54694748   95.60587025  131.66479301  167.72371578  203.78263855
  239.84156132  275.90048409  311.95940685  348.01832962  384.07725239
  420.13617516  456.19509792  492.25402069  528.31294346  564.37186623
  600.43078899  636.48971176  672.54863453  708.6075573   744.66648006
  780.72540283]
distance difference  counter: 
(array([    1,     0,     0,     0,     5,     1,     3,     9,     8,
           6,    40,    66,   128,   263,   560,  1239,  4109, 14087,
        2877,   116]), array([-5.45121717, -5.1399101 , -4.82860304, -4.51729597, -4.2059889 ,
       -3.89468183, -3.58337476, -3.27206769, -2.96076062, -2.64945355,
       -2.33814648, -2.02683941, -1.71553234, -1.40422527, -1.0929182 ,
       -0.78161113, -0.47030406, -0.15899699,  0.15231008,  0.46361715,
        0.77492422]))
||Xanchor-Xpos||_2  counter: 
[  56  145  357  568  742  923 1034 1104 1004  797  611  399  251  151   54
   29   15    3    2    1]
||Xanchor-Xneg||_2  counter: 
[   4   36  110  264  461  758  878 1023 1111 1052  857  673  424  269  176
   78   42   22    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.56763458   67.00558434   88.44353409  109.88148384  131.31943359
  152.75738335  174.1953331   195.63328285  217.0712326   238.50918236
  259.94713211  281.38508186  302.82303162  324.26098137  345.69893112
  367.13688087  388.57483063  410.01278038  431.45073013  452.88867989
  474.32662964]
distance difference  counter: 
(array([   2,    1,    3,    3,    2,    2,    8,    7,   14,   20,   29,
         57,  114,  201,  409,  949, 2192, 3306,  832,   95]), array([-4.25046587, -4.0066291 , -3.76279234, -3.51895557, -3.2751188 ,
       -3.03128204, -2.78744527, -2.5436085 , -2.29977174, -2.05593497,
       -1.81209821, -1.56826144, -1.32442467, -1.08058791, -0.83675114,
       -0.59291437, -0.34907761, -0.10524084,  0.13859593,  0.38243269,
        0.62626946]))
train/val Accuracy = 0.538332341185 / 0.548326461315 
 with threshold: [[ 278.08737567]]
============ epoch 1 ===========
training loss:		0.027152
||Xanchor-Xpos||_2  counter: 
[ 106 1067 2752 2740 2974 3325 3188 2640 1863 1289  752  413  226  106   41
   25    9    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  40  654 1908 2323 2748 3429 3549 3030 2293 1556  960  531  257  138   59
   26    8    5    1    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.27589035   95.38556995  131.49524956  167.60492916  203.71460876
  239.82428837  275.93396797  312.04364758  348.15332718  384.26300678
  420.37268639  456.48236599  492.59204559  528.7017252   564.8114048
  600.9210844   637.03076401  673.14044361  709.25012321  745.35980282
  781.46948242]
distance difference  counter: 
(array([    4,     1,     0,     3,     5,    10,     3,    14,    28,
          50,    85,   151,   245,   460,   942,  2123,  7752, 10151,
        1401,    90]), array([-4.37254906, -4.11687227, -3.86119548, -3.60551869, -3.3498419 ,
       -3.09416512, -2.83848833, -2.58281154, -2.32713475, -2.07145796,
       -1.81578118, -1.56010439, -1.3044276 , -1.04875081, -0.79307402,
       -0.53739724, -0.28172045, -0.02604366,  0.22963313,  0.48530992,
        0.7409867 ]))
||Xanchor-Xpos||_2  counter: 
[  58  168  355  558  791  953 1055 1059 1024  805  593  395  220  113   57
   26   15    0    1    0]
||Xanchor-Xneg||_2  counter: 
[   7   37  109  286  486  754  941 1075 1080 1035  860  642  395  269  133
   69   45   14    8    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.76173401   67.49149704   89.22126007  110.9510231   132.68078613
  154.41054916  176.14031219  197.87007523  219.59983826  241.32960129
  263.05936432  284.78912735  306.51889038  328.24865341  349.97841644
  371.70817947  393.4379425   415.16770554  436.89746857  458.6272316
  480.35699463]
distance difference  counter: 
(array([   2,    3,    2,    3,    0,    6,    3,    8,   15,   25,   29,
         65,   85,  225,  444,  950, 2289, 3273,  738,   81]), array([-4.25927687, -4.01416249, -3.76904811, -3.52393373, -3.27881935,
       -3.03370497, -2.78859059, -2.54347621, -2.29836183, -2.05324745,
       -1.80813307, -1.56301869, -1.31790431, -1.07278993, -0.82767555,
       -0.58256117, -0.33744678, -0.0923324 ,  0.15278198,  0.39789636,
        0.64301074]))
train/val Accuracy = 0.539055191768 / 0.549902983265 
 with threshold: [[ 277.62379971]]
============ epoch 2 ===========
training loss:		0.027139
||Xanchor-Xpos||_2  counter: 
[  95 1013 2762 2754 3062 3336 3220 2681 1918 1246  699  369  181   94   54
   19    8    5    1    0]
||Xanchor-Xneg||_2  counter: 
[  37  605 1923 2334 2822 3488 3554 3145 2305 1473  890  495  240  114   50
   26   10    5    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  56.66242599   93.37088795  130.0793499   166.78781185  203.4962738
  240.20473576  276.91319771  313.62165966  350.33012161  387.03858356
  423.74704552  460.45550747  497.16396942  533.87243137  570.58089333
  607.28935528  643.99781723  680.70627918  717.41474113  754.12320309
  790.83166504]
distance difference  counter: 
(array([    1,     1,     1,     2,     0,     6,     4,    11,    22,
          19,    58,   103,   212,   376,   739,  1897,  6760, 11809,
        1427,    70]), array([-4.83478928, -4.55367482, -4.27256036, -3.99144591, -3.71033145,
       -3.429217  , -3.14810254, -2.86698808, -2.58587363, -2.30475917,
       -2.02364472, -1.74253026, -1.4614158 , -1.18030135, -0.89918689,
       -0.61807244, -0.33695798, -0.05584352,  0.22527093,  0.50638539,
        0.78749985]))
||Xanchor-Xpos||_2  counter: 
[  47  137  323  507  670  834  973 1079 1004  838  642  511  302  198   94
   51   27    9    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   30   93  226  401  642  802  973 1065 1020  915  715  564  323  228
  135   51   32   14   11]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.48068619   65.97931271   86.47793922  106.97656574  127.47519226
  147.97381878  168.4724453   188.97107182  209.46969833  229.96832485
  250.46695137  270.96557789  291.46420441  311.96283092  332.46145744
  352.96008396  373.45871048  393.957337    414.45596352  434.95459003
  455.45321655]
distance difference  counter: 
(array([   1,    2,    2,    3,    3,    4,    5,    9,   13,   19,   30,
         57,  114,  192,  425,  981, 2295, 3260,  752,   79]), array([-4.25955629, -4.01461037, -3.76966444, -3.52471852, -3.27977259,
       -3.03482667, -2.78988074, -2.54493482, -2.29998889, -2.05504296,
       -1.81009704, -1.56515111, -1.32020519, -1.07525926, -0.83031334,
       -0.58536741, -0.34042149, -0.09547556,  0.14947037,  0.39441629,
        0.63936222]))
train/val Accuracy = 0.538523683987 / 0.54899345137 
 with threshold: [[ 277.4777479]]
============ epoch 3 ===========
training loss:		0.027127
||Xanchor-Xpos||_2  counter: 
[ 179 1250 2841 2734 2998 3317 3136 2508 1846 1266  704  362  198   91   43
   25   17    1    1    1]
||Xanchor-Xneg||_2  counter: 
[  88  784 2023 2337 2829 3462 3442 3075 2206 1438  889  460  243  132   68
   27   10    1    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  64.28155518  100.16647644  136.05139771  171.93631897  207.82124023
  243.7061615   279.59108276  315.47600403  351.36092529  387.24584656
  423.13076782  459.01568909  494.90061035  530.78553162  566.67045288
  602.55537415  638.44029541  674.32521667  710.21013794  746.0950592
  781.97998047]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     1,     4,     3,
          10,    11,    27,    64,   153,   316,   757,  2206, 12128,
        7593,   243]), array([-6.45033646, -6.08988661, -5.72943677, -5.36898692, -5.00853708,
       -4.64808723, -4.28763739, -3.92718754, -3.5667377 , -3.20628785,
       -2.84583801, -2.48538817, -2.12493832, -1.76448848, -1.40403863,
       -1.04358879, -0.68313894, -0.3226891 ,  0.03776075,  0.39821059,
        0.75866044]))
||Xanchor-Xpos||_2  counter: 
[  53  147  309  520  686  832  994 1087  982  844  640  493  293  192   91
   53   18    8    4    0]
||Xanchor-Xneg||_2  counter: 
[   8   27   98  225  421  639  826  968 1071 1053  922  685  536  320  217
  123   55   34   10    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.43221283   66.05216103   86.67210922  107.29205742  127.91200562
  148.53195381  169.15190201  189.7718502   210.3917984   231.0117466
  251.63169479  272.25164299  292.87159119  313.49153938  334.11148758
  354.73143578  375.35138397  395.97133217  416.59128036  437.21122856
  457.83117676]
distance difference  counter: 
(array([   1,    1,    3,    3,    1,    0,    3,    7,    9,   18,   31,
         34,   89,  175,  353,  819, 2019, 3645,  947,   88]), array([-4.61638832, -4.35298746, -4.0895866 , -3.82618575, -3.56278489,
       -3.29938403, -3.03598317, -2.77258231, -2.50918145, -2.24578059,
       -1.98237973, -1.71897888, -1.45557802, -1.19217716, -0.9287763 ,
       -0.66537544, -0.40197458, -0.13857372,  0.12482713,  0.38822799,
        0.65162885]))
train/val Accuracy = 0.538332341185 / 0.547962648557 
 with threshold: [[ 277.14565421]]
============ epoch 4 ===========
training loss:		0.027115
||Xanchor-Xpos||_2  counter: 
[ 156 1170 2764 2727 2887 3300 3113 2616 1930 1242  790  417  199  107   57
   28   11    2    2    0]
||Xanchor-Xneg||_2  counter: 
[  74  694 1972 2283 2748 3412 3496 3051 2248 1506  962  518  311  132   63
   31   10    4    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.80267334   98.32376404  133.84485474  169.36594543  204.88703613
  240.40812683  275.92921753  311.45030823  346.97139893  382.49248962
  418.01358032  453.53467102  489.05576172  524.57685242  560.09794312
  595.61903381  631.14012451  666.66121521  702.18230591  737.70339661
  773.2244873 ]
distance difference  counter: 
(array([   1,    0,    1,    4,    4,    5,    6,   15,   19,   45,   81,
        146,  234,  466,  941, 2212, 8005, 9975, 1295,   63]), array([-4.46912098, -4.20736991, -3.94561884, -3.68386777, -3.4221167 ,
       -3.16036563, -2.89861456, -2.63686348, -2.37511241, -2.11336134,
       -1.85161027, -1.5898592 , -1.32810813, -1.06635706, -0.80460599,
       -0.54285492, -0.28110385, -0.01935278,  0.24239829,  0.50414936,
        0.76590043]))
||Xanchor-Xpos||_2  counter: 
[  49  140  303  515  654  849  964 1073 1005  881  626  510  315  186   88
   43   29   13    2    1]
||Xanchor-Xneg||_2  counter: 
[   6   26  102  213  399  655  802  960 1079 1002  926  735  518  356  224
  119   65   31   19    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.3888092    65.85101852   86.31322784  106.77543716  127.23764648
  147.6998558   168.16206512  188.62427444  209.08648376  229.54869308
  250.0109024   270.47311172  290.93532104  311.39753036  331.85973969
  352.32194901  372.78415833  393.24636765  413.70857697  434.17078629
  454.63299561]
distance difference  counter: 
(array([   1,    3,    2,    1,    2,    4,    4,    9,   18,   22,   28,
         49,  113,  228,  452,  957, 2377, 3200,  717,   59]), array([-4.26012993, -4.01454057, -3.76895122, -3.52336186, -3.27777251,
       -3.03218316, -2.7865938 , -2.54100445, -2.29541509, -2.04982574,
       -1.80423638, -1.55864703, -1.31305767, -1.06746832, -0.82187896,
       -0.57628961, -0.33070025, -0.0851109 ,  0.16047845,  0.40606781,
        0.65165716]))
train/val Accuracy = 0.538311080874 / 0.548447732234 
 with threshold: [[ 276.89672859]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.270728
||Xanchor-Xpos||_2  counter: 
[  79  792 2293 2404 2517 2825 2980 2748 2338 1703 1161  761  421  243  132
   59   33   20    7    1]
||Xanchor-Xneg||_2  counter: 
[  40  452 1510 2035 2117 2787 3118 3200 2694 2023 1426  925  553  293  168
   87   50   19   14    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.17671204   92.04303207  124.90935211  157.77567215  190.64199219
  223.50831223  256.37463226  289.2409523   322.10727234  354.97359238
  387.83991241  420.70623245  453.57255249  486.43887253  519.30519257
  552.1715126   585.03783264  617.90415268  650.77047272  683.63679276
  716.50311279]
distance difference  counter: 
(array([    1,     0,     0,     1,     5,     2,     5,     6,    16,
          31,    58,   105,   187,   345,   646,  1544,  5100, 13084,
        2257,   125]), array([-4.96522427, -4.6794688 , -4.39371333, -4.10795785, -3.82220238,
       -3.53644691, -3.25069144, -2.96493597, -2.6791805 , -2.39342503,
       -2.10766956, -1.82191409, -1.53615862, -1.25040315, -0.96464768,
       -0.67889221, -0.39313674, -0.10738127,  0.1783742 ,  0.46412967,
        0.74988514]))
||Xanchor-Xpos||_2  counter: 
[  58  196  396  629  815  989 1072 1104  978  757  537  340  201  102   47
   20    5    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   44  131  316  550  783  963 1112 1110 1043  806  591  366  210  110
   50   33   14    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.41659927   68.43019924   91.44379921  114.45739918  137.47099915
  160.48459911  183.49819908  206.51179905  229.52539902  252.53899899
  275.55259895  298.56619892  321.57979889  344.59339886  367.60699883
  390.62059879  413.63419876  436.64779873  459.6613987   482.67499866
  505.68859863]
distance difference  counter: 
(array([   4,    0,    0,    1,    0,    3,    5,    5,   12,   12,   24,
         36,   59,  149,  307,  653, 1691, 3900, 1268,  117]), array([-4.95840454, -4.67826182, -4.39811909, -4.11797637, -3.83783364,
       -3.55769092, -3.27754819, -2.99740547, -2.71726274, -2.43712002,
       -2.1569773 , -1.87683457, -1.59669185, -1.31654912, -1.0364064 ,
       -0.75626367, -0.47612095, -0.19597822,  0.0841645 ,  0.36430722,
        0.64444995]))
train/val Accuracy = 0.539225274258 / 0.552631578947 
 with threshold: [[ 280.17717168]]
============ epoch 1 ===========
training loss:		0.269497
||Xanchor-Xpos||_2  counter: 
[ 150 1157 2547 2352 2705 2975 3007 2692 2059 1549 1038  601  311  188   98
   50   23   11    4    1]
||Xanchor-Xneg||_2  counter: 
[  74  694 1764 2039 2408 2998 3219 3053 2563 1811 1237  742  444  231  121
   71   28   10    7    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  65.27355957   98.46581726  131.65807495  164.85033264  198.04259033
  231.23484802  264.42710571  297.6193634   330.81162109  364.00387878
  397.19613647  430.38839417  463.58065186  496.77290955  529.96516724
  563.15742493  596.34968262  629.54194031  662.734198    695.92645569
  729.11871338]
distance difference  counter: 
(array([    1,     1,     2,     0,     3,     3,    10,    10,    22,
          28,    63,   121,   233,   349,   772,  1740,  6190, 12220,
        1662,    88]), array([-4.82809496, -4.54813377, -4.26817258, -3.98821139, -3.7082502 ,
       -3.42828901, -3.14832782, -2.86836663, -2.58840544, -2.30844425,
       -2.02848306, -1.74852187, -1.46856068, -1.18859949, -0.9086383 ,
       -0.62867711, -0.34871593, -0.06875474,  0.21120645,  0.49116764,
        0.77112883]))
||Xanchor-Xpos||_2  counter: 
[  51  183  396  625  763  966 1103 1143  999  711  585  355  211   94   36
   18    3    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   43  132  299  538  785  966 1099 1108 1037  815  617  363  225  104
   62   27   11    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.94166565   66.78901443   89.63636322  112.48371201  135.33106079
  158.17840958  181.02575836  203.87310715  226.72045593  249.56780472
  272.4151535   295.26250229  318.10985107  340.95719986  363.80454865
  386.65189743  409.49924622  432.346595    455.19394379  478.04129257
  500.88864136]
distance difference  counter: 
(array([   1,    1,    0,    0,    0,    4,    4,    3,   10,    8,   15,
         29,   43,   93,  208,  477, 1279, 3662, 2207,  202]), array([-5.47163916, -5.16708744, -4.86253572, -4.557984  , -4.25343229,
       -3.94888057, -3.64432885, -3.33977713, -3.03522542, -2.7306737 ,
       -2.42612198, -2.12157026, -1.81701854, -1.51246683, -1.20791511,
       -0.90336339, -0.59881167, -0.29425996,  0.01029176,  0.31484348,
        0.6193952 ]))
train/val Accuracy = 0.539714261417 / 0.554147465438 
 with threshold: [[ 277.44812303]]
============ epoch 2 ===========
training loss:		0.268289
||Xanchor-Xpos||_2  counter: 
[ 128  968 2399 2375 2463 2933 2873 2773 2181 1647 1128  756  425  222  124
   72   28   16    7    0]
||Xanchor-Xneg||_2  counter: 
[  55  596 1641 1914 2210 2797 3206 3006 2685 1970 1374  874  576  309  147
   82   39   21   11    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  63.29227066   95.15543118  127.01859169  158.8817522   190.74491272
  222.60807323  254.47123375  286.33439426  318.19755478  350.06071529
  381.92387581  413.78703632  445.65019684  477.51335735  509.37651787
  541.23967838  573.1028389   604.96599941  636.82915993  668.69232044
  700.55548096]
distance difference  counter: 
(array([    1,     0,     0,     2,     4,     2,     2,     6,    10,
          21,    34,    86,   144,   252,   508,  1148,  3244, 13145,
        4634,   275]), array([-5.27560949, -4.97714455, -4.67867962, -4.38021468, -4.08174974,
       -3.7832848 , -3.48481986, -3.18635492, -2.88788998, -2.58942504,
       -2.2909601 , -1.99249516, -1.69403023, -1.39556529, -1.09710035,
       -0.79863541, -0.50017047, -0.20170553,  0.09675941,  0.39522435,
        0.69368929]))
||Xanchor-Xpos||_2  counter: 
[  56  216  411  697  840 1053 1203 1077  964  715  463  289  161   62   29
    7    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   49  157  363  598  848 1057 1181 1113 1005  742  525  273  194   78
   28   19    4    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.52226639   67.0989912    90.67571602  114.25244083  137.82916565
  161.40589046  184.98261528  208.5593401   232.13606491  255.71278973
  279.28951454  302.86623936  326.44296417  350.01968899  373.5964138
  397.17313862  420.74986343  444.32658825  467.90331306  491.48003788
  515.0567627 ]
distance difference  counter: 
(array([   1,    0,    1,    1,    1,    4,    3,    6,   12,    9,   24,
         31,   66,  117,  268,  537, 1541, 3882, 1596,  146]), array([-5.08870983, -4.8030168 , -4.51732377, -4.23163074, -3.94593771,
       -3.66024467, -3.37455164, -3.08885861, -2.80316558, -2.51747255,
       -2.23177952, -1.94608648, -1.66039345, -1.37470042, -1.08900739,
       -0.80331436, -0.51762133, -0.23192829,  0.05376474,  0.33945777,
        0.6251508 ]))
train/val Accuracy = 0.539799302662 / 0.553965559059 
 with threshold: [[ 274.53196197]]
============ epoch 3 ===========
training loss:		0.267104
||Xanchor-Xpos||_2  counter: 
[  55  701 2356 2501 2636 2938 3048 2864 2332 1644 1027  649  382  193  102
   52   20    9    7    1]
||Xanchor-Xneg||_2  counter: 
[  23  394 1586 2050 2282 2904 3367 3179 2629 1989 1297  801  498  261  125
   66   43   14    7    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  52.36224365   85.66528015  118.96831665  152.27135315  185.57438965
  218.87742615  252.18046265  285.48349915  318.78653564  352.08957214
  385.39260864  418.69564514  451.99868164  485.30171814  518.60475464
  551.90779114  585.21082764  618.51386414  651.81690063  685.11993713
  718.42297363]
distance difference  counter: 
(array([    3,     0,     1,     2,     4,     7,     6,    12,    24,
          31,    85,   110,   213,   391,   755,  1822,  6419, 11909,
        1629,    95]), array([-4.74721146, -4.47164209, -4.19607273, -3.92050336, -3.644934  ,
       -3.36936463, -3.09379527, -2.81822591, -2.54265654, -2.26708718,
       -1.99151781, -1.71594845, -1.44037908, -1.16480972, -0.88924035,
       -0.61367099, -0.33810163, -0.06253226,  0.2130371 ,  0.48860647,
        0.76417583]))
||Xanchor-Xpos||_2  counter: 
[  61  195  388  621  815  981 1083 1149  935  757  557  330  196   99   58
   13    6    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   41  135  325  532  817  964 1096 1083 1044  819  572  367  230  111
   53   35    8    6    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.13243484   66.49718914   88.86194344  111.22669773  133.59145203
  155.95620632  178.32096062  200.68571491  223.05046921  245.4152235
  267.7799778   290.14473209  312.50948639  334.87424068  357.23899498
  379.60374928  401.96850357  424.33325787  446.69801216  469.06276646
  491.42752075]
distance difference  counter: 
(array([   2,    1,    1,    1,    4,    2,    6,   11,    9,   13,   31,
         42,   96,  184,  337,  750, 1997, 3661,  997,  101]), array([-4.6370368 , -4.37296378, -4.10889075, -3.84481773, -3.58074471,
       -3.31667168, -3.05259866, -2.78852564, -2.52445261, -2.26037959,
       -1.99630657, -1.73223355, -1.46816052, -1.2040875 , -0.94001448,
       -0.67594145, -0.41186843, -0.14779541,  0.11627762,  0.38035064,
        0.64442366]))
train/val Accuracy = 0.537524449358 / 0.556148435605 
 with threshold: [[ 272.31766883]]
============ epoch 4 ===========
training loss:		0.265942
||Xanchor-Xpos||_2  counter: 
[ 139 1333 2795 2605 2935 3269 3154 2610 1903 1255  713  431  189  105   49
   20   10    2    1    0]
||Xanchor-Xneg||_2  counter: 
[  73  790 2083 2204 2747 3391 3421 3048 2296 1504  911  510  277  149   61
   33   11    7    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  60.92171478   95.79624977  130.67078476  165.54531975  200.41985474
  235.29438972  270.16892471  305.0434597   339.91799469  374.79252968
  409.66706467  444.54159966  479.41613464  514.29066963  549.16520462
  584.03973961  618.9142746   653.78880959  688.66334457  723.53787956
  758.41241455]
distance difference  counter: 
(array([    1,     0,     0,     4,     1,     4,     9,     7,    12,
          30,    51,    99,   180,   326,   669,  1490,  4777, 13246,
        2479,   133]), array([-4.97714329, -4.69131572, -4.40548816, -4.11966059, -3.83383303,
       -3.54800546, -3.2621779 , -2.97635033, -2.69052277, -2.4046952 ,
       -2.11886764, -1.83304007, -1.54721251, -1.26138494, -0.97555737,
       -0.68972981, -0.40390224, -0.11807468,  0.16775289,  0.45358045,
        0.73940802]))
||Xanchor-Xpos||_2  counter: 
[  57  210  454  702  926 1064 1196 1149  901  661  470  234  130   56   27
    8    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   56  158  381  646  920 1068 1159 1177  963  734  451  282  136   58
   33   10    5    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.6954422    66.26738091   89.83931961  113.41125832  136.98319702
  160.55513573  184.12707443  207.69901314  231.27095184  254.84289055
  278.41482925  301.98676796  325.55870667  349.13064537  372.70258408
  396.27452278  419.84646149  443.41840019  466.9903389   490.5622776
  514.13421631]
distance difference  counter: 
(array([   1,    0,    3,    2,    1,    2,    6,    8,   11,   13,   32,
         39,   81,  162,  325,  668, 1858, 3779, 1135,  120]), array([-4.73866892, -4.47008161, -4.2014943 , -3.93290699, -3.66431968,
       -3.39573237, -3.12714506, -2.85855775, -2.58997045, -2.32138314,
       -2.05279583, -1.78420852, -1.51562121, -1.2470339 , -0.97844659,
       -0.70985928, -0.44127197, -0.17268466,  0.09590265,  0.36448995,
        0.63307726]))
train/val Accuracy = 0.537928395272 / 0.552934756245 
 with threshold: [[ 269.76659632]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.659395
||Xanchor-Xpos||_2  counter: 
[  94  839 2257 2357 2452 2703 2979 2704 2294 1762 1253  809  436  284  145
   79   36   17   13    4]
||Xanchor-Xneg||_2  counter: 
[  38  504 1522 1840 2195 2702 3015 3113 2727 2036 1497  984  601  364  203
   88   57   14   11    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.52384567   89.36332722  120.20280876  151.04229031  181.88177185
  212.7212534   243.56073494  274.40021648  305.23969803  336.07917957
  366.91866112  397.75814266  428.59762421  459.43710575  490.2765873
  521.11606884  551.95555038  582.79503193  613.63451347  644.47399502
  675.31347656]
distance difference  counter: 
(array([    2,     1,     2,     3,     4,     7,     3,    14,    27,
          36,    74,   130,   230,   405,   847,  1814,  6433, 11652,
        1718,   116]), array([-4.61657286, -4.34851378, -4.0804547 , -3.81239562, -3.54433655,
       -3.27627747, -3.00821839, -2.74015931, -2.47210023, -2.20404116,
       -1.93598208, -1.667923  , -1.39986392, -1.13180484, -0.86374577,
       -0.59568669, -0.32762761, -0.05956853,  0.20849054,  0.47654962,
        0.7446087 ]))
||Xanchor-Xpos||_2  counter: 
[  85  229  485  716  927 1075 1221 1130  889  631  431  228  124   36   28
    9    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   55  177  409  706  901 1093 1219 1109  955  692  441  239  131   67
   24   12    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.0141716    64.99793262   86.98169365  108.96545467  130.9492157
  152.93297672  174.91673775  196.90049877  218.8842598   240.86802082
  262.85178185  284.83554287  306.81930389  328.80306492  350.78682594
  372.77058697  394.75434799  416.73810902  438.72187004  460.70563107
  482.68939209]
distance difference  counter: 
(array([   1,    1,    0,    0,    2,    4,    3,    7,    9,   12,   25,
         27,   57,  143,  234,  607, 1587, 3891, 1493,  143]), array([-5.07346392, -4.78803941, -4.5026149 , -4.21719039, -3.93176588,
       -3.64634137, -3.36091686, -3.07549235, -2.79006784, -2.50464333,
       -2.21921882, -1.93379431, -1.6483698 , -1.36294529, -1.07752078,
       -0.79209627, -0.50667176, -0.22124725,  0.06417726,  0.34960177,
        0.63502628]))
train/val Accuracy = 0.540054426397 / 0.541414018918 
 with threshold: [[ 268.21389229]]
============ epoch 1 ===========
training loss:		2.554689
||Xanchor-Xpos||_2  counter: 
[ 116  987 2525 2438 2759 3079 3023 2714 2095 1531 1014  598  311  189   75
   26   23   10    2    3]
||Xanchor-Xneg||_2  counter: 
[  52  593 1715 2042 2454 3101 3262 3099 2592 1893 1141  724  400  241  114
   61   18   12    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  52.63724136   82.50144863  112.3656559   142.22986317  172.09407043
  201.9582777   231.82248497  261.68669224  291.55089951  321.41510677
  351.27931404  381.14352131  411.00772858  440.87193584  470.73614311
  500.60035038  530.46455765  560.32876492  590.19297218  620.05717945
  649.92138672]
distance difference  counter: 
(array([    1,     1,     3,     0,     4,     3,     8,     6,    17,
          24,    51,    99,   199,   335,   688,  1684,  5686, 12894,
        1737,    78]), array([-5.08575296, -4.79162452, -4.49749608, -4.20336764, -3.9092392 ,
       -3.61511075, -3.32098231, -3.02685387, -2.73272543, -2.43859699,
       -2.14446855, -1.8503401 , -1.55621166, -1.26208322, -0.96795478,
       -0.67382634, -0.3796979 , -0.08556945,  0.20855899,  0.50268743,
        0.79681587]))
||Xanchor-Xpos||_2  counter: 
[  78  198  436  654  839 1034 1094 1156  940  729  477  308  174   66   38
   17    7    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   54  153  347  577  863 1003 1135 1124  979  803  525  302  207   89
   43   19   13    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  39.06580734   58.13805408   77.21030083   96.28254757  115.35479431
  134.42704105  153.4992878   172.57153454  191.64378128  210.71602802
  229.78827477  248.86052151  267.93276825  287.00501499  306.07726173
  325.14950848  344.22175522  363.29400196  382.3662487   401.43849545
  420.51074219]
distance difference  counter: 
(array([   2,    1,    2,    5,    2,    1,    3,   12,   12,   14,   27,
         56,   90,  164,  362,  856, 1957, 3540, 1024,  116]), array([-4.42247725, -4.17059347, -3.9187097 , -3.66682592, -3.41494215,
       -3.16305837, -2.9111746 , -2.65929082, -2.40740705, -2.15552327,
       -1.9036395 , -1.65175572, -1.39987195, -1.14798817, -0.8961044 ,
       -0.64422062, -0.39233685, -0.14045307,  0.1114307 ,  0.36331448,
        0.61519825]))
train/val Accuracy = 0.539246534569 / 0.541656560757 
 with threshold: [[ 243.59712424]]
============ epoch 2 ===========
training loss:		2.468324
||Xanchor-Xpos||_2  counter: 
[ 157 1036 2465 2351 2519 2857 2991 2647 2184 1645 1086  683  425  237  110
   72   35    8    4    3]
||Xanchor-Xneg||_2  counter: 
[  68  658 1667 1931 2271 2859 3176 2935 2664 1969 1340  868  497  305  158
   84   35   25    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  51.83577347   77.6594389   103.48310432  129.30676975  155.13043518
  180.95410061  206.77776604  232.60143147  258.42509689  284.24876232
  310.07242775  335.89609318  361.71975861  387.54342403  413.36708946
  439.19075489  465.01442032  490.83808575  516.66175117  542.4854166
  568.30908203]
distance difference  counter: 
(array([    1,     0,     2,     2,     3,     4,     4,    10,    16,
          29,    58,   109,   194,   355,   728,  1572,  5651, 12766,
        1923,    91]), array([-4.95524788, -4.66896068, -4.38267347, -4.09638627, -3.81009907,
       -3.52381186, -3.23752466, -2.95123746, -2.66495025, -2.37866305,
       -2.09237584, -1.80608864, -1.51980144, -1.23351423, -0.94722703,
       -0.66093983, -0.37465262, -0.08836542,  0.19792178,  0.48420899,
        0.77049619]))
||Xanchor-Xpos||_2  counter: 
[  92  240  499  744 1007 1145 1227 1114  853  586  378  201   93   38   22
    5    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   67  192  428  739  988 1163 1208 1137  927  621  363  219  101   50
   20    9    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  35.48162079   54.08520088   72.68878098   91.29236107  109.89594116
  128.49952126  147.10310135  165.70668144  184.31026154  202.91384163
  221.51742172  240.12100182  258.72458191  277.328162    295.9317421
  314.53532219  333.13890228  351.74248238  370.34606247  388.94964256
  407.55322266]
distance difference  counter: 
(array([   2,    1,    0,    2,    0,    2,    2,    8,   11,   17,   17,
         32,   68,  140,  261,  603, 1663, 3936, 1353,  128]), array([-5.03262615, -4.74869972, -4.46477329, -4.18084686, -3.89692043,
       -3.612994  , -3.32906757, -3.04514114, -2.76121471, -2.47728828,
       -2.19336185, -1.90943542, -1.62550899, -1.34158256, -1.05765613,
       -0.7737297 , -0.48980327, -0.20587684,  0.07804959,  0.36197602,
        0.64590245]))
train/val Accuracy = 0.540458372311 / 0.539473684211 
 with threshold: [[ 221.43402575]]
============ epoch 3 ===========
training loss:		2.397088
||Xanchor-Xpos||_2  counter: 
[  76  924 2494 2507 2643 3081 3054 2760 2168 1526 1028  608  318  154  106
   43   11   10    5    2]
||Xanchor-Xneg||_2  counter: 
[  37  548 1684 2055 2407 3056 3305 3111 2587 1829 1248  811  404  215  117
   62   29    7    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  41.8533783    66.54943619   91.24549408  115.94155197  140.63760986
  165.33366776  190.02972565  214.72578354  239.42184143  264.11789932
  288.81395721  313.51001511  338.206073    362.90213089  387.59818878
  412.29424667  436.99030457  461.68636246  486.38242035  511.07847824
  535.77453613]
distance difference  counter: 
(array([    1,     1,     3,     5,     3,     5,     9,    12,    27,
          51,    67,   156,   234,   446,   926,  2114,  8070, 10187,
        1137,    64]), array([-4.57078981, -4.30289279, -4.03499576, -3.76709873, -3.4992017 ,
       -3.23130468, -2.96340765, -2.69551062, -2.42761359, -2.15971656,
       -1.89181954, -1.62392251, -1.35602548, -1.08812845, -0.82023143,
       -0.5523344 , -0.28443737, -0.01654034,  0.25135669,  0.51925371,
        0.78715074]))
||Xanchor-Xpos||_2  counter: 
[  67  215  453  693  901 1143 1173 1166  902  649  463  229  113   40   23
   13    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   50  163  386  683  922 1096 1164 1157  951  720  452  247  141   66
   30    8    2    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.5931015    47.14757881   63.70205612   80.25653343   96.81101074
  113.36548805  129.91996536  146.47444267  163.02891998  179.58339729
  196.1378746   212.69235191  229.24682922  245.80130653  262.35578384
  278.91026115  295.46473846  312.01921577  328.57369308  345.12817039
  361.68264771]
distance difference  counter: 
(array([   2,    1,    3,    2,    2,    0,    5,    3,   14,   23,   29,
         43,   86,  166,  334,  775, 2050, 3648,  968,   92]), array([-4.597507  , -4.33525565, -4.0730043 , -3.81075295, -3.5485016 ,
       -3.28625025, -3.0239989 , -2.76174755, -2.4994962 , -2.23724485,
       -1.9749935 , -1.71274215, -1.4504908 , -1.18823945, -0.9259881 ,
       -0.66373675, -0.4014854 , -0.13923405,  0.12301731,  0.38526866,
        0.64752001]))
train/val Accuracy = 0.539225274258 / 0.541595925297 
 with threshold: [[ 201.04321189]]
============ epoch 4 ===========
training loss:		2.338331
||Xanchor-Xpos||_2  counter: 
[  97  942 2481 2477 2696 2999 3063 2755 2170 1563  979  595  337  193   94
   43   18    8    6    1]
||Xanchor-Xneg||_2  counter: 
[  44  544 1704 2004 2426 2979 3406 3149 2551 1846 1203  762  448  217  128
   60   28   12    6    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  38.14427948   60.57491646   83.00555344  105.43619041  127.86682739
  150.29746437  172.72810135  195.15873833  217.58937531  240.02001228
  262.45064926  284.88128624  307.31192322  329.7425602   352.17319717
  374.60383415  397.03447113  419.46510811  441.89574509  464.32638206
  486.75701904]
distance difference  counter: 
(array([    1,     1,     1,     4,     1,     5,     3,     8,    12,
          28,    48,   106,   179,   319,   658,  1511,  4738, 13301,
        2455,   139]), array([-5.00975418, -4.72185822, -4.43396225, -4.14606628, -3.85817032,
       -3.57027435, -3.28237839, -2.99448242, -2.70658646, -2.41869049,
       -2.13079453, -1.84289856, -1.55500259, -1.26710663, -0.97921066,
       -0.6913147 , -0.40341873, -0.11552277,  0.1723732 ,  0.46026917,
        0.74816513]))
||Xanchor-Xpos||_2  counter: 
[  75  208  457  695  918 1089 1235 1134  907  659  415  253  117   45   26
   10    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   49  163  384  673  937 1109 1162 1155  972  705  436  242  151   61
   21   13    5    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.89087677   42.92255516   57.95423355   72.98591194   88.01759033
  103.04926872  118.08094711  133.1126255   148.14430389  163.17598228
  178.20766068  193.23933907  208.27101746  223.30269585  238.33437424
  253.36605263  268.39773102  283.42940941  298.4610878   313.49276619
  328.52444458]
distance difference  counter: 
(array([   2,    1,    0,    1,    1,    8,    1,    6,    5,   10,   21,
         29,   57,  120,  244,  555, 1522, 3784, 1708,  171]), array([-5.0369072 , -4.75428548, -4.47166377, -4.18904206, -3.90642035,
       -3.62379864, -3.34117693, -3.05855522, -2.7759335 , -2.49331179,
       -2.21069008, -1.92806837, -1.64544666, -1.36282495, -1.08020324,
       -0.79758152, -0.51495981, -0.2323381 ,  0.05028361,  0.33290532,
        0.61552703]))
train/val Accuracy = 0.540437111999 / 0.540686393403 
 with threshold: [[ 182.78702106]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027109
||Xanchor-Xpos||_2  counter: 
[  63  761 2365 2462 2552 2887 3039 2830 2205 1642 1186  667  416  214  122
   62   28   12    4    0]
||Xanchor-Xneg||_2  counter: 
[  35  455 1576 1968 2267 2857 3276 3012 2751 2043 1356  815  520  279  164
   94   30   12    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.2900238    91.89224625  125.49446869  159.09669113  192.69891357
  226.30113602  259.90335846  293.5055809   327.10780334  360.71002579
  394.31224823  427.91447067  461.51669312  495.11891556  528.721138
  562.32336044  595.92558289  629.52780533  663.13002777  696.73225021
  730.33447266]
distance difference  counter: 
(array([    1,     1,     1,     6,     4,     7,     8,     8,    31,
          37,    77,   129,   240,   405,   821,  1836,  6294, 11671,
        1816,   125]), array([-4.54382706, -4.28016619, -4.01650533, -3.75284447, -3.4891836 ,
       -3.22552274, -2.96186188, -2.69820102, -2.43454015, -2.17087929,
       -1.90721843, -1.64355756, -1.3798967 , -1.11623584, -0.85257497,
       -0.58891411, -0.32525325, -0.06159239,  0.20206848,  0.46572934,
        0.7293902 ]))
||Xanchor-Xpos||_2  counter: 
[  59  192  388  607  824  956 1118 1115  979  721  543  374  196  102   42
   19    8    2    1    0]
||Xanchor-Xneg||_2  counter: 
[  10   39  133  297  544  781  958 1122 1087  996  833  608  384  244  105
   58   34    9    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.25009155   69.22278137   92.19547119  115.16816101  138.14085083
  161.11354065  184.08623047  207.05892029  230.03161011  253.00429993
  275.97698975  298.94967957  321.92236938  344.8950592   367.86774902
  390.84043884  413.81312866  436.78581848  459.7585083   482.73119812
  505.70388794]
distance difference  counter: 
(array([   1,    0,    1,    2,    3,    0,    1,    3,    7,    9,   17,
         32,   42,   90,  230,  488, 1461, 4054, 1686,  119]), array([-5.57363033, -5.26128789, -4.94894544, -4.636603  , -4.32426056,
       -4.01191811, -3.69957567, -3.38723322, -3.07489078, -2.76254834,
       -2.45020589, -2.13786345, -1.825521  , -1.51317856, -1.20083612,
       -0.88849367, -0.57615123, -0.26380878,  0.04853366,  0.3608761 ,
        0.67321855]))
train/val Accuracy = 0.536440173484 / 0.556269706524 
 with threshold: [[ 281.70871471]]
============ epoch 1 ===========
training loss:		0.026986
||Xanchor-Xpos||_2  counter: 
[  78  855 2490 2543 2730 3175 3098 2696 2174 1500 1006  564  318  139   82
   43   14    9    2    2]
||Xanchor-Xneg||_2  counter: 
[  23  506 1732 2038 2471 3089 3425 3138 2521 1872 1183  704  417  217  103
   39   30    4    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  56.12372589   90.91576347  125.70780106  160.49983864  195.29187622
  230.0839138   264.87595139  299.66798897  334.46002655  369.25206413
  404.04410172  438.8361393   473.62817688  508.42021446  543.21225204
  578.00428963  612.79632721  647.58836479  682.38040237  717.17243996
  751.96447754]
distance difference  counter: 
(array([    1,     0,     0,     1,     1,     3,     2,     2,     8,
          15,    27,    51,   105,   215,   403,   973,  2824, 13126,
        5527,   234]), array([-5.87081003, -5.54042627, -5.21004251, -4.87965875, -4.54927499,
       -4.21889123, -3.88850747, -3.55812371, -3.22773995, -2.89735619,
       -2.56697243, -2.23658867, -1.90620492, -1.57582116, -1.2454374 ,
       -0.91505364, -0.58466988, -0.25428612,  0.07609764,  0.4064814 ,
        0.73686516]))
||Xanchor-Xpos||_2  counter: 
[  45  166  332  541  709  884 1016 1065 1013  856  583  458  289  156   76
   32   15   10    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   31  102  263  454  686  867  987 1048 1022  878  722  504  297  198
   94   55   20   11    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.71760559   65.49591293   87.27422028  109.05252762  130.83083496
  152.6091423   174.38744965  196.16575699  217.94406433  239.72237167
  261.50067902  283.27898636  305.0572937   326.83560104  348.61390839
  370.39221573  392.17052307  413.94883041  435.72713776  457.5054451
  479.28375244]
distance difference  counter: 
(array([   2,    0,    2,    2,    1,    1,    5,    4,    6,   16,   22,
         37,   72,  142,  306,  684, 1858, 3905, 1090,   91]), array([-5.04790783, -4.7615801 , -4.47525237, -4.18892464, -3.90259691,
       -3.61626919, -3.32994146, -3.04361373, -2.757286  , -2.47095827,
       -2.18463054, -1.89830281, -1.61197509, -1.32564736, -1.03931963,
       -0.7529919 , -0.46666417, -0.18033644,  0.10599129,  0.39231901,
        0.67864674]))
train/val Accuracy = 0.540628454801 / 0.557239873878 
 with threshold: [[ 279.02399964]]
============ epoch 2 ===========
training loss:		0.026865
||Xanchor-Xpos||_2  counter: 
[  44  810 2696 2668 3024 3356 3385 2729 1947 1312  771  406  197   98   42
   23    5    4    1    0]
||Xanchor-Xneg||_2  counter: 
[  18  478 1829 2247 2813 3289 3721 3169 2439 1481 1011  533  272  117   69
   19    7    2    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  48.55209732   85.64002285  122.72794838  159.81587391  196.90379944
  233.99172497  271.0796505   308.16757603  345.25550156  382.34342709
  419.43135262  456.51927814  493.60720367  530.6951292   567.78305473
  604.87098026  641.95890579  679.04683132  716.13475685  753.22268238
  790.31060791]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     3,     4,     3,     7,
          10,    20,    57,   105,   178,   418,   969,  2740, 13829,
        4974,   200]), array([-6.04714918, -5.70640302, -5.36565686, -5.02491071, -4.68416455,
       -4.34341839, -4.00267223, -3.66192607, -3.32117991, -2.98043376,
       -2.6396876 , -2.29894144, -1.95819528, -1.61744912, -1.27670296,
       -0.93595681, -0.59521065, -0.25446449,  0.08628167,  0.42702783,
        0.76777399]))
||Xanchor-Xpos||_2  counter: 
[  66  199  399  623  826  967 1054 1131  984  742  554  331  206   96   42
   17    6    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   50  145  318  553  806  901 1129 1076 1011  840  593  366  238  102
   55   40    8    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.76175308   69.25730953   91.75286598  114.24842243  136.74397888
  159.23953533  181.73509178  204.23064823  226.72620468  249.22176113
  271.71731758  294.21287403  316.70843048  339.20398693  361.69954338
  384.19509983  406.69065628  429.18621273  451.68176918  474.17732563
  496.67288208]
distance difference  counter: 
(array([   2,    0,    1,    4,    0,    2,    6,    4,    9,   10,   32,
         36,   65,  153,  317,  671, 1913, 3909, 1030,   82]), array([-4.98634338, -4.70307372, -4.41980405, -4.13653438, -3.85326471,
       -3.56999505, -3.28672538, -3.00345571, -2.72018604, -2.43691638,
       -2.15364671, -1.87037704, -1.58710737, -1.3038377 , -1.02056804,
       -0.73729837, -0.4540287 , -0.17075903,  0.11251063,  0.3957803 ,
        0.67904997]))
train/val Accuracy = 0.541372565694 / 0.558391947611 
 with threshold: [[ 276.10240193]]
============ epoch 3 ===========
training loss:		0.026747
||Xanchor-Xpos||_2  counter: 
[  77  832 2523 2498 2732 3113 3113 2784 2164 1501  988  579  307  159   80
   42   17    6    2    1]
||Xanchor-Xneg||_2  counter: 
[  33  495 1678 2090 2408 3118 3465 3050 2577 1863 1222  730  401  200  108
   47   22    7    1    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  54.33410263   88.53673038  122.73935814  156.94198589  191.14461365
  225.3472414   259.54986916  293.75249691  327.95512466  362.15775242
  396.36038017  430.56300793  464.76563568  498.96826344  533.17089119
  567.37351894  601.5761467   635.77877445  669.98140221  704.18402996
  738.38665771]
distance difference  counter: 
(array([   3,    1,    2,    4,    5,   11,   10,   18,   32,   43,  110,
        133,  236,  485,  948, 2206, 8079, 9817, 1292,   83]), array([-4.40547991, -4.14746969, -3.88945947, -3.63144925, -3.37343903,
       -3.11542881, -2.85741858, -2.59940836, -2.34139814, -2.08338792,
       -1.8253777 , -1.56736748, -1.30935726, -1.05134704, -0.79333682,
       -0.5353266 , -0.27731638, -0.01930616,  0.23870406,  0.49671428,
        0.7547245 ]))
||Xanchor-Xpos||_2  counter: 
[  70  201  422  636  852 1023 1111 1117  960  726  531  294  169   74   39
   14    7    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   47  148  320  585  867  955 1135 1113  998  828  540  331  197   79
   66   19    7    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.92652512   67.81701527   90.70750542  113.59799557  136.48848572
  159.37897587  182.26946602  205.15995617  228.05044632  250.94093647
  273.83142662  296.72191677  319.61240692  342.50289707  365.39338722
  388.28387737  411.17436752  434.06485767  456.95534782  479.84583797
  502.73632812]
distance difference  counter: 
(array([   1,    1,    0,    3,    2,    4,    2,    8,    7,   16,   24,
         44,   64,  126,  266,  614, 1653, 3923, 1375,  113]), array([-5.06311226, -4.77775039, -4.49238853, -4.20702666, -3.9216648 ,
       -3.63630293, -3.35094107, -3.0655792 , -2.78021734, -2.49485547,
       -2.20949361, -1.92413174, -1.63876988, -1.35340801, -1.06804615,
       -0.78268428, -0.49732242, -0.21196055,  0.07340131,  0.35876318,
        0.64412504]))
train/val Accuracy = 0.538800068033 / 0.55699733204 
 with threshold: [[ 273.85884903]]
============ epoch 4 ===========
training loss:		0.026631
||Xanchor-Xpos||_2  counter: 
[  84  925 2560 2472 2729 3063 3177 2681 2136 1480  997  577  320  159   92
   39   15    9    3    0]
||Xanchor-Xneg||_2  counter: 
[  36  535 1736 2075 2427 3118 3401 3121 2476 1866 1173  747  401  210  104
   51   24   10    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  57.03199387   90.54203663  124.05207939  157.56212215  191.07216492
  224.58220768  258.09225044  291.60229321  325.11233597  358.62237873
  392.13242149  425.64246426  459.15250702  492.66254978  526.17259254
  559.68263531  593.19267807  626.70272083  660.2127636   693.72280636
  727.23284912]
distance difference  counter: 
(array([    1,     0,     1,     0,     2,     3,     1,     1,     7,
           8,    29,    43,    95,   197,   375,   866,  2528, 12616,
        6470,   275]), array([-6.04143381, -5.7027191 , -5.36400438, -5.02528966, -4.68657495,
       -4.34786023, -4.00914552, -3.6704308 , -3.33171608, -2.99300137,
       -2.65428665, -2.31557194, -1.97685722, -1.63814251, -1.29942779,
       -0.96071307, -0.62199836, -0.28328364,  0.05543107,  0.39414579,
        0.73286051]))
||Xanchor-Xpos||_2  counter: 
[  54  191  377  594  806  984 1048 1132 1042  763  544  355  184  106   40
   16    7    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   36  127  285  540  789  952 1094 1146 1006  844  606  374  241  100
   54   31   12    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.48590469   64.8446249    87.20334511  109.56206532  131.92078552
  154.27950573  176.63822594  198.99694614  221.35566635  243.71438656
  266.07310677  288.43182697  310.79054718  333.14926739  355.50798759
  377.8667078   400.22542801  422.58414822  444.94286842  467.30158863
  489.66030884]
distance difference  counter: 
(array([   1,    0,    1,    3,    2,    2,    6,    5,   14,   12,   23,
         43,   63,  147,  300,  680, 1821, 3806, 1203,  114]), array([-4.88454628, -4.60815533, -4.33176437, -4.05537342, -3.77898246,
       -3.50259151, -3.22620055, -2.9498096 , -2.67341864, -2.39702769,
       -2.12063673, -1.84424578, -1.56785482, -1.29146387, -1.01507291,
       -0.73868196, -0.462291  , -0.18590005,  0.09049091,  0.36688186,
        0.64327282]))
train/val Accuracy = 0.539671740794 / 0.556754790201 
 with threshold: [[ 271.21756657]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.265712
||Xanchor-Xpos||_2  counter: 
[ 141 1072 2667 2552 2780 3125 3077 2624 2054 1417  926  517  287  144   66
   34   20   10    1    2]
||Xanchor-Xneg||_2  counter: 
[  58  669 1868 2105 2556 3215 3365 3008 2446 1723 1075  707  365  186   92
   37   28    6    7    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  60.59899902   93.90839233  127.21778564  160.52717896  193.83657227
  227.14596558  260.45535889  293.7647522   327.07414551  360.38353882
  393.69293213  427.00232544  460.31171875  493.62111206  526.93050537
  560.23989868  593.54929199  626.8586853   660.16807861  693.47747192
  726.78686523]
distance difference  counter: 
(array([    1,     0,     1,     3,     1,     1,     5,     8,    10,
          12,    31,    79,   115,   264,   498,  1154,  3633, 13852,
        3690,   160]), array([-5.49740267, -5.1849558 , -4.87250894, -4.56006207, -4.24761521,
       -3.93516834, -3.62272148, -3.31027461, -2.99782774, -2.68538088,
       -2.37293401, -2.06048715, -1.74804028, -1.43559342, -1.12314655,
       -0.81069969, -0.49825282, -0.18580596,  0.12664091,  0.43908778,
        0.75153464]))
||Xanchor-Xpos||_2  counter: 
[  71  202  384  626  821  964 1108 1127  949  730  559  347  194   93   42
   21    8    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   41  132  314  553  805  940 1048 1131 1001  811  606  394  211  135
   63   35   13    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.92591858   64.63324814   85.3405777   106.04790726  126.75523682
  147.46256638  168.16989594  188.87722549  209.58455505  230.29188461
  250.99921417  271.70654373  292.41387329  313.12120285  333.82853241
  354.53586197  375.24319153  395.95052109  416.65785065  437.36518021
  458.07250977]
distance difference  counter: 
(array([   1,    0,    3,    2,    1,    4,    2,   11,    9,   22,   28,
         43,   62,  163,  312,  761, 1908, 3748, 1063,  103]), array([-4.77153111, -4.50063586, -4.22974061, -3.95884537, -3.68795012,
       -3.41705488, -3.14615963, -2.87526439, -2.60436914, -2.33347389,
       -2.06257865, -1.7916834 , -1.52078816, -1.24989291, -0.97899767,
       -0.70810242, -0.43720717, -0.16631193,  0.10458332,  0.37547856,
        0.64637381]))
train/val Accuracy = 0.538055957139 / 0.54741692942 
 with threshold: [[ 268.71258425]]
============ epoch 1 ===========
training loss:		0.255254
||Xanchor-Xpos||_2  counter: 
[  72  700 2238 2378 2433 2788 2951 2721 2356 1753 1282  802  502  248  138
   75   36   22   14    7]
||Xanchor-Xneg||_2  counter: 
[  35  419 1431 1935 2174 2718 2980 3105 2669 2170 1565  993  579  348  211
   83   56   26   12    9]
||Xanchor-X_neg/pos||_2  bins edge: 
[  51.49210739   79.62541828  107.75872917  135.89204006  164.02535095
  192.15866184  220.29197273  248.42528362  276.55859451  304.6919054
  332.82521629  360.95852718  389.09183807  417.22514896  445.35845985
  473.49177074  501.62508163  529.75839252  557.89170341  586.02501431
  614.1583252 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     1,     3,     6,     5,
          12,    21,    56,   106,   222,   426,  1047,  3080, 13784,
        4557,   190]), array([-5.80482864, -5.4767334 , -5.14863816, -4.82054293, -4.49244769,
       -4.16435245, -3.83625721, -3.50816197, -3.18006673, -2.85197149,
       -2.52387625, -2.19578101, -1.86768577, -1.53959053, -1.21149529,
       -0.88340005, -0.55530481, -0.22720957,  0.10088567,  0.4289809 ,
        0.75707614]))
||Xanchor-Xpos||_2  counter: 
[  73  218  443  674  878 1026 1196 1118  940  675  484  257  136   73   32
   17    6    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   58  148  349  634  894  996 1151 1137 1020  743  477  312  169   82
   37   23    5    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  39.13503647   58.86606846   78.59710045   98.32813244  118.05916443
  137.79019642  157.52122841  177.2522604   196.98329239  216.71432438
  236.44535637  256.17638836  275.90742035  295.63845234  315.36948433
  335.10051632  354.83154831  374.5625803   394.29361229  414.02464428
  433.75567627]
distance difference  counter: 
(array([   1,    0,    1,    3,    0,    3,    5,   11,    9,   16,   28,
         53,   63,  163,  332,  728, 1927, 3765, 1047,   91]), array([-4.79270506, -4.52019834, -4.24769161, -3.97518489, -3.70267817,
       -3.43017145, -3.15766472, -2.885158  , -2.61265128, -2.34014455,
       -2.06763783, -1.79513111, -1.52262439, -1.25011766, -0.97761094,
       -0.70510422, -0.43259749, -0.16009077,  0.11241595,  0.38492267,
        0.6574294 ]))
train/val Accuracy = 0.539565439238 / 0.545112781955 
 with threshold: [[ 244.12267304]]
============ epoch 2 ===========
training loss:		0.246629
||Xanchor-Xpos||_2  counter: 
[ 181 1179 2593 2440 2669 3120 3067 2646 1994 1480  947  558  303  167  102
   39   19   10    2    0]
||Xanchor-Xneg||_2  counter: 
[  70  700 1848 2081 2470 3085 3292 3076 2482 1715 1142  722  409  207  118
   51   19   19    8    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  52.20922852   79.12887573  106.04852295  132.96817017  159.88781738
  186.8074646   213.72711182  240.64675903  267.56640625  294.48605347
  321.40570068  348.3253479   375.24499512  402.16464233  429.08428955
  456.00393677  482.92358398  509.8432312   536.76287842  563.68252563
  590.60217285]
distance difference  counter: 
(array([   2,    1,    3,    6,    6,    3,    7,   19,   23,   58,   88,
        173,  253,  488,  899, 2328, 8430, 9460, 1203,   68]), array([-4.36885643, -4.11240906, -3.8559617 , -3.59951433, -3.34306697,
       -3.0866196 , -2.83017223, -2.57372487, -2.3172775 , -2.06083014,
       -1.80438277, -1.54793541, -1.29148804, -1.03504067, -0.77859331,
       -0.52214594, -0.26569858, -0.00925121,  0.24719616,  0.50364352,
        0.76009089]))
||Xanchor-Xpos||_2  counter: 
[  75  214  448  672  846 1062 1161 1143  940  696  467  279  142   58   31
    8    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   49  164  351  673  827 1012 1147 1139 1032  740  471  313  176   79
   39   18    6    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  35.53192139   53.46854553   71.40516968   89.34179382  107.27841797
  125.21504211  143.15166626  161.08829041  179.02491455  196.9615387
  214.89816284  232.83478699  250.77141113  268.70803528  286.64465942
  304.58128357  322.51790771  340.45453186  358.39115601  376.32778015
  394.2644043 ]
distance difference  counter: 
(array([   2,    0,    1,    0,    1,    2,    3,    5,    8,   13,   19,
         37,   64,  108,  236,  597, 1528, 4001, 1491,  130]), array([-5.18744755, -4.8956748 , -4.60390205, -4.3121293 , -4.02035655,
       -3.7285838 , -3.43681105, -3.1450383 , -2.85326555, -2.5614928 ,
       -2.26972005, -1.9779473 , -1.68617455, -1.3944018 , -1.10262905,
       -0.8108563 , -0.51908355, -0.2273108 ,  0.06446195,  0.3562347 ,
        0.64800745]))
train/val Accuracy = 0.540224508887 / 0.545112781955 
 with threshold: [[ 221.8574115]]
============ epoch 3 ===========
training loss:		0.239514
||Xanchor-Xpos||_2  counter: 
[  83  856 2512 2531 2740 3065 3083 2756 2193 1541  976  536  316  165   95
   33   24    8    5    0]
||Xanchor-Xneg||_2  counter: 
[  31  512 1702 2073 2519 3022 3378 3128 2627 1854 1198  668  376  231  111
   42   28   11    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  41.0978775    66.13375816   91.16963882  116.20551949  141.24140015
  166.27728081  191.31316147  216.34904213  241.38492279  266.42080345
  291.45668411  316.49256477  341.52844543  366.5643261   391.60020676
  416.63608742  441.67196808  466.70784874  491.7437294   516.77961006
  541.81549072]
distance difference  counter: 
(array([    2,     2,     2,     2,     3,     3,     5,     6,    24,
          23,    56,   106,   166,   350,   663,  1549,  4955, 13135,
        2328,   138]), array([-4.92411804, -4.64074904, -4.35738003, -4.07401103, -3.79064202,
       -3.50727302, -3.22390401, -2.94053501, -2.657166  , -2.373797  ,
       -2.09042799, -1.80705899, -1.52368999, -1.24032098, -0.95695198,
       -0.67358297, -0.39021397, -0.10684496,  0.17652404,  0.45989305,
        0.74326205]))
||Xanchor-Xpos||_2  counter: 
[  56  202  400  635  817 1026 1141 1147  942  759  499  326  163   83   31
   14    5    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   47  132  305  587  840  959 1152 1130 1045  786  512  370  170  113
   50   30    7    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.94968414   47.00686913   63.06405411   79.12123909   95.17842407
  111.23560905  127.29279404  143.34997902  159.407164    175.46434898
  191.52153397  207.57871895  223.63590393  239.69308891  255.7502739
  271.80745888  287.86464386  303.92182884  319.97901382  336.03619881
  352.09338379]
distance difference  counter: 
(array([   1,    1,    0,    2,    1,    3,    2,    6,    8,   15,   20,
         38,   55,  130,  264,  627, 1648, 3963, 1330,  132]), array([-5.07524443, -4.78893278, -4.50262113, -4.21630948, -3.92999783,
       -3.64368618, -3.35737453, -3.07106287, -2.78475122, -2.49843957,
       -2.21212792, -1.92581627, -1.63950462, -1.35319297, -1.06688132,
       -0.78056967, -0.49425802, -0.20794637,  0.07836528,  0.36467693,
        0.65098858]))
train/val Accuracy = 0.538863848967 / 0.545052146495 
 with threshold: [[ 201.54831961]]
============ epoch 4 ===========
training loss:		0.233645
||Xanchor-Xpos||_2  counter: 
[  88  860 2348 2448 2554 2941 3042 2803 2184 1636 1110  686  398  202  104
   60   32   10    7    5]
||Xanchor-Xneg||_2  counter: 
[  37  480 1621 2002 2262 2840 3254 3118 2662 2008 1321  869  483  274  141
   63   46   22   10    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  38.84354782   60.70980091   82.576054    104.44230709  126.30856018
  148.17481327  170.04106636  191.90731945  213.77357254  235.63982563
  257.50607872  279.37233181  301.2385849   323.10483799  344.97109108
  366.83734417  388.70359726  410.56985035  432.43610344  454.30235653
  476.16860962]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     1,     9,    10,
          11,    22,    54,   119,   233,   486,  1076,  3504, 14375,
        3490,   126]), array([-5.77560902, -5.44726675, -5.11892448, -4.79058221, -4.46223994,
       -4.13389768, -3.80555541, -3.47721314, -3.14887087, -2.82052861,
       -2.49218634, -2.16384407, -1.8355018 , -1.50715953, -1.17881727,
       -0.850475  , -0.52213273, -0.19379046,  0.13455181,  0.46289407,
        0.79123634]))
||Xanchor-Xpos||_2  counter: 
[  51  189  338  592  749  896 1112 1093 1027  799  562  389  232  106   68
   30   11    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   33  118  262  513  731  878 1067 1070 1061  851  661  419  283  147
   80   40   16    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.91095352   41.87339687   55.83584023   69.79828358   83.76072693
   97.72317028  111.68561363  125.64805698  139.61050034  153.57294369
  167.53538704  181.49783039  195.46027374  209.42271709  223.38516045
  237.3476038   251.31004715  265.2724905   279.23493385  293.1973772
  307.15982056]
distance difference  counter: 
(array([   1,    0,    2,    3,    2,    3,    4,    8,    9,   15,   26,
         40,   83,  158,  306,  727, 1803, 3805, 1133,  118]), array([-4.73877573, -4.47001749, -4.20125926, -3.93250102, -3.66374278,
       -3.39498454, -3.12622631, -2.85746807, -2.58870983, -2.31995159,
       -2.05119336, -1.78243512, -1.51367688, -1.24491864, -0.97616041,
       -0.70740217, -0.43864393, -0.16988569,  0.09887254,  0.36763078,
        0.63638902]))
train/val Accuracy = 0.538459903053 / 0.545415959253 
 with threshold: [[ 183.31965448]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.364060
||Xanchor-Xpos||_2  counter: 
[ 562 2765 4376 4377 3594 2593 2011 1356  819  472  286  159   82   32   16
   10    3    4    0    1]
||Xanchor-Xneg||_2  counter: 
[ 335 2110 3781 4450 3848 2820 2331 1498 1026  576  361  193  100   47   24
   11    3    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.74007988   60.77228975   95.80449963  130.8367095   165.86891937
  200.90112925  235.93333912  270.96554899  305.99775887  341.02996874
  376.06217861  411.09438848  446.12659836  481.15880823  516.1910181
  551.22322798  586.25543785  621.28764772  656.3198576   691.35206747
  726.38427734]
distance difference  counter: 
(array([    2,     1,     1,     0,     2,     4,     6,    10,    12,
          30,    48,    90,   196,   305,   639,  1499,  4832, 13114,
        2581,   146]), array([-4.93404055, -4.65047016, -4.36689978, -4.08332939, -3.79975901,
       -3.51618862, -3.23261824, -2.94904785, -2.66547747, -2.38190708,
       -2.0983367 , -1.81476631, -1.53119593, -1.24762554, -0.96405516,
       -0.68048477, -0.39691439, -0.113344  ,  0.17022638,  0.45379677,
        0.73736715]))
||Xanchor-Xpos||_2  counter: 
[  65  187  398  599  779  962 1069 1130  954  799  534  387  201  101   53
   17    8    2    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   42  128  300  536  797  919 1081 1130 1009  829  582  387  248  129
   68   30   13    8    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.00676918   25.49620581   33.98564243   42.47507906   50.96451569
   59.45395231   67.94338894   76.43282557   84.92226219   93.41169882
  101.90113544  110.39057207  118.8800087   127.36944532  135.85888195
  144.34831858  152.8377552   161.32719183  169.81662846  178.30606508
  186.79550171]
distance difference  counter: 
(array([   1,    0,    0,    0,    5,    1,    3,    3,    6,   13,   20,
         36,   56,  103,  266,  580, 1504, 3867, 1639,  143]), array([-5.08116627, -4.79507457, -4.50898287, -4.22289118, -3.93679948,
       -3.65070778, -3.36461608, -3.07852439, -2.79243269, -2.50634099,
       -2.2202493 , -1.9341576 , -1.6480659 , -1.3619742 , -1.07588251,
       -0.78979081, -0.50369911, -0.21760741,  0.06848428,  0.35457598,
        0.64066768]))
train/val Accuracy = 0.528488817076 / 0.50006063546 
 with threshold: [[ 184.36291162]]
============ epoch 1 ===========
training loss:		2.103136
||Xanchor-Xpos||_2  counter: 
[ 510 2418 3759 4077 3542 2745 2085 1484 1070  725  476  270  163   99   48
   21   11    8    3    4]
||Xanchor-Xneg||_2  counter: 
[ 283 1750 3261 3936 3721 3016 2310 1753 1324  842  559  307  216  102   71
   34   16   13    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  10.83794975   22.50232592   34.16670208   45.83107824   57.49545441
   69.15983057   80.82420673   92.4885829   104.15295906  115.81733522
  127.48171139  139.14608755  150.81046371  162.47483988  174.13921604
  185.80359221  197.46796837  209.13234453  220.7967207   232.46109686
  244.12547302]
distance difference  counter: 
(array([    1,     0,     2,     1,     1,     0,     3,     4,    10,
          15,    45,    77,   156,   255,   560,  1321,  4156, 14027,
        2743,   141]), array([-5.17044687, -4.87335309, -4.57625931, -4.27916553, -3.98207175,
       -3.68497796, -3.38788418, -3.0907904 , -2.79369662, -2.49660284,
       -2.19950905, -1.90241527, -1.60532149, -1.30822771, -1.01113393,
       -0.71404015, -0.41694636, -0.11985258,  0.1772412 ,  0.47433498,
        0.77142876]))
||Xanchor-Xpos||_2  counter: 
[  64  217  432  700  923 1115 1247 1116  922  663  416  247  110   50   15
    7    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   45  165  371  692  904 1091 1196 1172  941  706  446  251  142   69
   25   16    5    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  6.00963688   9.47386184  12.9380868   16.40231175  19.86653671
  23.33076167  26.79498663  30.25921159  33.72343655  37.1876615
  40.65188646  44.11611142  47.58033638  51.04456134  54.5087863
  57.97301126  61.43723621  64.90146117  68.36568613  71.82991109
  75.29413605]
distance difference  counter: 
(array([   1,    0,    0,    1,    2,    3,    4,    4,    7,   11,   18,
         33,   69,  124,  287,  613, 1775, 3872, 1287,  135]), array([-4.58341837, -4.32158999, -4.0597616 , -3.79793322, -3.53610483,
       -3.27427645, -3.01244807, -2.75061968, -2.4887913 , -2.22696292,
       -1.96513453, -1.70330615, -1.44147776, -1.17964938, -0.917821  ,
       -0.65599261, -0.39416423, -0.13233584,  0.12949254,  0.39132092,
        0.65314931]))
train/val Accuracy = 0.529296708904 / 0.50006063546 
 with threshold: [[ 68.61843631]]
============ epoch 2 ===========
training loss:		2.067131
||Xanchor-Xpos||_2  counter: 
[ 660 2857 4055 4252 3472 2758 1963 1362  944  551  306  164   89   43   20
   14    6    1    1    0]
||Xanchor-Xneg||_2  counter: 
[ 405 1964 3476 4196 3772 3066 2315 1686 1089  671  382  256  129   47   28
   17    8    3    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  4.26434755   8.96321285  13.66207814  18.36094344  23.05980873
  27.75867403  32.45753932  37.15640461  41.85526991  46.5541352
  51.2530005   55.95186579  60.65073109  65.34959638  70.04846168
  74.74732697  79.44619226  84.14505756  88.84392285  93.54278815
  98.24165344]
distance difference  counter: 
(array([    1,     1,     2,     2,     4,     4,    10,    13,    18,
          36,    71,   133,   221,   363,   757,  1764,  7471, 11186,
        1378,    83]), array([-4.41449594, -4.15336058, -3.89222522, -3.63108985, -3.36995449,
       -3.10881913, -2.84768376, -2.5865484 , -2.32541304, -2.06427767,
       -1.80314231, -1.54200695, -1.28087158, -1.01973622, -0.75860085,
       -0.49746549, -0.23633013,  0.02480524,  0.2859406 ,  0.54707596,
        0.80821133]))
||Xanchor-Xpos||_2  counter: 
[  87  321  580  873 1129 1252 1262 1015  743  474  240  140   65   38   15
    6    3    2    0    1]
||Xanchor-Xneg||_2  counter: 
[  13   80  233  528  863 1102 1187 1222 1027  745  486  327  168  121   64
   41   19   11    6    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.45132208   3.95611155   5.46090102   6.96569049   8.47047997
   9.97526944  11.48005891  12.98484838  14.48963785  15.99442732
  17.49921679  19.00400627  20.50879574  22.01358521  23.51837468
  25.02316415  26.52795362  28.0327431   29.53753257  31.04232204
  32.54711151]
distance difference  counter: 
(array([   1,    4,    3,    4,    3,    4,    7,   15,   23,   22,   38,
         73,  135,  243,  462, 1148, 2768, 2656,  548,   89]), array([-3.56212616, -3.34719578, -3.13226541, -2.91733503, -2.70240465,
       -2.48747428, -2.2725439 , -2.05761352, -1.84268315, -1.62775277,
       -1.4128224 , -1.19789202, -0.98296164, -0.76803127, -0.55310089,
       -0.33817051, -0.12324014,  0.09169024,  0.30662062,  0.52155099,
        0.73648137]))
train/val Accuracy = 0.535462199167 / 0.502789231142 
 with threshold: [[ 26.01157509]]
============ epoch 3 ===========
training loss:		2.062202
||Xanchor-Xpos||_2  counter: 
[ 646 3493 4978 4594 3673 2494 1654  983  511  248  138   53   33    6    6
    6    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 340 2157 3794 4362 4046 3156 2126 1454  917  514  268  178   89   55   31
   13   11    5    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.67638409   3.9193494    6.16231471   8.40528002  10.64824533
  12.89121065  15.13417596  17.37714127  19.62010658  21.86307189
  24.1060372   26.34900251  28.59196782  30.83493313  33.07789844
  35.32086375  37.56382906  39.80679438  42.04975969  44.292725
  46.53569031]
distance difference  counter: 
(array([    1,     1,     2,     5,     5,     3,    11,    15,    24,
          36,    74,   118,   173,   314,   567,  1264,  3987, 12603,
        4047,   268]), array([-5.16663504, -4.86547274, -4.56431044, -4.26314815, -3.96198585,
       -3.66082355, -3.35966126, -3.05849896, -2.75733666, -2.45617437,
       -2.15501207, -1.85384977, -1.55268748, -1.25152518, -0.95036288,
       -0.64920059, -0.34803829, -0.046876  ,  0.2542863 ,  0.5554486 ,
        0.85661089]))
||Xanchor-Xpos||_2  counter: 
[ 180  749 1455 1778 1485 1073  641  380  215  124   75   50   23    9    4
    2    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  29  255  773 1375 1554 1362  936  658  454  280  191  141   82   69   35
   23   16    5    7    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.06791699   2.14225799   3.216599     4.29094      5.36528101
   6.43962201   7.51396302   8.58830402   9.66264503  10.73698604
  11.81132704  12.88566805  13.96000905  15.03435006  16.10869106
  17.18303207  18.25737307  19.33171408  20.40605508  21.48039609
  22.55473709]
distance difference  counter: 
(array([   1,    2,    3,    3,    4,    8,    9,   18,   22,   30,   53,
         78,  134,  243,  520, 1012, 1915, 2958, 1083,  150]), array([-3.78282118, -3.55216852, -3.32151586, -3.09086321, -2.86021055,
       -2.62955789, -2.39890524, -2.16825258, -1.93759992, -1.70694726,
       -1.47629461, -1.24564195, -1.01498929, -0.78433664, -0.55368398,
       -0.32303132, -0.09237866,  0.13827399,  0.36892665,  0.59957931,
        0.83023196]))
train/val Accuracy = 0.562356492899 / 0.528741207858 
 with threshold: [[ 11.20709061]]
============ epoch 4 ===========
training loss:		2.061552
||Xanchor-Xpos||_2  counter: 
[1244 5041 6217 4859 2992 1577  805  391  194  102   53   22   11    4    3
    1    0    1    1    0]
||Xanchor-Xneg||_2  counter: 
[ 543 2579 4160 4715 3882 2773 1692 1173  761  491  295  183  119   67   41
   22   11    6    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.212901     2.71531461   4.21772822   5.72014183   7.22255545
   8.72496906  10.22738267  11.72979628  13.2322099   14.73462351
  16.23703712  17.73945073  19.24186435  20.74427796  22.24669157
  23.74910519  25.2515188   26.75393241  28.25634602  29.75875964
  31.26117325]
distance difference  counter: 
(array([   1,    0,    1,    1,    7,    2,    7,   15,   28,   44,   78,
        137,  195,  361,  765, 1749, 4068, 8908, 6651,  500]), array([-5.74582577, -5.41289853, -5.0799713 , -4.74704407, -4.41411684,
       -4.0811896 , -3.74826237, -3.41533514, -3.0824079 , -2.74948067,
       -2.41655344, -2.0836262 , -1.75069897, -1.41777174, -1.08484451,
       -0.75191727, -0.41899004, -0.08606281,  0.24686443,  0.57979166,
        0.91271889]))
||Xanchor-Xpos||_2  counter: 
[ 206 1153 1920 1765 1257  785  506  275  170   91   55   41   12    6    3
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  36  349 1078 1590 1478 1173  800  589  387  266  192  108   90   51   22
   10   17    7    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.6180495    1.57500532   2.53196114   3.48891696   4.44587278
   5.4028286    6.35978442   7.31674024   8.27369606   9.23065189
  10.18760771  11.14456353  12.10151935  13.05847517  14.01543099
  14.97238681  15.92934263  16.88629845  17.84325427  18.80021009
  19.75716591]
distance difference  counter: 
(array([   1,    0,    0,    1,    1,    1,    9,    3,   15,   11,   27,
         49,   89,  186,  342,  707, 1432, 2458, 2507,  407]), array([-4.72831106, -4.4497441 , -4.17117714, -3.89261017, -3.61404321,
       -3.33547625, -3.05690929, -2.77834232, -2.49977536, -2.2212084 ,
       -1.94264144, -1.66407447, -1.38550751, -1.10694055, -0.82837359,
       -0.54980662, -0.27123966,  0.0073273 ,  0.28589426,  0.56446123,
        0.84302819]))
train/val Accuracy = 0.616804150013 / 0.575673053602 
 with threshold: [[ 6.79889718]]
============ epoch 5 ===========
training loss:		2.061461
||Xanchor-Xpos||_2  counter: 
[1336 5496 6544 4619 2584 1439  758  371  192   86   52   22   13    0    2
    2    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 455 2418 4054 4307 3827 2882 1986 1326  860  564  340  213  124   64   50
   15   20   10    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.87598711   2.27112084   3.66625457   5.0613883    6.45652204
   7.85165577   9.2467895   10.64192323  12.03705696  13.43219069
  14.82732442  16.22245815  17.61759188  19.01272561  20.40785934
  21.80299307  23.1981268   24.59326054  25.98839427  27.383528
  28.77866173]
distance difference  counter: 
(array([   1,    0,    0,    5,    2,    2,    7,   17,   20,   35,   57,
        100,  186,  354,  836, 1793, 3747, 7145, 7890, 1321]), array([-6.23857212, -5.88251657, -5.52646102, -5.17040547, -4.81434993,
       -4.45829438, -4.10223883, -3.74618328, -3.39012773, -3.03407218,
       -2.67801663, -2.32196108, -1.96590554, -1.60984999, -1.25379444,
       -0.89773889, -0.54168334, -0.18562779,  0.17042776,  0.52648331,
        0.88253886]))
||Xanchor-Xpos||_2  counter: 
[ 327 1334 1799 1629 1142  771  498  314  186  102   64   40   21    9    5
    3    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  53  439 1113 1406 1387 1113  808  664  412  277  193  135  105   63   27
   22   16   11    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.68111324   1.61511416   2.54911509   3.48311601   4.41711693
   5.35111785   6.28511877   7.21911969   8.15312061   9.08712153
  10.02112246  10.95512338  11.8891243   12.82312522  13.75712614
  14.69112706  15.62512798  16.5591289   17.49312983  18.42713075
  19.36113167]
distance difference  counter: 
(array([   2,    1,    1,    2,    8,   14,    8,   16,   21,   48,   83,
        119,  222,  366,  618, 1093, 1714, 2258, 1445,  207]), array([-3.79900336, -3.56530319, -3.33160302, -3.09790285, -2.86420268,
       -2.63050251, -2.39680234, -2.16310216, -1.92940199, -1.69570182,
       -1.46200165, -1.22830148, -0.99460131, -0.76090114, -0.52720097,
       -0.2935008 , -0.05980062,  0.17389955,  0.40759972,  0.64129989,
        0.87500006]))
train/val Accuracy = 0.646100858917 / 0.594651952462 
 with threshold: [[ 6.06493936]]
============ epoch 6 ===========
training loss:		2.061446
||Xanchor-Xpos||_2  counter: 
[1490 6136 6653 4482 2368 1272  595  273  132   62   28   16    6    0    3
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 499 2556 4234 4568 3823 2877 1967 1169  748  497  261  148   88   37   23
   10    9    2    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.7528733    2.21561607   3.67835883   5.14110159   6.60384436
   8.06658712   9.52932988  10.99207265  12.45481541  13.91755818
  15.38030094  16.8430437   18.30578647  19.76852923  21.23127199
  22.69401476  24.15675752  25.61950029  27.08224305  28.54498581
  30.00772858]
distance difference  counter: 
(array([   2,    0,    0,    5,    4,    8,   13,   21,   26,   45,   99,
        167,  331,  633, 1269, 2530, 4749, 7351, 5693,  572]), array([-5.58591938, -5.26002518, -4.93413097, -4.60823677, -4.28234257,
       -3.95644836, -3.63055416, -3.30465995, -2.97876575, -2.65287155,
       -2.32697734, -2.00108314, -1.67518893, -1.34929473, -1.02340053,
       -0.69750632, -0.37161212, -0.04571792,  0.28017629,  0.60607049,
        0.9319647 ]))
||Xanchor-Xpos||_2  counter: 
[ 407 1457 1741 1629 1089  759  464  284  183  103   59   36   17    8    7
    2    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  70  516 1116 1479 1301 1107  773  608  414  293  198  133   92   60   39
   17   15    7    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.69860774   1.68360038   2.66859301   3.65358564   4.63857827
   5.6235709    6.60856354   7.59355617   8.5785488    9.56354143
  10.54853407  11.5335267   12.51851933  13.50351196  14.48850459
  15.47349723  16.45848986  17.44348249  18.42847512  19.41346776
  20.39846039]
distance difference  counter: 
(array([   1,    1,    0,    1,    3,    4,    5,   12,   14,   24,   40,
         80,  132,  256,  465,  813, 1464, 2262, 2252,  417]), array([-4.7431078 , -4.46274758, -4.18238737, -3.90202716, -3.62166694,
       -3.34130673, -3.06094652, -2.78058631, -2.50022609, -2.21986588,
       -1.93950567, -1.65914545, -1.37878524, -1.09842503, -0.81806481,
       -0.5377046 , -0.25734439,  0.02301582,  0.30337604,  0.58373625,
        0.86409646]))
train/val Accuracy = 0.653775831278 / 0.604838709677 
 with threshold: [[ 5.92814218]]
============ epoch 7 ===========
training loss:		2.061444
||Xanchor-Xpos||_2  counter: 
[ 798 4711 6384 4992 3098 1740  899  451  239  116   44   21   12    6    4
    1    0    1    1    0]
||Xanchor-Xneg||_2  counter: 
[ 233 1813 3408 4258 3921 3257 2360 1598 1051  624  394  272  145   81   46
   26   18    3    7    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.5487507    1.88189676   3.21504281   4.54818887   5.88133492
   7.21448098   8.54762704   9.88077309  11.21391915  12.54706521
  13.88021126  15.21335732  16.54650338  17.87964943  19.21279549
  20.54594155  21.8790876   23.21223366  24.54537972  25.87852577
  27.21167183]
distance difference  counter: 
(array([   2,    4,    2,    5,    7,   17,   15,   22,   48,   80,  122,
        258,  460,  876, 1617, 3026, 5042, 7051, 4445,  419]), array([-4.97471285, -4.67973245, -4.38475205, -4.08977166, -3.79479126,
       -3.49981086, -3.20483046, -2.90985006, -2.61486967, -2.31988927,
       -2.02490887, -1.72992847, -1.43494807, -1.13996768, -0.84498728,
       -0.55000688, -0.25502648,  0.03995391,  0.33493431,  0.62991471,
        0.92489511]))
||Xanchor-Xpos||_2  counter: 
[ 319 1248 1802 1650 1170  810  550  294  184   90   62   35   15   10    6
    0    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  58  418 1030 1382 1403 1150  895  612  451  288  192  140  101   46   32
   23   13    5    6    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.61855125   1.56573668   2.5129221    3.46010752   4.40729294
   5.35447836   6.30166378   7.2488492    8.19603462   9.14322004
  10.09040546  11.03759089  11.98477631  12.93196173  13.87914715
  14.82633257  15.77351799  16.72070341  17.66788883  18.61507425
  19.56225967]
distance difference  counter: 
(array([   1,    1,    4,    6,    8,   13,   15,   17,   27,   60,   80,
        133,  266,  356,  681, 1119, 1718, 2153, 1362,  226]), array([-3.66433549, -3.43788893, -3.21144237, -2.98499581, -2.75854925,
       -2.53210269, -2.30565613, -2.07920957, -1.85276301, -1.62631645,
       -1.39986989, -1.17342333, -0.94697677, -0.72053021, -0.49408365,
       -0.26763709, -0.04119053,  0.18525603,  0.41170259,  0.63814915,
        0.86459571]))
train/val Accuracy = 0.652266349179 / 0.602110113995 
 with threshold: [[ 5.8964238]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.026620
||Xanchor-Xpos||_2  counter: 
[ 128 1191 2684 2622 2916 3218 3157 2591 1990 1314  804  434  235  123   61
   30   13    3    1    2]
||Xanchor-Xneg||_2  counter: 
[  65  716 1882 2162 2708 3375 3412 3054 2374 1575 1027  581  285  146   97
   31   18    5    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.22008133   93.85895214  128.49782295  163.13669376  197.77556458
  232.41443539  267.0533062   301.69217701  336.33104782  370.96991863
  405.60878944  440.24766026  474.88653107  509.52540188  544.16427269
  578.8031435   613.44201431  648.08088512  682.71975594  717.35862675
  751.99749756]
distance difference  counter: 
(array([    2,     1,     1,     2,     0,     6,     5,     7,    14,
          26,    47,    86,   145,   318,   558,  1411,  4327, 13698,
        2724,   140]), array([-5.22490072, -4.9259106 , -4.62692047, -4.32793034, -4.02894021,
       -3.72995009, -3.43095996, -3.13196983, -2.8329797 , -2.53398958,
       -2.23499945, -1.93600932, -1.63701919, -1.33802907, -1.03903894,
       -0.74004881, -0.44105868, -0.14206856,  0.15692157,  0.4559117 ,
        0.75490183]))
||Xanchor-Xpos||_2  counter: 
[  73  228  493  713  989 1123 1242 1115  913  598  391  213   94   44   15
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   53  178  395  713  970 1125 1211 1189  923  665  377  240  112   48
   24    9    1    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  41.55781937   64.36884136   87.17986336  109.99088535  132.80190735
  155.61292934  178.42395134  201.23497334  224.04599533  246.85701733
  269.66803932  292.47906132  315.29008331  338.10110531  360.9121273
  383.7231493   406.5341713   429.34519329  452.15621529  474.96723728
  497.77825928]
distance difference  counter: 
(array([   1,    1,    0,    3,    2,    0,    2,    8,   10,   22,   24,
         38,   77,  169,  316,  679, 1833, 3799, 1161,  101]), array([-4.8561883 , -4.58095544, -4.30572258, -4.03048972, -3.75525686,
       -3.480024  , -3.20479113, -2.92955827, -2.65432541, -2.37909255,
       -2.10385969, -1.82862683, -1.55339397, -1.27816111, -1.00292825,
       -0.72769539, -0.45246253, -0.17722967,  0.09800319,  0.37323605,
        0.64846891]))
train/val Accuracy = 0.538289820563 / 0.543172447247 
 with threshold: [[ 270.7737954]]
============ epoch 1 ===========
training loss:		0.025572
||Xanchor-Xpos||_2  counter: 
[ 160 1123 2419 2420 2656 2863 2966 2628 2212 1550 1029  654  416  206  119
   51   27    9    5    3]
||Xanchor-Xneg||_2  counter: 
[  74  647 1765 1986 2224 2964 3232 2992 2505 1903 1336  788  508  299  153
   80   25   25    8    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  57.74290848   86.82328625  115.90366402  144.98404179  174.06441956
  203.14479733  232.22517509  261.30555286  290.38593063  319.4663084
  348.54668617  377.62706394  406.70744171  435.78781948  464.86819725
  493.94857502  523.02895279  552.10933056  581.18970833  610.2700861
  639.35046387]
distance difference  counter: 
(array([    1,     0,     3,     2,     2,     6,    10,    12,    22,
          37,    52,   121,   207,   374,   726,  1604,  5492, 12659,
        2065,   123]), array([-4.84587193, -4.56617223, -4.28647254, -4.00677285, -3.72707316,
       -3.44737346, -3.16767377, -2.88797408, -2.60827439, -2.3285747 ,
       -2.048875  , -1.76917531, -1.48947562, -1.20977593, -0.93007624,
       -0.65037654, -0.37067685, -0.09097716,  0.18872253,  0.46842223,
        0.74812192]))
||Xanchor-Xpos||_2  counter: 
[  86  240  511  747  997 1135 1265 1103  867  603  374  176   81   38   14
    6    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  11   60  184  425  736 1022 1147 1170 1159  914  645  363  213  107   59
   19    7    3    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  39.52361679   60.37348423   81.22335167  102.07321911  122.92308655
  143.77295399  164.62282143  185.47268887  206.3225563   227.17242374
  248.02229118  268.87215862  289.72202606  310.5718935   331.42176094
  352.27162838  373.12149582  393.97136326  414.8212307   435.67109814
  456.52096558]
distance difference  counter: 
(array([   1,    0,    1,    0,    4,    1,    2,    5,    9,   16,   20,
         29,   47,   98,  232,  510, 1475, 4065, 1607,  124]), array([-5.45082998, -5.14508188, -4.83933378, -4.53358569, -4.22783759,
       -3.92208949, -3.61634139, -3.31059329, -3.00484519, -2.69909709,
       -2.39334899, -2.08760089, -1.78185279, -1.47610469, -1.1703566 ,
       -0.8646085 , -0.5588604 , -0.2531123 ,  0.0526358 ,  0.3583839 ,
        0.664132  ]))
train/val Accuracy = 0.540585934178 / 0.543657530924 
 with threshold: [[ 246.70882732]]
============ epoch 2 ===========
training loss:		0.024708
||Xanchor-Xpos||_2  counter: 
[ 161 1298 2609 2499 2766 3155 2944 2695 2011 1427  886  504  257  164   81
   34   15    6    5    0]
||Xanchor-Xneg||_2  counter: 
[  69  750 1873 2088 2533 3114 3426 2946 2440 1702 1109  677  374  205  109
   60   29    7    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  51.77077866   79.57789402  107.38500938  135.19212475  162.99924011
  190.80635548  218.61347084  246.4205862   274.22770157  302.03481693
  329.8419323   357.64904766  385.45616302  413.26327839  441.07039375
  468.87750912  496.68462448  524.49173985  552.29885521  580.10597057
  607.91308594]
distance difference  counter: 
(array([    4,     0,     1,     3,     5,     3,     8,    12,    29,
          37,    57,   136,   222,   355,   721,  1592,  5309, 12774,
        2109,   141]), array([-4.79172325, -4.51537507, -4.2390269 , -3.96267872, -3.68633054,
       -3.40998237, -3.13363419, -2.85728602, -2.58093784, -2.30458966,
       -2.02824149, -1.75189331, -1.47554513, -1.19919696, -0.92284878,
       -0.6465006 , -0.37015243, -0.09380425,  0.18254393,  0.4588921 ,
        0.73524028]))
||Xanchor-Xpos||_2  counter: 
[  80  221  400  664  814 1003 1166 1128  937  699  532  294  161   78   38
   19    5    7    0    0]
||Xanchor-Xneg||_2  counter: 
[  14   46  135  358  565  846 1001 1103 1086 1041  749  554  357  202   96
   49   27    8    6    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  36.16762924   53.80649509   71.44536095   89.0842268   106.72309265
  124.3619585   142.00082436  159.63969021  177.27855606  194.91742191
  212.55628777  230.19515362  247.83401947  265.47288532  283.11175117
  300.75061703  318.38948288  336.02834873  353.66721458  371.30608044
  388.94494629]
distance difference  counter: 
(array([   1,    0,    2,    2,    1,    2,   11,    4,    6,   29,   19,
         38,   80,  182,  312,  728, 1961, 3754, 1018,   96]), array([-4.79096031, -4.51857472, -4.24618914, -3.97380355, -3.70141796,
       -3.42903237, -3.15664678, -2.88426119, -2.61187561, -2.33949002,
       -2.06710443, -1.79471884, -1.52233325, -1.24994766, -0.97756208,
       -0.70517649, -0.4327909 , -0.16040531,  0.11198028,  0.38436587,
        0.65675145]))
train/val Accuracy = 0.541457606939 / 0.546810574824 
 with threshold: [[ 224.86385521]]
============ epoch 3 ===========
training loss:		0.023995
||Xanchor-Xpos||_2  counter: 
[ 142 1116 2614 2480 2618 3072 2991 2724 2099 1461  945  595  315  181   91
   34   19   13    4    3]
||Xanchor-Xneg||_2  counter: 
[  68  679 1727 2046 2454 2982 3305 3015 2473 1814 1238  759  434  266  135
   63   24   17   13    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.27900696   71.1945488    96.11009064  121.02563248  145.94117432
  170.85671616  195.772258    220.68779984  245.60334167  270.51888351
  295.43442535  320.34996719  345.26550903  370.18105087  395.09659271
  420.01213455  444.92767639  469.84321823  494.75876007  519.67430191
  544.58984375]
distance difference  counter: 
(array([    1,     0,     1,     0,     1,     6,     6,     6,     8,
          19,    42,    79,   135,   251,   549,  1145,  3662, 14363,
        3103,   141]), array([-5.65337229, -5.33154861, -5.00972493, -4.68790125, -4.36607757,
       -4.04425389, -3.72243021, -3.40060652, -3.07878284, -2.75695916,
       -2.43513548, -2.1133118 , -1.79148812, -1.46966444, -1.14784076,
       -0.82601708, -0.5041934 , -0.18236972,  0.13945396,  0.46127764,
        0.78310132]))
||Xanchor-Xpos||_2  counter: 
[  73  223  431  696  847 1086 1131 1089  968  720  480  237  146   63   34
   14    5    3    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   52  149  331  648  853 1036 1114 1099 1041  739  511  298  192   89
   47   21    8    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  32.88544846   49.2361208    65.58679314   81.93746548   98.28813782
  114.63881016  130.9894825   147.34015484  163.69082718  180.04149952
  196.39217186  212.7428442   229.09351654  245.44418888  261.79486122
  278.14553356  294.4962059   310.84687824  327.19755058  343.54822292
  359.89889526]
distance difference  counter: 
(array([   1,    0,    1,    0,    2,    2,    3,    6,   10,   12,   13,
         27,   58,  106,  238,  550, 1507, 4094, 1496,  120]), array([-5.49403   , -5.18525805, -4.8764861 , -4.56771416, -4.25894221,
       -3.95017026, -3.64139832, -3.33262637, -3.02385442, -2.71508248,
       -2.40631053, -2.09753858, -1.78876663, -1.47999469, -1.17122274,
       -0.86245079, -0.55367885, -0.2449069 ,  0.06386505,  0.37263699,
        0.68140894]))
train/val Accuracy = 0.542393060634 / 0.546931845743 
 with threshold: [[ 205.17409421]]
============ epoch 4 ===========
training loss:		0.023406
||Xanchor-Xpos||_2  counter: 
[ 215 1632 2864 2825 3263 3438 3040 2431 1646 1033  555  304  151   70   30
   10    7    3    1    0]
||Xanchor-Xneg||_2  counter: 
[  88  989 2081 2411 3024 3593 3481 2885 2018 1295  778  437  229  106   56
   28   12    3    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.3941803    67.70425949   93.01433868  118.32441788  143.63449707
  168.94457626  194.25465546  219.56473465  244.87481384  270.18489304
  295.49497223  320.80505142  346.11513062  371.42520981  396.735289
  422.04536819  447.35544739  472.66552658  497.97560577  523.28568497
  548.59576416]
distance difference  counter: 
(array([    1,     1,     0,     4,     4,     3,    11,     5,    19,
          29,    62,   110,   190,   343,   617,  1427,  4746, 13743,
        2083,   120]), array([-5.24427128, -4.94291632, -4.64156135, -4.34020639, -4.03885143,
       -3.73749647, -3.4361415 , -3.13478654, -2.83343158, -2.53207662,
       -2.23072165, -1.92936669, -1.62801173, -1.32665676, -1.0253018 ,
       -0.72394684, -0.42259188, -0.12123691,  0.18011805,  0.48147301,
        0.78282797]))
||Xanchor-Xpos||_2  counter: 
[  68  213  485  706  923 1130 1233 1154  921  617  397  217  103   44   23
    4    8    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  11   53  159  392  695  921 1084 1236 1118  942  678  457  243  136   62
   31   18    4    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.35366249   44.02414007   59.69461765   75.36509523   91.03557281
  106.7060504   122.37652798  138.04700556  153.71748314  169.38796072
  185.0584383   200.72891588  216.39939346  232.06987104  247.74034863
  263.41082621  279.08130379  294.75178137  310.42225895  326.09273653
  341.76321411]
distance difference  counter: 
(array([   1,    0,    0,    1,    3,    3,    1,    2,   11,   10,   21,
         11,   52,  101,  213,  470, 1360, 4084, 1758,  144]), array([-5.70813465, -5.38870303, -5.06927141, -4.74983979, -4.43040817,
       -4.11097655, -3.79154493, -3.47211331, -3.15268168, -2.83325006,
       -2.51381844, -2.19438682, -1.8749552 , -1.55552358, -1.23609196,
       -0.91666034, -0.59722872, -0.2777971 ,  0.04163452,  0.36106614,
        0.68049777]))
train/val Accuracy = 0.544412790203 / 0.548387096774 
 with threshold: [[ 187.29392183]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.236344
||Xanchor-Xpos||_2  counter: 
[ 499 2732 4159 4446 3595 2634 1997 1409  865  522  331  166   88   39   24
    4    4    2    2    0]
||Xanchor-Xneg||_2  counter: 
[ 299 1963 3654 4396 3869 2964 2284 1570 1035  671  364  221  109   69   34
    7    6    1    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.06603622   60.53197269   94.99790916  129.46384563  163.9297821
  198.39571857  232.86165504  267.32759151  301.79352798  336.25946445
  370.72540092  405.19133739  439.65727386  474.12321033  508.5891468
  543.05508327  577.52101974  611.98695621  646.45289268  680.91882915
  715.38476562]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     4,     3,     6,    10,
          13,    24,    60,    95,   215,   436,  1044,  2996, 13496,
        4901,   214]), array([-5.73440266, -5.41053257, -5.08666248, -4.7627924 , -4.43892231,
       -4.11505222, -3.79118214, -3.46731205, -3.14344196, -2.81957188,
       -2.49570179, -2.1718317 , -1.84796162, -1.52409153, -1.20022144,
       -0.87635136, -0.55248127, -0.22861118,  0.0952589 ,  0.41912899,
        0.74299908]))
||Xanchor-Xpos||_2  counter: 
[  52  154  371  553  717  923 1039 1088  958  826  615  433  248  146   71
   28   17    5    2    0]
||Xanchor-Xneg||_2  counter: 
[  10   36  109  271  467  698  909  962 1034 1068  846  685  487  308  178
   87   51   23   11    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.17523003   25.42837191   33.68151379   41.93465567   50.18779755
   58.44093943   66.69408131   74.94722319   83.20036507   91.45350695
   99.70664883  107.95979071  116.21293259  124.46607447  132.71921635
  140.97235823  149.22550011  157.47864199  165.73178387  173.98492575
  182.23806763]
distance difference  counter: 
(array([   3,    0,    0,    3,    2,    0,    6,    8,   18,   13,   25,
         40,   93,  187,  361,  798, 2082, 3666,  855,   86]), array([-4.57160568, -4.30960498, -4.04760427, -3.78560356, -3.52360286,
       -3.26160215, -2.99960144, -2.73760073, -2.47560003, -2.21359932,
       -1.95159861, -1.68959791, -1.4275972 , -1.16559649, -0.90359579,
       -0.64159508, -0.37959437, -0.11759367,  0.14440704,  0.40640775,
        0.66840845]))
train/val Accuracy = 0.527680925249 / 0.5 
 with threshold: [[ 184.93475389]]
============ epoch 1 ===========
training loss:		0.210266
||Xanchor-Xpos||_2  counter: 
[ 404 2379 3764 4133 3525 2934 2122 1571 1060  695  441  222  120   67   41
   22   11    3    4    0]
||Xanchor-Xneg||_2  counter: 
[ 226 1670 3012 3983 3733 3196 2456 1851 1306  842  562  312  166  110   43
   25   13   10    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[   9.92640209   22.08067403   34.23494596   46.3892179    58.54348984
   70.69776177   82.85203371   95.00630565  107.16057758  119.31484952
  131.46912146  143.62339339  155.77766533  167.93193727  180.0862092
  192.24048114  204.39475307  216.54902501  228.70329695  240.85756888
  253.01184082]
distance difference  counter: 
(array([    1,     0,     2,     2,     2,     3,     5,     6,    17,
          24,    45,    80,   142,   268,   496,  1118,  3336, 14325,
        3448,   198]), array([-5.49992895, -5.18663578, -4.8733426 , -4.56004943, -4.24675626,
       -3.93346308, -3.62016991, -3.30687673, -2.99358356, -2.68029039,
       -2.36699721, -2.05370404, -1.74041086, -1.42711769, -1.11382452,
       -0.80053134, -0.48723817, -0.17394499,  0.13934818,  0.45264135,
        0.76593453]))
||Xanchor-Xpos||_2  counter: 
[  67  267  574  827 1095 1254 1272 1064  787  468  293  132   78   37   19
    5    5    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  10   60  214  477  798 1062 1225 1181 1099  798  540  341  209  109   53
   39   17    7    3    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  6.47190046  10.37307618  14.27425189  18.1754276   22.07660332
  25.97777903  29.87895474  33.78013046  37.68130617  41.58248188
  45.4836576   49.38483331  53.28600903  57.18718474  61.08836045
  64.98953617  68.89071188  72.79188759  76.69306331  80.59423902
  84.49541473]
distance difference  counter: 
(array([   1,    1,    0,    2,    3,    4,    4,   10,   10,   20,   22,
         29,   84,  149,  269,  662, 1735, 3945, 1161,  135]), array([-4.91014814, -4.62995523, -4.34976232, -4.06956941, -3.7893765 ,
       -3.50918359, -3.22899067, -2.94879776, -2.66860485, -2.38841194,
       -2.10821903, -1.82802612, -1.5478332 , -1.26764029, -0.98744738,
       -0.70725447, -0.42706156, -0.14686865,  0.13332427,  0.41351718,
        0.69371009]))
train/val Accuracy = 0.534059018624 / 0.501152073733 
 with threshold: [[ 70.20796025]]
============ epoch 2 ===========
training loss:		0.206678
||Xanchor-Xpos||_2  counter: 
[ 493 2937 4429 4417 3686 2700 1906 1246  741  456  241  134   76   29   16
    6    3    1    1    0]
||Xanchor-Xneg||_2  counter: 
[ 252 1790 3415 4177 3944 3212 2349 1666 1089  665  410  242  129   72   51
   32    7    8    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[   4.17191696    9.40031414   14.62871132   19.8571085    25.08550568
   30.31390285   35.54230003   40.77069721   45.99909439   51.22749157
   56.45588875   61.68428593   66.91268311   72.14108028   77.36947746
   82.59787464   87.82627182   93.054669     98.28306618  103.51146336
  108.73986053]
distance difference  counter: 
(array([    2,     2,     1,     2,     4,     4,    10,    15,    18,
          33,    49,   102,   175,   277,   480,  1018,  3154, 13716,
        4179,   277]), array([-5.60107946, -5.282096  , -4.96311253, -4.64412907, -4.3251456 ,
       -4.00616214, -3.68717867, -3.36819521, -3.04921174, -2.73022828,
       -2.41124481, -2.09226134, -1.77327788, -1.45429441, -1.13531095,
       -0.81632748, -0.49734402, -0.17836055,  0.14062291,  0.45960638,
        0.77858984]))
||Xanchor-Xpos||_2  counter: 
[  94  332  651 1054 1314 1417 1230  918  571  337  177   75   38   19   13
    4    0    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  11   74  213  564  952 1198 1323 1201  975  674  427  276  160   80   46
   30   21   11    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.82355189   4.59150916   6.35946643   8.1274237    9.89538097
  11.66333824  13.43129551  15.19925278  16.96721005  18.73516732
  20.50312459  22.27108186  24.03903913  25.80699641  27.57495368
  29.34291095  31.11086822  32.87882549  34.64678276  36.41474003
  38.1826973 ]
distance difference  counter: 
(array([   1,    0,    1,    2,    2,    4,    6,    7,   13,   26,   28,
         42,   78,  157,  357,  777, 1960, 3480, 1171,  134]), array([-4.34217119, -4.08990985, -3.83764851, -3.58538717, -3.33312583,
       -3.08086449, -2.82860315, -2.57634181, -2.32408047, -2.07181913,
       -1.81955779, -1.56729645, -1.3150351 , -1.06277376, -0.81051242,
       -0.55825108, -0.30598974, -0.0537284 ,  0.19853294,  0.45079428,
        0.70305562]))
train/val Accuracy = 0.553448422485 / 0.50466893039 
 with threshold: [[ 28.20259347]]
============ epoch 3 ===========
training loss:		0.206201
||Xanchor-Xpos||_2  counter: 
[ 428 2846 4666 5047 4381 2872 1700  901  369  170   86   26   15    9    1
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 151 1321 2688 3750 4301 3899 2877 1908 1139  662  384  214  103   62   25
   17   10    3    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.88015652   5.42486596   7.96957541  10.51428485  13.05899429
  15.60370374  18.14841318  20.69312263  23.23783207  25.78254151
  28.32725096  30.8719604   33.41666985  35.96137929  38.50608873
  41.05079818  43.59550762  46.14021707  48.68492651  51.22963595
  53.7743454 ]
distance difference  counter: 
(array([    1,     0,     1,     2,     2,     4,     6,     9,    13,
          33,    51,   101,   200,   353,   751,  1759,  5233, 11254,
        3593,   152]), array([-5.44196463, -5.12843356, -4.8149025 , -4.50137143, -4.18784037,
       -3.8743093 , -3.56077824, -3.24724717, -2.93371611, -2.62018504,
       -2.30665398, -1.99312291, -1.67959185, -1.36606078, -1.05252972,
       -0.73899865, -0.42546759, -0.11193652,  0.20159454,  0.51512561,
        0.82865667]))
||Xanchor-Xpos||_2  counter: 
[  69  359  815 1405 1521 1476 1136  669  397  192  101   54   35   10    4
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   50  261  583  994 1393 1323 1166  852  567  382  247  177  107   59
   30   21   14    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.58557868   2.94099623   4.29641378   5.65183133   7.00724888
   8.36266643   9.71808398  11.07350153  12.42891908  13.78433663
  15.13975418  16.49517173  17.85058928  19.20600682  20.56142437
  21.91684192  23.27225947  24.62767702  25.98309457  27.33851212
  28.69392967]
distance difference  counter: 
(array([   4,    1,    2,    4,    4,    6,   14,   22,   28,   42,   78,
        119,  222,  387,  757, 1251, 2080, 2276,  828,  121]), array([-3.45917249, -3.25101224, -3.04285199, -2.83469174, -2.62653149,
       -2.41837125, -2.210211  , -2.00205075, -1.7938905 , -1.58573025,
       -1.37757   , -1.16940975, -0.96124951, -0.75308926, -0.54492901,
       -0.33676876, -0.12860851,  0.07955174,  0.28771198,  0.49587223,
        0.70403248]))
train/val Accuracy = 0.612913513054 / 0.562333252486 
 with threshold: [[ 14.38285893]]
============ epoch 4 ===========
training loss:		0.206141
||Xanchor-Xpos||_2  counter: 
[ 293 2411 4957 5727 4591 2863 1461  742  291  108   43   20    9    1    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  76  886 2330 3501 4130 4002 3127 2239 1386  807  463  268  155   65   46
   22    7    3    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.10299563   4.2189953    6.33499496   8.45099462  10.56699429
  12.68299395  14.79899361  16.91499327  19.03099294  21.1469926
  23.26299226  25.37899193  27.49499159  29.61099125  31.72699091
  33.84299058  35.95899024  38.0749899   40.19098957  42.30698923
  44.42298889]
distance difference  counter: 
(array([   1,    0,    0,    0,    0,    0,    1,    0,    3,    5,   15,
         26,   48,  137,  331,  916, 3032, 8557, 9764,  682]), array([ -7.57432270e+00,  -7.15390041e+00,  -6.73347813e+00,
        -6.31305584e+00,  -5.89263356e+00,  -5.47221127e+00,
        -5.05178899e+00,  -4.63136670e+00,  -4.21094441e+00,
        -3.79052213e+00,  -3.37009984e+00,  -2.94967756e+00,
        -2.52925527e+00,  -2.10883299e+00,  -1.68841070e+00,
        -1.26798841e+00,  -8.47566128e-01,  -4.27143842e-01,
        -6.72155619e-03,   4.13700730e-01,   8.34123015e-01]))
||Xanchor-Xpos||_2  counter: 
[ 111  549 1248 1665 1579 1332  819  457  283  115   55   21    8    3    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10  107  420  830 1323 1477 1259  983  700  455  279  191   89   50   42
   17    7    5    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.53862786   3.01869453   4.4987612    5.97882787   7.45889454
   8.93896121  10.41902788  11.89909455  13.37916121  14.85922788
  16.33929455  17.81936122  19.29942789  20.77949456  22.25956123
  23.7396279   25.21969457  26.69976124  28.1798279   29.65989457
  31.13996124]
distance difference  counter: 
(array([   1,    0,    5,    2,    3,    8,   10,    9,   20,   38,   53,
        102,  169,  325,  609, 1097, 1825, 2479, 1309,  182]), array([ -3.99041438e+00,  -3.75558368e+00,  -3.52075298e+00,
        -3.28592229e+00,  -3.05109159e+00,  -2.81626089e+00,
        -2.58143019e+00,  -2.34659949e+00,  -2.11176879e+00,
        -1.87693810e+00,  -1.64210740e+00,  -1.40727670e+00,
        -1.17244600e+00,  -9.37615302e-01,  -7.02784604e-01,
        -4.67953905e-01,  -2.33123207e-01,   1.70749128e-03,
         2.36538190e-01,   4.71368888e-01,   7.06199586e-01]))
train/val Accuracy = 0.652308869802 / 0.615086102353 
 with threshold: [[ 11.85870208]]
============ epoch 5 ===========
training loss:		0.206133
||Xanchor-Xpos||_2  counter: 
[ 287 2215 4521 5400 4576 3058 1844  892  429  179   74   23   13    3    3
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  75  733 2032 3006 3681 3791 3328 2475 1815 1063  672  386  211  121   68
   38   11    8    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.02546883   3.99030142   5.95513401   7.9199666    9.88479919
  11.84963179  13.81446438  15.77929697  17.74412956  19.70896215
  21.67379475  23.63862734  25.60345993  27.56829252  29.53312511
  31.49795771  33.4627903   35.42762289  37.39245548  39.35728807
  41.32212067]
distance difference  counter: 
(array([   2,    1,    2,    1,   11,    6,   14,   32,   44,   53,  151,
        250,  389,  845, 1799, 3474, 5806, 7170, 3205,  263]), array([-4.52450514, -4.25998967, -3.9954742 , -3.73095873, -3.46644326,
       -3.2019278 , -2.93741233, -2.67289686, -2.40838139, -2.14386592,
       -1.87935045, -1.61483499, -1.35031952, -1.08580405, -0.82128858,
       -0.55677311, -0.29225764, -0.02774217,  0.23677329,  0.50128876,
        0.76580423]))
||Xanchor-Xpos||_2  counter: 
[ 136  641 1282 1670 1579 1179  773  484  253  121   73   26   18    9    2
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  12  128  441  937 1311 1372 1217  966  654  456  299  189  117   67   30
   28   13    4    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.60210943   3.13841727   4.6747251    6.21103294   7.74734077
   9.28364861  10.81995645  12.35626428  13.89257212  15.42887995
  16.96518779  18.50149562  20.03780346  21.57411129  23.11041913
  24.64672697  26.1830348   27.71934264  29.25565047  30.79195831
  32.32826614]
distance difference  counter: 
(array([   1,    0,    0,    0,    0,    5,    5,    1,   11,   16,   26,
         48,   85,  186,  383,  825, 1641, 3002, 1849,  162]), array([-5.52956533, -5.21224953, -4.89493372, -4.57761791, -4.2603021 ,
       -3.94298629, -3.62567049, -3.30835468, -2.99103887, -2.67372306,
       -2.35640725, -2.03909145, -1.72177564, -1.40445983, -1.08714402,
       -0.76982822, -0.45251241, -0.1351966 ,  0.18211921,  0.49943502,
        0.81675082]))
train/val Accuracy = 0.658963347223 / 0.625757943245 
 with threshold: [[ 11.62579651]]
============ epoch 6 ===========
training loss:		0.206131
||Xanchor-Xpos||_2  counter: 
[ 237 2394 5269 5840 4530 2703 1409  689  265  109   50   15    4    3    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  74  795 2305 3455 4159 3925 3236 2237 1456  851  492  261  139   78   30
   16    4    2    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.75953436   3.90970156   6.05986876   8.21003597  10.36020317
  12.51037037  14.66053758  16.81070478  18.96087198  21.11103919
  23.26120639  25.41137359  27.56154079  29.711708    31.8618752
  34.0120424   36.16220961  38.31237681  40.46254401  42.61271122
  44.76287842]
distance difference  counter: 
(array([   2,    1,    0,    1,    1,    4,    9,    9,   16,   32,   72,
        131,  265,  547, 1319, 2753, 5578, 8272, 4208,  298]), array([-5.41482449, -5.10327137, -4.79171824, -4.48016512, -4.168612  ,
       -3.85705888, -3.54550576, -3.23395264, -2.92239952, -2.6108464 ,
       -2.29929328, -1.98774016, -1.67618704, -1.36463392, -1.0530808 ,
       -0.74152768, -0.42997456, -0.11842144,  0.19313169,  0.50468481,
        0.81623793]))
||Xanchor-Xpos||_2  counter: 
[ 105  543 1193 1643 1634 1217  851  504  286  140   64   41   12    9    2
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   91  377  863 1303 1411 1209 1019  753  458  285  186  119   71   32
   33   17    6    1    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.35212612   2.84566407   4.33920202   5.83273997   7.32627792
   8.81981587  10.31335382  11.80689178  13.30042973  14.79396768
  16.28750563  17.78104358  19.27458153  20.76811948  22.26165743
  23.75519538  25.24873333  26.74227128  28.23580923  29.72934718
  31.22288513]
distance difference  counter: 
(array([   2,    2,    2,    5,    5,    9,   11,   18,   37,   42,   65,
        136,  232,  372,  676, 1186, 1947, 2244, 1112,  143]), array([-3.91463661, -3.68201531, -3.449394  , -3.21677269, -2.98415139,
       -2.75153008, -2.51890877, -2.28628747, -2.05366616, -1.82104486,
       -1.58842355, -1.35580224, -1.12318094, -0.89055963, -0.65793833,
       -0.42531702, -0.19269571,  0.03992559,  0.2725469 ,  0.50516821,
        0.73778951]))
train/val Accuracy = 0.659643677183 / 0.618966771768 
 with threshold: [[ 11.6515783]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.108127
||Xanchor-Xpos||_2  counter: 
[19382  1175   554   482   456   264   199   178   184   154   156   133
    78    43    34    22    11     6     3     3]
||Xanchor-Xneg||_2  counter: 
[19207  1262   518   501   441   261   182   162   216   209   143   145
   105    66    42    18    18    16     3     3]
||Xanchor-X_neg/pos||_2  bins edge: 
[   0.85057968   32.11661393   63.38264818   94.64868242  125.91471667
  157.18075092  188.44678517  219.71281942  250.97885367  282.24488792
  313.51092216  344.77695641  376.04299066  407.30902491  438.57505916
  469.84109341  501.10712765  532.3731619   563.63919615  594.9052304
  626.17126465]
distance difference  counter: 
(array([    1,     0,     1,     0,     1,     3,     1,     0,     5,
           6,    14,    20,    39,    94,   167,   393,  1273,  4141,
       13671,  3688]), array([-10.26046848,  -9.70253321,  -9.14459794,  -8.58666266,
        -8.02872739,  -7.47079211,  -6.91285684,  -6.35492157,
        -5.79698629,  -5.23905102,  -4.68111575,  -4.12318047,
        -3.5652452 ,  -3.00730993,  -2.44937465,  -1.89143938,
        -1.3335041 ,  -0.77556883,  -0.21763356,   0.34030172,   0.89823699]))
||Xanchor-Xpos||_2  counter: 
[ 141  791 1490 1757 1420 1064  720  394  215  125   56   39   19    8    4
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  25  253  736 1205 1430 1376 1060  763  554  353  206  133   75   35   16
   11    7    4    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.42541939   1.15781454   1.89020968   2.62260483   3.35499997
   4.08739512   4.81979026   5.55218541   6.28458055   7.0169757
   7.74937084   8.48176599   9.21416113   9.94655628  10.67895142
  11.41134657  12.14374171  12.87613686  13.60853201  14.34092715
  15.0733223 ]
distance difference  counter: 
(array([   3,    2,    2,    2,    5,   10,   13,   20,   47,   94,  114,
        214,  363,  578,  962, 1402, 1883, 1612,  769,  151]), array([-2.42980051, -2.26620418, -2.10260785, -1.93901152, -1.77541519,
       -1.61181886, -1.44822254, -1.28462621, -1.12102988, -0.95743355,
       -0.79383722, -0.63024089, -0.46664456, -0.30304823, -0.1394519 ,
        0.02414443,  0.18774076,  0.35133708,  0.51493341,  0.67852974,
        0.84212607]))
train/val Accuracy = 0.50357173229 / 0.5 
 with threshold: [[ 34.7017403]]
============ epoch 1 ===========
training loss:		2.059596
||Xanchor-Xpos||_2  counter: 
[10429  8156  2617  1118   548   334   154    89    34    21    11     1
     2     3     1     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[6015 8888 3994 1837 1028  648  405  264  166  116   62   38   29   11    6
    3    3    2    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.54496723   5.06210898   9.57925072  14.09639247  18.61353421
  23.13067596  27.6478177   32.16495945  36.68210119  41.19924293
  45.71638468  50.23352642  54.75066817  59.26780991  63.78495166
  68.3020934   72.81923515  77.33637689  81.85351864  86.37066038
  90.88780212]
distance difference  counter: 
(array([    1,     2,     0,     3,     0,     1,     4,     4,    17,
          12,    22,    27,    52,   108,   197,   385,   940,  3048,
       10567,  8128]), array([-13.70149517, -12.96879227, -12.23608937, -11.50338646,
       -10.77068356, -10.03798066,  -9.30527776,  -8.57257486,
        -7.83987195,  -7.10716905,  -6.37446615,  -5.64176325,
        -4.90906035,  -4.17635745,  -3.44365454,  -2.71095164,
        -1.97824874,  -1.24554584,  -0.51284294,   0.21985997,   0.95256287]))
||Xanchor-Xpos||_2  counter: 
[ 138  727 1304 1480 1423 1037  788  570  334  172  119   80   39   17    7
    6    3    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  23  229  591 1019 1208 1194 1049  925  651  436  309  218  153  107   47
   38   30    9    7    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.47290307   1.15505407   1.83720506   2.51935605   3.20150704
   3.88365804   4.56580903   5.24796002   5.93011101   6.61226201
   7.294413     7.97656399   8.65871499   9.34086598  10.02301697
  10.70516796  11.38731896  12.06946995  12.75162094  13.43377194
  14.11592293]
distance difference  counter: 
(array([   1,    0,    1,    0,    3,    1,    3,    6,   18,   30,   50,
         82,  143,  274,  577, 1060, 1852, 2416, 1485,  244]), array([-3.62711453, -3.4020675 , -3.17702047, -2.95197343, -2.7269264 ,
       -2.50187936, -2.27683233, -2.0517853 , -1.82673826, -1.60169123,
       -1.37664419, -1.15159716, -0.92655013, -0.70150309, -0.47645606,
       -0.25140902, -0.02636199,  0.19868504,  0.42373208,  0.64877911,
        0.87382615]))
train/val Accuracy = 0.589208266009 / 0.520130972593 
 with threshold: [[ 8.46883721]]
============ epoch 2 ===========
training loss:		2.059594
||Xanchor-Xpos||_2  counter: 
[9002 8556 2938 1298  720  433  259  132   86   41   27   14    7    1    1
    2    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[4895 8443 4413 2073 1226  804  543  367  267  178   96   63   46   44   24
   10    7    6    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.6170364    4.60146893   8.58590146  12.57033398  16.55476651
  20.53919904  24.52363157  28.50806409  32.49249662  36.47692915
  40.46136168  44.4457942   48.43022673  52.41465926  56.39909179
  60.38352431  64.36795684  68.35238937  72.3368219   76.32125442
  80.30568695]
distance difference  counter: 
(array([   1,    1,    0,    1,    2,    1,    2,    5,    7,    8,   12,
         31,   56,   79,  169,  353,  898, 2546, 9850, 9496]), array([-14.997159  , -14.19962323, -13.40208746, -12.60455168,
       -11.80701591, -11.00948013, -10.21194436,  -9.41440859,
        -8.61687281,  -7.81933704,  -7.02180126,  -6.22426549,
        -5.42672971,  -4.62919394,  -3.83165817,  -3.03412239,
        -2.23658662,  -1.43905084,  -0.64151507,   0.1560207 ,   0.95355648]))
||Xanchor-Xpos||_2  counter: 
[ 307 1438 1898 1576 1093  743  464  294  179  112   60   42   15   11    5
    6    2    0    1    0]
||Xanchor-Xneg||_2  counter: 
[  60  614 1305 1536 1409 1005  713  510  385  238  181   92   73   43   31
   24   14    5    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.64429885   2.30083494   3.95737103   5.61390711   7.2704432
   8.92697929  10.58351538  12.24005146  13.89658755  15.55312364
  17.20965973  18.86619581  20.5227319   22.17926799  23.83580408
  25.49234016  27.14887625  28.80541234  30.46194842  32.11848451
  33.7750206 ]
distance difference  counter: 
(array([   1,    1,    1,    1,    0,    1,    9,    6,   11,   14,   37,
         40,   80,  135,  286,  567, 1067, 2238, 2892,  859]), array([-6.97489405, -6.58178178, -6.18866951, -5.79555724, -5.40244497,
       -5.0093327 , -4.61622043, -4.22310816, -3.82999589, -3.43688363,
       -3.04377136, -2.65065909, -2.25754682, -1.86443455, -1.47132228,
       -1.07821001, -0.68509774, -0.29198547,  0.1011268 ,  0.49423907,
        0.88735133]))
train/val Accuracy = 0.589590951612 / 0.587921416444 
 with threshold: [[ 8.57878045]]
============ epoch 3 ===========
training loss:		2.059593
||Xanchor-Xpos||_2  counter: 
[10016  8496  2688  1175   585   296   130    56    36    17    10     9
     3     1     0     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[5626 8755 4359 2020 1085  701  378  237  141   88   49   40   14   13    4
    5    1    0    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.63055491   4.98363792   9.33672092  13.68980392  18.04288692
  22.39596993  26.74905293  31.10213593  35.45521894  39.80830194
  44.16138494  48.51446794  52.86755095  57.22063395  61.57371695
  65.92679995  70.27988296  74.63296596  78.98604896  83.33913196
  87.69221497]
distance difference  counter: 
(array([    3,     1,     0,     0,     3,     2,     9,     8,    10,
          12,    23,    49,    72,   127,   231,   503,  1220,  3358,
       10467,  7420]), array([-12.37238216, -11.70829372, -11.04420528, -10.38011684,
        -9.7160284 ,  -9.05193996,  -8.38785152,  -7.72376308,
        -7.05967464,  -6.3955862 ,  -5.73149776,  -5.06740932,
        -4.40332088,  -3.73923244,  -3.075144  ,  -2.41105556,
        -1.74696712,  -1.08287868,  -0.41879025,   0.24529819,   0.90938663]))
||Xanchor-Xpos||_2  counter: 
[1011 2233 1735 1135  784  539  335  173  131   80   37   21   14   10    3
    4    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 367 1551 1672 1279  941  699  557  418  258  188  120   71   48   32   25
    9    5    3    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.75002086   3.94877127   7.14752167  10.34627208  13.54502249
  16.74377289  19.9425233   23.14127371  26.34002411  29.53877452
  32.73752493  35.93627533  39.13502574  42.33377615  45.53252655
  48.73127696  51.93002737  55.12877777  58.32752818  61.52627859
  64.72502899]
distance difference  counter: 
(array([   1,    0,    1,    1,    1,    4,    5,   10,    3,   21,   21,
         39,   53,  103,  205,  376,  727, 1390, 2955, 2330]), array([-11.76191711, -11.12715317, -10.49238923,  -9.85762529,
        -9.22286135,  -8.58809741,  -7.95333347,  -7.31856953,
        -6.68380558,  -6.04904164,  -5.4142777 ,  -4.77951376,
        -4.14474982,  -3.50998588,  -2.87522194,  -2.240458  ,
        -1.60569406,  -0.97093011,  -0.33616617,   0.29859777,   0.93336171]))
train/val Accuracy = 0.595288715027 / 0.584586466165 
 with threshold: [[ 8.32003822]]
============ epoch 4 ===========
training loss:		2.059595
||Xanchor-Xpos||_2  counter: 
[10683  7881  2647  1173   582   295   122    77    28    18     5     5
     1     1     0     0     0     0     0     0]
||Xanchor-Xneg||_2  counter: 
[6086 8797 3911 1931 1086  696  434  262  137   71   40   29   18    9    4
    2    3    0    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.63110232   5.20189019   9.77267807  14.34346594  18.91425381
  23.48504168  28.05582955  32.62661742  37.19740529  41.76819316
  46.33898103  50.9097689   55.48055677  60.05134465  64.62213252
  69.19292039  73.76370826  78.33449613  82.905284    87.47607187
  92.04685974]
distance difference  counter: 
(array([    1,     4,     1,     1,     2,     4,     8,    13,    21,
          26,    44,    66,    94,   183,   354,   627,  1589,  4166,
       10879,  5435]), array([-11.11589718, -10.51309091,  -9.91028465,  -9.30747839,
        -8.70467212,  -8.10186586,  -7.49905959,  -6.89625333,
        -6.29344707,  -5.6906408 ,  -5.08783454,  -4.48502827,
        -3.88222201,  -3.27941574,  -2.67660948,  -2.07380322,
        -1.47099695,  -0.86819069,  -0.26538442,   0.33742184,   0.9402281 ]))
||Xanchor-Xpos||_2  counter: 
[ 815 2207 1720 1226  792  522  372  226  150   87   65   28   19    7    5
    3    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 268 1454 1618 1329  974  771  545  413  275  237  120   95   60   46   16
   11    6    4    1    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.60531098   3.7254454    6.84557982   9.96571424  13.08584867
  16.20598309  19.32611751  22.44625193  25.56638635  28.68652078
  31.8066552   34.92678962  38.04692404  41.16705846  44.28719289
  47.40732731  50.52746173  53.64759615  56.76773058  59.887865
  63.00799942]
distance difference  counter: 
(array([   1,    1,    0,    1,    5,    6,    2,   11,   11,   13,   21,
         40,   72,  100,  203,  372,  692, 1439, 2941, 2315]), array([-11.57416439, -10.94921235, -10.32426031,  -9.69930826,
        -9.07435622,  -8.44940418,  -7.82445214,  -7.1995001 ,
        -6.57454805,  -5.94959601,  -5.32464397,  -4.69969193,
        -4.07473989,  -3.44978784,  -2.8248358 ,  -2.19988376,
        -1.57493172,  -0.94997967,  -0.32502763,   0.29992441,   0.92487645]))
train/val Accuracy = 0.587103495195 / 0.583009944215 
 with threshold: [[ 8.54473572]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027195
||Xanchor-Xpos||_2  counter: 
[ 125 1032 2509 2423 2613 3069 2973 2676 2199 1568 1045  573  345  203   77
   44   29    7    5    2]
||Xanchor-Xneg||_2  counter: 
[  48  650 1750 1979 2307 3043 3307 3074 2577 1874 1221  801  418  233  119
   68   29   12    7    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  61.75361633   95.63708725  129.52055817  163.40402908  197.2875
  231.17097092  265.05444183  298.93791275  332.82138367  366.70485458
  400.5883255   434.47179642  468.35526733  502.23873825  536.12220917
  570.00568008  603.889151    637.77262192  671.65609283  705.53956375
  739.42303467]
distance difference  counter: 
(array([    1,     1,     0,     3,     4,     4,     5,    17,    21,
          39,    70,   134,   235,   423,   869,  2037,  7570, 10577,
        1407,   101]), array([-4.02247763, -3.78375465, -3.54503167, -3.30630869, -3.06758571,
       -2.82886273, -2.59013975, -2.35141677, -2.11269379, -1.87397081,
       -1.63524783, -1.39652485, -1.15780187, -0.91907889, -0.68035591,
       -0.44163293, -0.20290995,  0.03581303,  0.27453601,  0.51325899,
        0.75198197]))
||Xanchor-Xpos||_2  counter: 
[  69  187  373  588  757  929 1039 1073  965  821  592  399  229  129   56
   28    5    3    4    0]
||Xanchor-Xneg||_2  counter: 
[   8   38  137  292  498  749  897 1050 1064 1058  829  622  450  244  161
   82   41   17    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.84277725   69.05960751   91.27643776  113.49326801  135.71009827
  157.92692852  180.14375877  202.36058903  224.57741928  246.79424953
  269.01107979  291.22791004  313.4447403   335.66157055  357.8784008
  380.09523106  402.31206131  424.52889156  446.74572182  468.96255207
  491.17938232]
distance difference  counter: 
(array([   2,    1,    1,    2,    0,    3,    6,    9,   15,   23,   36,
         53,  110,  220,  461, 1052, 2612, 2929,  649,   62]), array([-3.6882503 , -3.4701332 , -3.25201609, -3.03389899, -2.81578188,
       -2.59766477, -2.37954767, -2.16143056, -1.94331346, -1.72519635,
       -1.50707924, -1.28896214, -1.07084503, -0.85272793, -0.63461082,
       -0.41649371, -0.19837661,  0.0197405 ,  0.2378576 ,  0.45597471,
        0.67409182]))
train/val Accuracy = 0.539033931457 / 0.553116662624 
 with threshold: [[ 279.90669255]]
============ epoch 1 ===========
training loss:		0.027182
||Xanchor-Xpos||_2  counter: 
[ 132 1115 2510 2369 2643 2977 3024 2671 2122 1521 1036  629  387  189   94
   59   17   14    5    3]
||Xanchor-Xneg||_2  counter: 
[  53  671 1800 1980 2323 2881 3259 3166 2541 1840 1207  830  452  253  133
   70   38   11    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  63.66327667   97.18730888  130.71134109  164.23537331  197.75940552
  231.28343773  264.80746994  298.33150215  331.85553436  365.37956657
  398.90359879  432.427631    465.95166321  499.47569542  532.99972763
  566.52375984  600.04779205  633.57182426  667.09585648  700.61988869
  734.1439209 ]
distance difference  counter: 
(array([    2,     1,     2,     4,     3,     9,    10,    18,    25,
          57,    89,   160,   313,   538,  1077,  2774, 10722,  6950,
         714,    50]), array([-3.82785392, -3.59667015, -3.36548639, -3.13430263, -2.90311886,
       -2.6719351 , -2.44075133, -2.20956757, -1.9783838 , -1.74720004,
       -1.51601627, -1.28483251, -1.05364875, -0.82246498, -0.59128122,
       -0.36009745, -0.12891369,  0.10227008,  0.33345384,  0.5646376 ,
        0.79582137]))
||Xanchor-Xpos||_2  counter: 
[  61  182  362  563  759  921 1049 1086  964  818  608  402  237  129   61
   32    7    4    1    0]
||Xanchor-Xneg||_2  counter: 
[   8   37  134  274  497  731  921 1016 1079 1022  845  669  470  242  149
   78   47   17    5    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.26316833   67.53805618   89.81294403  112.08783188  134.36271973
  156.63760757  178.91249542  201.18738327  223.46227112  245.73715897
  268.01204681  290.28693466  312.56182251  334.83671036  357.11159821
  379.38648605  401.6613739   423.93626175  446.2111496   468.48603745
  490.76092529]
distance difference  counter: 
(array([   1,    0,    1,    2,    2,    3,    3,    9,   10,   14,   31,
         50,   89,  198,  405,  995, 2484, 3194,  691,   64]), array([ -3.86714840e+00,  -3.63956768e+00,  -3.41198695e+00,
        -3.18440623e+00,  -2.95682551e+00,  -2.72924478e+00,
        -2.50166406e+00,  -2.27408334e+00,  -2.04650261e+00,
        -1.81892189e+00,  -1.59134117e+00,  -1.36376044e+00,
        -1.13617972e+00,  -9.08598998e-01,  -6.81018275e-01,
        -4.53437552e-01,  -2.25856829e-01,   1.72389448e-03,
         2.29304618e-01,   4.56885341e-01,   6.84466064e-01]))
train/val Accuracy = 0.540968619781 / 0.555602716469 
 with threshold: [[ 279.83122018]]
============ epoch 2 ===========
training loss:		0.027170
||Xanchor-Xpos||_2  counter: 
[ 194 1239 2557 2408 2644 2986 2978 2631 2090 1516 1016  548  330  186  110
   45   21   11    4    1]
||Xanchor-Xneg||_2  counter: 
[  86  780 1802 2037 2392 3022 3200 2998 2552 1760 1233  704  464  247  134
   51   30   16    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  67.06074524  100.51545029  133.97015533  167.42486038  200.87956543
  234.33427048  267.78897552  301.24368057  334.69838562  368.15309067
  401.60779572  435.06250076  468.51720581  501.97191086  535.42661591
  568.88132095  602.336026    635.79073105  669.2454361   702.70014114
  736.15484619]
distance difference  counter: 
(array([    1,     0,     1,     0,     5,     3,     5,    14,    11,
          23,    68,   113,   186,   329,   683,  1659,  5409, 12577,
        2302,   129]), array([-4.32945013, -4.0760548 , -3.82265947, -3.56926415, -3.31586882,
       -3.06247349, -2.80907816, -2.55568283, -2.30228751, -2.04889218,
       -1.79549685, -1.54210152, -1.2887062 , -1.03531087, -0.78191554,
       -0.52852021, -0.27512488, -0.02172956,  0.23166577,  0.4850611 ,
        0.73845643]))
||Xanchor-Xpos||_2  counter: 
[  60  176  362  581  740  943 1036 1073  992  785  604  421  226  135   67
   29    9    6    1    0]
||Xanchor-Xneg||_2  counter: 
[   5   44  125  274  477  750  919 1036 1066 1022  908  611  440  258  157
   90   38   15    6    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.04765701   67.31236401   89.577071    111.84177799  134.10648499
  156.37119198  178.63589897  200.90060596  223.16531296  245.43001995
  267.69472694  289.95943394  312.22414093  334.48884792  356.75355492
  379.01826191  401.2829689   423.5476759   445.81238289  468.07708988
  490.34179688]
distance difference  counter: 
(array([   1,    0,    0,    3,    1,    0,    3,   11,   10,   16,   27,
         50,   79,  179,  394,  902, 2386, 3348,  773,   63]), array([-3.96890402, -3.73623275, -3.50356148, -3.27089021, -3.03821894,
       -2.80554767, -2.5728764 , -2.34020513, -2.10753386, -1.87486259,
       -1.64219132, -1.40952005, -1.17684878, -0.94417751, -0.71150624,
       -0.47883497, -0.2461637 , -0.01349243,  0.21917884,  0.45185011,
        0.68452138]))
train/val Accuracy = 0.538523683987 / 0.55378365268 
 with threshold: [[ 279.53094208]]
============ epoch 3 ===========
training loss:		0.027157
||Xanchor-Xpos||_2  counter: 
[  87 1048 2644 2526 2700 3138 3125 2672 2152 1447  878  548  293  143   55
   36   11    9    3    2]
||Xanchor-Xneg||_2  counter: 
[  42  621 1830 2102 2506 3170 3446 3016 2503 1798 1054  687  373  210   91
   36   21    8    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.21763992   93.37708874  128.53653755  163.69598637  198.85543518
  234.014884    269.17433281  304.33378162  339.49323044  374.65267925
  409.81212807  444.97157688  480.1310257   515.29047451  550.44992332
  585.60937214  620.76882095  655.92826977  691.08771858  726.2471674
  761.40661621]
distance difference  counter: 
(array([   3,    1,    3,    3,    4,    7,   11,   20,   27,   66,  115,
        179,  263,  554, 1097, 2667, 9643, 7761, 1020,   74]), array([-3.66074467, -3.44042653, -3.22010839, -2.99979025, -2.77947211,
       -2.55915397, -2.33883584, -2.1185177 , -1.89819956, -1.67788142,
       -1.45756328, -1.23724514, -1.016927  , -0.79660887, -0.57629073,
       -0.35597259, -0.13565445,  0.08466369,  0.30498183,  0.52529997,
        0.7456181 ]))
||Xanchor-Xpos||_2  counter: 
[  80  200  390  580  760  971 1028 1076  965  790  549  415  208  128   60
   30   10    4    2    0]
||Xanchor-Xneg||_2  counter: 
[  13   47  132  296  526  776  934 1013 1063 1022  837  642  399  233  171
   73   36   22    5    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  48.74031067   70.79943008   92.8585495   114.91766891  136.97678833
  159.03590775  181.09502716  203.15414658  225.21326599  247.27238541
  269.33150482  291.39062424  313.44974365  335.50886307  357.56798248
  379.6271019   401.68622131  423.74534073  445.80446014  467.86357956
  489.92269897]
distance difference  counter: 
(array([   3,    1,    2,    2,    3,    7,    2,   10,   18,   24,   45,
         74,  159,  284,  574, 1302, 2968, 2256,  466,   46]), array([-3.39950395, -3.19556756, -2.99163118, -2.7876948 , -2.58375841,
       -2.37982203, -2.17588565, -1.97194926, -1.76801288, -1.5640765 ,
       -1.36014012, -1.15620373, -0.95226735, -0.74833097, -0.54439458,
       -0.3404582 , -0.13652182,  0.06741457,  0.27135095,  0.47528733,
        0.67922372]))
train/val Accuracy = 0.540118207331 / 0.553601746301 
 with threshold: [[ 279.31892961]]
============ epoch 4 ===========
training loss:		0.027144
||Xanchor-Xpos||_2  counter: 
[ 191 1538 2790 2643 3014 3378 3101 2495 1823 1143  706  362  176   87   42
   22    6    0    1    0]
||Xanchor-Xneg||_2  counter: 
[  98  951 2056 2252 2827 3568 3441 2930 2233 1410  845  460  242  111   54
   24   11    3    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  63.94077682  100.64213581  137.3434948   174.04485378  210.74621277
  247.44757175  284.14893074  320.85028973  357.55164871  394.2530077
  430.95436668  467.65572567  504.35708466  541.05844364  577.75980263
  614.46116161  651.1625206   687.86387959  724.56523857  761.26659756
  797.96795654]
distance difference  counter: 
(array([    1,     0,     4,     2,     6,     6,     5,    11,    25,
          40,    77,   143,   228,   411,   936,  2062,  8115, 10049,
        1319,    78]), array([-4.01883984, -3.77988232, -3.5409248 , -3.30196728, -3.06300976,
       -2.82405224, -2.58509473, -2.34613721, -2.10717969, -1.86822217,
       -1.62926465, -1.39030713, -1.15134962, -0.9123921 , -0.67343458,
       -0.43447706, -0.19551954,  0.04343798,  0.28239549,  0.52135301,
        0.76031053]))
||Xanchor-Xpos||_2  counter: 
[  68  197  414  679  792 1037 1142 1148  955  719  478  308  170   84   39
   10    2    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   49  142  332  606  842 1002 1101 1129 1013  799  544  323  175   98
   50   19    7    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.13755417   68.58864155   92.03972893  115.49081631  138.94190369
  162.39299107  185.84407845  209.29516582  232.7462532   256.19734058
  279.64842796  303.09951534  326.55060272  350.0016901   373.45277748
  396.90386486  420.35495224  443.80603962  467.257127    490.70821438
  514.15930176]
distance difference  counter: 
(array([   2,    1,    1,    2,    4,    3,    5,   15,   18,   26,   35,
         68,  127,  232,  525, 1190, 2766, 2591,  579,   56]), array([-3.5215497 , -3.31198347, -3.10241723, -2.892851  , -2.68328476,
       -2.47371852, -2.26415229, -2.05458605, -1.84501982, -1.63545358,
       -1.42588735, -1.21632111, -1.00675488, -0.79718864, -0.5876224 ,
       -0.37805617, -0.16848993,  0.0410763 ,  0.25064254,  0.46020877,
        0.66977501]))
train/val Accuracy = 0.538566204609 / 0.557179238419 
 with threshold: [[ 279.08004427]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085, 0.54828566812459223]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.270815
||Xanchor-Xpos||_2  counter: 
[ 110  927 2534 2448 2645 3021 3046 2645 2238 1596  992  588  376  178   88
   48   26    7    3    1]
||Xanchor-Xneg||_2  counter: 
[  47  594 1713 1987 2354 3012 3362 3015 2605 1891 1240  782  436  247  119
   59   40   10    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  61.36433411   95.54544601  129.72655792  163.90766983  198.08878174
  232.26989365  266.45100555  300.63211746  334.81322937  368.99434128
  403.17545319  437.35656509  471.537677    505.71878891  539.89990082
  574.08101273  608.26212463  642.44323654  676.62434845  710.80546036
  744.98657227]
distance difference  counter: 
(array([    5,     0,     1,     4,     7,     6,     7,    22,    38,
          71,   112,   187,   335,   583,  1282,  3118, 10910,  6005,
         768,    57]), array([-3.58648539, -3.36872351, -3.15096163, -2.93319975, -2.71543788,
       -2.497676  , -2.27991412, -2.06215225, -1.84439037, -1.62662849,
       -1.40886661, -1.19110474, -0.97334286, -0.75558098, -0.53781911,
       -0.32005723, -0.10229535,  0.11546653,  0.3332284 ,  0.55099028,
        0.76875216]))
||Xanchor-Xpos||_2  counter: 
[  65  175  373  600  748  957 1102 1120 1004  774  563  375  196  113   50
   22    8    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   39  130  271  519  771  942 1072 1117 1032  865  614  382  237  142
   62   33    9    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.61594009   68.36476955   91.11359901  113.86242847  136.61125793
  159.36008739  182.10891685  204.85774632  227.60657578  250.35540524
  273.1042347   295.85306416  318.60189362  341.35072308  364.09955254
  386.848382    409.59721146  432.34604092  455.09487038  477.84369984
  500.5925293 ]
distance difference  counter: 
(array([   2,    0,    1,    0,    1,    1,    5,   10,    8,   22,   28,
         52,   99,  196,  394,  981, 2426, 3221,  733,   66]), array([-3.81004214, -3.58617387, -3.36230561, -3.13843734, -2.91456907,
       -2.6907008 , -2.46683253, -2.24296426, -2.01909599, -1.79522772,
       -1.57135946, -1.34749119, -1.12362292, -0.89975465, -0.67588638,
       -0.45201811, -0.22814984, -0.00428157,  0.21958669,  0.44345496,
        0.66732323]))
train/val Accuracy = 0.539544178927 / 0.554208100897 
 with threshold: [[ 282.21237109]]
============ epoch 1 ===========
training loss:		0.269585
||Xanchor-Xpos||_2  counter: 
[ 109  947 2529 2387 2773 3070 3031 2672 2203 1560 1022  572  311  168   82
   47   19    8    6    1]
||Xanchor-Xneg||_2  counter: 
[  48  554 1755 2046 2392 3052 3292 3106 2561 1935 1165  784  415  197  120
   54   24   12    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  60.68604279   94.76455193  128.84306107  162.92157021  197.00007935
  231.07858849  265.15709763  299.23560677  333.31411591  367.39262505
  401.47113419  435.54964333  469.62815247  503.70666161  537.78517075
  571.86367989  605.94218903  640.02069817  674.09920731  708.17771645
  742.25622559]
distance difference  counter: 
(array([    1,     1,     1,     2,     1,     5,     5,    12,    14,
          32,    81,   107,   219,   386,   810,  2029,  7818, 10619,
        1308,    67]), array([-4.2296133 , -3.97876518, -3.72791706, -3.47706893, -3.22622081,
       -2.97537269, -2.72452456, -2.47367644, -2.22282832, -1.97198019,
       -1.72113207, -1.47028395, -1.21943582, -0.9685877 , -0.71773958,
       -0.46689145, -0.21604333,  0.03480479,  0.28565292,  0.53650104,
        0.78734916]))
||Xanchor-Xpos||_2  counter: 
[  79  211  443  676  859 1075 1208 1101  943  677  478  246  141   66   27
   14    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  11   52  170  345  635  890 1065 1141 1153  954  751  485  298  160   73
   40   15    5    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  47.91400528   71.47600155   95.03799782  118.59999409  142.16199036
  165.72398663  189.28598289  212.84797916  236.40997543  259.9719717
  283.53396797  307.09596424  330.65796051  354.21995678  377.78195305
  401.34394932  424.90594559  448.46794186  472.02993813  495.59193439
  519.15393066]
distance difference  counter: 
(array([   2,    0,    1,    0,    2,    2,    4,    8,   11,    9,   30,
         40,   84,  154,  396,  887, 2314, 3456,  769,   77]), array([-3.9529655 , -3.72159306, -3.49022063, -3.2588482 , -3.02747576,
       -2.79610333, -2.56473089, -2.33335846, -2.10198603, -1.87061359,
       -1.63924116, -1.40786873, -1.17649629, -0.94512386, -0.71375142,
       -0.48237899, -0.25100656, -0.01963412,  0.21173831,  0.44311075,
        0.67448318]))
train/val Accuracy = 0.539863083596 / 0.555481445549 
 with threshold: [[ 279.41864174]]
============ epoch 2 ===========
training loss:		0.268378
||Xanchor-Xpos||_2  counter: 
[ 127 1133 2660 2587 2867 3158 3107 2713 2008 1363  838  451  254  136   60
   31   19    5    1    0]
||Xanchor-Xneg||_2  counter: 
[  58  677 1918 2110 2615 3241 3454 3059 2478 1632 1056  581  312  179   78
   42   16   10    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  61.15930176   96.13585205  131.11240234  166.08895264  201.06550293
  236.04205322  271.01860352  305.99515381  340.9717041   375.94825439
  410.92480469  445.90135498  480.87790527  515.85445557  550.83100586
  585.80755615  620.78410645  655.76065674  690.73720703  725.71375732
  760.69030762]
distance difference  counter: 
(array([    2,     1,     0,     0,     0,     2,     5,     6,    10,
          20,    40,    88,   148,   315,   611,  1407,  4800, 13407,
        2528,   128]), array([-4.55950117, -4.29392467, -4.02834816, -3.76277165, -3.49719515,
       -3.23161864, -2.96604214, -2.70046563, -2.43488913, -2.16931262,
       -1.90373611, -1.63815961, -1.3725831 , -1.1070066 , -0.84143009,
       -0.57585359, -0.31027708, -0.04470057,  0.22087593,  0.48645244,
        0.75202894]))
||Xanchor-Xpos||_2  counter: 
[  53  191  454  667  890 1130 1168 1163  959  681  434  245  127   46   29
    9    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   41  161  322  648  907 1086 1210 1161  948  754  460  272  163   61
   35    4    3    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.23145294   67.24046135   91.24946976  115.25847816  139.26748657
  163.27649498  187.28550339  211.2945118   235.3035202   259.31252861
  283.32153702  307.33054543  331.33955383  355.34856224  379.35757065
  403.36657906  427.37558746  451.38459587  475.39360428  499.40261269
  523.41162109]
distance difference  counter: 
(array([   2,    2,    3,    0,    3,    3,   12,   10,   22,   27,   45,
         74,  147,  309,  581, 1424, 2928, 2139,  462,   53]), array([-3.29612184, -3.09792396, -2.89972609, -2.70152822, -2.50333035,
       -2.30513248, -2.10693461, -1.90873674, -1.71053886, -1.51234099,
       -1.31414312, -1.11594525, -0.91774738, -0.71954951, -0.52135164,
       -0.32315376, -0.12495589,  0.07324198,  0.27143985,  0.46963772,
        0.66783559]))
train/val Accuracy = 0.539565439238 / 0.556572883822 
 with threshold: [[ 276.91077106]]
============ epoch 3 ===========
training loss:		0.267193
||Xanchor-Xpos||_2  counter: 
[ 126 1057 2513 2398 2701 2953 3036 2595 2207 1586 1037  597  334  196   97
   45   25    7    4    4]
||Xanchor-Xneg||_2  counter: 
[  66  602 1744 1995 2389 3011 3234 3085 2516 1862 1285  835  411  235  149
   48   34   12    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.39234543   95.26436329  128.13638115  161.00839901  193.88041687
  226.75243473  259.62445259  292.49647045  325.36848831  358.24050617
  391.11252403  423.98454189  456.85655975  489.72857761  522.60059547
  555.47261333  588.3446312   621.21664906  654.08866692  686.96068478
  719.83270264]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     7,     2,    10,    17,
          20,    44,    82,   136,   312,   613,  1489,  4933, 13395,
        2320,   137]), array([-4.60142994, -4.33313091, -4.06483189, -3.79653286, -3.52823384,
       -3.25993481, -2.99163579, -2.72333676, -2.45503774, -2.18673871,
       -1.91843969, -1.65014066, -1.38184164, -1.11354261, -0.84524359,
       -0.57694456, -0.30864553, -0.04034651,  0.22795252,  0.49625154,
        0.76455057]))
||Xanchor-Xpos||_2  counter: 
[  60  193  410  640  882 1066 1185 1148  958  701  477  282  140   63   26
   12    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   38  147  328  607  900 1062 1141 1160 1003  762  488  306  151   84
   40   15    3    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.20890427   66.60264912   89.99639397  113.39013882  136.78388367
  160.17762852  183.57137337  206.96511822  230.35886307  253.75260792
  277.14635277  300.54009762  323.93384247  347.32758732  370.72133217
  394.11507702  417.50882187  440.90256672  464.29631157  487.69005642
  511.08380127]
distance difference  counter: 
(array([   3,    1,    1,    3,    2,    7,   12,    9,   25,   25,   40,
         89,  163,  338,  698, 1538, 3195, 1718,  345,   34]), array([-3.22765112, -3.03161131, -2.8355715 , -2.63953169, -2.44349188,
       -2.24745207, -2.05141225, -1.85537244, -1.65933263, -1.46329282,
       -1.26725301, -1.0712132 , -0.87517339, -0.67913358, -0.48309377,
       -0.28705396, -0.09101415,  0.10502566,  0.30106547,  0.49710529,
        0.6931451 ]))
train/val Accuracy = 0.538566204609 / 0.553965559059 
 with threshold: [[ 274.25520636]]
============ epoch 4 ===========
training loss:		0.266032
||Xanchor-Xpos||_2  counter: 
[ 140  931 2262 2352 2421 2687 2972 2662 2343 1682 1212  800  496  263  142
   95   21   19   13    3]
||Xanchor-Xneg||_2  counter: 
[  62  562 1533 1887 2126 2715 3021 3070 2669 2033 1513  954  621  371  164
  110   51   34   12   10]
||Xanchor-X_neg/pos||_2  bins edge: 
[  63.03243637   93.82365208  124.61486778  155.40608349  186.19729919
  216.9885149   247.77973061  278.57094631  309.36216202  340.15337772
  370.94459343  401.73580914  432.52702484  463.31824055  494.10945625
  524.90067196  555.69188766  586.48310337  617.27431908  648.06553478
  678.85675049]
distance difference  counter: 
(array([    1,     0,     0,     0,     3,     8,     3,     7,    14,
          33,    50,   116,   159,   359,   722,  1719,  6387, 12147,
        1704,    86]), array([ -4.38679981e+00,  -4.12862347e+00,  -3.87044713e+00,
        -3.61227079e+00,  -3.35409445e+00,  -3.09591810e+00,
        -2.83774176e+00,  -2.57956542e+00,  -2.32138908e+00,
        -2.06321274e+00,  -1.80503640e+00,  -1.54686005e+00,
        -1.28868371e+00,  -1.03050737e+00,  -7.72331029e-01,
        -5.14154688e-01,  -2.55978346e-01,   2.19799578e-03,
         2.60374337e-01,   5.18550679e-01,   7.76727021e-01]))
||Xanchor-Xpos||_2  counter: 
[  58  167  393  580  758  995 1100 1117  998  783  529  377  194  114   51
   20   10    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   42  119  281  530  755  959 1102 1129 1011  814  593  427  234  135
   59   33   11    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.02296448   65.91548843   87.80801239  109.70053635  131.5930603
  153.48558426  175.37810822  197.27063217  219.16315613  241.05568008
  262.94820404  284.840728    306.73325195  328.62577591  350.51829987
  372.41082382  394.30334778  416.19587173  438.08839569  459.98091965
  481.8734436 ]
distance difference  counter: 
(array([   1,    0,    1,    1,    1,    4,    6,    3,   12,   14,   25,
         51,   75,  165,  386,  930, 2417, 3356,  727,   71]), array([-3.92220974, -3.69210382, -3.46199789, -3.23189197, -3.00178604,
       -2.77168012, -2.54157419, -2.31146827, -2.08136234, -1.85125642,
       -1.62115049, -1.39104457, -1.16093864, -0.93083272, -0.7007268 ,
       -0.47062087, -0.24051495, -0.01040902,  0.2196969 ,  0.44980283,
        0.67990875]))
train/val Accuracy = 0.541436346628 / 0.556815425661 
 with threshold: [[ 271.54821019]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085, 0.54828566812459223, 0.54912588614452051]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.658071
||Xanchor-Xpos||_2  counter: 
[ 153 1100 2538 2520 2710 2962 3039 2677 2080 1553  923  572  331  178   95
   47   23    8    5    3]
||Xanchor-Xneg||_2  counter: 
[  77  669 1792 2065 2435 3131 3276 3019 2472 1838 1171  712  420  227  108
   57   23   17    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.9643898    95.03302822  127.10166664  159.17030506  191.23894348
  223.3075819   255.37622032  287.44485874  319.51349716  351.58213558
  383.650774    415.71941242  447.78805084  479.85668926  511.92532768
  543.9939661   576.06260452  608.13124294  640.19988136  672.26851978
  704.3371582 ]
distance difference  counter: 
(array([    1,     6,     0,     3,     4,     4,     6,    27,    35,
          64,   108,   178,   316,   596,  1326,  3272, 10813,  5986,
         713,    60]), array([-3.52017307, -3.30582022, -3.09146737, -2.87711453, -2.66276168,
       -2.44840883, -2.23405598, -2.01970313, -1.80535028, -1.59099743,
       -1.37664458, -1.16229173, -0.94793888, -0.73358603, -0.51923319,
       -0.30488034, -0.09052749,  0.12382536,  0.33817821,  0.55253106,
        0.76688391]))
||Xanchor-Xpos||_2  counter: 
[  62  186  415  640  817 1001 1175 1092  949  754  503  328  164   94   50
   10    3    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   46  147  326  608  787 1007 1141 1111  986  779  582  333  202  107
   45   23    5    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  41.12779236   61.94539719   82.76300201  103.58060684  124.39821167
  145.2158165   166.03342133  186.85102615  207.66863098  228.48623581
  249.30384064  270.12144547  290.93905029  311.75665512  332.57425995
  353.39186478  374.2094696   395.02707443  415.84467926  436.66228409
  457.47988892]
distance difference  counter: 
(array([   3,    3,    0,    2,    8,    2,    8,   16,   17,   32,   54,
         84,  164,  351,  725, 1599, 3058, 1739,  345,   36]), array([-3.11820006, -2.92796046, -2.73772085, -2.54748124, -2.35724163,
       -2.16700202, -1.97676241, -1.78652281, -1.5962832 , -1.40604359,
       -1.21580398, -1.02556437, -0.83532476, -0.64508516, -0.45484555,
       -0.26460594, -0.07436633,  0.11587328,  0.30611289,  0.49635249,
        0.6865921 ]))
train/val Accuracy = 0.537970915894 / 0.541717196216 
 with threshold: [[ 266.53499825]]
============ epoch 1 ===========
training loss:		2.553273
||Xanchor-Xpos||_2  counter: 
[ 133 1205 2785 2633 3004 3222 3124 2543 1976 1277  768  416  213  119   56
   29   10    5    0    0]
||Xanchor-Xneg||_2  counter: 
[  58  727 1982 2229 2806 3329 3476 3039 2332 1540  953  543  259  135   59
   27   14    6    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  54.06264877   85.25177708  116.44090538  147.63003368  178.81916199
  210.00829029  241.19741859  272.3865469   303.5756752   334.7648035
  365.95393181  397.14306011  428.33218842  459.52131672  490.71044502
  521.89957333  553.08870163  584.27782993  615.46695824  646.65608654
  677.84521484]
distance difference  counter: 
(array([    1,     2,     2,     5,     5,     5,    11,    17,    36,
          45,   115,   190,   374,   578,  1356,  3397, 11047,  5669,
         618,    45]), array([-3.49312258, -3.27952142, -3.06592027, -2.85231912, -2.63871796,
       -2.42511681, -2.21151565, -1.9979145 , -1.78431334, -1.57071219,
       -1.35711104, -1.14350988, -0.92990873, -0.71630757, -0.50270642,
       -0.28910527, -0.07550411,  0.13809704,  0.3516982 ,  0.56529935,
        0.7789005 ]))
||Xanchor-Xpos||_2  counter: 
[  58  201  399  657  833 1005 1156 1118  942  738  489  321  184   81   47
   11    4    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   47  137  332  607  821  996 1120 1135 1001  736  575  339  207  101
   53   20    8    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  37.35299683   56.31271362   75.27243042   94.23214722  113.19186401
  132.15158081  151.11129761  170.0710144   189.0307312   207.990448
  226.95016479  245.90988159  264.86959839  283.82931519  302.78903198
  321.74874878  340.70846558  359.66818237  378.62789917  397.58761597
  416.54733276]
distance difference  counter: 
(array([   1,    1,    1,    0,    4,    2,    4,    9,   17,   24,   35,
         55,  124,  226,  522, 1191, 2790, 2595,  577,   68]), array([-3.39569235, -3.19249465, -2.98929695, -2.78609925, -2.58290155,
       -2.37970385, -2.17650615, -1.97330845, -1.77011075, -1.56691305,
       -1.36371535, -1.16051765, -0.95731995, -0.75412225, -0.55092455,
       -0.34772685, -0.14452915,  0.05866855,  0.26186625,  0.46506395,
        0.66826165]))
train/val Accuracy = 0.538693766477 / 0.542929905409 
 with threshold: [[ 242.25245658]]
============ epoch 2 ===========
training loss:		2.466833
||Xanchor-Xpos||_2  counter: 
[ 111  932 2499 2487 2626 3100 3011 2642 2162 1535 1060  623  376  168   95
   51   22   11    5    2]
||Xanchor-Xneg||_2  counter: 
[  49  580 1689 2024 2435 3010 3286 3099 2555 1855 1227  782  456  245  118
   53   31   17    2    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  48.55760956   75.10105171  101.64449387  128.18793602  154.73137817
  181.27482033  207.81826248  234.36170464  260.90514679  287.44858894
  313.9920311   340.53547325  367.07891541  393.62235756  420.16579971
  446.70924187  473.25268402  499.79612617  526.33956833  552.88301048
  579.42645264]
distance difference  counter: 
(array([    7,     0,     4,     3,     4,     8,    29,    32,    64,
          96,   177,   243,   461,   826,  1739,  4676, 10675,  3853,
         564,    57]), array([-2.99801683, -2.81084541, -2.62367399, -2.43650256, -2.24933114,
       -2.06215972, -1.87498829, -1.68781687, -1.50064545, -1.31347402,
       -1.1263026 , -0.93913118, -0.75195975, -0.56478833, -0.37761691,
       -0.19044548, -0.00327406,  0.18389736,  0.37106879,  0.55824021,
        0.74541163]))
||Xanchor-Xpos||_2  counter: 
[  52  181  369  590  758  976 1080 1102  972  791  589  359  217  118   50
   32    6    2    2    0]
||Xanchor-Xneg||_2  counter: 
[   8   35  118  293  529  721  951 1080 1095 1062  793  631  413  239  151
   82   31    9    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.72194672   50.31241341   66.9028801    83.49334679  100.08381348
  116.67428017  133.26474686  149.85521355  166.44568024  183.03614693
  199.62661362  216.21708031  232.807547    249.39801369  265.98848038
  282.57894707  299.16941376  315.75988045  332.35034714  348.94081383
  365.53128052]
distance difference  counter: 
(array([   2,    1,    3,    3,    3,    5,    8,   12,   17,   34,   47,
         83,  168,  304,  713, 1478, 2969, 1940,  403,   53]), array([-3.00964785, -2.82580987, -2.64197189, -2.45813392, -2.27429594,
       -2.09045796, -1.90661998, -1.72278201, -1.53894403, -1.35510605,
       -1.17126808, -0.9874301 , -0.80359212, -0.61975414, -0.43591617,
       -0.25207819, -0.06824021,  0.11559776,  0.29943574,  0.48327372,
        0.66711169]))
train/val Accuracy = 0.539076452079 / 0.543960708222 
 with threshold: [[ 219.89413349]]
============ epoch 3 ===========
training loss:		2.395536
||Xanchor-Xpos||_2  counter: 
[  83  768 2352 2444 2491 2845 2944 2726 2303 1729 1121  770  441  263  121
   55   30   16   12    4]
||Xanchor-Xneg||_2  counter: 
[  33  469 1517 2016 2233 2789 3185 3049 2658 2092 1351  912  564  308  173
   93   43   20    5    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.11817551   66.45933399   89.80049248  113.14165096  136.48280945
  159.82396793  183.16512642  206.5062849   229.84744339  253.18860188
  276.52976036  299.87091885  323.21207733  346.55323582  369.8943943
  393.23555279  416.57671127  439.91786976  463.25902824  486.60018673
  509.94134521]
distance difference  counter: 
(array([   1,    3,    2,    1,    3,    2,    5,    9,   30,   41,   86,
        132,  250,  477,  974, 2365, 8500, 9217, 1324,   96]), array([-3.59484625, -3.37846365, -3.16208104, -2.94569844, -2.72931584,
       -2.51293324, -2.29655064, -2.08016804, -1.86378543, -1.64740283,
       -1.43102023, -1.21463763, -0.99825503, -0.78187242, -0.56548982,
       -0.34910722, -0.13272462,  0.08365798,  0.30004058,  0.51642319,
        0.73280579]))
||Xanchor-Xpos||_2  counter: 
[  65  192  400  639  812 1037 1140 1130  942  769  489  316  162   92   43
   12    4    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   40  150  321  591  806 1007 1153 1096  984  778  587  338  194  109
   42   30    6    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.80621338   46.40672913   62.00724487   77.60776062   93.20827637
  108.80879211  124.40930786  140.00982361  155.61033936  171.2108551
  186.81137085  202.4118866   218.01240234  233.61291809  249.21343384
  264.81394958  280.41446533  296.01498108  311.61549683  327.21601257
  342.81652832]
distance difference  counter: 
(array([   1,    0,    1,    1,    2,    4,    4,    7,   10,   16,   28,
         50,  105,  215,  497, 1124, 2824, 2734,  575,   48]), array([-3.43901777, -3.23245167, -3.02588557, -2.81931947, -2.61275337,
       -2.40618727, -2.19962116, -1.99305506, -1.78648896, -1.57992286,
       -1.37335676, -1.16679066, -0.96022456, -0.75365846, -0.54709235,
       -0.34052625, -0.13396015,  0.07260595,  0.27917205,  0.48573815,
        0.69230425]))
train/val Accuracy = 0.539629220172 / 0.543657530924 
 with threshold: [[ 199.77500254]]
============ epoch 4 ===========
training loss:		2.336730
||Xanchor-Xpos||_2  counter: 
[ 153 1254 2781 2619 3037 3228 3066 2548 1994 1227  736  448  229   94   61
   28   11    4    0    0]
||Xanchor-Xneg||_2  counter: 
[  73  788 1961 2266 2801 3335 3495 2956 2262 1569  933  534  302  122   75
   31    9    3    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  41.46105194   64.72178535   87.98251877  111.24325218  134.5039856
  157.76471901  181.02545242  204.28618584  227.54691925  250.80765266
  274.06838608  297.32911949  320.58985291  343.85058632  367.11131973
  390.37205315  413.63278656  436.89351997  460.15425339  483.4149868
  506.67572021]
distance difference  counter: 
(array([    3,     3,     2,     3,     2,     6,     6,    22,    42,
          62,   112,   184,   335,   606,  1245,  3282, 10370,  6270,
         897,    66]), array([-3.24347067, -3.04403872, -2.84460676, -2.64517481, -2.44574286,
       -2.2463109 , -2.04687895, -1.847447  , -1.64801505, -1.44858309,
       -1.24915114, -1.04971919, -0.85028723, -0.65085528, -0.45142333,
       -0.25199138, -0.05255942,  0.14687253,  0.34630448,  0.54573644,
        0.74516839]))
||Xanchor-Xpos||_2  counter: 
[  59  195  398  659  817 1007 1136 1137  979  728  508  321  149   95   42
    8    6    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   43  141  323  572  873  989 1137 1090 1006  782  563  329  195  109
   51   23    9    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.81633377   42.03404369   56.25175362   70.46946354   84.68717346
   98.90488338  113.12259331  127.34030323  141.55801315  155.77572308
  169.993433    184.21114292  198.42885284  212.64656277  226.86427269
  241.08198261  255.29969254  269.51740246  283.73511238  297.9528223
  312.17053223]
distance difference  counter: 
(array([   2,    1,    0,    4,    3,    4,    7,   15,   14,   27,   51,
         95,  187,  336,  761, 1624, 2998, 1684,  393,   40]), array([-2.82167506, -2.64672416, -2.47177327, -2.29682237, -2.12187147,
       -1.94692057, -1.77196968, -1.59701878, -1.42206788, -1.24711698,
       -1.07216609, -0.89721519, -0.72226429, -0.54731339, -0.37236249,
       -0.1974116 , -0.0224607 ,  0.1524902 ,  0.3274411 ,  0.50239199,
        0.67734289]))
train/val Accuracy = 0.539799302662 / 0.542990540868 
 with threshold: [[ 181.35801087]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085, 0.54828566812459223, 0.54912588614452051, 0.54164337554793385]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.027143
||Xanchor-Xpos||_2  counter: 
[ 110 1037 2828 2576 2894 3314 3091 2630 1996 1326  820  446  217  127   59
   25   13    7    1    1]
||Xanchor-Xneg||_2  counter: 
[  44  653 1966 2193 2662 3391 3446 3014 2396 1515 1044  606  279  144   93
   45   17    4    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  57.92553711   94.24439087  130.56324463  166.88209839  203.20095215
  239.51980591  275.83865967  312.15751343  348.47636719  384.79522095
  421.11407471  457.43292847  493.75178223  530.07063599  566.38948975
  602.70834351  639.02719727  675.34605103  711.66490479  747.98375854
  784.3026123 ]
distance difference  counter: 
(array([   2,    0,    1,    2,    7,    6,    9,   14,   16,   55,  106,
        154,  271,  522, 1067, 2595, 9955, 7808,  874,   54]), array([-3.91035342, -3.6752152 , -3.44007697, -3.20493875, -2.96980052,
       -2.73466229, -2.49952407, -2.26438584, -2.02924762, -1.79410939,
       -1.55897117, -1.32383294, -1.08869472, -0.85355649, -0.61841826,
       -0.38328004, -0.14814181,  0.08699641,  0.32213464,  0.55727286,
        0.79241109]))
||Xanchor-Xpos||_2  counter: 
[  58  199  411  658  863 1034 1145 1147  967  707  473  300  160   77   25
   16    5    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   43  142  338  592  860 1005 1161 1130  993  767  532  343  173   75
   52   21    5    1    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.79413223   67.59923763   91.40434303  115.20944843  139.01455383
  162.81965923  186.62476463  210.42987003  234.23497543  258.04008083
  281.84518623  305.65029163  329.45539703  353.26050243  377.06560783
  400.87071323  424.67581863  448.48092403  472.28602943  496.09113483
  519.89624023]
distance difference  counter: 
(array([   2,    1,    2,    0,    2,    2,    2,    8,   10,   14,   25,
         53,  100,  212,  392,  926, 2422, 3216,  773,   84]), array([-3.82348633, -3.59927584, -3.37506534, -3.15085485, -2.92664436,
       -2.70243387, -2.47822338, -2.25401289, -2.02980239, -1.8055919 ,
       -1.58138141, -1.35717092, -1.13296043, -0.90874994, -0.68453944,
       -0.46032895, -0.23611846, -0.01190797,  0.21230252,  0.43651302,
        0.66072351]))
train/val Accuracy = 0.538523683987 / 0.556754790201 
 with threshold: [[ 280.29093713]]
============ epoch 1 ===========
training loss:		0.027020
||Xanchor-Xpos||_2  counter: 
[  78  902 2681 2535 2860 3158 3269 2682 2028 1428  868  493  274  151   56
   35   13    3    3    1]
||Xanchor-Xneg||_2  counter: 
[  31  552 1833 2146 2568 3238 3482 3071 2548 1701 1040  617  368  164   83
   41   23    7    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  54.18811798   89.92036858  125.65261917  161.38486977  197.11712036
  232.84937096  268.58162155  304.31387215  340.04612274  375.77837334
  411.51062393  447.24287453  482.97512512  518.70737572  554.43962631
  590.17187691  625.9041275   661.6363781   697.36862869  733.10087929
  768.83312988]
distance difference  counter: 
(array([    2,     0,     4,     5,     5,    11,     6,    21,    32,
          68,    91,   189,   315,   560,  1119,  2860, 10307,  6944,
         918,    61]), array([-3.65988421, -3.43872375, -3.21756328, -2.99640282, -2.77524235,
       -2.55408189, -2.33292142, -2.11176096, -1.89060049, -1.66944003,
       -1.44827956, -1.22711909, -1.00595863, -0.78479816, -0.5636377 ,
       -0.34247723, -0.12131677,  0.0998437 ,  0.32100416,  0.54216463,
        0.7633251 ]))
||Xanchor-Xpos||_2  counter: 
[  65  208  436  673  867 1026 1205 1176  892  715  444  278  162   58   25
   10    4    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   46  156  346  602  929 1002 1172 1159  948  761  513  306  154   75
   42   17    5    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.06414413   67.88864994   91.71315575  115.53766155  139.36216736
  163.18667316  187.01117897  210.83568478  234.66019058  258.48469639
  282.30920219  306.133708    329.95821381  353.78271961  377.60722542
  401.43173122  425.25623703  449.08074284  472.90524864  496.72975445
  520.55426025]
distance difference  counter: 
(array([   3,    2,    0,    2,    1,    3,    9,    9,   23,   17,   41,
         70,  133,  268,  525, 1260, 2875, 2455,  495,   55]), array([-3.47277474, -3.26537408, -3.05797341, -2.85057275, -2.64317209,
       -2.43577142, -2.22837076, -2.02097009, -1.81356943, -1.60616876,
       -1.3987681 , -1.19136743, -0.98396677, -0.7765661 , -0.56916544,
       -0.36176477, -0.15436411,  0.05303656,  0.26043722,  0.46783789,
        0.67523855]))
train/val Accuracy = 0.537460668424 / 0.556815425661 
 with threshold: [[ 277.83038972]]
============ epoch 2 ===========
training loss:		0.026899
||Xanchor-Xpos||_2  counter: 
[ 115 1114 2697 2559 2838 3172 3211 2588 2027 1343  846  495  265  116   86
   26   11    7    2    0]
||Xanchor-Xneg||_2  counter: 
[  54  651 1915 2100 2615 3284 3458 2946 2497 1627 1036  642  355  174   96
   40   17    5    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.35908508   93.41452866  128.46997223  163.5254158   198.58085937
  233.63630295  268.69174652  303.74719009  338.80263367  373.85807724
  408.91352081  443.96896439  479.02440796  514.07985153  549.1352951
  584.19073868  619.24618225  654.30162582  689.3570694   724.41251297
  759.46795654]
distance difference  counter: 
(array([    4,     1,     1,     3,     8,     8,    14,    32,    46,
          82,   142,   186,   376,   666,  1346,  3551, 10947,  5336,
         705,    64]), array([-3.41515422, -3.20658078, -2.99800733, -2.78943389, -2.58086045,
       -2.37228701, -2.16371356, -1.95514012, -1.74656668, -1.53799323,
       -1.32941979, -1.12084635, -0.91227291, -0.70369946, -0.49512602,
       -0.28655258, -0.07797914,  0.13059431,  0.33916775,  0.54774119,
        0.75631464]))
||Xanchor-Xpos||_2  counter: 
[  62  207  404  665  871 1047 1141 1134  947  732  471  291  156   72   31
   11    2    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   38  148  322  611  876 1001 1168 1122  966  777  528  334  186   89
   39   25    2    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.98622513   66.40082989   89.81543465  113.23003941  136.64464417
  160.05924892  183.47385368  206.88845844  230.3030632   253.71766796
  277.13227272  300.54687748  323.96148224  347.376087    370.79069176
  394.20529652  417.61990128  441.03450603  464.44911079  487.86371555
  511.27832031]
distance difference  counter: 
(array([   2,    1,    1,    0,    3,    2,    6,   10,    8,   20,   32,
         50,   96,  207,  461, 1004, 2555, 3035,  686,   67]), array([-3.76378608, -3.54212504, -3.320464  , -3.09880296, -2.87714192,
       -2.65548088, -2.43381984, -2.2121588 , -1.99049776, -1.76883672,
       -1.54717568, -1.32551464, -1.1038536 , -0.88219256, -0.66053151,
       -0.43887047, -0.21720943,  0.00445161,  0.22611265,  0.44777369,
        0.66943473]))
train/val Accuracy = 0.538140998384 / 0.55857385399 
 with threshold: [[ 275.29922203]]
============ epoch 3 ===========
training loss:		0.026781
||Xanchor-Xpos||_2  counter: 
[ 256 1669 2846 2681 3089 3376 2961 2454 1754 1097  675  321  187   88   40
   10   10    3    1    0]
||Xanchor-Xneg||_2  counter: 
[ 111 1104 2121 2296 2911 3564 3394 2856 2111 1353  791  468  232  108   58
   24    7    4    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  66.06917572  101.8891819   137.70918808  173.52919426  209.34920044
  245.16920662  280.9892128   316.80921898  352.62922516  388.44923134
  424.26923752  460.0892437   495.90924988  531.72925606  567.54926224
  603.36926842  639.1892746   675.00928078  710.82928696  746.64929314
  782.46929932]
distance difference  counter: 
(array([   1,    0,    0,    2,    5,    5,    7,    9,   20,   36,   93,
        141,  242,  464,  943, 2292, 9134, 9010, 1042,   72]), array([-4.05031252, -3.80819423, -3.56607595, -3.32395767, -3.08183938,
       -2.8397211 , -2.59760281, -2.35548453, -2.11336625, -1.87124796,
       -1.62912968, -1.38701139, -1.14489311, -0.90277483, -0.66065654,
       -0.41853826, -0.17641997,  0.06569831,  0.30781659,  0.54993488,
        0.79205316]))
||Xanchor-Xpos||_2  counter: 
[  57  194  431  656  868 1073 1114 1144  957  706  464  309  155   78   24
    8    7    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  11   41  139  347  601  862 1003 1175 1148  969  759  530  333  167   90
   44   17    6    1    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.94812012   66.12718506   89.30625     112.48531494  135.66437988
  158.84344482  182.02250977  205.20157471  228.38063965  251.55970459
  274.73876953  297.91783447  321.09689941  344.27596436  367.4550293
  390.63409424  413.81315918  436.99222412  460.17128906  483.350354
  506.52941895]
distance difference  counter: 
(array([   2,    1,    0,    2,    2,    0,    3,   10,   11,   25,   24,
         39,   78,  203,  380,  913, 2442, 3289,  743,   79]), array([-3.89938593, -3.67065358, -3.44192124, -3.2131889 , -2.98445655,
       -2.75572421, -2.52699186, -2.29825952, -2.06952717, -1.84079483,
       -1.61206248, -1.38333014, -1.1545978 , -0.92586545, -0.69713311,
       -0.46840076, -0.23966842, -0.01093607,  0.21779627,  0.44652862,
        0.67526096]))
train/val Accuracy = 0.539714261417 / 0.556390977444 
 with threshold: [[ 272.74760725]]
============ epoch 4 ===========
training loss:		0.026665
||Xanchor-Xpos||_2  counter: 
[ 259 1921 2961 2930 3393 3563 2853 2351 1500  862  495  233  116   44   25
    9    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 123 1257 2270 2543 3296 3794 3428 2713 1808 1078  628  324  137   71   32
   12    1    0    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  64.36576843  102.02886429  139.69196014  177.355056    215.01815186
  252.68124771  290.34434357  328.00743942  365.67053528  403.33363113
  440.99672699  478.65982285  516.3229187   553.98601456  591.64911041
  629.31220627  666.97530212  704.63839798  742.30149384  779.96458969
  817.62768555]
distance difference  counter: 
(array([    2,     2,     3,     3,     0,     7,     6,    28,    36,
          61,   105,   163,   303,   553,  1195,  2958, 10958,  6320,
         764,    51]), array([-3.72374988, -3.49805164, -3.27235341, -3.04665518, -2.82095695,
       -2.59525871, -2.36956048, -2.14386225, -1.91816401, -1.69246578,
       -1.46676755, -1.24106932, -1.01537108, -0.78967285, -0.56397462,
       -0.33827639, -0.11257815,  0.11312008,  0.33881831,  0.56451654,
        0.79021478]))
||Xanchor-Xpos||_2  counter: 
[  66  252  471  742  920 1134 1224 1118  919  633  387  212  103   44   14
    6    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   57  170  412  701  962 1107 1180 1181  947  692  384  244  103   57
   25    7    1    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  43.07976151   67.18846264   91.29716377  115.40586491  139.51456604
  163.62326717  187.73196831  211.84066944  235.94937057  260.05807171
  284.16677284  308.27547398  332.38417511  356.49287624  380.60157738
  404.71027851  428.81897964  452.92768078  477.03638191  501.14508305
  525.25378418]
distance difference  counter: 
(array([   2,    1,    1,    1,    1,    2,    8,    9,   12,   12,   33,
         46,  106,  208,  427,  986, 2599, 3040,  684,   68]), array([-3.76943636, -3.54716781, -3.32489926, -3.10263071, -2.88036216,
       -2.65809362, -2.43582507, -2.21355652, -1.99128797, -1.76901942,
       -1.54675087, -1.32448232, -1.10221378, -0.87994523, -0.65767668,
       -0.43540813, -0.21313958,  0.00912897,  0.23139752,  0.45366606,
        0.67593461]))
train/val Accuracy = 0.538821328344 / 0.556269706524 
 with threshold: [[ 270.34497937]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085, 0.54828566812459223, 0.54912588614452051, 0.54164337554793385, 0.54835742618701477]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.265929
||Xanchor-Xpos||_2  counter: 
[ 151 1129 2657 2576 2862 3189 3000 2595 2016 1402  887  503  273  152   76
   25   14    7    4    0]
||Xanchor-Xneg||_2  counter: 
[  65  696 1892 2113 2628 3245 3258 3102 2369 1673 1099  644  353  198   93
   50   24   10    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  60.8372612    94.48787251  128.13848381  161.78909512  195.43970642
  229.09031773  262.74092903  296.39154034  330.04215164  363.69276295
  397.34337425  430.99398556  464.64459686  498.29520817  531.94581947
  565.59643078  599.24704208  632.89765339  666.54826469  700.198876
  733.8494873 ]
distance difference  counter: 
(array([    1,     0,     0,     1,     1,     6,     2,     5,     5,
          23,    35,    73,   161,   279,   580,  1345,  4511, 13719,
        2645,   126]), array([-4.68765306, -4.41524082, -4.14282858, -3.87041633, -3.59800409,
       -3.32559185, -3.0531796 , -2.78076736, -2.50835512, -2.23594287,
       -1.96353063, -1.69111839, -1.41870614, -1.1462939 , -0.87388166,
       -0.60146941, -0.32905717, -0.05664493,  0.21576732,  0.48817956,
        0.7605918 ]))
||Xanchor-Xpos||_2  counter: 
[  52  162  355  535  733  968 1079 1081  950  847  591  403  261  115   65
   34    9    3    3    0]
||Xanchor-Xneg||_2  counter: 
[   4   37  112  269  461  735  896  994 1098 1074  882  664  432  263  166
   77   47   26    8    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  40.9303894    61.00075378   81.07111816  101.14148254  121.21184692
  141.2822113   161.35257568  181.42294006  201.49330444  221.56366882
  241.6340332   261.70439758  281.77476196  301.84512634  321.91549072
  341.9858551   362.05621948  382.12658386  402.19694824  422.26731262
  442.337677  ]
distance difference  counter: 
(array([   1,    0,    1,    3,    1,    0,    6,    8,   12,   21,   30,
         46,   99,  207,  478, 1112, 2738, 2870,  554,   59]), array([-3.69863558, -3.47909921, -3.25956284, -3.04002647, -2.8204901 ,
       -2.60095373, -2.38141736, -2.16188099, -1.94234462, -1.72280825,
       -1.50327188, -1.28373551, -1.06419914, -0.84466277, -0.6251264 ,
       -0.40559003, -0.18605366,  0.03348271,  0.25301908,  0.47255545,
        0.69209182]))
train/val Accuracy = 0.540245769198 / 0.541717196216 
 with threshold: [[ 269.69762257]]
============ epoch 1 ===========
training loss:		0.255460
||Xanchor-Xpos||_2  counter: 
[ 167 1210 2633 2579 2910 3158 3059 2644 1925 1335  879  481  268  145   62
   36   16    8    3    0]
||Xanchor-Xneg||_2  counter: 
[  76  755 1874 2148 2639 3223 3412 3040 2310 1639 1072  586  369  199   93
   43   24   10    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  56.41579056   87.01669598  117.61760139  148.21850681  178.81941223
  209.42031765  240.02122307  270.62212849  301.22303391  331.82393932
  362.42484474  393.02575016  423.62665558  454.227561    484.82846642
  515.42937183  546.03027725  576.63118267  607.23208809  637.83299351
  668.43389893]
distance difference  counter: 
(array([    1,     1,     0,     4,     2,     4,     2,     7,     6,
          27,    50,    91,   197,   345,   683,  1662,  5723, 12654,
        1942,   117]), array([ -4.34019041e+00,  -4.08509174e+00,  -3.82999306e+00,
        -3.57489439e+00,  -3.31979572e+00,  -3.06469704e+00,
        -2.80959837e+00,  -2.55449969e+00,  -2.29940102e+00,
        -2.04430235e+00,  -1.78920367e+00,  -1.53410500e+00,
        -1.27900633e+00,  -1.02390765e+00,  -7.68808979e-01,
        -5.13710305e-01,  -2.58611631e-01,  -3.51295769e-03,
         2.51585716e-01,   5.06684390e-01,   7.61783063e-01]))
||Xanchor-Xpos||_2  counter: 
[  61  202  383  645  779 1042 1110 1102  981  745  516  339  170  106   39
   17    7    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   40  139  309  551  825  979 1115 1085 1045  829  554  367  195  109
   44   34   13    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  38.04441452   57.03396931   76.02352409   95.01307888  114.00263367
  132.99218845  151.98174324  170.97129803  189.96085281  208.9504076
  227.93996239  246.92951717  265.91907196  284.90862675  303.89818153
  322.88773632  341.87729111  360.86684589  379.85640068  398.84595547
  417.83551025]
distance difference  counter: 
(array([   1,    0,    2,    1,    2,    1,    1,    6,    7,   19,   34,
         42,   96,  183,  408,  983, 2641, 3085,  670,   64]), array([-3.76971173, -3.54670478, -3.32369783, -3.10069088, -2.87768393,
       -2.65467697, -2.43167002, -2.20866307, -1.98565612, -1.76264917,
       -1.53964221, -1.31663526, -1.09362831, -0.87062136, -0.64761441,
       -0.42460746, -0.2016005 ,  0.02140645,  0.2444134 ,  0.46742035,
        0.6904273 ]))
train/val Accuracy = 0.539990645463 / 0.540625757943 
 with threshold: [[ 244.92875201]]
============ epoch 2 ===========
training loss:		0.246825
||Xanchor-Xpos||_2  counter: 
[ 104  963 2494 2497 2675 2981 3038 2714 2089 1591 1023  609  359  191  106
   40   27    8    5    4]
||Xanchor-Xneg||_2  counter: 
[  43  604 1668 2087 2334 3037 3285 3021 2565 1838 1244  815  442  272  123
   77   33   17    8    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  48.86565781   75.71417789  102.56269798  129.41121807  156.25973816
  183.10825825  209.95677834  236.80529842  263.65381851  290.5023386
  317.35085869  344.19937878  371.04789886  397.89641895  424.74493904
  451.59345913  478.44197922  505.29049931  532.13901939  558.98753948
  585.83605957]
distance difference  counter: 
(array([   2,    0,    2,    2,    2,    8,    9,   18,   21,   62,   97,
        155,  249,  503, 1047, 2537, 9723, 7997, 1012,   72]), array([-3.71808434, -3.49373426, -3.26938418, -3.0450341 , -2.82068402,
       -2.59633394, -2.37198386, -2.14763378, -1.9232837 , -1.69893362,
       -1.47458354, -1.25023346, -1.02588338, -0.8015333 , -0.57718322,
       -0.35283314, -0.12848306,  0.09586702,  0.3202171 ,  0.54456718,
        0.76891726]))
||Xanchor-Xpos||_2  counter: 
[  47  177  340  618  793  986 1148 1130 1031  732  551  328  182  108   53
   14    6    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   35  117  290  504  819  979 1113 1115 1065  834  580  374  208  110
   55   27   12    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  32.00942612   49.39645023   66.78347435   84.17049847  101.55752258
  118.9445467   136.33157082  153.71859493  171.10561905  188.49264317
  205.87966728  223.2666914   240.65371552  258.04073963  275.42776375
  292.81478786  310.20181198  327.5888361   344.97586021  362.36288433
  379.74990845]
distance difference  counter: 
(array([   1,    3,    2,    0,    1,    2,   10,    7,   20,   24,   34,
         77,  125,  271,  620, 1357, 3029, 2166,  454,   43]), array([-3.28192115, -3.08307798, -2.88423482, -2.68539165, -2.48654848,
       -2.28770532, -2.08886215, -1.89001898, -1.69117582, -1.49233265,
       -1.29348949, -1.09464632, -0.89580315, -0.69695999, -0.49811682,
       -0.29927365, -0.10043049,  0.09841268,  0.29725584,  0.49609901,
        0.69494218]))
train/val Accuracy = 0.539331575814 / 0.541838467136 
 with threshold: [[ 222.51297923]]
============ epoch 3 ===========
training loss:		0.239705
||Xanchor-Xpos||_2  counter: 
[  51  712 2361 2641 2626 3119 3157 2757 2210 1583 1020  600  336  175   92
   46   15    8    5    3]
||Xanchor-Xneg||_2  counter: 
[  18  419 1567 2074 2461 3006 3403 3126 2661 1853 1246  778  433  220  132
   69   30   11    9    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  38.07779694   63.2657589    88.45372086  113.64168282  138.82964478
  164.01760674  189.2055687   214.39353065  239.58149261  264.76945457
  289.95741653  315.14537849  340.33334045  365.52130241  390.70926437
  415.89722633  441.08518829  466.27315025  491.46111221  516.64907417
  541.83703613]
distance difference  counter: 
(array([   2,    1,    2,    5,    1,    7,    6,   19,   33,   54,   83,
        164,  275,  506, 1034, 2655, 9834, 7778,  980,   79]), array([-3.60325074, -3.38495811, -3.16666548, -2.94837285, -2.73008022,
       -2.51178759, -2.29349496, -2.07520233, -1.8569097 , -1.63861707,
       -1.42032444, -1.20203182, -0.98373919, -0.76544656, -0.54715393,
       -0.3288613 , -0.11056867,  0.10772396,  0.32601659,  0.54430922,
        0.76260185]))
||Xanchor-Xpos||_2  counter: 
[  53  200  377  635  797 1008 1092 1133  989  755  525  336  170  106   45
   15    9    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   39  124  314  543  804  977 1138 1095 1054  804  570  365  200  104
   63   32   11    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.67960739   46.41978779   62.15996819   77.90014858   93.64032898
  109.38050938  125.12068977  140.86087017  156.60105057  172.34123096
  188.08141136  203.82159176  219.56177216  235.30195255  251.04213295
  266.78231335  282.52249374  298.26267414  314.00285454  329.74303493
  345.48321533]
distance difference  counter: 
(array([   3,    0,    4,    1,    6,    6,    8,   14,   20,   42,   50,
        125,  216,  400,  822, 1785, 3051, 1371,  284,   38]), array([-2.8415103 , -2.66452704, -2.48754379, -2.31056053, -2.13357728,
       -1.95659402, -1.77961076, -1.60262751, -1.42564425, -1.248661  ,
       -1.07167774, -0.89469449, -0.71771123, -0.54072798, -0.36374472,
       -0.18676147, -0.00977821,  0.16720504,  0.3441883 ,  0.52117155,
        0.69815481]))
train/val Accuracy = 0.539395356748 / 0.541656560757 
 with threshold: [[ 202.25627576]]
============ epoch 4 ===========
training loss:		0.233832
||Xanchor-Xpos||_2  counter: 
[ 138 1118 2768 2671 2883 3313 3174 2555 1983 1264  790  436  215  111   54
   24   15    5    1    0]
||Xanchor-Xneg||_2  counter: 
[  55  653 1930 2307 2751 3257 3500 3061 2320 1585  919  604  286  153   70
   40   18    5    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  39.62759781   63.36209927   87.09660072  110.83110218  134.56560364
  158.30010509  182.03460655  205.76910801  229.50360947  253.23811092
  276.97261238  300.70711384  324.4416153   348.17611675  371.91061821
  395.64511967  419.37962112  443.11412258  466.84862404  490.5831255
  514.31762695]
distance difference  counter: 
(array([    1,     0,     1,     1,     6,     4,    12,    15,    24,
          58,    93,   168,   270,   498,   990,  2625, 10043,  7680,
         948,    81]), array([-3.59740281, -3.37896616, -3.16052951, -2.94209286, -2.72365621,
       -2.50521956, -2.28678291, -2.06834626, -1.84990962, -1.63147297,
       -1.41303632, -1.19459967, -0.97616302, -0.75772637, -0.53928972,
       -0.32085307, -0.10241642,  0.11602023,  0.33445688,  0.55289353,
        0.77133018]))
||Xanchor-Xpos||_2  counter: 
[  53  162  374  620  780 1021 1092 1154  993  761  541  343  189   87   53
   13    8    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   33  120  302  543  776  957 1137 1127 1101  786  577  362  209  113
   45   34   12    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.41503716   40.84494143   55.2748457    69.70474997   84.13465424
   98.56455851  112.99446278  127.42436705  141.85427132  156.28417559
  170.71407986  185.14398413  199.5738884   214.00379267  228.43369694
  242.86360121  257.29350548  271.72340975  286.15331402  300.58321829
  315.01312256]
distance difference  counter: 
(array([   1,    0,    0,    2,    2,    3,    5,    8,   14,   21,   34,
         52,  129,  243,  504, 1261, 2991, 2438,  488,   50]), array([-3.28249669, -3.08335008, -2.88420347, -2.68505686, -2.48591025,
       -2.28676364, -2.08761703, -1.88847042, -1.68932381, -1.4901772 ,
       -1.29103059, -1.09188398, -0.89273736, -0.69359075, -0.49444414,
       -0.29529753, -0.09615092,  0.10299569,  0.3021423 ,  0.50128891,
        0.70043552]))
train/val Accuracy = 0.540628454801 / 0.541474654378 
 with threshold: [[ 183.87497709]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085, 0.54828566812459223, 0.54912588614452051, 0.54164337554793385, 0.54835742618701477, 0.54105155458922927]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		2.362382
||Xanchor-Xpos||_2  counter: 
[ 775 3065 4303 4321 3449 2654 1843 1289  780  476  262  171   66   32   15
   10    3    2    1    1]
||Xanchor-Xneg||_2  counter: 
[ 467 2336 3820 4360 3688 2902 2180 1470  973  586  376  192   90   37   22
   11    4    1    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  29.57442093   64.54692669   99.51943245  134.49193821  169.46444397
  204.43694973  239.40945549  274.38196125  309.35446701  344.32697277
  379.29947853  414.27198429  449.24449005  484.21699581  519.18950157
  554.16200733  589.13451309  624.10701885  659.07952461  694.05203037
  729.02453613]
distance difference  counter: 
(array([    1,     2,     4,     4,     7,     8,    11,    25,    43,
          71,   134,   208,   387,   708,  1363,  4055, 10981,  4851,
         604,    51]), array([-3.20469117, -3.00540574, -2.80612031, -2.60683487, -2.40754944,
       -2.20826401, -2.00897858, -1.80969314, -1.61040771, -1.41112228,
       -1.21183684, -1.01255141, -0.81326598, -0.61398055, -0.41469511,
       -0.21540968, -0.01612425,  0.18316118,  0.38244662,  0.58173205,
        0.78101748]))
||Xanchor-Xpos||_2  counter: 
[  65  187  385  643  836  956 1127 1108  973  749  531  359  175   78   47
   22    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   43  141  300  565  805  962 1116 1120 1005  816  580  372  199  122
   54   30    8    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.12242317   25.64319487   34.16396656   42.68473825   51.20550995
   59.72628164   68.24705334   76.76782503   85.28859673   93.80936842
  102.33014011  110.85091181  119.3716835   127.8924552   136.41322689
  144.93399858  153.45477028  161.97554197  170.49631367  179.01708536
  187.53785706]
distance difference  counter: 
(array([   2,    1,    1,    3,    4,    4,    5,   14,   15,   34,   70,
        106,  229,  481,  996, 2108, 2757, 1138,  255,   23]), array([-2.30106759, -2.14992888, -1.99879017, -1.84765147, -1.69651276,
       -1.54537405, -1.39423534, -1.24309663, -1.09195793, -0.94081922,
       -0.78968051, -0.6385418 , -0.48740309, -0.33626439, -0.18512568,
       -0.03398697,  0.11715174,  0.26829045,  0.41942915,  0.57056786,
        0.72170657]))
train/val Accuracy = 0.529041585169 / 0.50006063546 
 with threshold: [[ 184.84223558]]
============ epoch 1 ===========
training loss:		2.102017
||Xanchor-Xpos||_2  counter: 
[ 639 2842 3976 4176 3475 2677 2037 1447  892  576  323  217  135   49   26
   19    8    2    1    1]
||Xanchor-Xneg||_2  counter: 
[ 372 2041 3564 4138 3608 2964 2337 1655 1111  707  434  244  173   96   33
   24   10    5    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  11.03012848   23.36883049   35.7075325    48.04623451   60.38493652
   72.72363853   85.06234055   97.40104256  109.73974457  122.07844658
  134.41714859  146.7558506   159.09455261  171.43325462  183.77195663
  196.11065865  208.44936066  220.78806267  233.12676468  245.46546669
  257.8041687 ]
distance difference  counter: 
(array([   3,    3,    1,    3,    3,    3,   11,   22,   37,   66,  119,
        212,  342,  770, 1635, 4972, 9329, 4973,  947,   67]), array([-2.39325738, -2.23409999, -2.07494259, -1.9157852 , -1.75662781,
       -1.59747042, -1.43831303, -1.27915563, -1.11999824, -0.96084085,
       -0.80168346, -0.64252606, -0.48336867, -0.32421128, -0.16505389,
       -0.00589649,  0.1532609 ,  0.31241829,  0.47157568,  0.63073308,
        0.78989047]))
||Xanchor-Xpos||_2  counter: 
[  63  217  441  664  866 1109 1123 1133  940  652  482  298  150   65   27
   11    3    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   50  147  351  599  878 1031 1152 1133  982  762  504  298  173   95
   47   20    9    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  6.3886838    9.728073    13.06746221  16.40685141  19.74624062
  23.08562982  26.42501903  29.76440823  33.10379744  36.44318664
  39.78257585  43.12196505  46.46135426  49.80074346  53.14013267
  56.47952187  59.81891108  63.15830028  66.49768949  69.83707869
  73.1764679 ]
distance difference  counter: 
(array([   1,    0,    1,    2,    1,    6,   10,   18,   29,   46,   93,
        207,  394,  914, 1767, 2348, 1580,  633,  170,   26]), array([-1.13642454, -1.03987589, -0.94332724, -0.84677859, -0.75022994,
       -0.65368129, -0.55713264, -0.46058399, -0.36403534, -0.26748669,
       -0.17093804, -0.0743894 ,  0.02215925,  0.1187079 ,  0.21525655,
        0.3118052 ,  0.40835385,  0.5049025 ,  0.60145115,  0.6979998 ,
        0.79454845]))
train/val Accuracy = 0.530551067268 / 0.50006063546 
 with threshold: [[ 68.86312981]]
============ epoch 2 ===========
training loss:		2.066212
||Xanchor-Xpos||_2  counter: 
[ 397 2457 3690 4240 3821 2976 2138 1522  964  583  356  173  102   54   24
   12    7    2    0    0]
||Xanchor-Xneg||_2  counter: 
[ 202 1589 2969 3801 3803 3369 2712 1874 1271  803  493  288  161   87   47
   26   14    7    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  3.78307509   8.57846495  13.3738548   18.16924466  22.96463451
  27.76002437  32.55541422  37.35080408  42.14619393  46.94158379
  51.73697364  56.5323635   61.32775335  66.12314321  70.91853306
  75.71392292  80.50931277  85.30470263  90.10009248  94.89548234
  99.69087219]
distance difference  counter: 
(array([   2,    0,    2,    3,    2,   14,   10,   29,   43,   80,  120,
        225,  395,  878, 2294, 5925, 7169, 4633, 1550,  144]), array([-1.58840024, -1.46553057, -1.34266089, -1.21979121, -1.09692153,
       -0.97405185, -0.85118217, -0.72831249, -0.60544281, -0.48257313,
       -0.35970345, -0.23683377, -0.11396409,  0.00890559,  0.13177527,
        0.25464495,  0.37751462,  0.5003843 ,  0.62325398,  0.74612366,
        0.86899334]))
||Xanchor-Xpos||_2  counter: 
[ 234  870 1622 1874 1435  965  563  276  176  106   56   33   20   10    1
    2    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  52  368 1059 1553 1590 1222  901  522  343  212  162  103   71   35   24
   15    9    3    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.57456231   5.31965774   8.06475317  10.80984861  13.55494404
  16.30003947  19.0451349   21.79023033  24.53532577  27.2804212
  30.02551663  32.77061206  35.51570749  38.26080292  41.00589836
  43.75099379  46.49608922  49.24118465  51.98628008  54.73137552
  57.47647095]
distance difference  counter: 
(array([   1,    1,    0,    0,    1,    3,    7,   10,   21,   31,   53,
        108,  197,  340,  659, 1181, 2129, 2375,  990,  139]), array([-1.24482739, -1.13796046, -1.03109353, -0.92422659, -0.81735966,
       -0.71049273, -0.6036258 , -0.49675887, -0.38989193, -0.283025  ,
       -0.17615807, -0.06929114,  0.03757579,  0.14444273,  0.25130966,
        0.35817659,  0.46504352,  0.57191045,  0.67877738,  0.78564432,
        0.89251125]))
train/val Accuracy = 0.548622331831 / 0.524375454766 
 with threshold: [[ 27.30670708]]
============ epoch 3 ===========
training loss:		2.061312
||Xanchor-Xpos||_2  counter: 
[3098 7236 5808 3450 1841  982  502  285  150   84   42   18   12    5    2
    1    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[1860 5292 5188 3794 2527 1618 1161  747  492  330  213  107   77   46   23
   19    8   11    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[   1.93908083    7.07659563   12.21411043   17.35162523   22.48914003
   27.62665483   32.76416963   37.90168443   43.03919923   48.17671403
   53.31422883   58.45174363   63.58925843   68.72677323   73.86428803
   79.00180283   84.13931763   89.27683243   94.41434723   99.55186203
  104.68937683]
distance difference  counter: 
(array([   1,    1,    2,    4,    7,    5,   15,   19,   30,   61,   95,
        197,  312,  536,  968, 1791, 3256, 6299, 7832, 2087]), array([-2.89698815, -2.70436154, -2.51173492, -2.3191083 , -2.12648169,
       -1.93385507, -1.74122846, -1.54860184, -1.35597522, -1.16334861,
       -0.97072199, -0.77809537, -0.58546876, -0.39284214, -0.20021552,
       -0.00758891,  0.18503771,  0.37766432,  0.57029094,  0.76291756,
        0.95554417]))
||Xanchor-Xpos||_2  counter: 
[1440 2290 1501 1019  722  454  349  177  124   65   51   27   10    7    5
    3    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 727 1966 1346 1054  831  685  514  340  255  181  138   84   50   31   21
   12    8    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.06103206   4.98095027   8.90086849  12.8207867   16.74070492
  20.66062313  24.58054135  28.50045956  32.42037778  36.34029599
  40.26021421  44.18013242  48.10005064  52.01996886  55.93988707
  59.85980529  63.7797235   67.69964172  71.61955993  75.53947815
  79.45939636]
distance difference  counter: 
(array([   1,    0,    3,    6,   12,   12,   19,   26,   52,   75,  104,
        182,  251,  405,  580,  866, 1065, 1446, 2038, 1103]), array([-1.80151653, -1.66395215, -1.52638777, -1.3888234 , -1.25125902,
       -1.11369464, -0.97613026, -0.83856588, -0.7010015 , -0.56343712,
       -0.42587274, -0.28830836, -0.15074399, -0.01317961,  0.12438477,
        0.26194915,  0.39951353,  0.53707791,  0.67464229,  0.81220667,
        0.94977105]))
train/val Accuracy = 0.580938004932 / 0.568699975746 
 with threshold: [[ 17.30451243]]
============ epoch 4 ===========
training loss:		2.060622
||Xanchor-Xpos||_2  counter: 
[7596 6463 3800 2365 1357  846  499  278  160   75   39   22    7    7    3
    0    0    0    0    1]
||Xanchor-Xneg||_2  counter: 
[5008 5259 3692 2720 2054 1547 1095  754  503  364  198  125   82   51   29
   12   13    8    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[   1.000453      7.10929265   13.21813231   19.32697196   25.43581161
   31.54465127   37.65349092   43.76233058   49.87117023   55.98000989
   62.08884954   68.1976892    74.30652885   80.41536851   86.52420816
   92.63304782   98.74188747  104.85072713  110.95956678  117.06840644
  123.17724609]
distance difference  counter: 
(array([   1,    3,    2,    4,    6,    7,   16,   27,   56,   74,  115,
        215,  366,  605,  991, 1624, 2798, 4180, 6265, 6163]), array([-3.81084991, -3.57140088, -3.33195185, -3.09250282, -2.8530538 ,
       -2.61360477, -2.37415574, -2.13470671, -1.89525769, -1.65580866,
       -1.41635963, -1.17691061, -0.93746158, -0.69801255, -0.45856352,
       -0.2191145 ,  0.02033453,  0.25978356,  0.49923258,  0.73868161,
        0.97813064]))
||Xanchor-Xpos||_2  counter: 
[2129 1720 1403  994  679  490  330  198  126   66   54   28   15    8    4
    0    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[1429 1453 1210 1041  819  659  494  345  266  178  131   96   44   40   16
   12   10    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.54011756   4.82287311   9.10562866  13.38838421  17.67113976
  21.95389532  26.23665087  30.51940642  34.80216197  39.08491752
  43.36767307  47.65042862  51.93318417  56.21593972  60.49869527
  64.78145082  69.06420637  73.34696192  77.62971748  81.91247303
  86.19522858]
distance difference  counter: 
(array([   3,    4,    7,    7,   12,   18,   21,   33,   65,   78,  125,
        190,  283,  407,  603,  860, 1057, 1325, 1566, 1582]), array([-1.98601866, -1.83794222, -1.68986577, -1.54178933, -1.39371289,
       -1.24563645, -1.09756001, -0.94948356, -0.80140712, -0.65333068,
       -0.50525424, -0.3571778 , -0.20910136, -0.06102491,  0.08705153,
        0.23512797,  0.38320441,  0.53128085,  0.6793573 ,  0.82743374,
        0.97551018]))
train/val Accuracy = 0.584105791309 / 0.568214892069 
 with threshold: [[ 16.76715307]]
============ epoch 5 ===========
training loss:		2.060523
||Xanchor-Xpos||_2  counter: 
[8293 5889 3800 2222 1427  851  455  279  142   81   44   13   12    5    0
    2    2    0    0    1]
||Xanchor-Xneg||_2  counter: 
[5611 4695 3681 2848 2059 1468 1077  747  504  309  194  140   66   36   34
   22   12    5    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[   0.47103709    6.96074283   13.45044858   19.94015432   26.42986007
   32.91956581   39.40927156   45.8989773    52.38868304   58.87838879
   65.36809453   71.85780028   78.34750602   84.83721177   91.32691751
   97.81662326  104.306329    110.79603474  117.28574049  123.77544623
  130.26515198]
distance difference  counter: 
(array([   1,    0,    3,    3,    2,    9,    7,   18,   34,   61,   91,
        186,  249,  455,  864, 1320, 2394, 4171, 6110, 7540]), array([-4.63522816, -4.35430578, -4.07338341, -3.79246103, -3.51153866,
       -3.23061629, -2.94969391, -2.66877154, -2.38784916, -2.10692679,
       -1.82600442, -1.54508204, -1.26415967, -0.98323729, -0.70231492,
       -0.42139255, -0.14047017,  0.1404522 ,  0.42137458,  0.70229695,
        0.98321933]))
||Xanchor-Xpos||_2  counter: 
[2108 1727 1361  990  713  494  357  186  124   85   45   30   12    3    8
    0    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[1424 1411 1209 1035  867  650  517  324  246  205  137   84   50   41   17
   14   10    4    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.24636261   4.60882552   8.97128842  13.33375133  17.69621423
  22.05867714  26.42114005  30.78360295  35.14606586  39.50852876
  43.87099167  48.23345458  52.59591748  56.95838039  61.32084329
  65.6833062   70.0457691   74.40823201  78.77069492  83.13315782
  87.49562073]
distance difference  counter: 
(array([   4,    4,    4,    5,   18,   16,   22,   33,   59,   74,  120,
        191,  258,  406,  565,  864, 1123, 1318, 1533, 1629]), array([-2.13109231, -1.9751935 , -1.81929469, -1.66339587, -1.50749706,
       -1.35159825, -1.19569944, -1.03980062, -0.88390181, -0.728003  ,
       -0.57210419, -0.41620537, -0.26030656, -0.10440775,  0.05149106,
        0.20738988,  0.36328869,  0.5191875 ,  0.67508631,  0.83098513,
        0.98688394]))
train/val Accuracy = 0.585742835275 / 0.569852049479 
 with threshold: [[ 16.81033136]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085, 0.54828566812459223, 0.54912588614452051, 0.54164337554793385, 0.54835742618701477, 0.54105155458922927, 0.57779744237682173]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.026634
||Xanchor-Xpos||_2  counter: 
[ 104  977 2446 2482 2640 2995 3100 2720 2124 1568 1029  620  365  175   91
   44   20   11    6    0]
||Xanchor-Xneg||_2  counter: 
[  46  602 1666 2024 2365 2990 3329 3055 2617 1894 1231  804  415  232  141
   58   29   11    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  57.68742752   90.29481945  122.90221138  155.50960331  188.11699524
  220.72438717  253.3317791   285.93917103  318.54656296  351.15395489
  383.76134682  416.36873875  448.97613068  481.58352261  514.19091454
  546.79830647  579.40569839  612.01309032  644.62048225  677.22787418
  709.83526611]
distance difference  counter: 
(array([   2,    0,    3,    1,    7,    1,   11,   10,   29,   56,   89,
        147,  271,  509,  938, 2328, 8682, 9083, 1250,  101]), array([-3.8276825 , -3.59891689, -3.37015129, -3.14138569, -2.91262009,
       -2.68385449, -2.45508889, -2.22632329, -1.99755769, -1.76879209,
       -1.54002649, -1.31126089, -1.08249528, -0.85372968, -0.62496408,
       -0.39619848, -0.16743288,  0.06133272,  0.29009832,  0.51886392,
        0.74762952]))
||Xanchor-Xpos||_2  counter: 
[  68  235  461  720  893 1150 1234 1150  866  633  440  222  110   43   17
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   49  171  365  685  949 1087 1211 1182  950  681  434  242  137   52
   30    9    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.36619186   64.85458393   87.342976    109.83136806  132.31976013
  154.8081522   177.29654427  199.78493633  222.2733284   244.76172047
  267.25011253  289.7385046   312.22689667  334.71528873  357.2036808
  379.69207287  402.18046494  424.668857    447.15724907  469.64564114
  492.1340332 ]
distance difference  counter: 
(array([   2,    1,    2,    3,    6,    7,    5,   14,   15,   33,   39,
         88,  156,  264,  585, 1255, 2801, 2354,  541,   75]), array([-3.24460125, -3.05019127, -2.85578129, -2.66137131, -2.46696134,
       -2.27255136, -2.07814138, -1.8837314 , -1.68932142, -1.49491144,
       -1.30050147, -1.10609149, -0.91168151, -0.71727153, -0.52286155,
       -0.32845157, -0.1340416 ,  0.06036838,  0.25477836,  0.44918834,
        0.64359832]))
train/val Accuracy = 0.540160727953 / 0.544567062818 
 with threshold: [[ 268.46218035]]
============ epoch 1 ===========
training loss:		0.025590
||Xanchor-Xpos||_2  counter: 
[ 186 1370 2747 2576 2986 3298 3091 2540 1868 1277  758  380  257  102   47
   15   15    2    2    0]
||Xanchor-Xneg||_2  counter: 
[ 100  818 1974 2190 2783 3313 3503 2957 2263 1551  936  527  308  158   83
   32   12    6    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  56.22195053   87.62836399  119.03477745  150.44119091  181.84760437
  213.25401783  244.66043129  276.06684475  307.47325821  338.87967167
  370.28608513  401.69249859  433.09891205  464.50532551  495.91173897
  527.31815243  558.72456589  590.13097935  621.53739281  652.94380627
  684.35021973]
distance difference  counter: 
(array([    2,     3,     0,     1,     4,     6,     6,    16,    24,
          43,    90,   148,   239,   454,   841,  1985,  7065, 10722,
        1729,   140]), array([-3.8669486 , -3.63752649, -3.40810437, -3.17868225, -2.94926013,
       -2.71983801, -2.49041589, -2.26099377, -2.03157165, -1.80214953,
       -1.57272741, -1.34330529, -1.11388317, -0.88446105, -0.65503893,
       -0.42561682, -0.1961947 ,  0.03322742,  0.26264954,  0.49207166,
        0.72149378]))
||Xanchor-Xpos||_2  counter: 
[  72  231  475  752  926 1118 1235 1126  909  613  400  210  123   35   15
    6    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  13   51  167  385  689  941 1156 1198 1144  968  669  413  222  139   47
   33    8    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  38.35781479   59.07491398   79.79201317  100.50911236  121.22621155
  141.94331074  162.66040993  183.37750912  204.09460831  224.8117075
  245.52880669  266.24590588  286.96300507  307.68010426  328.39720345
  349.11430264  369.83140182  390.54850101  411.2656002   431.98269939
  452.69979858]
distance difference  counter: 
(array([   1,    2,    2,    3,    5,    6,    3,    6,   26,   22,   46,
         71,  152,  300,  618, 1349, 3074, 2067,  442,   51]), array([-3.32847214, -3.12739745, -2.92632277, -2.72524809, -2.5241734 ,
       -2.32309872, -2.12202404, -1.92094935, -1.71987467, -1.51879998,
       -1.3177253 , -1.11665062, -0.91557593, -0.71450125, -0.51342657,
       -0.31235188, -0.1112772 ,  0.08979748,  0.29087217,  0.49194685,
        0.69302154]))
train/val Accuracy = 0.542095416277 / 0.545476594713 
 with threshold: [[ 244.77355153]]
============ epoch 2 ===========
training loss:		0.024730
||Xanchor-Xpos||_2  counter: 
[ 131 1221 2739 2553 2980 3317 3164 2584 1955 1260  772  431  222  108   34
   28   10    8    1    0]
||Xanchor-Xneg||_2  counter: 
[  64  706 1975 2153 2702 3343 3464 3065 2355 1541  958  546  326  180   76
   31   20   10    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  48.35630798   77.22755814  106.09880829  134.97005844  163.84130859
  192.71255875  221.5838089   250.45505905  279.3263092   308.19755936
  337.06880951  365.94005966  394.81130981  423.68255997  452.55381012
  481.42506027  510.29631042  539.16756058  568.03881073  596.91006088
  625.78131104]
distance difference  counter: 
(array([    1,     0,     0,     2,     3,     4,     8,     8,    20,
          38,    62,   127,   213,   399,   778,  1794,  6849, 11511,
        1594,   107]), array([-4.14138365, -3.89608798, -3.65079232, -3.40549665, -3.16020099,
       -2.91490532, -2.66960966, -2.424314  , -2.17901833, -1.93372267,
       -1.688427  , -1.44313134, -1.19783567, -0.95254001, -0.70724434,
       -0.46194868, -0.21665301,  0.02864265,  0.27393832,  0.51923398,
        0.76452965]))
||Xanchor-Xpos||_2  counter: 
[  59  229  420  671  877 1098 1190 1192  897  668  461  254  121   72   28
    5    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   46  153  349  616  884 1017 1215 1172  974  754  455  293  165   80
   40   20    4    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.88670349   52.39638748   70.90607147   89.41575546  107.92543945
  126.43512344  144.94480743  163.45449142  181.96417542  200.47385941
  218.9835434   237.49322739  256.00291138  274.51259537  293.02227936
  311.53196335  330.04164734  348.55133133  367.06101532  385.57069931
  404.0803833 ]
distance difference  counter: 
(array([   1,    0,    1,    4,    3,    2,    4,    8,   13,   16,   42,
         49,  109,  223,  461, 1065, 2779, 2818,  584,   64]), array([-3.63013959, -3.413736  , -3.19733241, -2.98092881, -2.76452522,
       -2.54812163, -2.33171804, -2.11531445, -1.89891086, -1.68250726,
       -1.46610367, -1.24970008, -1.03329649, -0.8168929 , -0.60048931,
       -0.38408571, -0.16768212,  0.04872147,  0.26512506,  0.48152865,
        0.69793224]))
train/val Accuracy = 0.542669444681 / 0.546871210284 
 with threshold: [[ 223.68750709]]
============ epoch 3 ===========
training loss:		0.024021
||Xanchor-Xpos||_2  counter: 
[ 183 1451 2873 2727 3180 3400 3096 2491 1757 1099  595  330  198   88   29
   12    5    2    2    0]
||Xanchor-Xneg||_2  counter: 
[  98  873 2071 2245 2910 3567 3491 2935 2072 1418  885  485  249  104   71
   26    9    5    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.7437439    72.97106781  100.19839172  127.42571564  154.65303955
  181.88036346  209.10768738  236.33501129  263.56233521  290.78965912
  318.01698303  345.24430695  372.47163086  399.69895477  426.92627869
  454.1536026   481.38092651  508.60825043  535.83557434  563.06289825
  590.29022217]
distance difference  counter: 
(array([   1,    1,    3,    4,    3,    3,   12,   18,   37,   44,   75,
        147,  273,  417,  941, 2124, 9125, 9031, 1177,   82]), array([-3.95118499, -3.71423495, -3.4772849 , -3.24033486, -3.00338482,
       -2.76643477, -2.52948473, -2.29253469, -2.05558465, -1.8186346 ,
       -1.58168456, -1.34473452, -1.10778447, -0.87083443, -0.63388439,
       -0.39693435, -0.1599843 ,  0.07696574,  0.31391578,  0.55086583,
        0.78781587]))
||Xanchor-Xpos||_2  counter: 
[  56  198  380  601  798  997 1138 1115  961  756  554  315  208   89   48
   25    4    2    0    1]
||Xanchor-Xneg||_2  counter: 
[   7   37  131  286  523  791  959 1089 1124 1049  795  575  421  203  125
   69   37   15    8    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.65203857   46.86416626   63.07629395   79.28842163   95.50054932
  111.712677    127.92480469  144.13693237  160.34906006  176.56118774
  192.77331543  208.98544312  225.1975708   241.40969849  257.62182617
  273.83395386  290.04608154  306.25820923  322.47033691  338.6824646
  354.89459229]
distance difference  counter: 
(array([   1,    6,    1,    1,    5,   10,    6,   15,   21,   32,   50,
         90,  175,  298,  663, 1512, 3113, 1796,  395,   56]), array([-3.11182618, -2.92155956, -2.73129293, -2.54102631, -2.35075969,
       -2.16049306, -1.97022644, -1.77995981, -1.58969319, -1.39942656,
       -1.20915994, -1.01889332, -0.82862669, -0.63836007, -0.44809344,
       -0.25782682, -0.0675602 ,  0.12270643,  0.31297305,  0.50323968,
        0.6935063 ]))
train/val Accuracy = 0.544752955183 / 0.549175357749 
 with threshold: [[ 204.72897387]]
============ epoch 4 ===========
training loss:		0.023438
||Xanchor-Xpos||_2  counter: 
[ 222 1675 2955 2865 3351 3556 3033 2373 1601  924  501  239  128   48   30
   13    1    2    1    0]
||Xanchor-Xneg||_2  counter: 
[ 100 1066 2093 2434 3091 3707 3452 2833 2028 1274  673  358  199  113   51
   32    9    1    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  42.0550766    67.92442055   93.7937645   119.66310844  145.53245239
  171.40179634  197.27114029  223.14048424  249.00982819  274.87917213
  300.74851608  326.61786003  352.48720398  378.35654793  404.22589188
  430.09523582  455.96457977  481.83392372  507.70326767  533.57261162
  559.44195557]
distance difference  counter: 
(array([    4,     5,     8,     3,    11,    16,    28,    44,    77,
         105,   168,   283,   404,   811,  1517,  4998, 11251,  3266,
         475,    44]), array([-3.19745564, -2.99738891, -2.79732217, -2.59725543, -2.39718869,
       -2.19712195, -1.99705521, -1.79698847, -1.59692173, -1.39685499,
       -1.19678825, -0.99672151, -0.79665477, -0.59658803, -0.39652129,
       -0.19645455,  0.00361218,  0.20367892,  0.40374566,  0.6038124 ,
        0.80387914]))
||Xanchor-Xpos||_2  counter: 
[  65  227  412  710  909 1096 1192 1138  939  656  433  228  134   74   19
   13    0    0    1    0]
||Xanchor-Xneg||_2  counter: 
[   8   38  154  354  669  850 1086 1148 1208  966  669  479  290  163   83
   46   22   11    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.9233036    43.70290442   59.48250523   75.26210604   91.04170685
  106.82130766  122.60090847  138.38050928  154.16011009  169.9397109
  185.71931171  201.49891253  217.27851334  233.05811415  248.83771496
  264.61731577  280.39691658  296.17651739  311.9561182   327.73571901
  343.51531982]
distance difference  counter: 
(array([   1,    1,    2,    1,    3,    3,    6,    7,   16,   16,   30,
         59,   92,  210,  420, 1019, 2754, 2917,  620,   69]), array([-3.70014954, -3.47910701, -3.25806449, -3.03702197, -2.81597944,
       -2.59493692, -2.3738944 , -2.15285188, -1.93180935, -1.71076683,
       -1.48972431, -1.26868179, -1.04763926, -0.82659674, -0.60555422,
       -0.38451169, -0.16346917,  0.05757335,  0.27861587,  0.4996584 ,
        0.72070092]))
train/val Accuracy = 0.547686878136 / 0.55056997332 
 with threshold: [[ 187.74480183]]
untile now, the train_val_mean_acc: [0.54846562276252375, 0.5470639582353638, 0.54265644252815515, 0.54641275227192443, 0.54407660089628074, 0.62171095301740387, 0.54524987821858573, 0.61489370762234186, 0.58846259526945033, 0.54447908751631036, 0.54693086342728758, 0.5407342226575329, 0.54988225665266233, 0.54273644327976878, 0.62930727047779467, 0.54639994348872101, 0.64236064523430658, 0.58993759059610085, 0.54828566812459223, 0.54912588614452051, 0.54164337554793385, 0.54835742618701477, 0.54105155458922927, 0.57779744237682173, 0.5491284257281468]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.236271
||Xanchor-Xpos||_2  counter: 
[ 973 3450 4615 4409 3397 2469 1713 1117  656  350  195   96   43   23    6
    4    1    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 578 2670 4274 4481 3772 2708 1986 1332  792  464  236  124   58   25   11
    2    1    1    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  32.64131546   69.45770245  106.27408943  143.09047642  179.9068634
  216.72325039  253.53963737  290.35602436  327.17241135  363.98879833
  400.80518532  437.6215723   474.43795929  511.25434628  548.07073326
  584.88712025  621.70350723  658.51989422  695.3362812   732.15266819
  768.96905518]
distance difference  counter: 
(array([    2,     2,     3,     2,     4,     3,    12,    21,    31,
          65,    99,   176,   347,   566,  1199,  3130, 10564,  6407,
         830,    55]), array([-3.37068582, -3.16367016, -2.95665451, -2.74963886, -2.54262321,
       -2.33560756, -2.12859191, -1.92157626, -1.7145606 , -1.50754495,
       -1.3005293 , -1.09351365, -0.886498  , -0.67948235, -0.4724667 ,
       -0.26545104, -0.05843539,  0.14858026,  0.35559591,  0.56261156,
        0.76962721]))

---------------- start ----------------
Fri Sep 30 16:20:05 CEST 2016
max threads: 2
max memory: 6000 MB
time limit: 9 hours
gpu device id: 3
.VGGface_MVS-train.sh.1  1
---------------------------------------

This is VGGface_MVS-train5.py
Using gpu device 0: GeForce GTX TITAN X (CNMeM is enabled with initial size: 95.0% of memory, cuDNN 4007)
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
VGGface_MVS-train5-2.py:243: UserWarning: The parameter 'updates' of theano.function() expects an OrderedDict, got <type 'dict'>. Using a standard dictionary here results in non-deterministic behavior. You should use an OrderedDict if you are using Python 2.7 (theano.compat.OrderedDict for older python), or use a list of (shared, update) pairs. Do not just convert your dictionary to this type before the call as the conversion will still be non-deterministic.
  get_dist_from_feature_embed(feature_embed), updates=updates)
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019464
||Xanchor-Xpos||_2  counter: 
[ 308 1341 2014 2377 2813 3154 3041 2627 2060 1553 1005  599  329  154   87
   32   13    7    3    1]
||Xanchor-Xneg||_2  counter: 
[ 122  579  935 1323 1854 2285 2989 3211 2927 2534 1841 1211  803  446  243
  132   48   21   10    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.2897644    69.55908966  108.82841492  148.09774017  187.36706543
  226.63639069  265.90571594  305.1750412   344.44436646  383.71369171
  422.98301697  462.25234222  501.52166748  540.79099274  580.06031799
  619.32964325  658.59896851  697.86829376  737.13761902  776.40694427
  815.67626953]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     1,     4,     5,    13,
          16,    20,    47,    55,   113,   248,   563,  1476,  5456,
       14667,   832]), array([-11.13943768, -10.5390581 ,  -9.93867853,  -9.33829895,
        -8.73791938,  -8.1375398 ,  -7.53716023,  -6.93678066,
        -6.33640108,  -5.73602151,  -5.13564193,  -4.53526236,
        -3.93488278,  -3.33450321,  -2.73412364,  -2.13374406,
        -1.53336449,  -0.93298491,  -0.33260534,   0.26777424,   0.86815381]))
||Xanchor-Xpos||_2  counter: 
[  77  227  438  672  855 1024 1134 1111  974  663  501  289  151   71   46
    8    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   58  141  318  547  835  961 1118 1159  987  808  559  354  198   96
   61   28    9    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  78.19645691  117.88610001  157.5757431   197.2653862   236.9550293
  276.64467239  316.33431549  356.02395859  395.71360168  435.40324478
  475.09288788  514.78253098  554.47217407  594.16181717  633.85146027
  673.54110336  713.23074646  752.92038956  792.61003265  832.29967575
  871.98931885]
distance difference  counter: 
(array([   2,    0,    0,    0,    2,    3,    2,    5,    7,   10,   16,
         24,   45,  116,  238,  503, 1343, 3333, 2397,  200]), array([-5.68878269, -5.37382749, -5.05887229, -4.74391709, -4.42896188,
       -4.11400668, -3.79905148, -3.48409628, -3.16914108, -2.85418588,
       -2.53923067, -2.22427547, -1.90932027, -1.59436507, -1.27940987,
       -0.96445467, -0.64949946, -0.33454426, -0.01958906,  0.29536614,
        0.61032134]))
train/val Accuracy = 0.606280295944 / 0.580281348533 
 with threshold: [[ 297.36811055]]
============ epoch 1 ===========
training loss:		0.019447
||Xanchor-Xpos||_2  counter: 
[ 248 1283 2014 2379 2732 3165 3046 2642 2092 1626 1039  606  341  164   81
   38   11    7    3    1]
||Xanchor-Xneg||_2  counter: 
[  87  586  893 1326 1810 2280 2922 3271 2922 2544 1916 1204  829  455  254
  125   54   27    9    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.53618813   66.85728827  106.1783884   145.49948854  184.82058868
  224.14168882  263.46278896  302.7838891   342.10498924  381.42608938
  420.74718952  460.06828966  499.3893898   538.71048994  578.03159008
  617.35269022  656.67379036  695.9948905   735.31599064  774.63709078
  813.95819092]
distance difference  counter: 
(array([    2,     0,     1,     3,     5,     4,    15,    13,    23,
          35,    31,    75,   100,   234,   440,   990,  2500,  8390,
       10337,   320]), array([-9.03087807, -8.53592662, -8.04097517, -7.54602372, -7.05107228,
       -6.55612083, -6.06116938, -5.56621793, -5.07126648, -4.57631504,
       -4.08136359, -3.58641214, -3.09146069, -2.59650925, -2.1015578 ,
       -1.60660635, -1.1116549 , -0.61670345, -0.12175201,  0.37319944,
        0.86815089]))
||Xanchor-Xpos||_2  counter: 
[  63  199  387  599  729  965 1059 1098  980  773  561  391  247  107   54
   19   13    1    1    0]
||Xanchor-Xneg||_2  counter: 
[  10   33  117  267  479  674  888  990 1130 1059  855  677  432  318  165
   88   37   20    6    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  75.84740448  113.63360481  151.41980515  189.20600548  226.99220581
  264.77840614  302.56460648  340.35080681  378.13700714  415.92320747
  453.70940781  491.49560814  529.28180847  567.0680088   604.85420914
  642.64040947  680.4266098   718.21281013  755.99901047  793.7852108
  831.57141113]
distance difference  counter: 
(array([   1,    1,    0,    1,    4,    2,    1,    3,   11,    8,   21,
         36,   49,  114,  292,  567, 1540, 3600, 1862,  133]), array([-5.52190971, -5.213918  , -4.90592629, -4.59793458, -4.28994287,
       -3.98195116, -3.67395945, -3.36596774, -3.05797603, -2.74998432,
       -2.44199261, -2.1340009 , -1.82600919, -1.51801748, -1.21002577,
       -0.90203406, -0.59404235, -0.28605064,  0.02194107,  0.32993278,
        0.63792449]))
train/val Accuracy = 0.606748022791 / 0.579978171235 
 with threshold: [[ 297.05721281]]
============ epoch 2 ===========
training loss:		0.019429
||Xanchor-Xpos||_2  counter: 
[ 307 1333 2030 2405 2810 3138 3092 2577 2089 1486 1040  601  331  138   86
   32    8    9    6    0]
||Xanchor-Xneg||_2  counter: 
[ 122  567  933 1355 1852 2291 2977 3244 2924 2495 1868 1193  767  446  277
  117   56   22    7    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.24370766   69.45178289  108.65985813  147.86793337  187.07600861
  226.28408384  265.49215908  304.70023432  343.90830956  383.11638479
  422.32446003  461.53253527  500.7406105   539.94868574  579.15676098
  618.36483622  657.57291145  696.78098669  735.98906193  775.19713717
  814.4052124 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     2,     5,     6,
          11,    22,    28,    46,    81,   176,   395,  1137,  4099,
       16001,  1508]), array([-12.43305588, -11.76834076, -11.10362564, -10.43891053,
        -9.77419541,  -9.10948029,  -8.44476517,  -7.78005006,
        -7.11533494,  -6.45061982,  -5.78590471,  -5.12118959,
        -4.45647447,  -3.79175935,  -3.12704424,  -2.46232912,
        -1.797614  ,  -1.13289889,  -0.46818377,   0.19653135,   0.86124647]))
||Xanchor-Xpos||_2  counter: 
[  54  181  352  559  706  886 1024 1078  994  833  577  465  270  151   65
   34   10    7    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   30   96  236  417  630  865  984 1035 1074  904  736  496  345  184
  113   50   28   13    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  72.89701843  109.93388443  146.97075043  184.00761642  221.04448242
  258.08134842  295.11821442  332.15508041  369.19194641  406.22881241
  443.26567841  480.3025444   517.3394104   554.3762764   591.4131424
  628.45000839  665.48687439  702.52374039  739.56060638  776.59747238
  813.63433838]
distance difference  counter: 
(array([   4,    0,    3,    2,    1,    4,    5,    3,   15,   23,   29,
         59,  111,  191,  389,  878, 1904, 3424, 1103,   98]), array([-4.66232586, -4.39839389, -4.13446193, -3.87052996, -3.606598  ,
       -3.34266603, -3.07873406, -2.8148021 , -2.55087013, -2.28693817,
       -2.0230062 , -1.75907423, -1.49514227, -1.2312103 , -0.96727834,
       -0.70334637, -0.43941441, -0.17548244,  0.08844953,  0.35238149,
        0.61631346]))
train/val Accuracy = 0.607832298665 / 0.580584525831 
 with threshold: [[ 296.66787604]]
============ epoch 3 ===========
training loss:		0.019412
||Xanchor-Xpos||_2  counter: 
[ 229 1183 1944 2352 2724 3160 3063 2638 2126 1619 1098  657  371  182  102
   44   14    5    5    1]
||Xanchor-Xneg||_2  counter: 
[  75  552  887 1251 1759 2197 2860 3206 2960 2620 1935 1308  905  471  277
  141   71   25   13    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.40540123   65.21090631  104.0164114   142.82191648  181.62742157
  220.43292665  259.23843174  298.04393682  336.84944191  375.65494699
  414.46045208  453.26595716  492.07146225  530.87696733  569.68247242
  608.4879775   647.29348259  686.09898767  724.90449276  763.70999784
  802.51550293]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     1,     3,     9,
          14,    21,    28,    47,   104,   174,   442,  1218,  4498,
       15699,  1258]), array([-12.03545856, -11.39062336, -10.74578816, -10.10095295,
        -9.45611775,  -8.81128255,  -8.16644734,  -7.52161214,
        -6.87677693,  -6.23194173,  -5.58710653,  -4.94227132,
        -4.29743612,  -3.65260091,  -3.00776571,  -2.36293051,
        -1.7180953 ,  -1.0732601 ,  -0.42842489,   0.21641031,   0.86124551]))
||Xanchor-Xpos||_2  counter: 
[  59  183  353  563  707  913 1022 1074  998  811  569  461  272  135   67
   34   20    4    0    1]
||Xanchor-Xneg||_2  counter: 
[   9   32   98  245  418  653  837  984 1058 1016  926  735  493  336  196
  109   66   19   12    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  74.75918579  111.66407318  148.56896057  185.47384796  222.37873535
  259.28362274  296.18851013  333.09339752  369.99828491  406.9031723
  443.80805969  480.71294708  517.61783447  554.52272186  591.42760925
  628.33249664  665.23738403  702.14227142  739.04715881  775.9520462
  812.85693359]
distance difference  counter: 
(array([   2,    0,    0,    1,    1,    4,    0,    2,    5,   15,   16,
         33,   56,  107,  258,  549, 1404, 3520, 2107,  166]), array([ -5.58225203e+00,  -5.27210482e+00,  -4.96195762e+00,
        -4.65181042e+00,  -4.34166322e+00,  -4.03151602e+00,
        -3.72136881e+00,  -3.41122161e+00,  -3.10107441e+00,
        -2.79092721e+00,  -2.48078001e+00,  -2.17063280e+00,
        -1.86048560e+00,  -1.55033840e+00,  -1.24019120e+00,
        -9.30043995e-01,  -6.19896793e-01,  -3.09749591e-01,
         3.97610664e-04,   3.10544813e-01,   6.20692015e-01]))
train/val Accuracy = 0.60757717493 / 0.580281348533 
 with threshold: [[ 296.28258696]]
============ epoch 4 ===========
training loss:		0.019394
||Xanchor-Xpos||_2  counter: 
[ 235 1238 1928 2448 2823 3087 3046 2694 2121 1540 1067  634  345  172   81
   32   15    6    4    2]
||Xanchor-Xneg||_2  counter: 
[  79  571  881 1305 1803 2241 2979 3194 2957 2568 1921 1264  829  451  266
  115   55   27    9    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.38015366   65.58839207  104.79663048  144.00486889  183.2131073
  222.42134571  261.62958412  300.83782253  340.04606094  379.25429935
  418.46253777  457.67077618  496.87901459  536.087253    575.29549141
  614.50372982  653.71196823  692.92020664  732.12844505  771.33668346
  810.54492188]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     4,     8,    15,    23,
          21,    32,    48,    81,   151,   340,   708,  1999,  6990,
       12638,   458]), array([-10.02459526,  -9.47951099,  -8.93442671,  -8.38934244,
        -7.84425817,  -7.29917389,  -6.75408962,  -6.20900534,
        -5.66392107,  -5.1188368 ,  -4.57375252,  -4.02866825,
        -3.48358397,  -2.9384997 ,  -2.39341543,  -1.84833115,
        -1.30324688,  -0.75816261,  -0.21307833,   0.33200594,   0.87709022]))
||Xanchor-Xpos||_2  counter: 
[  60  197  451  629  811 1048 1127 1152  964  715  510  301  165   67   35
   10    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   40  132  294  526  815  972 1128 1171 1006  815  582  369  187  115
   49   28    9    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  71.54859924  111.56279831  151.57699738  191.59119644  231.60539551
  271.61959457  311.63379364  351.64799271  391.66219177  431.67639084
  471.6905899   511.70478897  551.71898804  591.7331871   631.74738617
  671.76158524  711.7757843   751.78998337  791.80418243  831.8183815
  871.83258057]
distance difference  counter: 
(array([   1,    1,    0,    0,    3,    3,    6,    3,    5,    9,   15,
         38,   47,  122,  258,  539, 1404, 3420, 2173,  199]), array([-5.52179146, -5.21539055, -4.90898964, -4.60258873, -4.29618782,
       -3.98978691, -3.683386  , -3.37698509, -3.07058418, -2.76418327,
       -2.45778236, -2.15138145, -1.84498054, -1.53857963, -1.23217872,
       -0.92577781, -0.6193769 , -0.31297599, -0.00657508,  0.29982583,
        0.60622674]))
train/val Accuracy = 0.60672676248 / 0.577188940092 
 with threshold: [[ 296.16645232]]
untile now, the train_val_mean_acc: [0.59420841224777909]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.193769
||Xanchor-Xpos||_2  counter: 
[ 425 1433 2071 2401 2851 3119 2952 2546 2023 1519 1008  567  321  150   72
   38   12    6    2    2]
||Xanchor-Xneg||_2  counter: 
[ 172  635  961 1415 1812 2342 2974 3156 3022 2370 1813 1226  720  448  247
  114   57   22    7    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  35.66123199   74.39392967  113.12662735  151.85932503  190.59202271
  229.32472038  268.05741806  306.79011574  345.52281342  384.25551109
  422.98820877  461.72090645  500.45360413  539.1863018   577.91899948
  616.65169716  655.38439484  694.11709251  732.84979019  771.58248787
  810.31518555]
distance difference  counter: 
(array([    1,     0,     0,     2,     2,     2,     3,    12,    25,
          21,    26,    43,    90,   145,   315,   716,  1873,  6658,
       13046,   538]), array([-10.12436199,  -9.57486941,  -9.02537683,  -8.47588425,
        -7.92639167,  -7.37689909,  -6.82740651,  -6.27791393,
        -5.72842135,  -5.17892877,  -4.62943619,  -4.07994362,
        -3.53045104,  -2.98095846,  -2.43146588,  -1.8819733 ,
        -1.33248072,  -0.78298814,  -0.23349556,   0.31599702,   0.8654896 ]))
||Xanchor-Xpos||_2  counter: 
[  61  206  426  651  868 1025 1256 1110  924  729  453  287  137   69   34
    8    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   41  130  313  542  837 1023 1169 1156 1008  822  537  337  176   85
   33   20    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  70.78926849  111.13693581  151.48460312  191.83227043  232.17993774
  272.52760506  312.87527237  353.22293968  393.57060699  433.91827431
  474.26594162  514.61360893  554.96127625  595.30894356  635.65661087
  676.00427818  716.3519455   756.69961281  797.04728012  837.39494743
  877.74261475]
distance difference  counter: 
(array([   1,    0,    0,    1,    0,    2,    4,    7,   11,    9,   22,
         30,   67,  116,  261,  591, 1538, 3618, 1846,  122]), array([-5.45376968, -5.14935142, -4.84493316, -4.5405149 , -4.23609664,
       -3.93167838, -3.62726012, -3.32284186, -3.0184236 , -2.71400535,
       -2.40958709, -2.10516883, -1.80075057, -1.49633231, -1.19191405,
       -0.88749579, -0.58307753, -0.27865927,  0.02575899,  0.33017725,
        0.63459551]))
train/val Accuracy = 0.606259035632 / 0.581251515886 
 with threshold: [[ 295.86524826]]
============ epoch 1 ===========
training loss:		0.192045
||Xanchor-Xpos||_2  counter: 
[ 274 1313 2052 2411 2883 3200 3019 2538 2086 1541 1015  574  336  150   77
   31    7    7    1    2]
||Xanchor-Xneg||_2  counter: 
[  96  605  935 1346 1839 2356 2994 3211 3016 2454 1864 1189  761  415  250
  106   49   20    8    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.27743912   67.32571621  106.3739933   145.42227039  184.47054749
  223.51882458  262.56710167  301.61537876  340.66365585  379.71193295
  418.76021004  457.80848713  496.85676422  535.90504131  574.95331841
  614.0015955   653.04987259  692.09814968  731.14642677  770.19470387
  809.24298096]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     1,     6,     5,
          14,    25,    27,    49,    90,   172,   458,  1248,  4615,
       15585,  1222]), array([-11.96393108, -11.32259557, -10.68126006, -10.03992454,
        -9.39858903,  -8.75725351,  -8.115918  ,  -7.47458248,
        -6.83324697,  -6.19191146,  -5.55057594,  -4.90924043,
        -4.26790491,  -3.6265694 ,  -2.98523389,  -2.34389837,
        -1.70256286,  -1.06122734,  -0.41989183,   0.22144369,   0.8627792 ]))
||Xanchor-Xpos||_2  counter: 
[  65  229  416  661  872  999 1155 1140  975  671  525  273  150   71   33
    6    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   45  136  307  525  820 1024 1143 1160 1007  834  534  341  201   92
   43   20    5    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  72.25246429  111.74529152  151.23811874  190.73094597  230.22377319
  269.71660042  309.20942764  348.70225487  388.19508209  427.68790932
  467.18073654  506.67356377  546.16639099  585.65921822  625.15204544
  664.64487267  704.13769989  743.63052711  783.12335434  822.61618156
  862.10900879]
distance difference  counter: 
(array([   1,    1,    0,    2,    2,    3,    2,    3,    9,   10,   22,
         33,   57,  128,  275,  576, 1529, 3646, 1817,  130]), array([-5.45354795, -5.14914087, -4.84473379, -4.54032671, -4.23591963,
       -3.93151255, -3.62710547, -3.32269839, -3.01829131, -2.71388423,
       -2.40947714, -2.10507006, -1.80066298, -1.4962559 , -1.19184882,
       -0.88744174, -0.58303466, -0.27862758,  0.0257795 ,  0.33018658,
        0.63459367]))
train/val Accuracy = 0.608214984267 / 0.578280378365 
 with threshold: [[ 292.85015952]]
============ epoch 2 ===========
training loss:		0.190353
||Xanchor-Xpos||_2  counter: 
[ 230 1256 1963 2325 2774 3101 3012 2685 2113 1620 1069  656  374  169  103
   45   10    7    5    1]
||Xanchor-Xneg||_2  counter: 
[  81  577  861 1298 1768 2215 2802 3204 3026 2572 1901 1358  829  492  270
  159   65   25    9    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.92339134   64.86508188  102.80677242  140.74846296  178.6901535
  216.63184404  254.57353458  292.51522512  330.45691566  368.3986062
  406.34029675  444.28198729  482.22367783  520.16536837  558.10705891
  596.04874945  633.99043999  671.93213053  709.87382107  747.81551161
  785.75720215]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     2,     2,     6,    10,
          22,    27,    30,    57,   110,   237,   516,  1399,  5224,
       14961,   914]), array([-11.29827785, -10.69022503, -10.0821722 ,  -9.47411938,
        -8.86606655,  -8.25801373,  -7.6499609 ,  -7.04190807,
        -6.43385525,  -5.82580242,  -5.2177496 ,  -4.60969677,
        -4.00164394,  -3.39359112,  -2.78553829,  -2.17748547,
        -1.56943264,  -0.96137981,  -0.35332699,   0.25472584,   0.86277866]))
||Xanchor-Xpos||_2  counter: 
[  50  176  384  591  770  949 1040 1165  984  765  583  390  193  120   53
   24    9    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   34  103  253  469  732  898 1033 1147 1036  897  642  444  287  149
   54   38   18    1    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  69.44411469  106.89155312  144.33899155  181.78642998  219.23386841
  256.68130684  294.12874527  331.5761837   369.02362213  406.47106056
  443.91849899  481.36593742  518.81337585  556.26081429  593.70825272
  631.15569115  668.60312958  706.05056801  743.49800644  780.94544487
  818.3928833 ]
distance difference  counter: 
(array([   1,    0,    0,    2,    1,    2,    2,    6,    7,   12,   22,
         21,   64,  132,  250,  597, 1501, 3586, 1894,  146]), array([-5.45331192, -5.14923061, -4.84514931, -4.541068  , -4.2369867 ,
       -3.93290539, -3.62882408, -3.32474278, -3.02066147, -2.71658017,
       -2.41249886, -2.10841756, -1.80433625, -1.50025494, -1.19617364,
       -0.89209233, -0.58801103, -0.28392972,  0.02015159,  0.32423289,
        0.6283142 ]))
train/val Accuracy = 0.60825750489 / 0.57918991026 
 with threshold: [[ 289.99872523]]
============ epoch 3 ===========
training loss:		0.188693
||Xanchor-Xpos||_2  counter: 
[ 332 1404 2118 2481 2886 3265 3055 2620 1995 1419  916  532  277  114   63
   24    8    5    3    1]
||Xanchor-Xneg||_2  counter: 
[ 135  624 1009 1400 1929 2434 3095 3276 2996 2328 1766 1129  643  381  200
  112   37   16    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.2332058    69.00036936  107.76753292  146.53469648  185.30186005
  224.06902361  262.83618717  301.60335073  340.3705143   379.13767786
  417.90484142  456.67200499  495.43916855  534.20633211  572.97349567
  611.74065924  650.5078228   689.27498636  728.04214993  766.80931349
  805.57647705]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     3,     0,     4,
          15,    23,    24,    42,    83,   185,   436,  1178,  4335,
       15898,  1291]), array([-12.20242882, -11.54903289, -10.89563697, -10.24224105,
        -9.58884512,  -8.9354492 ,  -8.28205327,  -7.62865735,
        -6.97526143,  -6.3218655 ,  -5.66846958,  -5.01507365,
        -4.36167773,  -3.70828181,  -3.05488588,  -2.40148996,
        -1.74809403,  -1.09469811,  -0.44130219,   0.21209374,   0.86548966]))
||Xanchor-Xpos||_2  counter: 
[  49  190  390  593  708  948 1106 1145 1000  768  577  377  204  109   46
   26    6    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   34  106  252  460  723  930 1052 1086 1080  880  654  427  288  144
   62   35   17    6    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  68.78122711  105.87098656  142.960746    180.05050545  217.14026489
  254.23002434  291.31978378  328.40954323  365.49930267  402.58906212
  439.67882156  476.76858101  513.85834045  550.9480999   588.03785934
  625.12761879  662.21737823  699.30713768  736.39689713  773.48665657
  810.57641602]
distance difference  counter: 
(array([   4,    0,    2,    1,    3,    5,    2,   10,   21,   28,   33,
         57,  140,  190,  432,  930, 2129, 3315,  867,   77]), array([-4.53197193, -4.27367305, -4.01537416, -3.75707527, -3.49877639,
       -3.2404775 , -2.98217862, -2.72387973, -2.46558084, -2.20728196,
       -1.94898307, -1.69068419, -1.4323853 , -1.17408642, -0.91578753,
       -0.65748864, -0.39918976, -0.14089087,  0.11740801,  0.3757069 ,
        0.63400578]))
train/val Accuracy = 0.607704736797 / 0.578401649285 
 with threshold: [[ 287.26145503]]
============ epoch 4 ===========
training loss:		0.187066
||Xanchor-Xpos||_2  counter: 
[ 247 1332 2051 2429 2906 3200 3158 2575 2051 1527  930  573  288  134   69
   27   12    4    3    2]
||Xanchor-Xneg||_2  counter: 
[  93  616  925 1366 1871 2387 3018 3286 3041 2471 1811 1120  735  380  225
  109   42   11    8    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.6453495    64.13772497  102.63010044  141.12247591  179.61485138
  218.10722685  256.59960232  295.09197779  333.58435326  372.07672873
  410.56910419  449.06147966  487.55385513  526.0462306   564.53860607
  603.03098154  641.52335701  680.01573248  718.50810795  757.00048342
  795.49285889]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     2,     4,     9,
          10,    22,    26,    47,    76,   171,   446,  1217,  4496,
       15791,  1200]), array([-12.20169735, -11.54763923, -10.89358112, -10.239523  ,
        -9.58546488,  -8.93140677,  -8.27734865,  -7.62329053,
        -6.96923242,  -6.3151743 ,  -5.66111618,  -5.00705807,
        -4.35299995,  -3.69894183,  -3.04488372,  -2.3908256 ,
        -1.73676748,  -1.08270937,  -0.42865125,   0.22540687,   0.87946498]))
||Xanchor-Xpos||_2  counter: 
[  56  166  390  587  764  951 1070 1137  991  778  579  391  200   99   58
   22    4    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   31  106  268  446  723  927 1036 1122 1046  902  649  432  282  147
   61   33   19    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  68.12477875  104.86024818  141.59571762  178.33118706  215.06665649
  251.80212593  288.53759537  325.2730648   362.00853424  398.74400368
  435.47947311  472.21494255  508.95041199  545.68588142  582.42135086
  619.1568203   655.89228973  692.62775917  729.36322861  766.09869804
  802.83416748]
distance difference  counter: 
(array([   2,    2,    2,    2,    1,    7,    3,    8,   22,   27,   36,
         60,  145,  199,  492,  946, 2227, 3136,  849,   80]), array([-4.45171976, -4.19743354, -3.94314732, -3.6888611 , -3.43457488,
       -3.18028866, -2.92600244, -2.67171622, -2.41743   , -2.16314377,
       -1.90885755, -1.65457133, -1.40028511, -1.14599889, -0.89171267,
       -0.63742645, -0.38314023, -0.12885401,  0.12543221,  0.37971843,
        0.63400465]))
train/val Accuracy = 0.607725997109 / 0.580523890371 
 with threshold: [[ 284.66392946]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.867635
||Xanchor-Xpos||_2  counter: 
[ 284 1419 2180 2573 3199 3327 3114 2444 1967 1384  797  442  209  100   51
   18    7    0    3    0]
||Xanchor-Xneg||_2  counter: 
[ 110  635  993 1533 2011 2668 3253 3315 3006 2328 1586  985  548  271  170
   63   30   10    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.85695839   65.97757483  106.09819126  146.2188077   186.33942413
  226.46004057  266.58065701  306.70127344  346.82188988  386.94250631
  427.06312275  467.18373919  507.30435562  547.42497206  587.54558849
  627.66620493  667.78682137  707.9074378   748.02805424  788.14867067
  828.26928711]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     0,     3,     7,
           9,    21,    27,    41,    83,   157,   372,  1095,  3999,
       16197,  1506]), array([-12.70406342, -12.02521221, -11.34636101, -10.66750981,
        -9.98865861,  -9.3098074 ,  -8.6309562 ,  -7.952105  ,
        -7.2732538 ,  -6.5944026 ,  -5.91555139,  -5.23670019,
        -4.55784899,  -3.87899779,  -3.20014659,  -2.52129538,
        -1.84244418,  -1.16359298,  -0.48474178,   0.19410942,   0.87296063]))
||Xanchor-Xpos||_2  counter: 
[  71  228  428  649  868  993 1175 1132  976  682  494  277  160   66   28
   12    7    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   43  137  323  530  820  984 1122 1152 1018  824  548  371  201   92
   41   20    8    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  69.11315155  105.52930794  141.94546432  178.36162071  214.7777771
  251.19393349  287.61008987  324.02624626  360.44240265  396.85855904
  433.27471542  469.69087181  506.1070282   542.52318459  578.93934097
  615.35549736  651.77165375  688.18781013  724.60396652  761.02012291
  797.4362793 ]
distance difference  counter: 
(array([   4,    1,    0,    0,    5,    0,    6,   12,   13,   19,   34,
         54,  108,  198,  387,  810, 1901, 3375, 1190,  129]), array([-4.58703613, -4.32804794, -4.06905975, -3.81007156, -3.55108337,
       -3.29209518, -3.03310699, -2.7741188 , -2.51513062, -2.25614243,
       -1.99715424, -1.73816605, -1.47917786, -1.22018967, -0.96120148,
       -0.70221329, -0.4432251 , -0.18423691,  0.07475128,  0.33373947,
        0.59272766]))
train/val Accuracy = 0.607088187771 / 0.582464225079 
 with threshold: [[ 285.65662816]]
============ epoch 1 ===========
training loss:		1.721062
||Xanchor-Xpos||_2  counter: 
[ 234 1245 1987 2348 2756 3140 3018 2611 2146 1622 1047  666  359  172   99
   43   13    7    4    1]
||Xanchor-Xneg||_2  counter: 
[  95  562  894 1289 1767 2196 2946 3130 3005 2567 1971 1262  843  473  281
  125   72   25    7    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  23.76638603   57.83779879   91.90921154  125.98062429  160.05203705
  194.1234498   228.19486256  262.26627531  296.33768806  330.40910082
  364.48051357  398.55192633  432.62333908  466.69475183  500.76616459
  534.83757734  568.9089901   602.98040285  637.05181561  671.12322836
  705.19464111]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     4,     4,    11,    17,
          21,    31,    45,    80,   134,   290,   708,  1789,  6519,
       13324,   539]), array([-10.3019886 ,  -9.74321313,  -9.18443766,  -8.62566218,
        -8.06688671,  -7.50811124,  -6.94933577,  -6.39056029,
        -5.83178482,  -5.27300935,  -4.71423388,  -4.1554584 ,
        -3.59668293,  -3.03790746,  -2.47913198,  -1.92035651,
        -1.36158104,  -0.80280557,  -0.24403009,   0.31474538,   0.87352085]))
||Xanchor-Xpos||_2  counter: 
[  63  220  397  654  868 1012 1150 1115  970  718  515  282  150   83   31
   13    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   41  133  299  547  789  982 1156 1164 1003  789  580  388  198  100
   43   25    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  60.38655853   93.57906227  126.77156601  159.96406975  193.15657349
  226.34907722  259.54158096  292.7340847   325.92658844  359.11909218
  392.31159592  425.50409966  458.69660339  491.88910713  525.08161087
  558.27411461  591.46661835  624.65912209  657.85162582  691.04412956
  724.2366333 ]
distance difference  counter: 
(array([   1,    0,    0,    2,    1,    2,    4,    7,    3,   10,   18,
         31,   55,  138,  246,  622, 1492, 3702, 1782,  130]), array([-5.5484786 , -5.2386824 , -4.92888619, -4.61908998, -4.30929377,
       -3.99949756, -3.68970135, -3.37990515, -3.07010894, -2.76031273,
       -2.45051652, -2.14072031, -1.83092411, -1.5211279 , -1.21133169,
       -0.90153548, -0.59173927, -0.28194306,  0.02785314,  0.33764935,
        0.64744556]))
train/val Accuracy = 0.606662981546 / 0.584647101625 
 with threshold: [[ 259.39518297]]
============ epoch 2 ===========
training loss:		1.600164
||Xanchor-Xpos||_2  counter: 
[ 432 1553 2208 2629 3060 3270 3023 2460 1911 1332  785  453  212  108   52
   18    7    2    2    1]
||Xanchor-Xneg||_2  counter: 
[ 179  664 1049 1512 2044 2614 3219 3247 2984 2285 1564 1005  549  324  152
   80   33    9    1    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.20814133   59.5999773    91.99181328  124.38364925  156.77548523
  189.16732121  221.55915718  253.95099316  286.34282913  318.73466511
  351.12650108  383.51833706  415.91017303  448.30200901  480.69384499
  513.08568096  545.47751694  577.86935291  610.26118889  642.65302486
  675.04486084]
distance difference  counter: 
(array([    1,     0,     1,     3,     8,     3,    10,    20,    11,
          26,    38,    55,   122,   206,   391,   929,  2405,  8110,
       10837,   342]), array([-9.28787994, -8.77980964, -8.27173934, -7.76366904, -7.25559874,
       -6.74752843, -6.23945813, -5.73138783, -5.22331753, -4.71524723,
       -4.20717692, -3.69910662, -3.19103632, -2.68296602, -2.17489572,
       -1.66682541, -1.15875511, -0.65068481, -0.14261451,  0.36545579,
        0.8735261 ]))
||Xanchor-Xpos||_2  counter: 
[  78  237  465  700  918 1096 1189 1151  913  641  433  229  118   49   23
    5    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   46  161  344  608  896 1052 1189 1149 1012  730  508  292  142   66
   25   11    4    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  56.13758469   87.3056078   118.47363091  149.64165401  180.80967712
  211.97770023  243.14572334  274.31374645  305.48176956  336.64979267
  367.81781578  398.98583889  430.153862    461.32188511  492.48990822
  523.65793133  554.82595444  585.99397755  617.16200066  648.33002377
  679.49804688]
distance difference  counter: 
(array([   1,    2,    1,    1,    4,    3,    8,   12,   12,   22,   38,
         62,  110,  189,  395,  859, 2037, 3359, 1047,   84]), array([-4.65273666, -4.38860712, -4.12447758, -3.86034803, -3.59621849,
       -3.33208895, -3.0679594 , -2.80382986, -2.53970032, -2.27557077,
       -2.01144123, -1.74731169, -1.48318214, -1.2190526 , -0.95492306,
       -0.69079351, -0.42666397, -0.16253443,  0.10159512,  0.36572466,
        0.6298542 ]))
train/val Accuracy = 0.608512628625 / 0.583434392433 
 with threshold: [[ 235.48883355]]
============ epoch 3 ===========
training loss:		1.500444
||Xanchor-Xpos||_2  counter: 
[ 287 1404 2150 2563 3046 3299 3102 2547 1987 1389  843  453  246  110   60
   18    5    4    4    1]
||Xanchor-Xneg||_2  counter: 
[ 110  622  981 1510 1981 2522 3268 3310 2929 2361 1672 1050  570  339  167
   70   39    9    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  19.84195328   49.50487881   79.16780434  108.83072987  138.4936554
  168.15658092  197.81950645  227.48243198  257.14535751  286.80828304
  316.47120857  346.1341341   375.79705963  405.45998516  435.12291069
  464.78583622  494.44876175  524.11168728  553.77461281  583.43753834
  613.10046387]
distance difference  counter: 
(array([   1,    1,    5,    2,    6,    9,   18,   15,   32,   30,   56,
         83,  140,  255,  543, 1184, 3083, 9745, 8101,  209]), array([-8.38643837, -7.9234489 , -7.46045942, -6.99746995, -6.53448048,
       -6.071491  , -5.60850153, -5.14551206, -4.68252258, -4.21953311,
       -3.75654364, -3.29355416, -2.83056469, -2.36757522, -1.90458574,
       -1.44159627, -0.9786068 , -0.51561732, -0.05262785,  0.41036162,
        0.8733511 ]))
||Xanchor-Xpos||_2  counter: 
[  69  207  479  667  936 1085 1207 1156  932  632  467  225  109   49   23
    2    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   48  140  322  599  876 1070 1224 1143  998  735  531  300  139   67
   32   11    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  49.19379807   77.59041004  105.98702202  134.383634    162.78024597
  191.17685795  219.57346992  247.9700819   276.36669388  304.76330585
  333.15991783  361.55652981  389.95314178  418.34975376  446.74636574
  475.14297771  503.53958969  531.93620167  560.33281364  588.72942562
  617.1260376 ]
distance difference  counter: 
(array([   1,    0,    2,    4,    0,    1,    1,    3,   11,   15,   25,
         26,   58,  144,  245,  608, 1486, 3646, 1837,  133]), array([-5.41152477, -5.10978839, -4.80805201, -4.50631563, -4.20457925,
       -3.90284286, -3.60110648, -3.2993701 , -2.99763372, -2.69589734,
       -2.39416096, -2.09242457, -1.79068819, -1.48895181, -1.18721543,
       -0.88547905, -0.58374267, -0.28200628,  0.0197301 ,  0.32146648,
        0.62320286]))
train/val Accuracy = 0.607109448082 / 0.583373756973 
 with threshold: [[ 213.91931411]]
============ epoch 4 ===========
training loss:		1.418192
||Xanchor-Xpos||_2  counter: 
[ 246 1310 2060 2445 2905 3204 3074 2632 2116 1465  948  569  290  133   72
   32    9    5    1    2]
||Xanchor-Xneg||_2  counter: 
[  86  602  949 1329 1902 2369 3053 3266 3042 2481 1748 1216  718  387  209
   90   41   22    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.17366409   43.49544964   69.81723518   96.13902073  122.46080627
  148.78259182  175.10437737  201.42616291  227.74794846  254.069734
  280.39151955  306.71330509  333.03509064  359.35687618  385.67866173
  412.00044727  438.32223282  464.64401836  490.96580391  517.28758945
  543.609375  ]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     3,     3,     4,     9,
          22,    20,    39,    50,    97,   209,   520,  1389,  5084,
       15133,   935]), array([-11.49279785, -10.87461012, -10.25642239,  -9.63823466,
        -9.02004693,  -8.40185919,  -7.78367146,  -7.16548373,
        -6.547296  ,  -5.92910827,  -5.31092054,  -4.69273281,
        -4.07454507,  -3.45635734,  -2.83816961,  -2.21998188,
        -1.60179415,  -0.98360642,  -0.36541868,   0.25276905,   0.87095678]))
||Xanchor-Xpos||_2  counter: 
[  73  217  425  641  834 1027 1115 1127  990  712  512  298  153   72   32
   13    3    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   41  152  292  497  843  969 1150 1130 1034  791  592  370  193  103
   44   26    8    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.30780792   71.03930779   95.77080765  120.50230751  145.23380737
  169.96530724  194.6968071   219.42830696  244.15980682  268.89130669
  293.62280655  318.35430641  343.08580627  367.81730614  392.548806
  417.28030586  442.01180573  466.74330559  491.47480545  516.20630531
  540.93780518]
distance difference  counter: 
(array([   1,    1,    2,    3,    1,    5,    3,   13,   15,   21,   39,
         65,   94,  191,  384,  793, 1858, 3332, 1283,  142]), array([-4.57591915, -4.31781141, -4.05970366, -3.80159591, -3.54348817,
       -3.28538042, -3.02727268, -2.76916493, -2.51105719, -2.25294944,
       -1.99484169, -1.73673395, -1.4786262 , -1.22051846, -0.96241071,
       -0.70430297, -0.44619522, -0.18808748,  0.07002027,  0.32812802,
        0.58623576]))
train/val Accuracy = 0.606173994387 / 0.583131215135 
 with threshold: [[ 194.35162718]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019389
||Xanchor-Xpos||_2  counter: 
[ 410 1445 2052 2498 2915 3183 3002 2530 2000 1431  974  524  295  135   76
   25   13    7    2    0]
||Xanchor-Xneg||_2  counter: 
[ 168  624  982 1411 1893 2381 2982 3255 2951 2426 1734 1176  713  402  229
  109   48   21    7    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  34.71479416   73.98458729  113.25438042  152.52417355  191.79396667
  231.0637598   270.33355293  309.60334606  348.87313919  388.14293232
  427.41272545  466.68251858  505.95231171  545.22210484  584.49189796
  623.76169109  663.03148422  702.30127735  741.57107048  780.84086361
  820.11065674]
distance difference  counter: 
(array([    1,     0,     0,     0,     6,    11,    10,    19,    13,
          22,    41,    62,   107,   191,   417,   933,  2295,  8026,
       11011,   353]), array([-9.32060909, -8.81108555, -8.30156201, -7.79203846, -7.28251492,
       -6.77299137, -6.26346783, -5.75394429, -5.24442074, -4.7348972 ,
       -4.22537366, -3.71585011, -3.20632657, -2.69680302, -2.18727948,
       -1.67775594, -1.16823239, -0.65870885, -0.14918531,  0.36033824,
        0.86986178]))
||Xanchor-Xpos||_2  counter: 
[  55  192  414  641  830 1050 1125 1116  933  745  535  300  175   78   43
    9    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   35  129  296  507  781  974 1116 1135 1053  841  577  389  211  110
   47   24   10    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  70.51428986  110.20090752  149.88752518  189.57414284  229.2607605
  268.94737816  308.63399582  348.32061348  388.00723114  427.6938488
  467.38046646  507.06708412  546.75370178  586.44031944  626.1269371
  665.81355476  705.50017242  745.18679008  784.87340775  824.56002541
  864.24664307]
distance difference  counter: 
(array([   2,    0,    1,    1,    0,    0,    3,    6,   12,   13,   23,
         43,   68,  128,  256,  621, 1570, 3584, 1765,  150]), array([-5.37330055, -5.07323871, -4.77317686, -4.47311502, -4.17305317,
       -3.87299132, -3.57292948, -3.27286763, -2.97280579, -2.67274394,
       -2.37268209, -2.07262025, -1.7725584 , -1.47249656, -1.17243471,
       -0.87237287, -0.57231102, -0.27224917,  0.02781267,  0.32787452,
        0.62793636]))
train/val Accuracy = 0.61029849477 / 0.579553723017 
 with threshold: [[ 296.31821734]]
============ epoch 1 ===========
training loss:		0.019216
||Xanchor-Xpos||_2  counter: 
[ 245 1315 1980 2408 2905 3179 3044 2644 2085 1535  989  574  318  172   71
   27   15    7    2    3]
||Xanchor-Xneg||_2  counter: 
[  87  596  900 1349 1830 2320 2965 3255 3035 2470 1856 1228  792  386  243
  125   47   22    4    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.00015068   66.1967557   105.39336071  144.58996572  183.78657074
  222.98317575  262.17978077  301.37638578  340.5729908   379.76959581
  418.96620083  458.16280584  497.35941086  536.55601587  575.75262089
  614.9492259   654.14583092  693.34243593  732.53904095  771.73564596
  810.93225098]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     1,     5,     8,
          16,    22,    33,    54,    95,   209,   467,  1275,  4855,
       15444,  1032]), array([-11.76365471, -11.13202898, -10.50040324,  -9.86877751,
        -9.23715178,  -8.60552604,  -7.97390031,  -7.34227458,
        -6.71064885,  -6.07902311,  -5.44739738,  -4.81577165,
        -4.18414592,  -3.55252018,  -2.92089445,  -2.28926872,
        -1.65764298,  -1.02601725,  -0.39439152,   0.23723421,   0.86885995]))
||Xanchor-Xpos||_2  counter: 
[  70  199  396  637  806  932 1080 1121  979  720  552  365  198  113   52
   18    4    3    1    0]
||Xanchor-Xneg||_2  counter: 
[   7   46  136  262  492  742  905 1055 1114 1024  880  643  395  275  155
   60   30   19    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  74.86437225  112.6628376   150.46130295  188.2597683   226.05823364
  263.85669899  301.65516434  339.45362968  377.25209503  415.05056038
  452.84902573  490.64749107  528.44595642  566.24442177  604.04288712
  641.84135246  679.63981781  717.43828316  755.2367485   793.03521385
  830.8336792 ]
distance difference  counter: 
(array([   1,    0,    3,    0,    1,    1,    5,    4,   10,   12,   27,
         44,   71,  142,  281,  631, 1588, 3570, 1698,  157]), array([-5.16957092, -4.88079078, -4.59201063, -4.30323048, -4.01445034,
       -3.72567019, -3.43689004, -3.14810989, -2.85932975, -2.5705496 ,
       -2.28176945, -1.99298931, -1.70420916, -1.41542901, -1.12664887,
       -0.83786872, -0.54908857, -0.26030843,  0.02847172,  0.31725187,
        0.60603201]))
train/val Accuracy = 0.607853558976 / 0.579311181179 
 with threshold: [[ 293.56503959]]
============ epoch 2 ===========
training loss:		0.019047
||Xanchor-Xpos||_2  counter: 
[ 257 1315 2086 2448 2937 3180 3074 2628 2052 1492  955  549  297  128   69
   30   14    4    2    1]
||Xanchor-Xneg||_2  counter: 
[  95  603  937 1368 1871 2426 3013 3279 2994 2471 1785 1179  712  391  214
  104   50   16    7    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.75906944   65.99351282  105.2279562   144.46239958  183.69684296
  222.93128633  262.16572971  301.40017309  340.63461647  379.86905985
  419.10350323  458.33794661  497.57238998  536.80683336  576.04127674
  615.27572012  654.5101635   693.74460688  732.97905025  772.21349363
  811.44793701]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     2,     2,     6,     5,
          20,    22,    31,    56,    97,   220,   456,  1363,  4977,
       15259,  1000]), array([-11.6277113 , -11.00288344, -10.37805558,  -9.75322773,
        -9.12839987,  -8.50357202,  -7.87874416,  -7.25391631,
        -6.62908845,  -6.00426059,  -5.37943274,  -4.75460488,
        -4.12977703,  -3.50494917,  -2.88012131,  -2.25529346,
        -1.6304656 ,  -1.00563775,  -0.38080989,   0.24401796,   0.86884582]))
||Xanchor-Xpos||_2  counter: 
[  61  197  384  591  766  966 1084 1099 1005  783  543  380  202  112   49
   16    5    2    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   31  123  255  468  752  877 1077 1101 1044  893  648  427  280  132
   76   33   15    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  71.31687927  108.89795609  146.4790329   184.06010971  221.64118652
  259.22226334  296.80334015  334.38441696  371.96549377  409.54657059
  447.1276474   484.70872421  522.28980103  559.87087784  597.45195465
  635.03303146  672.61410828  710.19518509  747.7762619   785.35733871
  822.93841553]
distance difference  counter: 
(array([   1,    0,    2,    2,    0,    3,    2,    6,   10,   12,   26,
         32,   73,  144,  315,  648, 1672, 3695, 1492,  111]), array([-5.2847476 , -4.98827865, -4.69180971, -4.39534076, -4.09887182,
       -3.80240287, -3.50593392, -3.20946498, -2.91299603, -2.61652708,
       -2.32005814, -2.02358919, -1.72712024, -1.4306513 , -1.13418235,
       -0.83771341, -0.54124446, -0.24477551,  0.05169343,  0.34816238,
        0.64463133]))
train/val Accuracy = 0.607492133685 / 0.579008003881 
 with threshold: [[ 290.55955452]]
============ epoch 3 ===========
training loss:		0.018881
||Xanchor-Xpos||_2  counter: 
[ 243 1295 1991 2467 2823 3144 3095 2658 2087 1519 1000  597  316  147   82
   30   12    8    2    1]
||Xanchor-Xneg||_2  counter: 
[  88  582  926 1352 1802 2311 2904 3277 3026 2508 1869 1228  788  398  255
  119   49   23    9    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.43807411   64.82977819  103.22148228  141.61318636  180.00489044
  218.39659452  256.78829861  295.18000269  333.57170677  371.96341085
  410.35511494  448.74681902  487.1385231   525.53022718  563.92193127
  602.31363535  640.70533943  679.09704351  717.4887476   755.88045168
  794.27215576]
distance difference  counter: 
(array([    1,     1,     1,     1,     4,     9,     7,    20,    19,
          28,    25,    69,   110,   190,   404,   903,  2365,  7902,
       11103,   356]), array([-9.32771683, -8.8178383 , -8.30795977, -7.79808124, -7.28820271,
       -6.77832419, -6.26844566, -5.75856713, -5.2486886 , -4.73881007,
       -4.22893155, -3.71905302, -3.20917449, -2.69929596, -2.18941743,
       -1.67953891, -1.16966038, -0.65978185, -0.14990332,  0.35997521,
        0.86985373]))
||Xanchor-Xpos||_2  counter: 
[  56  210  426  645  876 1071 1176 1146  928  696  488  274  153   67   21
   10    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   37  144  315  536  869  949 1144 1193 1024  814  526  347  185   94
   34   17    6    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  68.51972198  107.88112907  147.24253616  186.60394325  225.96535034
  265.32675743  304.68816452  344.04957161  383.4109787   422.77238579
  462.13379288  501.49519997  540.85660706  580.21801414  619.57942123
  658.94082832  698.30223541  737.6636425   777.02504959  816.38645668
  855.74786377]
distance difference  counter: 
(array([   1,    0,    1,    0,    4,    0,    2,    3,   11,   11,   23,
         27,   52,  117,  220,  531, 1378, 3410, 2247,  208]), array([-5.57356358, -5.26458555, -4.95560752, -4.64662949, -4.33765146,
       -4.02867343, -3.7196954 , -3.41071737, -3.10173934, -2.7927613 ,
       -2.48378327, -2.17480524, -1.86582721, -1.55684918, -1.24787115,
       -0.93889312, -0.62991509, -0.32093706, -0.01195903,  0.297019  ,
        0.60599703]))
train/val Accuracy = 0.608491368314 / 0.577916565608 
 with threshold: [[ 287.89399454]]
============ epoch 4 ===========
training loss:		0.018719
||Xanchor-Xpos||_2  counter: 
[ 275 1321 2002 2358 2793 3156 3074 2628 2030 1586 1054  593  355  147   82
   40   10    6    6    0]
||Xanchor-Xneg||_2  counter: 
[ 102  583  912 1329 1808 2255 2878 3239 2938 2563 1892 1296  808  421  254
  141   62   24    7    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.92681885   65.49493103  103.06304321  140.6311554   178.19926758
  215.76737976  253.33549194  290.90360413  328.47171631  366.03982849
  403.60794067  441.17605286  478.74416504  516.31227722  553.8803894
  591.44850159  629.01661377  666.58472595  704.15283813  741.72095032
  779.2890625 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     1,     3,     3,
           9,    24,    17,    51,    71,   173,   365,  1050,  4102,
       16216,  1432]), array([-12.7822113 , -12.09902695, -11.41584259, -10.73265824,
       -10.04947388,  -9.36628953,  -8.68310517,  -7.99992082,
        -7.31673646,  -6.6335521 ,  -5.95036775,  -5.26718339,
        -4.58399904,  -3.90081468,  -3.21763033,  -2.53444597,
        -1.85126162,  -1.16807726,  -0.4848929 ,   0.19829145,   0.88147581]))
||Xanchor-Xpos||_2  counter: 
[  59  203  370  605  770  977 1107 1126  983  758  514  391  202   96   59
   14    8    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   45  113  269  466  753  894 1062 1119 1022  889  635  416  282  149
   68   35   13    6    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  71.03133392  107.84687538  144.66241684  181.4779583   218.29349976
  255.10904121  291.92458267  328.74012413  365.55566559  402.37120705
  439.1867485   476.00228996  512.81783142  549.63337288  586.44891434
  623.2644558   660.07999725  696.89553871  733.71108017  770.52662163
  807.34216309]
distance difference  counter: 
(array([   2,    0,    1,    1,    0,    3,    2,   10,    8,   13,   26,
         40,   68,  127,  284,  591, 1496, 3548, 1858,  168]), array([-5.27029419, -4.97648043, -4.68266668, -4.38885292, -4.09503917,
       -3.80122541, -3.50741165, -3.2135979 , -2.91978414, -2.62597038,
       -2.33215663, -2.03834287, -1.74452912, -1.45071536, -1.1569016 ,
       -0.86308785, -0.56927409, -0.27546034,  0.01835342,  0.31216718,
        0.60598093]))
train/val Accuracy = 0.60910791734 / 0.578401649285 
 with threshold: [[ 285.06795999]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.186719
||Xanchor-Xpos||_2  counter: 
[ 236 1278 1995 2433 2793 3172 3061 2654 2126 1532  999  610  349  143   70
   39   20    5    1    2]
||Xanchor-Xneg||_2  counter: 
[  86  583  874 1332 1830 2312 3006 3221 2998 2553 1842 1211  789  414  245
  128   55   26    7    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.66490555   63.60694103  101.54897652  139.491012    177.43304749
  215.37508297  253.31711845  291.25915394  329.20118942  367.14322491
  405.08526039  443.02729588  480.96933136  518.91136684  556.85340233
  594.79543781  632.7374733   670.67950878  708.62154427  746.56357975
  784.50561523]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     1,     2,     5,
          10,    16,    35,    42,    76,   158,   405,  1087,  4150,
       16168,  1362]), array([-12.62613487, -11.95068522, -11.27523556, -10.59978591,
        -9.92433625,  -9.2488866 ,  -8.57343695,  -7.89798729,
        -7.22253764,  -6.54708798,  -5.87163833,  -5.19618867,
        -4.52073902,  -3.84528936,  -3.16983971,  -2.49439006,
        -1.8189404 ,  -1.14349075,  -0.46804109,   0.20740856,   0.88285822]))
||Xanchor-Xpos||_2  counter: 
[  54  182  374  604  762  942 1115 1127  982  796  553  382  209   79   57
   23    3    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   38  109  262  454  722  923 1066 1109 1061  870  671  432  267  144
   62   32   14    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  64.3033371    99.57987251  134.85640793  170.13294334  205.40947876
  240.68601418  275.96254959  311.23908501  346.51562042  381.79215584
  417.06869125  452.34522667  487.62176208  522.8982975   558.17483292
  593.45136833  628.72790375  664.00443916  699.28097458  734.55750999
  769.83404541]
distance difference  counter: 
(array([   1,    1,    0,    1,    1,    1,    3,    5,    8,   17,   21,
         32,   77,  131,  277,  630, 1615, 3613, 1679,  133]), array([-5.34231615, -5.04352228, -4.7447284 , -4.44593453, -4.14714066,
       -3.84834678, -3.54955291, -3.25075904, -2.95196517, -2.65317129,
       -2.35437742, -2.05558355, -1.75678967, -1.4579958 , -1.15920193,
       -0.86040805, -0.56161418, -0.26282031,  0.03597357,  0.33476744,
        0.63356131]))
train/val Accuracy = 0.607003146526 / 0.582524860538 
 with threshold: [[ 284.77551958]]
============ epoch 1 ===========
training loss:		0.172073
||Xanchor-Xpos||_2  counter: 
[ 320 1498 2285 2718 3310 3404 3017 2563 1838 1158  760  350  163   76   40
   11    3    2    2    0]
||Xanchor-Xneg||_2  counter: 
[ 127  650 1074 1588 2184 2797 3421 3430 2914 2168 1397  850  462  256  124
   48   18    7    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  24.31232643   61.47084646   98.62936649  135.78788652  172.94640656
  210.10492659  247.26344662  284.42196665  321.58048668  358.73900671
  395.89752674  433.05604677  470.2145668   507.37308683  544.53160686
  581.6901269   618.84864693  656.00716696  693.16568699  730.32420702
  767.48272705]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     0,     1,     6,
          13,    16,    33,    42,    81,   157,   383,  1056,  4055,
       16186,  1488]), array([-12.62078381, -11.9463031 , -11.2718224 , -10.5973417 ,
        -9.92286099,  -9.24838029,  -8.57389959,  -7.89941888,
        -7.22493818,  -6.55045747,  -5.87597677,  -5.20149607,
        -4.52701536,  -3.85253466,  -3.17805396,  -2.50357325,
        -1.82909255,  -1.15461185,  -0.48013114,   0.19434956,   0.86883026]))
||Xanchor-Xpos||_2  counter: 
[  54  169  373  547  731  868 1087 1076 1030  817  601  405  254  126   69
   27    8    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   4   35   98  230  421  651  891 1031 1054 1077  912  684  484  340  172
   97   40   17    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.40760803   89.62267685  120.83774567  152.05281448  183.2678833
  214.48295212  245.69802094  276.91308975  308.12815857  339.34322739
  370.5582962   401.77336502  432.98843384  464.20350266  495.41857147
  526.63364029  557.84870911  589.06377792  620.27884674  651.49391556
  682.70898438]
distance difference  counter: 
(array([   1,    1,    1,    0,    3,    3,    4,   12,    7,   15,   18,
         38,   83,  151,  270,  689, 1692, 3660, 1493,  105]), array([-5.21881723, -4.92595813, -4.63309903, -4.34023992, -4.04738082,
       -3.75452171, -3.46166261, -3.1688035 , -2.8759444 , -2.5830853 ,
       -2.29022619, -1.99736709, -1.70450798, -1.41164888, -1.11878977,
       -0.82593067, -0.53307157, -0.24021246,  0.05264664,  0.34550575,
        0.63836485]))
train/val Accuracy = 0.607428352751 / 0.583737569731 
 with threshold: [[ 258.50191213]]
============ epoch 2 ===========
training loss:		0.159993
||Xanchor-Xpos||_2  counter: 
[ 272 1380 2095 2554 3053 3270 3075 2596 1987 1421  843  545  216  124   45
   26    9    3    3    1]
||Xanchor-Xneg||_2  counter: 
[ 100  618  973 1431 1965 2513 3176 3320 3015 2367 1635 1116  630  332  195
   71   37   16    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  21.68657303   54.01362438   86.34067574  118.66772709  150.99477844
  183.3218298   215.64888115  247.9759325   280.30298386  312.63003521
  344.95708656  377.28413792  409.61118927  441.93824062  474.26529198
  506.59234333  538.91939468  571.24644604  603.57349739  635.90054874
  668.2276001 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     4,     3,     5,
          14,    25,    34,    43,    91,   199,   462,  1224,  4613,
       15656,  1143]), array([-11.96922684, -11.32732297, -10.68541909, -10.04351522,
        -9.40161135,  -8.75970748,  -8.11780361,  -7.47589974,
        -6.83399587,  -6.192092  ,  -5.55018812,  -4.90828425,
        -4.26638038,  -3.62447651,  -2.98257264,  -2.34066877,
        -1.6987649 ,  -1.05686103,  -0.41495715,   0.22694672,   0.86885059]))
||Xanchor-Xpos||_2  counter: 
[  64  184  369  575  756  932 1037 1125  959  795  576  410  246  119   63
   26    9    0    0    1]
||Xanchor-Xneg||_2  counter: 
[   8   33  111  256  431  705  896  987 1107 1007  914  685  481  308  153
   89   48   15    9    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  57.14402771   85.2929451   113.44186249  141.59077988  169.73969727
  197.88861465  226.03753204  254.18644943  282.33536682  310.48428421
  338.6332016   366.78211899  394.93103638  423.07995377  451.22887115
  479.37778854  507.52670593  535.67562332  563.82454071  591.9734581
  620.12237549]
distance difference  counter: 
(array([   1,    0,    2,    3,    2,    2,    7,    8,    4,   26,   29,
         34,   94,  181,  356,  780, 1837, 3580, 1196,  104]), array([-4.90378952, -4.62692098, -4.35005243, -4.07318389, -3.79631535,
       -3.51944681, -3.24257826, -2.96570972, -2.68884118, -2.41197263,
       -2.13510409, -1.85823555, -1.581367  , -1.30449846, -1.02762992,
       -0.75076137, -0.47389283, -0.19702429,  0.07984425,  0.3567128 ,
        0.63358134]))
train/val Accuracy = 0.607300790884 / 0.583313121513 
 with threshold: [[ 234.86144235]]
============ epoch 3 ===========
training loss:		0.150029
||Xanchor-Xpos||_2  counter: 
[ 252 1341 2051 2542 2991 3258 3092 2626 1983 1450  899  529  265  136   60
   28    7    4    4    0]
||Xanchor-Xneg||_2  counter: 
[ 100  606  927 1398 1940 2416 3167 3256 3085 2425 1702 1103  661  359  220
   83   42   19    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  19.22880745   48.36268263   77.49655781  106.63043299  135.76430817
  164.89818335  194.03205853  223.1659337   252.29980888  281.43368406
  310.56755924  339.70143442  368.8353096   397.96918478  427.10305996
  456.23693514  485.37081032  514.5046855   543.63856068  572.77243586
  601.90631104]
distance difference  counter: 
(array([   1,    1,    2,    4,    5,    8,    8,   19,   20,   39,   34,
         73,  114,  237,  481, 1040, 2667, 8891, 9604,  270]), array([-8.83243275, -8.34722984, -7.86202693, -7.37682402, -6.89162111,
       -6.4064182 , -5.9212153 , -5.43601239, -4.95080948, -4.46560657,
       -3.98040366, -3.49520075, -3.00999784, -2.52479494, -2.03959203,
       -1.55438912, -1.06918621, -0.5839833 , -0.09878039,  0.38642251,
        0.87162542]))
||Xanchor-Xpos||_2  counter: 
[  54  155  371  580  764  863 1062 1128  982  803  590  409  255  129   60
   31   10    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   27  102  245  410  686  895  984 1132 1029  882  732  483  300  157
  103   41   15   10    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  49.06299591   74.774226    100.48545609  126.19668617  151.90791626
  177.61914635  203.33037643  229.04160652  254.75283661  280.4640667
  306.17529678  331.88652687  357.59775696  383.30898705  409.02021713
  434.73144722  460.44267731  486.15390739  511.86513748  537.57636757
  563.28759766]
distance difference  counter: 
(array([   1,    0,    0,    2,    1,    2,    2,    6,    9,   10,   22,
         35,   50,  130,  260,  565, 1462, 3641, 1905,  143]), array([-5.47707796, -5.17181777, -4.86655759, -4.5612974 , -4.25603721,
       -3.95077702, -3.64551684, -3.34025665, -3.03499646, -2.72973627,
       -2.42447609, -2.1192159 , -1.81395571, -1.50869552, -1.20343534,
       -0.89817515, -0.59291496, -0.28765478,  0.01760541,  0.3228656 ,
        0.62812579]))
train/val Accuracy = 0.608618930181 / 0.584162017948 
 with threshold: [[ 213.25719824]]
============ epoch 4 ===========
training loss:		0.141810
||Xanchor-Xpos||_2  counter: 
[ 202 1247 1908 2419 2821 3174 3016 2613 2140 1598 1084  628  364  156   73
   51   11    7    3    3]
||Xanchor-Xneg||_2  counter: 
[  77  562  849 1302 1826 2216 2877 3234 3070 2536 1893 1286  806  476  278
  121   67   25   10    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  16.79871178   42.44479609   68.09088039   93.7369647   119.38304901
  145.02913332  170.67521763  196.32130194  221.96738625  247.61347055
  273.25955486  298.90563917  324.55172348  350.19780779  375.8438921
  401.48997641  427.13606071  452.78214502  478.42822933  504.07431364
  529.72039795]
distance difference  counter: 
(array([    1,     0,     0,     0,     2,     4,     7,    10,    15,
          20,    30,    46,    88,   144,   313,   673,  1879,  6644,
       13128,   514]), array([-10.20918083,  -9.65517163,  -9.10116243,  -8.54715323,
        -7.99314404,  -7.43913484,  -6.88512564,  -6.33111644,
        -5.77710724,  -5.22309804,  -4.66908884,  -4.11507964,
        -3.56107044,  -3.00706124,  -2.45305204,  -1.89904284,
        -1.34503365,  -0.79102445,  -0.23701525,   0.31699395,   0.87100315]))
||Xanchor-Xpos||_2  counter: 
[  53  177  348  579  717  926 1036 1086 1017  812  584  438  234  137   64
   25   11    1    0    1]
||Xanchor-Xneg||_2  counter: 
[   7   30   99  233  413  695  866 1050 1077 1057  913  671  494  302  162
  110   33   20   12    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.56214142   67.91811485   91.27408829  114.63006172  137.98603516
  161.34200859  184.69798203  208.05395546  231.40992889  254.76590233
  278.12187576  301.4778492   324.83382263  348.18979607  371.5457695
  394.90174294  418.25771637  441.6136898   464.96966324  488.32563667
  511.68161011]
distance difference  counter: 
(array([   2,    0,    2,    0,    2,    3,    4,    7,   14,   16,   30,
         50,   84,  166,  363,  731, 1720, 3572, 1366,  114]), array([-4.90798378, -4.63169499, -4.35540621, -4.07911742, -3.80282863,
       -3.52653985, -3.25025106, -2.97396227, -2.69767349, -2.4213847 ,
       -2.14509591, -1.86880713, -1.59251834, -1.31622956, -1.03994077,
       -0.76365198, -0.4873632 , -0.21107441,  0.06521438,  0.34150316,
        0.61779195]))
train/val Accuracy = 0.608236244579 / 0.585071549842 
 with threshold: [[ 193.86594167]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.454057
||Xanchor-Xpos||_2  counter: 
[ 899 2660 3582 3898 3493 2764 2004 1397 1051  709  437  279  161   98   40
   23   12    7    3    0]
||Xanchor-Xneg||_2  counter: 
[ 402 1264 2237 3266 3515 3213 2732 2056 1523 1131  824  497  361  227  124
   67   45   21   10    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.95639229   52.24899626   86.54160023  120.8342042   155.12680817
  189.41941214  223.71201611  258.00462008  292.29722404  326.58982801
  360.88243198  395.17503595  429.46763992  463.76024389  498.05284786
  532.34545183  566.6380558   600.93065977  635.22326374  669.51586771
  703.80847168]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     0,     8,     9,
          19,    19,    36,    49,   103,   228,   509,  1341,  5017,
       15192,   986]), array([-11.53913593, -10.91880856, -10.29848118,  -9.67815381,
        -9.05782644,  -8.43749906,  -7.81717169,  -7.19684431,
        -6.57651694,  -5.95618956,  -5.33586219,  -4.71553482,
        -4.09520744,  -3.47488007,  -2.85455269,  -2.23422532,
        -1.61389794,  -0.99357057,  -0.37324319,   0.24708418,   0.86741155]))
||Xanchor-Xpos||_2  counter: 
[  76  215  476  702  888 1104 1201 1157  901  634  455  236  126   49   19
    6    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   49  151  314  608  916 1073 1191 1138  982  749  522  279  153   69
   28    9    4    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.2851696    42.73466387   58.18415813   73.6336524    89.08314667
  104.53264093  119.9821352   135.43162947  150.88112373  166.330618
  181.78011227  197.22960653  212.6791008   228.12859507  243.57808933
  259.0275836   274.47707787  289.92657213  305.3760664   320.82556067
  336.27505493]
distance difference  counter: 
(array([   1,    0,    2,    1,    1,    3,    4,    6,    5,   17,   18,
         30,   62,  131,  271,  640, 1538, 3635, 1746,  135]), array([-5.38785028, -5.0868099 , -4.78576951, -4.48472912, -4.18368874,
       -3.88264835, -3.58160796, -3.28056757, -2.97952719, -2.6784868 ,
       -2.37744641, -2.07640603, -1.77536564, -1.47432525, -1.17328486,
       -0.87224448, -0.57120409, -0.2701637 ,  0.03087668,  0.33191707,
        0.63295746]))
train/val Accuracy = 0.579853729059 / 0.539291777832 
 with threshold: [[ 195.78361869]]
============ epoch 1 ===========
training loss:		1.089313
||Xanchor-Xpos||_2  counter: 
[1182 3235 4410 4303 3598 2492 1680 1143  634  432  217   93   60   22   12
    1    1    2    1    0]
||Xanchor-Xneg||_2  counter: 
[ 498 1672 2968 4134 3834 3288 2405 1787 1153  791  455  251  149   66   37
   19    5    4    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[   6.36104822   21.0979244    35.83480058   50.57167675   65.30855293
   80.04542911   94.78230529  109.51918147  124.25605764  138.99293382
  153.72981     168.46668618  183.20356236  197.94043853  212.67731471
  227.41419089  242.15106707  256.88794324  271.62481942  286.3616956
  301.09857178]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     4,     8,     7,
          17,    20,    39,    49,   108,   250,   461,  1370,  5166,
       15150,   868]), array([-11.50622845, -10.88687726, -10.26752607,  -9.64817488,
        -9.02882369,  -8.4094725 ,  -7.7901213 ,  -7.17077011,
        -6.55141892,  -5.93206773,  -5.31271654,  -4.69336535,
        -4.07401416,  -3.45466297,  -2.83531178,  -2.21596059,
        -1.5966094 ,  -0.97725821,  -0.35790702,   0.26144417,   0.88079536]))
||Xanchor-Xpos||_2  counter: 
[  74  231  453  711  867 1158 1168 1164  881  693  408  246  113   54   20
    4    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  11   43  155  328  593  874 1075 1202 1161 1032  737  487  281  153   70
   32    9    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  10.16595936   15.91303782   21.66011629   27.40719476   33.15427322
   38.90135169   44.64843016   50.39550862   56.14258709   61.88966556
   67.63674402   73.38382249   79.13090096   84.87797942   90.62505789
   96.37213635  102.11921482  107.86629329  113.61337175  119.36045022
  125.10752869]
distance difference  counter: 
(array([   2,    0,    0,    2,    3,    2,    2,    8,    6,   18,   18,
         41,   78,  142,  281,  639, 1635, 3654, 1587,  128]), array([-5.24560928, -4.95164936, -4.65768944, -4.36372952, -4.0697696 ,
       -3.77580968, -3.48184975, -3.18788983, -2.89392991, -2.59996999,
       -2.30601007, -2.01205015, -1.71809022, -1.4241303 , -1.13017038,
       -0.83621046, -0.54225054, -0.24829062,  0.04566931,  0.33962923,
        0.63358915]))
train/val Accuracy = 0.579471043456 / 0.538564152316 
 with threshold: [[ 72.62994086]]
============ epoch 2 ===========
training loss:		1.038953
||Xanchor-Xpos||_2  counter: 
[ 788 2845 4015 4071 3686 2713 1953 1334  931  527  325  176   87   41   16
    7    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 332 1346 2379 3558 3865 3372 2675 1963 1489  985  676  400  213  158   54
   32   11    6    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[   1.84375203    7.00290872   12.16206542   17.32122212   22.48037882
   27.63953552   32.79869221   37.95784891   43.11700561   48.27616231
   53.43531901   58.5944757    63.7536324    68.9127891    74.0719458
   79.2311025    84.39025919   89.54941589   94.70857259   99.86772929
  105.02688599]
distance difference  counter: 
(array([    1,     0,     0,     0,     7,     9,    10,     9,    15,
          28,    35,    62,    99,   195,   397,   906,  2343,  8118,
       10970,   314]), array([-9.36513042, -8.85283496, -8.34053949, -7.82824402, -7.31594856,
       -6.80365309, -6.29135762, -5.77906216, -5.26676669, -4.75447122,
       -4.24217576, -3.72988029, -3.21758482, -2.70528936, -2.19299389,
       -1.68069842, -1.16840296, -0.65610749, -0.14381202,  0.36848344,
        0.88077891]))
||Xanchor-Xpos||_2  counter: 
[  77  215  414  638  868 1005 1168 1113  902  702  546  306  164   73   39
   11    3    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   51  128  294  486  812  946 1122 1131 1033  849  593  361  229  112
   62   18   10    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  4.07436609   6.0956846    8.11700311  10.13832161  12.15964012
  14.18095863  16.20227714  18.22359564  20.24491415  22.26623266
  24.28755116  26.30886967  28.33018818  30.35150669  32.37282519
  34.3941437   36.41546221  38.43678071  40.45809922  42.47941773
  44.50073624]
distance difference  counter: 
(array([   1,    0,    0,    2,    0,    1,    5,    6,   10,   10,   15,
         48,   60,  120,  253,  569, 1444, 3582, 1951,  169]), array([-5.27295828, -4.97923568, -4.68551307, -4.39179047, -4.09806787,
       -3.80434527, -3.51062266, -3.21690006, -2.92317746, -2.62945485,
       -2.33573225, -2.04200965, -1.74828705, -1.45456444, -1.16084184,
       -0.86711924, -0.57339664, -0.27967403,  0.01404857,  0.30777117,
        0.60149378]))
train/val Accuracy = 0.584488476911 / 0.539049235993 
 with threshold: [[ 27.18023831]]
============ epoch 3 ===========
training loss:		1.031999
||Xanchor-Xpos||_2  counter: 
[ 731 2671 4076 4459 3670 2626 1898 1355  858  486  329  176   98   52   18
    8    3    1    1    2]
||Xanchor-Xneg||_2  counter: 
[ 287 1035 2048 3341 3865 3494 2815 2221 1552 1087  687  465  291  162   77
   50   16   15    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.92675132   2.81235822   4.69796512   6.58357202   8.46917892
  10.35478581  12.24039271  14.12599961  16.01160651  17.89721341
  19.78282031  21.66842721  23.55403411  25.43964101  27.32524791
  29.21085481  31.09646171  32.98206861  34.86767551  36.75328241
  38.63888931]
distance difference  counter: 
(array([    1,     1,     4,     7,    11,     7,    12,    14,    28,
          40,    53,    89,   163,   252,   527,  1231,  3347, 10062,
        7505,   164]), array([-8.45332527, -7.98653625, -7.51974723, -7.05295821, -6.5861692 ,
       -6.11938018, -5.65259116, -5.18580214, -4.71901312, -4.2522241 ,
       -3.78543508, -3.31864606, -2.85185704, -2.38506802, -1.918279  ,
       -1.45148998, -0.98470097, -0.51791195, -0.05112293,  0.41566609,
        0.88245511]))
||Xanchor-Xpos||_2  counter: 
[  45  187  356  611  853 1050 1250 1172  967  748  482  295  147   57   16
    7    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   20   79  212  407  688  958 1172 1235 1147  827  651  427  223  109
   49   23    9    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.4371233    2.21514325   2.9931632    3.77118316   4.54920311
   5.32722306   6.10524302   6.88326297   7.66128292   8.43930287
   9.21732283   9.99534278  10.77336273  11.55138268  12.32940264
  13.10742259  13.88544254  14.6634625   15.44148245  16.2195024
  16.99752235]
distance difference  counter: 
(array([   1,    3,    5,    4,    5,    6,    8,   23,   35,   37,   54,
        112,  209,  321,  611, 1216, 2410, 2530,  592,   64]), array([-3.70401478, -3.48939767, -3.27478055, -3.06016344, -2.84554633,
       -2.63092922, -2.4163121 , -2.20169499, -1.98707788, -1.77246077,
       -1.55784366, -1.34322654, -1.12860943, -0.91399232, -0.69937521,
       -0.48475809, -0.27014098, -0.05552387,  0.15909324,  0.37371036,
        0.58832747]))
train/val Accuracy = 0.606705502169 / 0.549357264128 
 with threshold: [[ 10.38135118]]
============ epoch 4 ===========
training loss:		1.031040
||Xanchor-Xpos||_2  counter: 
[ 402 2287 4234 4983 4377 3077 1893 1139  590  291  149   55   26    8    4
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 102  707 1530 2678 3686 3966 3522 2765 1826 1149  748  402  214  106   62
   37    8    8    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.38367361   1.18597421   1.98827481   2.79057541   3.59287601
   4.3951766    5.1974772    5.9997778    6.8020784    7.604379     8.4066796
   9.2089802   10.0112808   10.8135814   11.615882    12.4181826
  13.2204832   14.02278379  14.82508439  15.62738499  16.42968559]
distance difference  counter: 
(array([    2,     6,     1,     7,    10,     8,    10,    20,    39,
          51,    86,   145,   221,   443,   973,  2203,  4959, 10248,
        3968,   118]), array([-7.18247366, -6.78150686, -6.38054007, -5.97957327, -5.57860647,
       -5.17763968, -4.77667288, -4.37570609, -3.97473929, -3.57377249,
       -3.1728057 , -2.7718389 , -2.3708721 , -1.96990531, -1.56893851,
       -1.16797172, -0.76700492, -0.36603812,  0.03492867,  0.43589547,
        0.83686227]))
||Xanchor-Xpos||_2  counter: 
[  55  251  556  950 1277 1487 1354  994  655  382  169   80   26    9    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2   31  112  286  632  947 1326 1310 1239  886  644  411  223  111   45
   28    9    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.77550083  1.20122689  1.62695294  2.05267899  2.47840505  2.9041311
  3.32985715  3.75558321  4.18130926  4.60703531  5.03276137  5.45848742
  5.88421347  6.30993952  6.73566558  7.16139163  7.58711768  8.01284374
  8.43856979  8.86429584  9.2900219 ]
distance difference  counter: 
(array([   2,    4,    5,    7,    9,   15,   21,   30,   60,   70,  136,
        208,  289,  550,  852, 1423, 2059, 1898,  533,   75]), array([-3.15602183, -2.97089583, -2.78576983, -2.60064382, -2.41551782,
       -2.23039182, -2.04526581, -1.86013981, -1.6750138 , -1.4898878 ,
       -1.3047618 , -1.11963579, -0.93450979, -0.74938379, -0.56425778,
       -0.37913178, -0.19400578, -0.00887977,  0.17624623,  0.36137224,
        0.54649824]))
train/val Accuracy = 0.660685432435 / 0.618542323551 
 with threshold: [[ 4.42993317]]
============ epoch 5 ===========
training loss:		1.030914
||Xanchor-Xpos||_2  counter: 
[ 123 1257 2892 4472 4874 4156 2911 1617  763  292  107   34   15    3    2
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  22  287  736 1352 2241 3013 3550 3531 3144 2321 1475  900  456  245  146
   41   35   12    9    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.2294777   0.70241821  1.17535871  1.64829921  2.12123971  2.59418021
  3.06712071  3.54006121  4.01300172  4.48594222  4.95888272  5.43182322
  5.90476372  6.37770422  6.85064473  7.32358523  7.79652573  8.26946623
  8.74240673  9.21534723  9.68828773]
distance difference  counter: 
(array([   1,    0,    0,    2,    2,    3,   10,   13,   24,   30,   71,
        129,  255,  433,  949, 2121, 4711, 8788, 5781,  195]), array([-7.88766241, -7.45214262, -7.01662284, -6.58110305, -6.14558326,
       -5.71006347, -5.27454368, -4.8390239 , -4.40350411, -3.96798432,
       -3.53246453, -3.09694475, -2.66142496, -2.22590517, -1.79038538,
       -1.3548656 , -0.91934581, -0.48382602, -0.04830623,  0.38721355,
        0.82273334]))
||Xanchor-Xpos||_2  counter: 
[  78  396  868 1294 1589 1416 1096  699  411  223  108   39   21    6    2
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   3   52  188  483  827 1222 1301 1161 1009  698  486  332  196  127   79
   42   29    5    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.62196577  1.02231422  1.42266268  1.82301113  2.22335958  2.62370804
  3.02405649  3.42440495  3.8247534   4.22510186  4.62545031  5.02579877
  5.42614722  5.82649568  6.22684413  6.62719259  7.02754104  7.4278895
  7.82823795  8.22858641  8.62893486]
distance difference  counter: 
(array([   1,    2,    2,    3,    0,    4,   10,   13,   27,   41,   52,
        110,  213,  314,  519,  958, 1654, 2489, 1597,  237]), array([-4.67724228, -4.41487038, -4.15249849, -3.89012659, -3.6277547 ,
       -3.36538281, -3.10301091, -2.84063902, -2.57826712, -2.31589523,
       -2.05352333, -1.79115144, -1.52877954, -1.26640765, -1.00403575,
       -0.74166386, -0.47929196, -0.21692007,  0.04545183,  0.30782372,
        0.57019562]))
train/val Accuracy = 0.715537035462 / 0.674266310939 
 with threshold: [[ 3.01718988]]
============ epoch 6 ===========
training loss:		1.030899
||Xanchor-Xpos||_2  counter: 
[ 211 1665 3533 4828 4847 3857 2441 1263  530  243   72   16    5    4    1
    1    0    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  33  361  840 1609 2426 3247 3679 3428 2787 2067 1329  762  448  251  121
   70   28   19    5    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.24738137  0.72134506  1.19530874  1.66927242  2.1432361   2.61719978
  3.09116346  3.56512715  4.03909083  4.51305451  4.98701819  5.46098187
  5.93494555  6.40890924  6.88287292  7.3568366   7.83080028  8.30476396
  8.77872764  9.25269132  9.72665501]
distance difference  counter: 
(array([   2,    1,    5,    5,    9,   11,   15,   41,   48,   87,  154,
        254,  449,  808, 1658, 3048, 5694, 8342, 2787,  100]), array([-7.0057683 , -6.61198989, -6.21821147, -5.82443306, -5.43065464,
       -5.03687623, -4.64309782, -4.2493194 , -3.85554099, -3.46176258,
       -3.06798416, -2.67420575, -2.28042734, -1.88664892, -1.49287051,
       -1.0990921 , -0.70531368, -0.31153527,  0.08224314,  0.47602156,
        0.86979997]))
||Xanchor-Xpos||_2  counter: 
[  89  413  855 1289 1442 1428 1089  706  434  248  151   68   17    8    5
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   4   53  187  458  801 1086 1229 1210 1051  791  549  362  239  102   68
   30   20    4    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.62038952  1.01193498  1.40348044  1.7950259   2.18657136  2.57811682
  2.96966228  3.36120774  3.7527532   4.14429866  4.53584412  4.92738958
  5.31893504  5.7104805   6.10202596  6.49357142  6.88511688  7.27666233
  7.66820779  8.05975325  8.45129871]
distance difference  counter: 
(array([   1,    0,    0,    0,    3,    3,    9,   10,   18,   40,   58,
         91,  181,  287,  541,  942, 1736, 2412, 1682,  232]), array([-4.95777416, -4.67993448, -4.4020948 , -4.12425512, -3.84641544,
       -3.56857575, -3.29073607, -3.01289639, -2.73505671, -2.45721703,
       -2.17937735, -1.90153767, -1.62369798, -1.3458583 , -1.06801862,
       -0.79017894, -0.51233926, -0.23449958,  0.0433401 ,  0.32117979,
        0.59901947]))
train/val Accuracy = 0.721532443235 / 0.676994906621 
 with threshold: [[ 2.90827849]]
============ epoch 7 ===========
training loss:		1.030897
||Xanchor-Xpos||_2  counter: 
[ 396 2302 4410 5431 4802 3147 1800  803  259  119   32   11    4    2    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  62  464 1177 2014 2988 3675 3769 3267 2463 1626  961  489  295  156   63
   35    8    3    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.30333382   0.8146005    1.32586718   1.83713386   2.34840055
   2.85966723   3.37093391   3.88220059   4.39346727   4.90473395
   5.41600063   5.92726732   6.438534     6.94980068   7.46106736
   7.97233404   8.48360072   8.99486741   9.50613409  10.01740077
  10.52866745]
distance difference  counter: 
(array([   1,    0,    0,    0,    0,    5,    5,   11,   21,   34,   71,
        119,  241,  434,  922, 1968, 4454, 8314, 6680,  238]), array([-8.89513397, -8.4069182 , -7.91870244, -7.43048667, -6.9422709 ,
       -6.45405513, -5.96583936, -5.47762359, -4.98940783, -4.50119206,
       -4.01297629, -3.52476052, -3.03654475, -2.54832898, -2.06011322,
       -1.57189745, -1.08368168, -0.59546591, -0.10725014,  0.38096563,
        0.86918139]))
||Xanchor-Xpos||_2  counter: 
[  38  283  700 1179 1451 1402 1159  879  549  294  186   77   38    8    1
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1   32  129  364  704  988 1243 1249 1126  846  623  425  230  150   76
   40   12    6    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[ 0.49439517  0.89634167  1.29828817  1.70023467  2.10218117  2.50412767
  2.90607418  3.30802068  3.70996718  4.11191368  4.51386018  4.91580668
  5.31775318  5.71969969  6.12164619  6.52359269  6.92553919  7.32748569
  7.72943219  8.13137869  8.5333252 ]
distance difference  counter: 
(array([   2,    1,    2,    3,    6,   10,    7,   24,   27,   36,   79,
        124,  226,  376,  616, 1098, 1899, 2360, 1215,  135]), array([-4.62952709, -4.36610626, -4.10268543, -3.8392646 , -3.57584378,
       -3.31242295, -3.04900212, -2.78558129, -2.52216046, -2.25873963,
       -1.9953188 , -1.73189797, -1.46847714, -1.20505631, -0.94163548,
       -0.67821465, -0.41479383, -0.151373  ,  0.11204783,  0.37546866,
        0.63888949]))
train/val Accuracy = 0.726783740114 / 0.672689788989 
 with threshold: [[ 2.92203721]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.018696
||Xanchor-Xpos||_2  counter: 
[ 220 1246 1978 2402 2801 3156 3065 2667 2112 1578  994  634  355  168   86
   36   10    6    3    0]
||Xanchor-Xneg||_2  counter: 
[  81  556  904 1308 1777 2289 2923 3235 2965 2558 1889 1279  795  448  261
  146   66   21   12    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.2503624    62.95422001  100.65807762  138.36193523  176.06579285
  213.76965046  251.47350807  289.17736568  326.8812233   364.58508091
  402.28893852  439.99279613  477.69665375  515.40051136  553.10436897
  590.80822659  628.5120842   666.21594181  703.91979942  741.62365704
  779.32751465]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     3,     8,     6,
          15,    22,    38,    57,    85,   205,   468,  1312,  4870,
       15413,  1015]), array([-11.72270775, -11.09306827, -10.46342878,  -9.8337893 ,
        -9.20414982,  -8.57451034,  -7.94487085,  -7.31523137,
        -6.68559189,  -6.05595241,  -5.42631292,  -4.79667344,
        -4.16703396,  -3.53739448,  -2.90775499,  -2.27811551,
        -1.64847603,  -1.01883655,  -0.38919706,   0.24044242,   0.8700819 ]))
||Xanchor-Xpos||_2  counter: 
[  69  228  449  753  902 1122 1258 1126  894  660  386  223   99   52   22
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   45  159  337  639  855 1111 1201 1175  975  745  451  295  147   62
   27    9    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  65.4054184   103.89437599  142.38333359  180.87229118  219.36124878
  257.85020638  296.33916397  334.82812157  373.31707916  411.80603676
  450.29499435  488.78395195  527.27290955  565.76186714  604.25082474
  642.73978233  681.22873993  719.71769753  758.20665512  796.69561272
  835.18457031]
distance difference  counter: 
(array([   1,    1,    3,    2,    1,    3,    5,    6,   11,   22,   23,
         39,   94,  177,  332,  715, 1735, 3565, 1387,  124]), array([-5.04541397, -4.76189778, -4.47838158, -4.19486538, -3.91134919,
       -3.62783299, -3.3443168 , -3.0608006 , -2.77728441, -2.49376821,
       -2.21025202, -1.92673582, -1.64321963, -1.35970343, -1.07618724,
       -0.79267104, -0.50915484, -0.22563865,  0.05787755,  0.34139374,
        0.62490994]))
train/val Accuracy = 0.607832298665 / 0.584465195246 
 with threshold: [[ 284.4401315]]
============ epoch 1 ===========
training loss:		0.017231
||Xanchor-Xpos||_2  counter: 
[ 226 1285 2017 2419 2779 3126 3119 2638 2111 1540 1022  591  343  156   80
   43   14    6    1    2]
||Xanchor-Xneg||_2  counter: 
[  88  560  894 1345 1815 2269 2913 3291 2978 2486 1926 1254  743  455  270
  133   57   25    8    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  23.77989006   58.10838823   92.43688641  126.76538458  161.09388275
  195.42238092  229.7508791   264.07937727  298.40787544  332.73637362
  367.06487179  401.39336996  435.72186813  470.05036631  504.37886448
  538.70736265  573.03586082  607.364359    641.69285717  676.02135534
  710.34985352]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     5,     7,     7,    18,
          26,    32,    42,    81,   141,   297,   703,  1845,  6534,
       13230,   548]), array([-10.25560284,  -9.69935618,  -9.14310952,  -8.58686287,
        -8.03061621,  -7.47436956,  -6.9181229 ,  -6.36187624,
        -5.80562959,  -5.24938293,  -4.69313627,  -4.13688962,
        -3.58064296,  -3.02439631,  -2.46814965,  -1.91190299,
        -1.35565634,  -0.79940968,  -0.24316303,   0.31308363,   0.86933029]))
||Xanchor-Xpos||_2  counter: 
[  59  188  381  606  807  977 1122 1097  996  728  593  338  194   92   44
   17    6    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   29  119  264  467  759  946 1049 1167 1033  836  662  394  269  135
   62   28   10    7    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  59.43562317   91.91617355  124.39672394  156.87727432  189.35782471
  221.83837509  254.31892548  286.79947586  319.28002625  351.76057663
  384.24112701  416.7216774   449.20222778  481.68277817  514.16332855
  546.64387894  579.12442932  611.60497971  644.08553009  676.56608047
  709.04663086]
distance difference  counter: 
(array([   1,    1,    1,    0,    1,    4,    5,    6,   13,   16,   23,
         33,   74,  140,  304,  639, 1651, 3591, 1611,  132]), array([-5.22837162, -4.93570904, -4.64304645, -4.35038387, -4.05772128,
       -3.7650587 , -3.47239611, -3.17973353, -2.88707094, -2.59440836,
       -2.30174577, -2.00908319, -1.7164206 , -1.42375802, -1.13109543,
       -0.83843285, -0.54577026, -0.25310768,  0.03955491,  0.33221749,
        0.62488008]))
train/val Accuracy = 0.608895314227 / 0.584465195246 
 with threshold: [[ 258.73776637]]
============ epoch 2 ===========
training loss:		0.016022
||Xanchor-Xpos||_2  counter: 
[ 207 1227 1934 2425 2798 3173 3071 2683 2072 1601 1026  666  341  163   76
   32   14    4    2    2]
||Xanchor-Xneg||_2  counter: 
[  78  555  856 1243 1804 2259 2864 3277 3026 2557 1902 1341  783  463  270
  133   66   26    7    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  20.36174774   51.47061653   82.57948532  113.68835411  144.7972229
  175.90609169  207.01496048  238.12382927  269.23269806  300.34156685
  331.45043564  362.55930443  393.66817322  424.77704201  455.8859108
  486.99477959  518.10364838  549.21251717  580.32138596  611.43025475
  642.53912354]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     2,     1,     6,
          13,    17,    21,    46,    72,   139,   359,   980,  3801,
       16340,  1720]), array([-13.03189373, -12.33681267, -11.64173161, -10.94665055,
       -10.25156949,  -9.55648842,  -8.86140736,  -8.1663263 ,
        -7.47124524,  -6.77616418,  -6.08108312,  -5.38600206,
        -4.690921  ,  -3.99583994,  -3.30075887,  -2.60567781,
        -1.91059675,  -1.21551569,  -0.52043463,   0.17464643,   0.86972749]))
||Xanchor-Xpos||_2  counter: 
[  82  255  495  710  937 1121 1233 1115  878  628  397  219  108   43   21
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  13   47  172  351  655  916 1021 1243 1142  999  706  457  266  156   61
   28    8    4    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  58.0332489    89.49536209  120.95747528  152.41958847  183.88170166
  215.34381485  246.80592804  278.26804123  309.73015442  341.19226761
  372.6543808   404.11649399  435.57860718  467.04072037  498.50283356
  529.96494675  561.42705994  592.88917313  624.35128632  655.81339951
  687.2755127 ]
distance difference  counter: 
(array([   1,    0,    1,    2,    2,    3,    4,    7,   10,   13,   26,
         41,   82,  133,  303,  641, 1670, 3595, 1591,  121]), array([-5.2159481 , -4.9239523 , -4.63195649, -4.33996069, -4.04796488,
       -3.75596908, -3.46397327, -3.17197747, -2.87998166, -2.58798586,
       -2.29599005, -2.00399424, -1.71199844, -1.42000263, -1.12800683,
       -0.83601102, -0.54401522, -0.25201941,  0.03997639,  0.3319722 ,
        0.62396801]))
train/val Accuracy = 0.610489837571 / 0.584040747029 
 with threshold: [[ 235.08937341]]
============ epoch 3 ===========
training loss:		0.015025
||Xanchor-Xpos||_2  counter: 
[ 238 1258 1998 2457 2895 3200 3115 2585 2071 1535 1015  572  315  155   66
   24   10    6    2    0]
||Xanchor-Xneg||_2  counter: 
[  90  553  885 1321 1814 2290 2967 3217 3039 2558 1866 1273  760  431  233
  127   57   19   15    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  19.51898003   48.02149782   76.52401562  105.02653341  133.52905121
  162.031569    190.5340868   219.0366046   247.53912239  276.04164019
  304.54415798  333.04667578  361.54919357  390.05171137  418.55422916
  447.05674696  475.55926476  504.06178255  532.56430035  561.06681814
  589.56933594]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     2,     6,    13,
          16,    23,    29,    52,   107,   216,   458,  1375,  5004,
       15255,   960]), array([-11.68236732, -11.05471125, -10.42705518,  -9.79939911,
        -9.17174304,  -8.54408696,  -7.91643089,  -7.28877482,
        -6.66111875,  -6.03346267,  -5.4058066 ,  -4.77815053,
        -4.15049446,  -3.52283838,  -2.89518231,  -2.26752624,
        -1.63987017,  -1.01221409,  -0.38455802,   0.24309805,   0.87075412]))
||Xanchor-Xpos||_2  counter: 
[  73  231  479  697  942 1144 1231 1127  908  623  387  232  105   44   18
    5    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   49  165  342  616  875 1085 1231 1147 1015  724  449  292  145   66
   24    9    4    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  50.5208168    79.22051449  107.92021217  136.61990986  165.31960754
  194.01930523  222.71900291  251.4187006   280.11839828  308.81809597
  337.51779366  366.21749134  394.91718903  423.61688671  452.3165844
  481.01628208  509.71597977  538.41567745  567.11537514  595.81507282
  624.51477051]
distance difference  counter: 
(array([   4,    2,    1,    2,    4,    5,   11,   17,   13,   29,   41,
         81,  136,  255,  502, 1029, 2254, 3013,  776,   71]), array([-4.34697771, -4.09792682, -3.84887593, -3.59982504, -3.35077415,
       -3.10172325, -2.85267236, -2.60362147, -2.35457058, -2.10551969,
       -1.8564688 , -1.60741791, -1.35836701, -1.10931612, -0.86026523,
       -0.61121434, -0.36216345, -0.11311256,  0.13593833,  0.38498923,
        0.63404012]))
train/val Accuracy = 0.61216940216 / 0.587193790929 
 with threshold: [[ 213.96487492]]
============ epoch 4 ===========
training loss:		0.014202
||Xanchor-Xpos||_2  counter: 
[ 341 1390 2146 2492 3023 3244 3039 2530 2013 1411  894  527  256  117   64
   14    8    5    2    2]
||Xanchor-Xneg||_2  counter: 
[ 135  603  933 1350 1869 2458 3064 3303 3035 2393 1726 1164  700  395  207
  110   48   16    4    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  20.72023582   46.86618814   73.01214046   99.15809278  125.3040451
  151.44999743  177.59594975  203.74190207  229.88785439  256.03380671
  282.17975903  308.32571135  334.47166367  360.61761599  386.76356831
  412.90952063  439.05547295  465.20142527  491.34737759  517.49332991
  543.63928223]
distance difference  counter: 
(array([    1,     0,     0,     1,     5,     2,     7,    12,    17,
          23,    26,    51,    90,   134,   309,   713,  1867,  6610,
       13156,   494]), array([-10.32371902,  -9.76401378,  -9.20430853,  -8.64460328,
        -8.08489803,  -7.52519278,  -6.96548753,  -6.40578229,
        -5.84607704,  -5.28637179,  -4.72666654,  -4.16696129,
        -3.60725604,  -3.04755079,  -2.48784555,  -1.9281403 ,
        -1.36843505,  -0.8087298 ,  -0.24902455,   0.3106807 ,   0.87038594]))
||Xanchor-Xpos||_2  counter: 
[  77  219  454  692  852 1080 1221 1085  924  661  469  282  134   59   26
    7    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   42  154  314  552  825 1019 1166 1163  977  790  548  344  181   93
   47   19    2    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  47.03421783   72.25120201   97.46818619  122.68517036  147.90215454
  173.11913872  198.33612289  223.55310707  248.77009125  273.98707542
  299.2040596   324.42104378  349.63802795  374.85501213  400.07199631
  425.28898048  450.50596466  475.72294884  500.93993301  526.15691719
  551.37390137]
distance difference  counter: 
(array([   1,    0,    0,    2,    2,    1,    1,    6,    8,   14,   17,
         22,   64,  103,  242,  562, 1396, 3561, 2088,  156]), array([ -5.70627975e+00,  -5.38928922e+00,  -5.07229868e+00,
        -4.75530814e+00,  -4.43831760e+00,  -4.12132706e+00,
        -3.80433652e+00,  -3.48734598e+00,  -3.17035544e+00,
        -2.85336490e+00,  -2.53637436e+00,  -2.21938382e+00,
        -1.90239328e+00,  -1.58540274e+00,  -1.26841220e+00,
        -9.51421663e-01,  -6.34431124e-01,  -3.17440584e-01,
        -4.50044870e-04,   3.16540495e-01,   6.33531034e-01]))
train/val Accuracy = 0.61387022706 / 0.586769342712 
 with threshold: [[ 194.55757963]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.145468
||Xanchor-Xpos||_2  counter: 
[1215 3278 4357 4227 3514 2554 1694 1115  706  428  220  110   55   23   12
    5    4    0    0    1]
||Xanchor-Xneg||_2  counter: 
[ 511 1691 2955 4062 3867 3123 2469 1777 1196  818  478  289  139   79   37
   14    6    4    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.79190063   57.39381561   96.99573059  136.59764557  176.19956055
  215.80147552  255.4033905   295.00530548  334.60722046  374.20913544
  413.81105042  453.41296539  493.01488037  532.61679535  572.21871033
  611.82062531  651.42254028  691.02445526  730.62637024  770.22828522
  809.8302002 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     5,     6,    10,     4,    16,
          17,    35,    46,    90,   147,   314,   726,  1864,  6728,
       12974,   535]), array([-10.11533737,  -9.56635054,  -9.01736371,  -8.46837688,
        -7.91939005,  -7.37040322,  -6.82141638,  -6.27242955,
        -5.72344272,  -5.17445589,  -4.62546906,  -4.07648223,
        -3.5274954 ,  -2.97850856,  -2.42952173,  -1.8805349 ,
        -1.33154807,  -0.78256124,  -0.23357441,   0.31541242,   0.86439925]))
||Xanchor-Xpos||_2  counter: 
[  72  205  403  631  773  980 1123 1054  983  757  558  359  188   92   42
   16    8    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   46  123  279  479  739  950 1052 1148 1002  829  674  415  244  141
   67   27   18    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.72977638   43.09564047   57.46150455   71.82736864   86.19323273
  100.55909681  114.9249609   129.29082499  143.65668907  158.02255316
  172.38841724  186.75428133  201.12014542  215.4860095   229.85187359
  244.21773767  258.58360176  272.94946585  287.31532993  301.68119402
  316.04705811]
distance difference  counter: 
(array([   1,    0,    0,    0,    1,    3,    2,    8,    8,    8,   18,
         33,   60,  125,  233,  541, 1431, 3651, 1978,  145]), array([-5.63254309, -5.31903186, -5.00552064, -4.69200941, -4.37849818,
       -4.06498696, -3.75147573, -3.43796451, -3.12445328, -2.81094206,
       -2.49743083, -2.18391961, -1.87040838, -1.55689715, -1.24338593,
       -0.9298747 , -0.61636348, -0.30285225,  0.01065897,  0.3241702 ,
        0.63768142]))
train/val Accuracy = 0.578663151629 / 0.538321610478 
 with threshold: [[ 196.86932827]]
============ epoch 1 ===========
training loss:		0.108958
||Xanchor-Xpos||_2  counter: 
[ 735 2957 4254 4379 3710 2710 1864 1178  713  486  287  119   69   34   16
    6    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 300 1355 2602 3862 3979 3378 2730 1880 1304  884  555  332  177   95   44
   28   10    1    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[   4.02434778   18.69410512   33.36386247   48.03361981   62.70337715
   77.37313449   92.04289184  106.71264918  121.38240652  136.05216386
  150.72192121  165.39167855  180.06143589  194.73119323  209.40095057
  224.07070792  238.74046526  253.4102226   268.07997994  282.74973729
  297.41949463]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     0,     1,     3,
          12,    18,    18,    37,    65,   131,   310,   913,  3436,
       16424,  2149]), array([-13.59161854, -12.86885085, -12.14608315, -11.42331546,
       -10.70054777,  -9.97778007,  -9.25501238,  -8.53224469,
        -7.809477  ,  -7.0867093 ,  -6.36394161,  -5.64117392,
        -4.91840622,  -4.19563853,  -3.47287084,  -2.75010315,
        -2.02733545,  -1.30456776,  -0.58180007,   0.14096763,   0.86373532]))
||Xanchor-Xpos||_2  counter: 
[  48  194  428  664  890 1021 1189 1171  947  699  493  275  139   50   25
   11    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   31  123  286  539  804  989 1155 1187 1041  832  567  349  187   91
   32   20    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[   9.90978909   15.57728944   21.24478979   26.91229014   32.5797905
   38.24729085   43.9147912    49.58229156   55.24979191   60.91729226
   66.58479261   72.25229297   77.91979332   83.58729367   89.25479403
   94.92229438  100.58979473  106.25729508  111.92479544  117.59229579
  123.25979614]
distance difference  counter: 
(array([   1,    0,    1,    1,    2,    5,    3,    8,    9,   24,   16,
         62,   80,  160,  343,  714, 1794, 3659, 1271,   93]), array([-5.01723862, -4.73471558, -4.45219254, -4.1696695 , -3.88714646,
       -3.60462342, -3.32210038, -3.03957734, -2.75705431, -2.47453127,
       -2.19200823, -1.90948519, -1.62696215, -1.34443911, -1.06191607,
       -0.77939303, -0.49686999, -0.21434695,  0.06817608,  0.35069912,
        0.63322216]))
train/val Accuracy = 0.586550727103 / 0.540504487024 
 with threshold: [[ 73.58613703]]
============ epoch 2 ===========
training loss:		0.103913
||Xanchor-Xpos||_2  counter: 
[ 683 2935 4407 4651 3587 2713 1753 1167  730  435  241  117   59   23   10
    3    2    1    1    0]
||Xanchor-Xneg||_2  counter: 
[ 271 1107 2329 3633 4020 3513 2790 2027 1484 1014  582  363  183   95   42
   37   16    7    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[   1.9761039     7.44590146   12.91569902   18.38549657   23.85529413
   29.32509169   34.79488925   40.26468681   45.73448436   51.20428192
   56.67407948   62.14387704   67.61367459   73.08347215   78.55326971
   84.02306727   89.49286482   94.96266238  100.43245994  105.9022575
  111.37205505]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     2,     7,     8,    12,
          16,    22,    49,    74,   117,   240,   534,  1523,  5539,
       14643,   730]), array([-11.54817104, -10.92811011, -10.30804918,  -9.68798825,
        -9.06792732,  -8.4478664 ,  -7.82780547,  -7.20774454,
        -6.58768361,  -5.96762268,  -5.34756175,  -4.72750082,
        -4.10743989,  -3.48737896,  -2.86731803,  -2.2472571 ,
        -1.62719617,  -1.00713524,  -0.38707431,   0.23298662,   0.85304755]))
||Xanchor-Xpos||_2  counter: 
[  36  128  313  484  759  911 1108 1175 1049  880  588  406  229  108   43
   22    5    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   1   17   56  145  294  560  812  997 1157 1123 1001  777  554  348  187
  125   49   27    9    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  3.69478345   5.65734271   7.61990197   9.58246123  11.54502048
  13.50757974  15.470139    17.43269826  19.39525752  21.35781678
  23.32037604  25.2829353   27.24549456  29.20805382  31.17061307
  33.13317233  35.09573159  37.05829085  39.02085011  40.98340937
  42.94596863]
distance difference  counter: 
(array([   2,    2,    1,    1,    1,    7,    6,   12,   14,   25,   39,
         50,  115,  235,  400,  801, 1883, 3292, 1262,   98]), array([-4.49243689, -4.23971044, -3.986984  , -3.73425755, -3.48153111,
       -3.22880466, -2.97607822, -2.72335177, -2.47062533, -2.21789888,
       -1.96517244, -1.712446  , -1.45971955, -1.20699311, -0.95426666,
       -0.70154022, -0.44881377, -0.19608733,  0.05663912,  0.30936556,
        0.56209201]))
train/val Accuracy = 0.607258270261 / 0.543778801843 
 with threshold: [[ 28.18861548]]
============ epoch 3 ===========
training loss:		0.103216
||Xanchor-Xpos||_2  counter: 
[ 540 2646 4613 5210 4230 2868 1696  880  438  222  117   39   10    7    1
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 167  782 1790 3120 4101 4142 3378 2382 1516  957  532  316  168   85   43
   21   11    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.16286278   3.40686884   5.6508749    7.89488096  10.13888702
  12.38289309  14.62689915  16.87090521  19.11491127  21.35891733
  23.60292339  25.84692945  28.09093552  30.33494158  32.57894764
  34.8229537   37.06695976  39.31096582  41.55497189  43.79897795
  46.04298401]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     1,     6,     7,    11,
          15,    27,    53,    87,   159,   326,   801,  2322,  7282,
       12030,   389]), array([-10.54004192,  -9.97168957,  -9.40333722,  -8.83498486,
        -8.26663251,  -7.69828016,  -7.1299278 ,  -6.56157545,
        -5.99322309,  -5.42487074,  -4.85651839,  -4.28816603,
        -3.71981368,  -3.15146133,  -2.58310897,  -2.01475662,
        -1.44640427,  -0.87805191,  -0.30969956,   0.25865279,   0.82700515]))
||Xanchor-Xpos||_2  counter: 
[  43  194  411  723  988 1214 1308 1139  912  593  365  195  101   29   19
    8    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1   15   76  204  395  673  974 1219 1275 1024  804  637  414  223  165
   81   34   20    6    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.09004951   3.17568041   4.26131132   5.34694222   6.43257313
   7.51820403   8.60383494   9.68946584  10.77509675  11.86072766
  12.94635856  14.03198947  15.11762037  16.20325128  17.28888218
  18.37451309  19.460144    20.5457749   21.63140581  22.71703671
  23.80266762]
distance difference  counter: 
(array([   1,    0,    1,    0,    3,    8,    6,   12,   27,   34,   50,
         73,  136,  263,  444,  814, 1738, 2747, 1696,  193]), array([-4.61626291, -4.35927725, -4.10229158, -3.84530591, -3.58832024,
       -3.33133458, -3.07434891, -2.81736324, -2.56037757, -2.30339191,
       -2.04640624, -1.78942057, -1.5324349 , -1.27544924, -1.01846357,
       -0.7614779 , -0.50449224, -0.24750657,  0.0094791 ,  0.26646477,
        0.52345043]))
train/val Accuracy = 0.656773535165 / 0.627395100655 
 with threshold: [[ 11.85777955]]
============ epoch 4 ===========
training loss:		0.103127
||Xanchor-Xpos||_2  counter: 
[ 263 1566 3185 4445 4639 4038 2653 1515  733  315  110   40   10    4    0
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  58  400  899 1512 2367 3187 3648 3448 2957 2083 1229  790  439  230  126
   89   35   16    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.87049466   2.17780602   3.48511737   4.79242872   6.09974008
   7.40705143   8.71436278  10.02167414  11.32898549  12.63629684
  13.94360819  15.25091955  16.5582309   17.86554225  19.17285361
  20.48016496  21.78747631  23.09478767  24.40209902  25.70941037
  27.01672173]
distance difference  counter: 
(array([   2,    4,    0,    4,    5,   11,   22,   20,   36,   60,   86,
        165,  317,  535, 1086, 2354, 4978, 9150, 4567,  116]), array([-7.96654844, -7.5256792 , -7.08480996, -6.64394073, -6.20307149,
       -5.76220225, -5.32133301, -4.88046377, -4.43959453, -3.99872529,
       -3.55785605, -3.11698681, -2.67611758, -2.23524834, -1.7943791 ,
       -1.35350986, -0.91264062, -0.47177138, -0.03090214,  0.4099671 ,
        0.85083634]))
||Xanchor-Xpos||_2  counter: 
[  50  313  708 1191 1492 1477 1162  796  483  288  172   66   31   10    2
    1    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   3   36  147  404  771 1117 1224 1220 1020  787  575  400  228  155   73
   45   20   11    5    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.59049881   2.79376157   3.99702433   5.2002871    6.40354986
   7.60681263   8.81007539  10.01333815  11.21660092  12.41986368
  13.62312645  14.82638921  16.02965198  17.23291474  18.4361775
  19.63944027  20.84270303  22.0459658   23.24922856  24.45249133
  25.65575409]
distance difference  counter: 
(array([   1,    1,    1,    2,    2,    3,    6,   18,   23,   34,   50,
        104,  143,  271,  524,  980, 1793, 2626, 1523,  141]), array([-5.56674576, -5.255449  , -4.94415224, -4.63285548, -4.32155873,
       -4.01026197, -3.69896521, -3.38766845, -3.07637169, -2.76507494,
       -2.45377818, -2.14248142, -1.83118466, -1.5198879 , -1.20859115,
       -0.89729439, -0.58599763, -0.27470087,  0.03659589,  0.34789265,
        0.6591894 ]))
train/val Accuracy = 0.706203758823 / 0.661108416202 
 with threshold: [[ 8.36396421]]
============ epoch 5 ===========
training loss:		0.103117
||Xanchor-Xpos||_2  counter: 
[ 323 2427 4694 5699 4928 3036 1502  608  206   65   21    6    1    2    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  72  536 1388 2398 3667 3966 3997 3168 1977 1161  589  337  135   71   28
   16    7    2    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.61419052   2.18941781   3.76464509   5.33987238   6.91509967
   8.49032696  10.06555424  11.64078153  13.21600882  14.79123611
  16.36646339  17.94169068  19.51691797  21.09214526  22.66737254
  24.24259983  25.81782712  27.3930544   28.96828169  30.54350898
  32.11873627]
distance difference  counter: 
(array([    1,     0,     1,     2,     3,     2,     3,     4,     9,
          17,    28,    81,   146,   230,   518,  1102,  2952,  7037,
       10584,   798]), array([-11.04703331, -10.45419221,  -9.86135111,  -9.26851001,
        -8.67566891,  -8.08282781,  -7.48998671,  -6.89714561,
        -6.3043045 ,  -5.7114634 ,  -5.1186223 ,  -4.5257812 ,
        -3.9329401 ,  -3.340099  ,  -2.7472579 ,  -2.1544168 ,
        -1.5615757 ,  -0.9687346 ,  -0.3758935 ,   0.2169476 ,   0.8097887 ]))
||Xanchor-Xpos||_2  counter: 
[  46  401  889 1372 1620 1390 1100  672  378  221   97   36   14    8    1
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   2   46  213  522  940 1268 1348 1171  968  684  454  272  157  102   57
   22   11    5    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.51804543   2.77672825   4.03541107   5.29409389   6.55277672
   7.81145954   9.07014236  10.32882519  11.58750801  12.84619083
  14.10487366  15.36355648  16.6222393   17.88092213  19.13960495
  20.39828777  21.6569706   22.91565342  24.17433624  25.43301907
  26.69170189]
distance difference  counter: 
(array([   1,    2,    0,    9,    4,    7,   13,   14,   27,   38,   65,
        115,  168,  310,  531, 1003, 1789, 2542, 1450,  158]), array([-5.3451705 , -5.04585052, -4.74653053, -4.44721055, -4.14789057,
       -3.84857059, -3.5492506 , -3.24993062, -2.95061064, -2.65129066,
       -2.35197067, -2.05265069, -1.75333071, -1.45401073, -1.15469074,
       -0.85537076, -0.55605078, -0.25673079,  0.04258919,  0.34190917,
        0.64122915]))
train/val Accuracy = 0.711901522238 / 0.664443366481 
 with threshold: [[ 8.26961774]]
============ epoch 6 ===========
training loss:		0.103115
||Xanchor-Xpos||_2  counter: 
[ 298 1942 3920 4910 4793 3569 2188 1107  500  199   65   18    6    2    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  48  459 1027 1784 2731 3469 3805 3382 2604 1774 1036  695  365  182   93
   37   16    8    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.69182551   2.09327902   3.49473253   4.89618605   6.29763956
   7.69909307   9.10054659  10.5020001   11.90345361  13.30490713
  14.70636064  16.10781415  17.50926766  18.91072118  20.31217469
  21.7136282   23.11508172  24.51653523  25.91798874  27.31944225
  28.72089577]
distance difference  counter: 
(array([    1,     1,     0,     2,     1,     2,     3,     6,    17,
          22,    56,    87,   122,   260,   592,  1231,  3193,  7434,
       10047,   441]), array([-11.0402298 , -10.44473994,  -9.84925008,  -9.25376023,
        -8.65827037,  -8.06278051,  -7.46729066,  -6.8718008 ,
        -6.27631094,  -5.68082109,  -5.08533123,  -4.48984137,
        -3.89435152,  -3.29886166,  -2.7033718 ,  -2.10788195,
        -1.51239209,  -0.91690224,  -0.32141238,   0.27407748,   0.86956733]))
||Xanchor-Xpos||_2  counter: 
[  47  326  764 1163 1478 1431 1120  863  498  288  153   72   28   12    2
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1   30  163  410  722 1072 1223 1160 1119  799  569  403  252  142   82
   42   26   15   13    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.47702491   2.64384359   3.81066226   4.97748093   6.1442996
   7.31111827   8.47793695   9.64475562  10.81157429  11.97839296
  13.14521164  14.31203031  15.47884898  16.64566765  17.81248633
  18.979305    20.14612367  21.31294234  22.47976102  23.64657969
  24.81339836]
distance difference  counter: 
(array([   3,    1,    1,    3,    3,    9,   12,   28,   33,   62,   80,
        136,  198,  370,  631, 1163, 1867, 2340, 1208,   98]), array([-5.1069994 , -4.81881478, -4.53063017, -4.24244555, -3.95426093,
       -3.66607632, -3.3778917 , -3.08970709, -2.80152247, -2.51333785,
       -2.22515324, -1.93696862, -1.64878401, -1.36059939, -1.07241477,
       -0.78423016, -0.49604554, -0.20786093,  0.08032369,  0.36850831,
        0.65669292]))
train/val Accuracy = 0.714048813675 / 0.669536745089 
 with threshold: [[ 8.25081025]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 0.2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.098968
||Xanchor-Xpos||_2  counter: 
[19698  1151   579   553   329   235   214   180   177   107    93    84
    56    35    14     8     3     1     0     0]
||Xanchor-Xneg||_2  counter: 
[19379  1157   525   530   433   228   179   192   199   179   149   148
    89    61    33    21    12     2     1     1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  5.29417574e-01   3.76472369e+01   7.47650561e+01   1.11882875e+02
   1.49000695e+02   1.86118514e+02   2.23236333e+02   2.60354153e+02
   2.97471972e+02   3.34589791e+02   3.71707610e+02   4.08825430e+02
   4.45943249e+02   4.83061068e+02   5.20178888e+02   5.57296707e+02
   5.94414526e+02   6.31532345e+02   6.68650165e+02   7.05767984e+02
   7.42885803e+02]
distance difference  counter: 
(array([    1,     0,     0,     2,     1,     3,     3,     4,     5,
           9,    18,    25,    39,    87,   179,   391,   959,  3165,
       12632,  5995]), array([ -1.67529163e+01,  -1.58712122e+01,  -1.49895080e+01,
        -1.41078039e+01,  -1.32260997e+01,  -1.23443956e+01,
        -1.14626914e+01,  -1.05809873e+01,  -9.69928315e+00,
        -8.81757900e+00,  -7.93587485e+00,  -7.05417070e+00,
        -6.17246655e+00,  -5.29076240e+00,  -4.40905825e+00,
        -3.52735411e+00,  -2.64564996e+00,  -1.76394581e+00,
        -8.82241660e-01,  -5.37511706e-04,   8.81166637e-01]))
||Xanchor-Xpos||_2  counter: 
[  67  412  919 1302 1358 1263  956  747  501  301  186  120   55   28   16
   12    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   77  310  663 1039 1240 1239 1056  822  595  428  291  202  118   83
   38   17   10    9    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.74078035   1.7276612    2.71454206   3.70142291   4.68830376
   5.67518461   6.66206546   7.64894631   8.63582716   9.62270801
  10.60958886  11.59646971  12.58335056  13.57023141  14.55711226
  15.54399312  16.53087397  17.51775482  18.50463567  19.49151652
  20.47839737]
distance difference  counter: 
(array([   1,    1,    0,    1,    0,    1,    2,    3,   11,   14,   20,
         39,   62,   95,  226,  443, 1045, 2433, 3316,  533]), array([-8.66270828, -8.19038128, -7.71805428, -7.24572727, -6.77340027,
       -6.30107327, -5.82874627, -5.35641926, -4.88409226, -4.41176526,
       -3.93943825, -3.46711125, -2.99478425, -2.52245724, -2.05013024,
       -1.57780324, -1.10547624, -0.63314923, -0.16082223,  0.31150477,
        0.78383178]))
train/val Accuracy = 0.507164724892 / 0.5 
 with threshold: [[ 35.93122389]]
============ epoch 1 ===========
training loss:		1.030952
||Xanchor-Xpos||_2  counter: 
[1951 6056 6485 4508 2456 1134  536  226   84   41   27    9    4    1    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 586 2333 4318 4947 4290 2958 1821 1033  564  332  159   89   34   22   20
    8    1    1    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.41055053   2.2371143    4.06367807   5.89024183   7.7168056
   9.54336937  11.36993313  13.1964969   15.02306067  16.84962443
  18.6761882   20.50275197  22.32931573  24.1558795   25.98244327
  27.80900703  29.6355708   31.46213457  33.28869833  35.1152621
  36.94182587]
distance difference  counter: 
(array([    1,     1,     0,     1,     0,     3,     1,     4,     5,
          12,    12,    33,    39,    57,   156,   304,   761,  2580,
       10077,  9471]), array([-21.0232811 , -19.92672493, -18.83016877, -17.7336126 ,
       -16.63705643, -15.54050027, -14.4439441 , -13.34738794,
       -12.25083177, -11.15427561, -10.05771944,  -8.96116327,
        -7.86460711,  -6.76805094,  -5.67149478,  -4.57493861,
        -3.47838244,  -2.38182628,  -1.28527011,  -0.18871395,   0.90784222]))
||Xanchor-Xpos||_2  counter: 
[  88  437  957 1269 1408 1290 1024  682  483  253  157  100   51   14   17
    8    4    3    0    1]
||Xanchor-Xneg||_2  counter: 
[   9  101  320  657 1070 1200 1195 1073  818  633  401  302  184  120   77
   39   23   11    5    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.92704797   2.08954462   3.25204127   4.41453792   5.57703457
   6.73953122   7.90202787   9.06452452  10.22702117  11.38951782
  12.55201447  13.71451112  14.87700777  16.03950442  17.20200107
  18.36449772  19.52699437  20.68949102  21.85198767  23.01448432
  24.17698097]
distance difference  counter: 
(array([   3,    0,    4,    2,    1,    2,    4,    3,   12,   19,   31,
         49,  102,  141,  300,  609, 1266, 2578, 2721,  399]), array([-7.72872877, -7.30391526, -6.87910175, -6.45428824, -6.02947472,
       -5.60466121, -5.1798477 , -4.75503419, -4.33022068, -3.90540716,
       -3.48059365, -3.05578014, -2.63096663, -2.20615312, -1.7813396 ,
       -1.35652609, -0.93171258, -0.50689907, -0.08208556,  0.34272796,
        0.76754147]))
train/val Accuracy = 0.655710519602 / 0.621574096532 
 with threshold: [[ 6.66414835]]
============ epoch 2 ===========
training loss:		1.030952
||Xanchor-Xpos||_2  counter: 
[1755 5911 6539 4616 2519 1210  577  254   74   31   15    9    3    3    2
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 548 2181 4163 4973 4352 3140 1832 1082  555  339  165   93   51   17   11
    7    5    2    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.35404497   2.15904723   3.96404949   5.76905175   7.574054
   9.37905626  11.18405852  12.98906077  14.79406303  16.59906529
  18.40406755  20.2090698   22.01407206  23.81907432  25.62407658
  27.42907883  29.23408109  31.03908335  32.8440856   34.64908786
  36.45409012]
distance difference  counter: 
(array([    3,     3,     2,     1,     5,     3,    11,     9,    12,
          20,    33,    58,    87,   150,   293,   657,  1602,  4466,
       12069,  4034]), array([-15.73013592, -14.89682066, -14.06350539, -13.23019013,
       -12.39687487, -11.56355961, -10.73024434,  -9.89692908,
        -9.06361382,  -8.23029856,  -7.3969833 ,  -6.56366803,
        -5.73035277,  -4.89703751,  -4.06372225,  -3.23040698,
        -2.39709172,  -1.56377646,  -0.7304612 ,   0.10285406,   0.93616933]))
||Xanchor-Xpos||_2  counter: 
[ 103  520 1051 1388 1482 1280  938  623  381  232  117   64   35   15   13
    3    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8  107  347  747 1096 1273 1226 1056  833  558  381  251  147   84   62
   35   13   11    7    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.83620799   1.794173     2.75213801   3.71010302   4.66806803
   5.62603304   6.58399805   7.54196306   8.49992807   9.45789308
  10.41585809  11.3738231   12.33178811  13.28975312  14.24771813
  15.20568314  16.16364815  17.12161316  18.07957817  19.03754318
  19.99550819]
distance difference  counter: 
(array([   1,    1,    4,    1,    1,    2,    3,    9,   19,   19,   33,
         66,  105,  185,  333,  632, 1366, 2614, 2523,  329]), array([-7.5156455 , -7.10101649, -6.68638749, -6.27175848, -5.85712947,
       -5.44250046, -5.02787145, -4.61324244, -4.19861343, -3.78398442,
       -3.36935541, -2.9547264 , -2.54009739, -2.12546838, -1.71083937,
       -1.29621036, -0.88158135, -0.46695234, -0.05232334,  0.36230567,
        0.77693468]))
train/val Accuracy = 0.658538140998 / 0.63600533592 
 with threshold: [[ 6.63514623]]
============ epoch 3 ===========
training loss:		1.030952
||Xanchor-Xpos||_2  counter: 
[1973 6134 6536 4353 2466 1125  551  232   94   34   14    5    0    1    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 568 2362 4203 5173 4358 2894 1698 1002  545  251  197  114   77   39   21
    8    3    2    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.3631871    2.21160642   4.06002574   5.90844506   7.75686438
   9.6052837   11.45370302  13.30212234  15.15054166  16.99896098
  18.8473803   20.69579961  22.54421893  24.39263825  26.24105757
  28.08947689  29.93789621  31.78631553  33.63473485  35.48315417
  37.33157349]
distance difference  counter: 
(array([    1,     1,     0,     2,     2,     1,     4,     7,     3,
          17,    15,    13,    32,    53,   123,   303,   744,  2443,
        9542, 10212]), array([-21.8157196 , -20.68017896, -19.54463831, -18.40909767,
       -17.27355702, -16.13801637, -15.00247573, -13.86693508,
       -12.73139443, -11.59585379, -10.46031314,  -9.3247725 ,
        -8.18923185,  -7.0536912 ,  -5.91815056,  -4.78260991,
        -3.64706926,  -2.51152862,  -1.37598797,  -0.24044732,   0.89509332]))
||Xanchor-Xpos||_2  counter: 
[ 169  896 1517 1710 1408 1037  641  389  237  113   65   33   17    5    7
    0    1    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  33  253  780 1228 1406 1372 1060  781  520  329  200  118   55   51   26
   17    8    5    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.97661775   2.44110722   3.90559668   5.37008614   6.83457561
   8.29906507   9.76355453  11.22804399  12.69253346  14.15702292
  15.62151238  17.08600185  18.55049131  20.01498077  21.47947024
  22.9439597   24.40844916  25.87293862  27.33742809  28.80191755
  30.26640701]
distance difference  counter: 
(array([   1,    0,    4,    3,    3,    7,    3,   10,    7,   22,   27,
         59,   85,  152,  280,  550, 1174, 2448, 2840,  571]), array([-8.46172237, -7.9984332 , -7.53514403, -7.07185486, -6.60856569,
       -6.14527652, -5.68198735, -5.21869817, -4.755409  , -4.29211983,
       -3.82883066, -3.36554149, -2.90225232, -2.43896315, -1.97567397,
       -1.5123848 , -1.04909563, -0.58580646, -0.12251729,  0.34077188,
        0.80406106]))
train/val Accuracy = 0.655561697423 / 0.617511520737 
 with threshold: [[ 6.66785492]]
============ epoch 4 ===========
training loss:		1.030952
||Xanchor-Xpos||_2  counter: 
[1517 4996 6074 4836 3040 1567  797  378  191   74   32   12    2    2    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 464 1759 3328 4322 4317 3456 2371 1473  930  501  277  141   87   34   28
   12    8    3    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.47460997   2.07117576   3.66774155   5.26430734   6.86087313
   8.45743892  10.0540047   11.65057049  13.24713628  14.84370207
  16.44026786  18.03683365  19.63339944  21.22996523  22.82653102
  24.42309681  26.01966259  27.61622838  29.21279417  30.80935996
  32.40592575]
distance difference  counter: 
(array([    1,     1,     1,     0,     2,     7,     1,     7,    12,
          12,    24,    35,    66,   134,   257,   539,  1416,  4146,
       11866,  4991]), array([-16.80557823, -15.91828046, -15.03098269, -14.14368491,
       -13.25638714, -12.36908937, -11.48179159, -10.59449382,
        -9.70719604,  -8.81989827,  -7.9326005 ,  -7.04530272,
        -6.15800495,  -5.27070718,  -4.3834094 ,  -3.49611163,
        -2.60881386,  -1.72151608,  -0.83421831,   0.05307946,   0.94037724]))
||Xanchor-Xpos||_2  counter: 
[ 163  718 1359 1503 1424 1141  764  513  293  178   96   42   31   11    7
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  21  177  561 1039 1332 1275 1197  871  628  437  266  161  113   80   37
   25   15    8    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.20179951   2.55526239   3.90872527   5.26218815   6.61565104
   7.96911392   9.3225768   10.67603968  12.02950256  13.38296544
  14.73642832  16.0898912   17.44335408  18.79681696  20.15027984
  21.50374272  22.85720561  24.21066849  25.56413137  26.91759425
  28.27105713]
distance difference  counter: 
(array([   2,    0,    1,    0,    1,    4,    9,    4,    9,   29,   31,
         39,   96,  143,  239,  561, 1099, 2475, 2931,  573]), array([-8.53757572, -8.07068729, -7.60379885, -7.13691042, -6.67002199,
       -6.20313355, -5.73624512, -5.26935669, -4.80246825, -4.33557982,
       -3.86869138, -3.40180295, -2.93491452, -2.46802608, -2.00113765,
       -1.53424922, -1.06736078, -0.60047235, -0.13358392,  0.33330452,
        0.80019295]))
train/val Accuracy = 0.662875244494 / 0.616965801601 
 with threshold: [[ 6.59259044]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019460
||Xanchor-Xpos||_2  counter: 
[ 380 1535 2187 2616 3203 3269 3053 2526 1883 1320  764  422  197  100   37
   16    4    3    3    0]
||Xanchor-Xneg||_2  counter: 
[ 160  669 1033 1531 2085 2718 3293 3290 2935 2265 1540  929  537  285  142
   68   23   10    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  32.69280243   74.03942146  115.3860405   156.73265953  198.07927856
  239.4258976   280.77251663  322.11913567  363.4657547   404.81237373
  446.15899277  487.5056118   528.85223083  570.19884987  611.5454689
  652.89208794  694.23870697  735.585326    776.93194504  818.27856407
  859.62518311]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     2,     5,     6,    14,
          19,    25,    37,    64,   130,   259,   620,  1647,  6004,
       13995,   690]), array([-10.54482269,  -9.97438961,  -9.40395653,  -8.83352345,
        -8.26309037,  -7.69265729,  -7.12222421,  -6.55179113,
        -5.98135805,  -5.41092497,  -4.84049189,  -4.27005881,
        -3.69962573,  -3.12919265,  -2.55875957,  -1.98832649,
        -1.41789341,  -0.84746033,  -0.27702725,   0.29340583,   0.86383891]))
||Xanchor-Xpos||_2  counter: 
[  89  243  473  679  896 1047 1161 1099  895  701  449  269  155   51   27
    9    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  13   50  162  331  587  842 1012 1170 1092  991  808  500  361  183   78
   43   16    4    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  80.87989807  120.97452316  161.06914825  201.16377335  241.25839844
  281.35302353  321.44764862  361.54227371  401.6368988   441.7315239
  481.82614899  521.92077408  562.01539917  602.11002426  642.20464935
  682.29927444  722.39389954  762.48852463  802.58314972  842.67777481
  882.7723999 ]
distance difference  counter: 
(array([   1,    0,    0,    1,    3,    3,    3,   10,    7,   19,   19,
         43,   80,  144,  292,  706, 1672, 3639, 1486,  118]), array([-5.14338541, -4.85457038, -4.56575534, -4.27694031, -3.98812528,
       -3.69931024, -3.41049521, -3.12168018, -2.83286514, -2.54405011,
       -2.25523508, -1.96642004, -1.67760501, -1.38878998, -1.09997494,
       -0.81115991, -0.52234488, -0.23352984,  0.05528519,  0.34410022,
        0.63291526]))
train/val Accuracy = 0.608151203334 / 0.582464225079 
 with threshold: [[ 297.11209428]]
============ epoch 1 ===========
training loss:		0.019442
||Xanchor-Xpos||_2  counter: 
[ 369 1411 2042 2485 2923 3085 3105 2515 2053 1482  917  557  304  149   66
   36   11    5    1    2]
||Xanchor-Xneg||_2  counter: 
[ 157  610  940 1401 1879 2364 2999 3252 2990 2440 1736 1192  719  417  212
  121   54   24    6    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.95306396   73.17467346  112.39628296  151.61789246  190.83950195
  230.06111145  269.28272095  308.50433044  347.72593994  386.94754944
  426.16915894  465.39076843  504.61237793  543.83398743  583.05559692
  622.27720642  661.49881592  700.72042542  739.94203491  779.16364441
  818.38525391]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     2,     5,     8,    12,
          18,    19,    43,    69,   133,   255,   655,  1703,  6262,
       13737,   596]), array([-10.54462528,  -9.97343834,  -9.40225139,  -8.83106445,
        -8.2598775 ,  -7.68869056,  -7.11750361,  -6.54631667,
        -5.97512972,  -5.40394278,  -4.83275583,  -4.26156889,
        -3.69038194,  -3.119195  ,  -2.54800805,  -1.97682111,
        -1.40563416,  -0.83444722,  -0.26326028,   0.30792667,   0.87911361]))
||Xanchor-Xpos||_2  counter: 
[  48  167  349  595  768  947 1096 1129 1004  790  587  372  218  101   49
   20    4    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   28  106  252  438  709  906 1069 1111 1053  893  680  424  300  142
   74   35   18    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  68.0837326   106.94261665  145.8015007   184.66038475  223.5192688
  262.37815285  301.2370369   340.09592094  378.95480499  417.81368904
  456.67257309  495.53145714  534.39034119  573.24922523  612.10810928
  650.96699333  689.82587738  728.68476143  767.54364548  806.40252953
  845.26141357]
distance difference  counter: 
(array([   1,    0,    0,    0,    2,    2,    4,    3,    7,   13,   13,
         39,   59,  117,  230,  542, 1413, 3637, 2016,  148]), array([-5.52677107, -5.21898232, -4.91119358, -4.60340483, -4.29561609,
       -3.98782735, -3.6800386 , -3.37224986, -3.06446111, -2.75667237,
       -2.44888362, -2.14109488, -1.83330613, -1.52551739, -1.21772864,
       -0.9099399 , -0.60215116, -0.29436241,  0.01342633,  0.32121508,
        0.62900382]))
train/val Accuracy = 0.60995832979 / 0.578280378365 
 with threshold: [[ 296.61253866]]
============ epoch 2 ===========
training loss:		0.019424
||Xanchor-Xpos||_2  counter: 
[ 274 1310 2035 2451 2930 3252 3077 2593 2054 1493  955  537  311  126   77
   27    8    5    2    1]
||Xanchor-Xneg||_2  counter: 
[ 101  593  911 1352 1901 2395 3018 3353 2999 2502 1735 1169  702  372  244
  101   43   17    8    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.55437279   67.53451242  107.51465206  147.4947917   187.47493134
  227.45507097  267.43521061  307.41535025  347.39548988  387.37562952
  427.35576916  467.33590879  507.31604843  547.29618807  587.27632771
  627.25646734  667.23660698  707.21674662  747.19688625  787.17702589
  827.15716553]
distance difference  counter: 
(array([    1,     0,     0,     1,     0,     2,     3,     6,    14,
          17,    25,    37,    71,   134,   249,   666,  1642,  6105,
       13906,   639]), array([-10.5441227 ,  -9.97348011,  -9.40283753,  -8.83219494,
        -8.26155236,  -7.69090977,  -7.12026719,  -6.5496246 ,
        -5.97898202,  -5.40833943,  -4.83769685,  -4.26705427,
        -3.69641168,  -3.1257691 ,  -2.55512651,  -1.98448393,
        -1.41384134,  -0.84319876,  -0.27255617,   0.29808641,   0.868729  ]))
||Xanchor-Xpos||_2  counter: 
[  52  180  415  675  809 1053 1171 1150  993  715  485  292  142   75   28
    4    6    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   39  119  287  510  804 1005 1171 1151 1052  832  561  336  208  101
   37   16    9    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  68.01848602  108.68393745  149.34938889  190.01484032  230.68029175
  271.34574318  312.01119461  352.67664604  393.34209747  434.0075489
  474.67300034  515.33845177  556.0039032   596.66935463  637.33480606
  678.00025749  718.66570892  759.33116035  799.99661179  840.66206322
  881.32751465]
distance difference  counter: 
(array([   1,    1,    1,    0,    2,    7,   10,    6,   11,   20,   27,
         48,  104,  179,  379,  777, 1852, 3481, 1231,  109]), array([-4.79741907, -4.52636409, -4.25530911, -3.98425413, -3.71319915,
       -3.44214417, -3.17108919, -2.90003421, -2.62897923, -2.35792425,
       -2.08686927, -1.81581429, -1.54475931, -1.27370433, -1.00264935,
       -0.73159437, -0.46053939, -0.18948441,  0.08157057,  0.35262555,
        0.62368053]))
train/val Accuracy = 0.608725231737 / 0.581312151346 
 with threshold: [[ 296.43968444]]
============ epoch 3 ===========
training loss:		0.019407
||Xanchor-Xpos||_2  counter: 
[ 249 1313 1983 2425 2808 3141 3163 2549 2121 1549 1013  614  298  143   90
   36   14    3    3    3]
||Xanchor-Xneg||_2  counter: 
[  99  583  911 1319 1811 2292 3004 3195 3008 2525 1841 1275  752  425  266
  129   49   22    6    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.7697525    67.96845055  107.16714859  146.36584663  185.56454468
  224.76324272  263.96194077  303.16063881  342.35933685  381.5580349
  420.75673294  459.95543098  499.15412903  538.35282707  577.55152512
  616.75022316  655.9489212   695.14761925  734.34631729  773.54501534
  812.74371338]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     0,     2,     4,
          14,    13,    24,    46,    76,   159,   398,  1061,  4067,
       16123,  1530]), array([-12.45299149, -11.78706165, -11.12113182, -10.45520199,
        -9.78927215,  -9.12334232,  -8.45741249,  -7.79148265,
        -7.12555282,  -6.45962299,  -5.79369316,  -5.12776332,
        -4.46183349,  -3.79590366,  -3.12997382,  -2.46404399,
        -1.79811416,  -1.13218432,  -0.46625449,   0.19967534,   0.86560518]))
||Xanchor-Xpos||_2  counter: 
[  60  192  386  581  789  954 1106 1093 1007  814  514  395  182  108   37
   22    5    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   33  114  249  457  732  966 1015 1139 1031  889  642  428  281  147
   65   31   13    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.10259247  111.63014412  150.15769577  188.68524742  227.21279907
  265.74035072  304.26790237  342.79545403  381.32300568  419.85055733
  458.37810898  496.90566063  535.43321228  573.96076393  612.48831558
  651.01586723  689.54341888  728.07097054  766.59852219  805.12607384
  843.65362549]
distance difference  counter: 
(array([   1,    1,    1,    2,    1,    1,    3,    7,   10,   13,   25,
         34,   51,  138,  306,  617, 1621, 3622, 1679,  113]), array([-5.31092501, -5.01347736, -4.71602972, -4.41858208, -4.12113444,
       -3.82368679, -3.52623915, -3.22879151, -2.93134387, -2.63389622,
       -2.33644858, -2.03900094, -1.74155329, -1.44410565, -1.14665801,
       -0.84921037, -0.55176272, -0.25431508,  0.04313256,  0.3405802 ,
        0.63802785]))
train/val Accuracy = 0.608512628625 / 0.580099442154 
 with threshold: [[ 296.15190504]]
============ epoch 4 ===========
training loss:		0.019389
||Xanchor-Xpos||_2  counter: 
[ 342 1315 1989 2341 2822 3044 3078 2629 2045 1576 1023  630  365  169   89
   35   15    5    4    1]
||Xanchor-Xneg||_2  counter: 
[ 147  585  892 1311 1777 2276 2874 3141 2972 2536 1909 1268  827  474  275
  142   70   28    8    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  32.91812515   71.2752676   109.63241005  147.9895525   186.34669495
  224.70383739  263.06097984  301.41812229  339.77526474  378.13240719
  416.48954964  454.84669209  493.20383453  531.56097698  569.91811943
  608.27526188  646.63240433  684.98954678  723.34668922  761.70383167
  800.06097412]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     3,     4,     8,    15,
          14,    28,    35,    61,   134,   261,   633,  1642,  6062,
       13980,   637]), array([-10.54354477,  -9.97295427,  -9.40236377,  -8.83177327,
        -8.26118277,  -7.69059227,  -7.12000178,  -6.54941128,
        -5.97882078,  -5.40823028,  -4.83763978,  -4.26704928,
        -3.69645878,  -3.12586828,  -2.55527778,  -1.98468728,
        -1.41409678,  -0.84350629,  -0.27291579,   0.29767471,   0.86826521]))
||Xanchor-Xpos||_2  counter: 
[  57  175  371  617  717  993 1099 1147  968  796  534  394  192  114   40
   25    7    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   33  114  256  443  717  927 1051 1112 1051  896  663  418  279  159
   69   33   11    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  70.81098175  109.41288872  148.01479568  186.61670265  225.21860962
  263.82051659  302.42242355  341.02433052  379.62623749  418.22814445
  456.83005142  495.43195839  534.03386536  572.63577232  611.23767929
  649.83958626  688.44149323  727.04340019  765.64530716  804.24721413
  842.84912109]
distance difference  counter: 
(array([   1,    1,    0,    0,    2,    1,    1,    6,    9,   10,   21,
         25,   65,  132,  229,  570, 1499, 3647, 1891,  136]), array([-5.52621126, -5.21799544, -4.90977961, -4.60156379, -4.29334797,
       -3.98513214, -3.67691632, -3.3687005 , -3.06048467, -2.75226885,
       -2.44405302, -2.1358372 , -1.82762138, -1.51940555, -1.21118973,
       -0.90297391, -0.59475808, -0.28654226,  0.02167357,  0.32988939,
        0.63810521]))
train/val Accuracy = 0.608236244579 / 0.578704826583 
 with threshold: [[ 296.01572945]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.193840
||Xanchor-Xpos||_2  counter: 
[ 340 1373 2032 2377 2799 3146 2986 2568 2050 1551 1040  613  333  164   83
   38   13    6    4    2]
||Xanchor-Xneg||_2  counter: 
[ 139  609  946 1344 1792 2274 2913 3167 2974 2521 1825 1263  809  448  250
  138   67   24   11    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.10748291   71.73106384  110.35464478  148.97822571  187.60180664
  226.22538757  264.84896851  303.47254944  342.09613037  380.7197113
  419.34329224  457.96687317  496.5904541   535.21403503  573.83761597
  612.4611969   651.08477783  689.70835876  728.3319397   766.95552063
  805.57910156]
distance difference  counter: 
(array([   1,    1,    1,    3,    4,    7,    8,   13,   26,   31,   43,
         63,  111,  207,  453, 1004, 2648, 8726, 9875,  293]), array([-8.88430405, -8.39632112, -7.9083382 , -7.42035528, -6.93237236,
       -6.44438943, -5.95640651, -5.46842359, -4.98044066, -4.49245774,
       -4.00447482, -3.5164919 , -3.02850897, -2.54052605, -2.05254313,
       -1.5645602 , -1.07657728, -0.58859436, -0.10061144,  0.38737149,
        0.87535441]))
||Xanchor-Xpos||_2  counter: 
[  55  194  418  593  816 1004 1153 1116  955  754  527  346  176   82   43
   11    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   38  122  282  492  797  982 1104 1139 1065  828  577  389  223  117
   52   17   13    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  70.63227844  110.07533493  149.51839142  188.96144791  228.40450439
  267.84756088  307.29061737  346.73367386  386.17673035  425.61978683
  465.06284332  504.50589981  543.9489563   583.39201279  622.83506927
  662.27812576  701.72118225  741.16423874  780.60729523  820.05035172
  859.4934082 ]
distance difference  counter: 
(array([   1,    2,    1,    1,    2,    2,    6,   10,    9,   19,   26,
         43,   83,  181,  385,  776, 1808, 3518, 1259,  114]), array([-4.79548264, -4.52452361, -4.25356459, -3.98260557, -3.71164654,
       -3.44068752, -3.1697285 , -2.89876948, -2.62781045, -2.35685143,
       -2.08589241, -1.81493339, -1.54397436, -1.27301534, -1.00205632,
       -0.7310973 , -0.46013827, -0.18917925,  0.08177977,  0.35273879,
        0.62369782]))
train/val Accuracy = 0.607683476486 / 0.577855930148 
 with threshold: [[ 296.01162238]]
============ epoch 1 ===========
training loss:		0.192114
||Xanchor-Xpos||_2  counter: 
[ 372 1407 2027 2440 2769 3174 2993 2547 2036 1505 1033  588  323  161   88
   32   13    4    5    1]
||Xanchor-Xneg||_2  counter: 
[ 156  612  926 1374 1822 2304 2963 3196 2917 2460 1864 1183  819  441  248
  136   64   19    8    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  34.14612961   72.38036976  110.61460991  148.84885006  187.08309021
  225.31733036  263.55157051  301.78581066  340.02005081  378.25429096
  416.48853111  454.72277126  492.95701141  531.19125156  569.42549171
  607.65973186  645.89397202  684.12821217  722.36245232  760.59669247
  798.83093262]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     3,     6,     5,    17,
          19,    25,    42,    89,   129,   266,   693,  1794,  6490,
       13387,   551]), array([-10.33127117,  -9.7707812 ,  -9.21029122,  -8.64980125,
        -8.08931128,  -7.5288213 ,  -6.96833133,  -6.40784136,
        -5.84735138,  -5.28686141,  -4.72637144,  -4.16588146,
        -3.60539149,  -3.04490152,  -2.48441154,  -1.92392157,
        -1.3634316 ,  -0.80294162,  -0.24245165,   0.31803832,   0.8785283 ]))
||Xanchor-Xpos||_2  counter: 
[  56  184  396  612  759 1006 1092 1091 1026  740  575  350  202   92   42
   21    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   34  118  277  480  739  933 1088 1141 1039  879  605  416  265  130
   48   28   15    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  69.9431839   108.41434441  146.88550491  185.35666542  223.82782593
  262.29898643  300.77014694  339.24130745  377.71246796  416.18362846
  454.65478897  493.12594948  531.59710999  570.06827049  608.539431
  647.01059151  685.48175201  723.95291252  762.42407303  800.89523354
  839.36639404]
distance difference  counter: 
(array([   1,    0,    2,    2,    2,    3,    1,    6,    7,   12,   22,
         45,   74,  138,  302,  698, 1730, 3614, 1471,  116]), array([-5.12799311, -4.839727  , -4.5514609 , -4.26319479, -3.97492869,
       -3.68666258, -3.39839648, -3.11013038, -2.82186427, -2.53359817,
       -2.24533206, -1.95706596, -1.66879985, -1.38053375, -1.09226764,
       -0.80400154, -0.51573544, -0.22746933,  0.06079677,  0.34906288,
        0.63732898]))
train/val Accuracy = 0.60774725742 / 0.579432452098 
 with threshold: [[ 292.89562652]]
============ epoch 2 ===========
training loss:		0.190421
||Xanchor-Xpos||_2  counter: 
[ 270 1354 2088 2605 3049 3345 3082 2547 2005 1396  877  461  250  107   56
   16    6    0    3    1]
||Xanchor-Xneg||_2  counter: 
[ 103  603  984 1441 1968 2562 3215 3337 3032 2327 1680 1044  614  310  171
   76   32   13    3    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.2488308    66.46819773  106.68756466  146.90693159  187.12629852
  227.34566545  267.56503239  307.78439932  348.00376625  388.22313318
  428.44250011  468.66186705  508.88123398  549.10060091  589.31996784
  629.53933477  669.75870171  709.97806864  750.19743557  790.4168025
  830.63616943]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     2,     4,     7,     9,
          21,    22,    36,    63,   108,   247,   571,  1600,  5706,
       14383,   738]), array([-10.8544054 , -10.2680843 ,  -9.6817632 ,  -9.0954421 ,
        -8.509121  ,  -7.9227999 ,  -7.3364788 ,  -6.7501577 ,
        -6.1638366 ,  -5.5775155 ,  -4.9911944 ,  -4.4048733 ,
        -3.8185522 ,  -3.2322311 ,  -2.64590999,  -2.05958889,
        -1.47326779,  -0.88694669,  -0.30062559,   0.28569551,   0.87201661]))
||Xanchor-Xpos||_2  counter: 
[  58  191  369  625  772  991 1111 1114 1018  738  559  343  192   99   46
   16    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   34  119  257  466  765  916 1115 1117 1051  886  602  413  266  125
   54   38   12    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  69.27513885  107.37892036  145.48270187  183.58648338  221.69026489
  259.7940464   297.89782791  336.00160942  374.10539093  412.20917244
  450.31295395  488.41673546  526.52051697  564.62429848  602.72807999
  640.8318615   678.93564301  717.03942451  755.14320602  793.24698753
  831.35076904]
distance difference  counter: 
(array([   1,    0,    2,    0,    3,    0,    1,    7,    8,   14,   28,
         44,   46,  149,  279,  665, 1596, 3642, 1628,  133]), array([-5.17964458, -4.88964703, -4.59964947, -4.30965191, -4.01965436,
       -3.7296568 , -3.43965924, -3.14966169, -2.85966413, -2.56966657,
       -2.27966902, -1.98967146, -1.6996739 , -1.40967635, -1.11967879,
       -0.82968123, -0.53968368, -0.24968612,  0.04031144,  0.33030899,
        0.62030655]))
train/val Accuracy = 0.607704736797 / 0.581554693185 
 with threshold: [[ 290.33363233]]
============ epoch 3 ===========
training loss:		0.188760
||Xanchor-Xpos||_2  counter: 
[ 253 1299 2083 2472 2985 3240 3123 2572 2073 1444  913  550  281  131   58
   24    9    5    2    1]
||Xanchor-Xneg||_2  counter: 
[  89  601  938 1353 1910 2458 3097 3275 3037 2463 1715 1145  692  359  228
   86   51   13    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.81161308   64.90455294  103.99749279  143.09043264  182.1833725
  221.27631235  260.3692522   299.46219206  338.55513191  377.64807177
  416.74101162  455.83395147  494.92689133  534.01983118  573.11277103
  612.20571089  651.29865074  690.3915906   729.48453045  768.5774703
  807.67041016]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     1,     3,     7,
           6,    19,    21,    50,    70,   153,   378,  1110,  4102,
       16168,  1429]), array([-12.53351402, -11.86307001, -11.192626  , -10.52218199,
        -9.85173798,  -9.18129396,  -8.51084995,  -7.84040594,
        -7.16996193,  -6.49951792,  -5.82907391,  -5.15862989,
        -4.48818588,  -3.81774187,  -3.14729786,  -2.47685385,
        -1.80640984,  -1.13596582,  -0.46552181,   0.2049222 ,   0.87536621]))
||Xanchor-Xpos||_2  counter: 
[  71  218  424  642  814 1003 1126 1108  973  698  562  297  168   77   45
   16    2    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   46  132  283  511  823  927 1103 1125 1061  831  580  385  231  106
   52   29   11    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  72.71576691  110.63514824  148.55452957  186.4739109   224.39329224
  262.31267357  300.2320549   338.15143623  376.07081757  413.9901989
  451.90958023  489.82896156  527.7483429   565.66772423  603.58710556
  641.50648689  679.42586823  717.34524956  755.26463089  793.18401222
  831.10339355]
distance difference  counter: 
(array([   1,    0,    3,    0,    2,    1,    5,   10,   13,   16,   31,
         57,   82,  158,  365,  750, 1789, 3514, 1337,  112]), array([-4.89384699, -4.61796743, -4.34208788, -4.06620832, -3.79032876,
       -3.51444921, -3.23856965, -2.9626901 , -2.68681054, -2.41093099,
       -2.13505143, -1.85917187, -1.58329232, -1.30741276, -1.03153321,
       -0.75565365, -0.47977409, -0.20389454,  0.07198502,  0.34786457,
        0.62374413]))
train/val Accuracy = 0.608129943022 / 0.579978171235 
 with threshold: [[ 287.37100406]]
============ epoch 4 ===========
training loss:		0.187131
||Xanchor-Xpos||_2  counter: 
[ 323 1431 2149 2587 3040 3253 3104 2505 2039 1331  853  470  237  109   56
   20    7    3    0    1]
||Xanchor-Xneg||_2  counter: 
[ 123  624 1011 1489 1940 2571 3243 3359 2913 2360 1608 1082  555  335  170
   80   37   14    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.682024     67.89282026  107.10361652  146.31441278  185.52520905
  224.73600531  263.94680157  303.15759783  342.36839409  381.57919035
  420.78998661  460.00078287  499.21157913  538.42237539  577.63317165
  616.84396791  656.05476418  695.26556044  734.4763567   773.68715296
  812.89794922]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     0,     3,     6,
          10,    15,    35,    45,    79,   173,   427,  1198,  4327,
       15936,  1262]), array([-12.09872055, -11.45035025, -10.80197996, -10.15360966,
        -9.50523937,  -8.85686907,  -8.20849878,  -7.56012848,
        -6.91175818,  -6.26338789,  -5.61501759,  -4.9666473 ,
        -4.318277  ,  -3.66990671,  -3.02153641,  -2.37316611,
        -1.72479582,  -1.07642552,  -0.42805523,   0.22031507,   0.86868536]))
||Xanchor-Xpos||_2  counter: 
[  55  197  398  585  761 1020 1084 1148  998  731  541  344  215   92   51
   23    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   30  118  266  489  758  912 1094 1119 1045  917  587  402  269  123
   60   34   11    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  67.95812988  105.337854    142.71757812  180.09730225  217.47702637
  254.85675049  292.23647461  329.61619873  366.99592285  404.37564697
  441.75537109  479.13509521  516.51481934  553.89454346  591.27426758
  628.6539917   666.03371582  703.41343994  740.79316406  778.17288818
  815.5526123 ]
distance difference  counter: 
(array([   1,    0,    3,    2,    2,    0,   10,    8,   17,   13,   33,
         44,  106,  171,  371,  826, 1952, 3486, 1107,   94]), array([-4.75346041, -4.48406115, -4.21466189, -3.94526263, -3.67586337,
       -3.40646411, -3.13706486, -2.8676656 , -2.59826634, -2.32886708,
       -2.05946782, -1.79006856, -1.52066931, -1.25127005, -0.98187079,
       -0.71247153, -0.44307227, -0.17367301,  0.09572625,  0.3651255 ,
        0.63452476]))
train/val Accuracy = 0.607725997109 / 0.578159107446 
 with threshold: [[ 284.70065419]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.866392
||Xanchor-Xpos||_2  counter: 
[ 251 1288 2027 2487 2832 3265 3039 2604 2072 1477 1018  606  287  133   77
   34   12    8    1    0]
||Xanchor-Xneg||_2  counter: 
[  90  578  928 1349 1827 2360 3057 3246 2990 2551 1784 1190  741  418  222
  117   38   18    9    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.42517662   63.80726862  102.18936062  140.57145262  178.95354462
  217.33563662  255.71772861  294.09982061  332.48191261  370.86400461
  409.24609661  447.62818861  486.01028061  524.39237261  562.77446461
  601.15655661  639.53864861  677.9207406   716.3028326   754.6849246
  793.0670166 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     2,     2,     5,    10,    15,
          19,    26,    46,    76,   147,   296,   717,  1800,  6580,
       13243,   533]), array([-10.19356823,  -9.64025855,  -9.08694888,  -8.5336392 ,
        -7.98032953,  -7.42701985,  -6.87371017,  -6.3204005 ,
        -5.76709082,  -5.21378115,  -4.66047147,  -4.10716179,
        -3.55385212,  -3.00054244,  -2.44723276,  -1.89392309,
        -1.34061341,  -0.78730374,  -0.23399406,   0.31931562,   0.87262529]))
||Xanchor-Xpos||_2  counter: 
[  52  159  338  567  727  852  978 1139 1013  837  602  446  264  152   68
   36   10    6    0    0]
||Xanchor-Xneg||_2  counter: 
[   4   32   91  228  409  666  805  997 1065 1054  923  733  509  333  195
  116   47   28    7    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  65.11432648   98.98344231  132.85255814  166.72167397  200.59078979
  234.45990562  268.32902145  302.19813728  336.06725311  369.93636894
  403.80548477  437.6746006   471.54371643  505.41283226  539.28194809
  573.15106392  607.02017975  640.88929558  674.75841141  708.62752724
  742.49664307]
distance difference  counter: 
(array([   2,    2,    1,    2,    2,    8,    7,    6,   12,   17,   35,
         56,  120,  210,  425,  880, 2123, 3300,  958,   80]), array([-4.54386473, -4.28503159, -4.02619845, -3.76736531, -3.50853217,
       -3.24969903, -2.99086589, -2.73203275, -2.47319961, -2.21436647,
       -1.95553333, -1.69670019, -1.43786705, -1.17903391, -0.92020077,
       -0.66136762, -0.40253448, -0.14370134,  0.1151318 ,  0.37396494,
        0.63279808]))
train/val Accuracy = 0.607874819287 / 0.580584525831 
 with threshold: [[ 285.23837372]]
============ epoch 1 ===========
training loss:		1.720037
||Xanchor-Xpos||_2  counter: 
[ 310 1399 2154 2512 2984 3328 3043 2600 1952 1411  883  490  248  107   63
   22    6    4    1    1]
||Xanchor-Xneg||_2  counter: 
[ 124  638  955 1466 1935 2524 3157 3294 3006 2409 1637 1071  626  346  180
   84   42   13   10    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.68866539   61.17847528   96.66828518  132.15809507  167.64790497
  203.13771486  238.62752476  274.11733465  309.60714455  345.09695444
  380.58676434  416.07657423  451.56638412  487.05619402  522.54600391
  558.03581381  593.5256237   629.0154336   664.50524349  699.99505339
  735.48486328]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     1,     1,     3,    10,
          16,    30,    30,    56,   100,   209,   518,  1386,  5202,
       15112,   842]), array([-11.40039921, -10.78630892, -10.17221864,  -9.55812835,
        -8.94403807,  -8.32994778,  -7.7158575 ,  -7.10176722,
        -6.48767693,  -5.87358665,  -5.25949636,  -4.64540608,
        -4.03131579,  -3.41722551,  -2.80313522,  -2.18904494,
        -1.57495465,  -0.96086437,  -0.34677408,   0.2673162 ,   0.88140649]))
||Xanchor-Xpos||_2  counter: 
[  62  169  364  562  715  907  995 1075 1016  825  610  418  270  143   71
   31    9    3    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   30  109  231  424  642  874  978 1064 1028  920  699  522  327  195
  107   44   27   10    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  61.97257996   92.59116287  123.20974579  153.8283287   184.44691162
  215.06549454  245.68407745  276.30266037  306.92124329  337.5398262
  368.15840912  398.77699203  429.39557495  460.01415787  490.63274078
  521.2513237   551.86990662  582.48848953  613.10707245  643.72565536
  674.34423828]
distance difference  counter: 
(array([   1,    0,    2,    3,    2,    3,    3,    9,   10,   18,   18,
         46,   86,  149,  328,  745, 1810, 3590, 1323,  100]), array([-4.99395609, -4.71234513, -4.43073417, -4.14912321, -3.86751225,
       -3.58590129, -3.30429033, -3.02267937, -2.74106841, -2.45945745,
       -2.17784649, -1.89623553, -1.61462457, -1.33301361, -1.05140265,
       -0.76979169, -0.48818073, -0.20656977,  0.07504119,  0.35665215,
        0.63826311]))
train/val Accuracy = 0.60859766987 / 0.584404559787 
 with threshold: [[ 259.13659868]]
============ epoch 2 ===========
training loss:		1.599319
||Xanchor-Xpos||_2  counter: 
[ 357 1326 1975 2366 2716 3115 2983 2613 2080 1588 1023  656  386  168   86
   47   19    9    2    2]
||Xanchor-Xneg||_2  counter: 
[ 148  581  894 1332 1734 2229 2873 3134 2942 2534 1935 1278  863  483  273
  159   78   35    6    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.29623032   56.65819492   87.02015953  117.38212414  147.74408875
  178.10605335  208.46801796  238.82998257  269.19194717  299.55391178
  329.91587639  360.277841    390.6398056   421.00177021  451.36373482
  481.72569942  512.08766403  542.44962864  572.81159325  603.17355785
  633.53552246]
distance difference  counter: 
(array([    1,     0,     0,     2,     0,     5,     9,     9,    15,
          20,    30,    50,    84,   167,   322,   762,  1933,  7143,
       12538,   428]), array([-9.91392994, -9.37415914, -8.83438834, -8.29461754, -7.75484674,
       -7.21507594, -6.67530514, -6.13553434, -5.59576354, -5.05599274,
       -4.51622194, -3.97645114, -3.43668034, -2.89690954, -2.35713874,
       -1.81736794, -1.27759714, -0.73782634, -0.19805554,  0.34171526,
        0.88148606]))
||Xanchor-Xpos||_2  counter: 
[  72  199  407  653  838  968 1127 1127  981  721  517  314  184   87   38
    9    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   44  134  295  508  795  936 1127 1082 1062  826  617  387  232  114
   42   25    9    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  56.34787369   86.00181179  115.65574989  145.309688    174.9636261
  204.6175642   234.2715023   263.92544041  293.57937851  323.23331661
  352.88725471  382.54119282  412.19513092  441.84906902  471.50300713
  501.15694523  530.81088333  560.46482143  590.11875954  619.77269764
  649.42663574]
distance difference  counter: 
(array([   1,    0,    0,    1,    3,    2,    1,    7,   14,   11,   16,
         42,   60,  124,  254,  597, 1508, 3538, 1910,  157]), array([-5.32642698, -5.0291894 , -4.73195182, -4.43471424, -4.13747666,
       -3.84023908, -3.5430015 , -3.24576392, -2.94852633, -2.65128875,
       -2.35405117, -2.05681359, -1.75957601, -1.46233843, -1.16510085,
       -0.86786327, -0.57062569, -0.27338811,  0.02384948,  0.32108706,
        0.61832464]))
train/val Accuracy = 0.607215749639 / 0.582585495998 
 with threshold: [[ 235.26307183]]
============ epoch 3 ===========
training loss:		1.499747
||Xanchor-Xpos||_2  counter: 
[ 423 1551 2212 2614 3226 3319 3081 2446 1866 1266  713  441  205   82   46
   13    7    5    2    0]
||Xanchor-Xneg||_2  counter: 
[ 183  650 1089 1541 2080 2720 3313 3316 2899 2227 1495  952  514  274  164
   59   27    9    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  23.79659271   53.62280617   83.44901962  113.27523308  143.10144653
  172.92765999  202.75387344  232.5800869   262.40630035  292.23251381
  322.05872726  351.88494072  381.71115417  411.53736763  441.36358109
  471.18979454  501.016008    530.84222145  560.66843491  590.49464836
  620.32086182]
distance difference  counter: 
(array([    1,     1,     1,     1,     8,     7,     6,    19,    18,
          23,    42,    60,   120,   198,   422,   953,  2513,  8567,
       10257,   301]), array([-8.94434166, -8.45344048, -7.9625393 , -7.47163813, -6.98073695,
       -6.48983577, -5.99893459, -5.50803341, -5.01713223, -4.52623106,
       -4.03532988, -3.5444287 , -3.05352752, -2.56262634, -2.07172517,
       -1.58082399, -1.08992281, -0.59902163, -0.10812045,  0.38278072,
        0.8736819 ]))
||Xanchor-Xpos||_2  counter: 
[  54  191  401  588  820 1025 1140 1124  984  743  527  331  174   85   41
   15    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   33  122  282  494  758  995 1110 1100 1068  833  621  390  227  121
   48   23   13    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  47.70972824   74.81516285  101.92059746  129.02603207  156.13146667
  183.23690128  210.34233589  237.4477705   264.55320511  291.65863972
  318.76407433  345.86950893  372.97494354  400.08037815  427.18581276
  454.29124737  481.39668198  508.50211658  535.60755119  562.7129858
  589.81842041]
distance difference  counter: 
(array([   1,    2,    0,    2,    4,    3,    9,   10,   15,   21,   39,
         61,  109,  189,  460,  976, 2032, 3307,  939,   67]), array([-4.48406887, -4.2281961 , -3.97232333, -3.71645056, -3.46057779,
       -3.20470501, -2.94883224, -2.69295947, -2.4370867 , -2.18121393,
       -1.92534116, -1.66946839, -1.41359562, -1.15772285, -0.90185007,
       -0.6459773 , -0.39010453, -0.13423176,  0.12164101,  0.37751378,
        0.63338655]))
train/val Accuracy = 0.607981120844 / 0.584283288867 
 with threshold: [[ 213.68825386]]
============ epoch 4 ===========
training loss:		1.417618
||Xanchor-Xpos||_2  counter: 
[ 402 1426 2135 2494 2863 3215 2983 2452 2011 1469  953  543  293  154   71
   31   13    6    4    0]
||Xanchor-Xneg||_2  counter: 
[ 184  614  984 1420 1846 2405 2976 3251 2970 2438 1732 1129  737  394  229
  126   50   19    7    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  22.89728737   48.57610769   74.25492802   99.93374834  125.61256866
  151.29138899  176.97020931  202.64902964  228.32784996  254.00667028
  279.68549061  305.36431093  331.04313126  356.72195158  382.4007719
  408.07959223  433.75841255  459.43723288  485.1160532   510.79487352
  536.47369385]
distance difference  counter: 
(array([   1,    2,    0,    3,    6,    7,   13,   14,   16,   32,   48,
         88,  126,  243,  496, 1068, 2827, 9161, 9106,  261]), array([-8.56830502, -8.09624708, -7.62418915, -7.15213122, -6.68007329,
       -6.20801535, -5.73595742, -5.26389949, -4.79184155, -4.31978362,
       -3.84772569, -3.37566776, -2.90360982, -2.43155189, -1.95949396,
       -1.48743603, -1.01537809, -0.54332016, -0.07126223,  0.4007957 ,
        0.87285364]))
||Xanchor-Xpos||_2  counter: 
[  58  187  380  608  760  959 1063 1096  998  814  549  387  213   94   47
   25    6    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   36  103  277  437  748  910 1030 1106 1082  857  671  430  285  147
   64   33   15    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  45.4058609    69.23376122   93.06166153  116.88956184  140.71746216
  164.54536247  188.37326279  212.2011631   236.02906342  259.85696373
  283.68486404  307.51276436  331.34066467  355.16856499  378.9964653
  402.82436562  426.65226593  450.48016624  474.30806656  498.13596687
  521.96386719]
distance difference  counter: 
(array([   1,    0,    0,    1,    2,    4,    4,    5,    7,   16,   16,
         38,   45,  122,  288,  633, 1543, 3640, 1755,  126]), array([-5.34588242, -5.04664254, -4.74740266, -4.44816279, -4.14892291,
       -3.84968303, -3.55044315, -3.25120328, -2.9519634 , -2.65272352,
       -2.35348365, -2.05424377, -1.75500389, -1.45576402, -1.15652414,
       -0.85728426, -0.55804439, -0.25880451,  0.04043537,  0.33967524,
        0.63891512]))
train/val Accuracy = 0.609363041075 / 0.583434392433 
 with threshold: [[ 194.03596656]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019397
||Xanchor-Xpos||_2  counter: 
[ 251 1287 2013 2427 2882 3204 3067 2579 2094 1519 1006  605  309  151   76
   32    7    5    4    0]
||Xanchor-Xneg||_2  counter: 
[  85  587  902 1382 1832 2285 3024 3209 3050 2526 1809 1230  779  387  215
  143   44   18    4    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.8699913    66.51172428  106.15345726  145.79519024  185.43692322
  225.0786562   264.72038918  304.36212215  344.00385513  383.64558811
  423.28732109  462.92905407  502.57078705  542.21252003  581.85425301
  621.49598598  661.13771896  700.77945194  740.42118492  780.0629179
  819.70465088]
distance difference  counter: 
(array([    1,     0,     0,     3,     5,     4,     8,    20,    17,
          24,    31,    60,    99,   195,   385,   883,  2273,  7875,
       11261,   374]), array([-9.3137455 , -8.80468615, -8.2956268 , -7.78656745, -7.2775081 ,
       -6.76844876, -6.25938941, -5.75033006, -5.24127071, -4.73221136,
       -4.22315201, -3.71409266, -3.20503331, -2.69597397, -2.18691462,
       -1.67785527, -1.16879592, -0.65973657, -0.15067722,  0.35838213,
        0.86744148]))
||Xanchor-Xpos||_2  counter: 
[  70  190  416  635  775  987 1112 1125  973  732  535  349  192   84   47
   17    5    1    1    0]
||Xanchor-Xneg||_2  counter: 
[   8   36  130  274  510  774  950 1055 1103 1073  813  634  398  247  135
   63   27    8    7    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.32480621  112.21619225  151.10757828  189.99896431  228.89035034
  267.78173637  306.67312241  345.56450844  384.45589447  423.3472805
  462.23866653  501.13005257  540.0214386   578.91282463  617.80421066
  656.69559669  695.58698273  734.47836876  773.36975479  812.26114082
  851.15252686]
distance difference  counter: 
(array([   2,    0,    4,    2,    3,    4,    4,   15,    9,   29,   37,
         59,  123,  237,  416,  899, 2044, 3265,  991,  103]), array([-4.43652534, -4.18418472, -3.9318441 , -3.67950347, -3.42716285,
       -3.17482223, -2.9224816 , -2.67014098, -2.41780035, -2.16545973,
       -1.91311911, -1.66077848, -1.40843786, -1.15609724, -0.90375661,
       -0.65141599, -0.39907537, -0.14673474,  0.10560588,  0.35794651,
        0.61028713]))
train/val Accuracy = 0.607279530572 / 0.581797235023 
 with threshold: [[ 296.04669738]]
============ epoch 1 ===========
training loss:		0.019224
||Xanchor-Xpos||_2  counter: 
[ 299 1387 2063 2468 2946 3224 3040 2563 2012 1516  885  552  311  138   67
   35    3    4    4    1]
||Xanchor-Xneg||_2  counter: 
[ 116  622  948 1413 1875 2469 2975 3287 3006 2410 1793 1149  688  401  189
  108   48   13    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  29.40329552   68.92240381  108.44151211  147.9606204   187.4797287
  226.99883699  266.51794529  306.03705359  345.55616188  385.07527018
  424.59437847  464.11348677  503.63259506  543.15170336  582.67081165
  622.18991995  661.70902824  701.22813654  740.74724483  780.26635313
  819.78546143]
distance difference  counter: 
(array([    2,     0,     0,     1,     6,     6,     6,    21,    22,
          21,    36,    65,   101,   222,   429,   931,  2446,  8295,
       10586,   322]), array([-9.04178429, -8.54631424, -8.0508442 , -7.55537415, -7.05990411,
       -6.56443407, -6.06896402, -5.57349398, -5.07802393, -4.58255389,
       -4.08708385, -3.5916138 , -3.09614376, -2.60067371, -2.10520367,
       -1.60973363, -1.11426358, -0.61879354, -0.12332349,  0.37214655,
        0.86761659]))
||Xanchor-Xpos||_2  counter: 
[  67  203  406  613  798 1041 1099 1123  950  727  535  326  185  105   46
   15    7    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  11   43  124  291  493  789  928 1069 1089 1045  871  615  399  256  115
   69   27    9    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.0956955   111.59475594  150.09381638  188.59287682  227.09193726
  265.5909977   304.09005814  342.58911858  381.08817902  419.58723946
  458.0862999   496.58536034  535.08442078  573.58348122  612.08254166
  650.5816021   689.08066254  727.57972298  766.07878342  804.57784386
  843.0769043 ]
distance difference  counter: 
(array([   1,    0,    0,    1,    4,    0,    2,    8,    7,   16,   18,
         34,   57,  135,  242,  563, 1465, 3403, 2110,  180]), array([-5.35241795, -5.05464418, -4.75687041, -4.45909665, -4.16132288,
       -3.86354911, -3.56577535, -3.26800158, -2.97022781, -2.67245405,
       -2.37468028, -2.07690651, -1.77913275, -1.48135898, -1.18358521,
       -0.88581145, -0.58803768, -0.29026392,  0.00750985,  0.30528362,
        0.60305738]))
train/val Accuracy = 0.608044901777 / 0.581615328644 
 with threshold: [[ 293.42373984]]
============ epoch 2 ===========
training loss:		0.019055
||Xanchor-Xpos||_2  counter: 
[ 325 1400 2059 2499 2851 3272 3037 2535 2023 1455  973  557  274  149   68
   24    8    6    3    0]
||Xanchor-Xneg||_2  counter: 
[ 135  609  972 1387 1867 2414 3031 3208 2975 2468 1780 1147  736  406  206
   99   48   19    5    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.55568886   69.451406    108.34712315  147.24284029  186.13855743
  225.03427458  263.92999172  302.82570887  341.72142601  380.61714315
  419.5128603   458.40857744  497.30429459  536.20001173  575.09572887
  613.99144602  652.88716316  691.78288031  730.67859745  769.57431459
  808.47003174]
distance difference  counter: 
(array([    1,     0,     1,     0,     3,     4,     2,     9,    18,
          22,    29,    47,    79,   167,   329,   715,  1933,  6971,
       12699,   489]), array([-9.96686745, -9.4248951 , -8.88292276, -8.34095042, -7.79897808,
       -7.25700574, -6.71503339, -6.17306105, -5.63108871, -5.08911637,
       -4.54714403, -4.00517168, -3.46319934, -2.921227  , -2.37925466,
       -1.83728231, -1.29530997, -0.75333763, -0.21136529,  0.33060705,
        0.8725794 ]))
||Xanchor-Xpos||_2  counter: 
[  62  187  394  617  806  984 1120 1123  988  742  523  338  196   93   54
   16    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   38  115  281  488  763  961 1066 1111 1056  850  618  407  256  128
   58   32    9    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  70.29031372  108.52954254  146.76877136  185.00800018  223.247229
  261.48645782  299.72568665  337.96491547  376.20414429  414.44337311
  452.68260193  490.92183075  529.16105957  567.40028839  605.63951721
  643.87874603  682.11797485  720.35720367  758.5964325   796.83566132
  835.07489014]
distance difference  counter: 
(array([   1,    0,    1,    1,    2,    5,    3,    3,   14,   18,   26,
         48,   97,  141,  332,  726, 1774, 3569, 1369,  116]), array([-4.99569702, -4.71430423, -4.43291143, -4.15151864, -3.87012584,
       -3.58873305, -3.30734025, -3.02594746, -2.74455466, -2.46316187,
       -2.18176907, -1.90037628, -1.61898348, -1.33759069, -1.05619789,
       -0.7748051 , -0.4934123 , -0.21201951,  0.06937329,  0.35076608,
        0.63215888]))
train/val Accuracy = 0.608193723956 / 0.581494057725 
 with threshold: [[ 290.6718485]]
============ epoch 3 ===========
training loss:		0.018889
||Xanchor-Xpos||_2  counter: 
[ 307 1337 2081 2447 2924 3222 2991 2596 2025 1492  964  572  299  145   65
   28   10    6    6    1]
||Xanchor-Xneg||_2  counter: 
[ 124  584  969 1342 1914 2366 3007 3257 3066 2396 1802 1158  756  392  206
  111   41   20    3    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.86636734   67.4592001   106.05203285  144.64486561  183.23769836
  221.83053112  260.42336388  299.01619663  337.60902939  376.20186214
  414.7946949   453.38752766  491.98036041  530.57319317  569.16602592
  607.75885868  646.35169144  684.94452419  723.53735695  762.1301897
  800.72302246]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     5,     8,     8,
          19,    22,    29,    56,   110,   227,   549,  1456,  5323,
       14875,   830]), array([-11.16152287, -10.55981811,  -9.95811335,  -9.35640859,
        -8.75470383,  -8.15299907,  -7.55129431,  -6.94958956,
        -6.3478848 ,  -5.74618004,  -5.14447528,  -4.54277052,
        -3.94106576,  -3.33936101,  -2.73765625,  -2.13595149,
        -1.53424673,  -0.93254197,  -0.33083721,   0.27086754,   0.8725723 ]))
||Xanchor-Xpos||_2  counter: 
[  60  192  417  628  827 1010 1111 1098  994  737  509  315  193  100   36
   15    2    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   35  127  288  509  775  954 1121 1146 1021  813  611  394  236  111
   55   30    7    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  69.62394714  107.85119095  146.07843475  184.30567856  222.53292236
  260.76016617  298.98740997  337.21465378  375.44189758  413.66914139
  451.89638519  490.123629    528.3508728   566.57811661  604.80536041
  643.03260422  681.25984802  719.48709183  757.71433563  795.94157944
  834.16882324]
distance difference  counter: 
(array([   2,    0,    0,    2,    2,    4,    2,    6,    9,   10,   18,
         43,   67,  141,  291,  593, 1574, 3477, 1839,  166]), array([-5.16954803, -4.88091696, -4.59228589, -4.30365482, -4.01502374,
       -3.72639267, -3.4377616 , -3.14913053, -2.86049945, -2.57186838,
       -2.28323731, -1.99460624, -1.70597516, -1.41734409, -1.12871302,
       -0.84008195, -0.55145087, -0.2628198 ,  0.02581127,  0.31444235,
        0.60307342]))
train/val Accuracy = 0.607109448082 / 0.58222168324 
 with threshold: [[ 288.01798335]]
============ epoch 4 ===========
training loss:		0.018727
||Xanchor-Xpos||_2  counter: 
[ 366 1448 2106 2442 2922 3156 2992 2611 1945 1480  961  559  274  137   71
   29   10    4    4    1]
||Xanchor-Xneg||_2  counter: 
[ 163  600  990 1435 1883 2356 3054 3193 3022 2409 1799 1141  700  394  192
  117   46   14    5    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  31.96417618   69.99590511  108.02763405  146.05936298  184.09109192
  222.12282085  260.15454979  298.18627872  336.21800766  374.2497366
  412.28146553  450.31319447  488.3449234   526.37665234  564.40838127
  602.44011021  640.47183914  678.50356808  716.53529701  754.56702595
  792.59875488]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     5,     4,     8,    10,
          23,    27,    39,    64,   132,   287,   634,  1700,  6149,
       13800,   635]), array([-10.44418144,  -9.87859136,  -9.31300128,  -8.74741119,
        -8.18182111,  -7.61623102,  -7.05064094,  -6.48505086,
        -5.91946077,  -5.35387069,  -4.78828061,  -4.22269052,
        -3.65710044,  -3.09151036,  -2.52592027,  -1.96033019,
        -1.3947401 ,  -0.82915002,  -0.26355994,   0.30203015,   0.86762023]))
||Xanchor-Xpos||_2  counter: 
[  78  207  411  592  738  985 1061 1126  922  798  571  348  213  107   59
   20    8    1    1    0]
||Xanchor-Xneg||_2  counter: 
[   8   42  127  284  455  773  921  997 1104 1032  864  655  433  279  137
   73   40   16    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  74.11347198  110.62329826  147.13312454  183.64295082  220.1527771
  256.66260338  293.17242966  329.68225594  366.19208221  402.70190849
  439.21173477  475.72156105  512.23138733  548.74121361  585.25103989
  621.76086617  658.27069244  694.78051872  731.290345    767.80017128
  804.30999756]
distance difference  counter: 
(array([   1,    0,    2,    1,    2,    3,    3,    7,   11,   15,   25,
         37,   74,  134,  305,  647, 1624, 3537, 1670,  148]), array([-5.0931077 , -4.80785946, -4.52261121, -4.23736297, -3.95211473,
       -3.66686648, -3.38161824, -3.09636999, -2.81112175, -2.52587351,
       -2.24062526, -1.95537702, -1.67012877, -1.38488053, -1.09963229,
       -0.81438404, -0.5291358 , -0.24388756,  0.04136069,  0.32660893,
        0.61185718]))
train/val Accuracy = 0.606471638745 / 0.579553723017 
 with threshold: [[ 285.31320317]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.186800
||Xanchor-Xpos||_2  counter: 
[ 210 1316 2057 2506 2909 3223 3079 2640 2038 1500  930  543  310  146   71
   29    9    1    0    1]
||Xanchor-Xneg||_2  counter: 
[  84  571  929 1419 1896 2354 3117 3279 2962 2466 1788 1123  704  448  213
   95   36   26    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  24.23059654   63.03012629  101.82965603  140.62918577  179.42871552
  218.22824526  257.027775    295.82730474  334.62683449  373.42636423
  412.22589397  451.02542372  489.82495346  528.6244832   567.42401295
  606.22354269  645.02307243  683.82260218  722.62213192  761.42166166
  800.22119141]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     3,     5,     5,    12,
          25,    25,    43,    57,   136,   251,   618,  1645,  5967,
       14064,   661]), array([-10.63586998, -10.06057788,  -9.48528578,  -8.90999368,
        -8.33470159,  -7.75940949,  -7.18411739,  -6.60882529,
        -6.03353319,  -5.45824109,  -4.88294899,  -4.3076569 ,
        -3.7323648 ,  -3.1570727 ,  -2.5817806 ,  -2.0064885 ,
        -1.4311964 ,  -0.8559043 ,  -0.28061221,   0.29467989,   0.86997199]))
||Xanchor-Xpos||_2  counter: 
[  62  192  384  643  837  958 1145 1091  965  767  507  353  195   78   47
   18    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   36  121  286  496  775  940 1073 1133 1071  868  595  395  209  138
   60   28    8    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  65.25858307  101.08146935  136.90435562  172.7272419   208.55012817
  244.37301445  280.19590073  316.018787    351.84167328  387.66455956
  423.48744583  459.31033211  495.13321838  530.95610466  566.77899094
  602.60187721  638.42476349  674.24764977  710.07053604  745.89342232
  781.71630859]
distance difference  counter: 
(array([   1,    1,    1,    2,    1,    3,    7,    6,   11,   17,   23,
         43,  102,  150,  360,  771, 1818, 3545, 1287,   97]), array([-4.925529  , -4.6474833 , -4.36943759, -4.09139188, -3.81334617,
       -3.53530046, -3.25725476, -2.97920905, -2.70116334, -2.42311763,
       -2.14507192, -1.86702622, -1.58898051, -1.3109348 , -1.03288909,
       -0.75484338, -0.47679768, -0.19875197,  0.07929374,  0.35733945,
        0.63538516]))
train/val Accuracy = 0.606280295944 / 0.583070579675 
 with threshold: [[ 285.25419717]]
============ epoch 1 ===========
training loss:		0.172140
||Xanchor-Xpos||_2  counter: 
[ 248 1276 1933 2407 2837 3092 3068 2620 2127 1548 1012  649  365  182   85
   44   13    8    1    3]
||Xanchor-Xneg||_2  counter: 
[  93  572  870 1309 1810 2322 2825 3154 3021 2569 1848 1310  814  489  254
  137   76   31    7    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  23.79738617   57.94956398   92.10174179  126.2539196   160.40609741
  194.55827522  228.71045303  262.86263084  297.01480865  331.16698647
  365.31916428  399.47134209  433.6235199   467.77569771  501.92787552
  536.08005333  570.23223114  604.38440895  638.53658676  672.68876457
  706.84094238]
distance difference  counter: 
(array([    1,     0,     0,     0,     4,     2,     8,    10,    13,
          26,    30,    55,    81,   167,   341,   763,  2111,  7306,
       12167,   433]), array([-9.82498741, -9.28949446, -8.75400151, -8.21850856, -7.68301561,
       -7.14752266, -6.61202971, -6.07653676, -5.54104381, -5.00555086,
       -4.4700579 , -3.93456495, -3.399072  , -2.86357905, -2.3280861 ,
       -1.79259315, -1.2571002 , -0.72160725, -0.1861143 ,  0.34937865,
        0.8848716 ]))
||Xanchor-Xpos||_2  counter: 
[  70  209  395  634  838 1003 1089 1143  961  748  554  288  170   78   48
   13    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   38  135  279  522  783  965 1109 1154 1012  850  592  377  208  126
   49   26   10    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  61.104702     93.7192728   126.33384361  158.94841442  191.56298523
  224.17755604  256.79212685  289.40669765  322.02126846  354.63583927
  387.25041008  419.86498089  452.4795517   485.09412251  517.70869331
  550.32326412  582.93783493  615.55240574  648.16697655  680.78154736
  713.39611816]
distance difference  counter: 
(array([   1,    0,    3,    2,    0,    3,    3,   10,    8,   13,   22,
         46,   62,  157,  287,  657, 1696, 3687, 1480,  109]), array([-5.17016268, -4.87966369, -4.58916471, -4.29866573, -4.00816674,
       -3.71766776, -3.42716877, -3.13666979, -2.84617081, -2.55567182,
       -2.26517284, -1.97467386, -1.68417487, -1.39367589, -1.1031769 ,
       -0.81267792, -0.52217894, -0.23167995,  0.05881903,  0.34931802,
        0.639817  ]))
train/val Accuracy = 0.607959860532 / 0.585677904439 
 with threshold: [[ 258.98621174]]
============ epoch 2 ===========
training loss:		0.160049
||Xanchor-Xpos||_2  counter: 
[ 259 1318 2074 2505 2920 3227 3031 2628 2010 1510  937  539  320  125   68
   28    9    7    3    0]
||Xanchor-Xneg||_2  counter: 
[ 102  574  948 1391 1951 2324 3000 3343 2983 2479 1749 1131  725  424  210
  105   50   17    8    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  21.88838005   53.65692797   85.42547588  117.1940238   148.96257172
  180.73111963  212.49966755  244.26821547  276.03676338  307.8053113
  339.57385921  371.34240713  403.11095505  434.87950296  466.64805088
  498.4165988   530.18514671  561.95369463  593.72224255  625.49079046
  657.25933838]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     3,     5,    11,     7,
          22,    22,    49,    60,   127,   297,   681,  1746,  6430,
       13516,   541]), array([-10.42548847,  -9.85996767,  -9.29444687,  -8.72892607,
        -8.16340526,  -7.59788446,  -7.03236366,  -6.46684286,
        -5.90132205,  -5.33580125,  -4.77028045,  -4.20475965,
        -3.63923885,  -3.07371804,  -2.50819724,  -1.94267644,
        -1.37715564,  -0.81163484,  -0.24611403,   0.31940677,   0.88492757]))
||Xanchor-Xpos||_2  counter: 
[  71  210  422  662  821 1000 1145 1117  986  688  498  314  174   77   47
   10    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   50  131  294  544  798  983 1086 1139 1025  803  597  367  203  131
   56   15   13    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  57.49362946   87.01914024  116.54465103  146.07016182  175.59567261
  205.1211834   234.64669418  264.17220497  293.69771576  323.22322655
  352.74873734  382.27424812  411.79975891  441.3252697   470.85078049
  500.37629128  529.90180206  559.42731285  588.95282364  618.47833443
  648.00384521]
distance difference  counter: 
(array([   2,    0,    1,    3,    3,    1,    1,    8,    6,   21,   32,
         49,   72,  161,  313,  725, 1841, 3513, 1373,  121]), array([-4.89399719, -4.61814632, -4.34229544, -4.06644457, -3.7905937 ,
       -3.51474282, -3.23889195, -2.96304107, -2.6871902 , -2.41133932,
       -2.13548845, -1.85963758, -1.5837867 , -1.30793583, -1.03208495,
       -0.75623408, -0.48038321, -0.20453233,  0.07131854,  0.34716942,
        0.62302029]))
train/val Accuracy = 0.607662216175 / 0.583313121513 
 with threshold: [[ 235.23073362]]
============ epoch 3 ===========
training loss:		0.150076
||Xanchor-Xpos||_2  counter: 
[ 380 1467 2181 2613 3057 3249 3022 2473 1962 1318  851  478  266  112   55
   24    3    3    4    0]
||Xanchor-Xneg||_2  counter: 
[ 170  630 1025 1489 1974 2611 3175 3250 2929 2302 1645 1059  589  359  168
   83   44    9    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  23.56416702   52.77812481   81.9920826   111.20604038  140.41999817
  169.63395596  198.84791374  228.06187153  257.27582932  286.4897871
  315.70374489  344.91770267  374.13166046  403.34561825  432.55957603
  461.77353382  490.98749161  520.20144939  549.41540718  578.62936497
  607.84332275]
distance difference  counter: 
(array([    1,     1,     0,     2,     2,     4,     6,    13,    22,
          20,    33,    47,    92,   170,   382,   876,  2263,  7725,
       11469,   390]), array([-9.39932632, -8.88574414, -8.37216195, -7.85857977, -7.34499758,
       -6.8314154 , -6.31783321, -5.80425103, -5.29066885, -4.77708666,
       -4.26350448, -3.74992229, -3.23634011, -2.72275792, -2.20917574,
       -1.69559355, -1.18201137, -0.66842918, -0.154847  ,  0.35873519,
        0.87231737]))
||Xanchor-Xpos||_2  counter: 
[  66  218  420  618  804 1030 1173 1078  972  714  521  306  171   97   38
   13    6    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  12   40  132  304  520  780  960 1085 1145 1030  826  578  381  235  127
   55   21   10    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  51.96044159   78.6589344   105.35742722  132.05592003  158.75441284
  185.45290565  212.15139847  238.84989128  265.54838409  292.24687691
  318.94536972  345.64386253  372.34235535  399.04084816  425.73934097
  452.43783379  479.1363266   505.83481941  532.53331223  559.23180504
  585.93029785]
distance difference  counter: 
(array([   1,    0,    1,    2,    2,    1,    1,    6,    9,   12,   22,
         35,   65,  143,  257,  673, 1616, 3758, 1538,  104]), array([-5.30937433, -5.01135159, -4.71332885, -4.41530611, -4.11728337,
       -3.81926063, -3.52123789, -3.22321514, -2.9251924 , -2.62716966,
       -2.32914692, -2.03112418, -1.73310144, -1.4350787 , -1.13705596,
       -0.83903322, -0.54101048, -0.24298773,  0.05503501,  0.35305775,
        0.65108049]))
train/val Accuracy = 0.607534654307 / 0.584404559787 
 with threshold: [[ 213.75329471]]
============ epoch 4 ===========
training loss:		0.141849
||Xanchor-Xpos||_2  counter: 
[ 348 1314 1958 2319 2661 2922 2997 2594 2076 1652 1139  691  414  236  110
   47   23   10    5    2]
||Xanchor-Xneg||_2  counter: 
[ 144  577  871 1317 1666 2155 2739 3058 2898 2586 2030 1288  958  554  339
  181   88   47   14    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  22.56293106   47.11080074   71.65867043   96.20654011  120.75440979
  145.30227947  169.85014915  194.39801884  218.94588852  243.4937582
  268.04162788  292.58949757  317.13736725  341.68523693  366.23310661
  390.7809763   415.32884598  439.87671566  464.42458534  488.97245502
  513.52032471]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     5,     8,    12,
          22,    27,    39,    52,   139,   261,   609,  1677,  6159,
       13893,   614]), array([-10.59842014, -10.02435035,  -9.45028055,  -8.87621075,
        -8.30214095,  -7.72807115,  -7.15400136,  -6.57993156,
        -6.00586176,  -5.43179196,  -4.85772216,  -4.28365237,
        -3.70958257,  -3.13551277,  -2.56144297,  -1.98737317,
        -1.41330338,  -0.83923358,  -0.26516378,   0.30890602,   0.88297582]))
||Xanchor-Xpos||_2  counter: 
[  68  221  409  652  812 1002 1135 1062 1014  698  539  316  169   87   42
   13    6    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   42  129  292  527  763 1008 1054 1129 1014  848  607  389  215  123
   60   20   11    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  46.99484253   71.25917511   95.52350769  119.78784027  144.05217285
  168.31650543  192.58083801  216.84517059  241.10950317  265.37383575
  289.63816833  313.90250092  338.1668335   362.43116608  386.69549866
  410.95983124  435.22416382  459.4884964   483.75282898  508.01716156
  532.28149414]
distance difference  counter: 
(array([   1,    0,    0,    3,    2,    0,    3,    8,    8,   15,   22,
         30,   64,  140,  281,  655, 1563, 3708, 1615,  128]), array([-5.28584099, -4.98953097, -4.69322094, -4.39691092, -4.1006009 ,
       -3.80429088, -3.50798085, -3.21167083, -2.91536081, -2.61905079,
       -2.32274076, -2.02643074, -1.73012072, -1.4338107 , -1.13750067,
       -0.84119065, -0.54488063, -0.24857061,  0.04773942,  0.34404944,
        0.64035946]))
train/val Accuracy = 0.607385832129 / 0.586587436333 
 with threshold: [[ 194.22653318]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.454209
||Xanchor-Xpos||_2  counter: 
[ 854 2575 3641 3949 3571 2861 2028 1457  970  672  421  250  121   80   35
   18   10    1    1    1]
||Xanchor-Xneg||_2  counter: 
[ 375 1303 2218 3313 3547 3149 2724 2131 1599 1140  793  489  325  168  124
   51   38   19    7    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  16.75435066   51.68218489   86.61001911  121.53785334  156.46568756
  191.39352179  226.32135601  261.24919024  296.17702446  331.10485868
  366.03269291  400.96052713  435.88836136  470.81619558  505.74402981
  540.67186403  575.59969826  610.52753248  645.45536671  680.38320093
  715.31103516]
distance difference  counter: 
(array([   1,    0,    0,    2,    3,    9,    8,   21,   26,   22,   44,
         65,  119,  223,  451, 1019, 2653, 8849, 9723,  280]), array([-8.72982407, -8.24995877, -7.77009348, -7.29022818, -6.81036289,
       -6.33049759, -5.8506323 , -5.370767  , -4.89090171, -4.41103641,
       -3.93117112, -3.45130582, -2.97144053, -2.49157524, -2.01170994,
       -1.53184465, -1.05197935, -0.57211406, -0.09224876,  0.38761653,
        0.86748183]))
||Xanchor-Xpos||_2  counter: 
[  60  158  357  569  687  927  989 1112  988  809  616  438  259  151   71
   25   25    4    0    1]
||Xanchor-Xneg||_2  counter: 
[   7   29  108  224  404  654  855  968 1066 1084  901  747  473  321  210
  103   53   22   13    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  27.19949722   41.05039425   54.90129128   68.7521883    82.60308533
   96.45398235  110.30487938  124.15577641  138.00667343  151.85757046
  165.70846748  179.55936451  193.41026154  207.26115856  221.11205559
  234.96295261  248.81384964  262.66474667  276.51564369  290.36654072
  304.21743774]
distance difference  counter: 
(array([   2,    0,    1,    5,    1,    3,    3,    5,   19,   17,   20,
         41,   92,  174,  397,  794, 1960, 3501, 1123,   88]), array([-4.74820566, -4.47865488, -4.20910409, -3.93955331, -3.67000252,
       -3.40045173, -3.13090095, -2.86135016, -2.59179938, -2.32224859,
       -2.05269781, -1.78314702, -1.51359624, -1.24404545, -0.97449467,
       -0.70494388, -0.4353931 , -0.16584231,  0.10370848,  0.37325926,
        0.64281005]))
train/val Accuracy = 0.581830938005 / 0.53632064031 
 with threshold: [[ 196.50111324]]
============ epoch 1 ===========
training loss:		1.089340
||Xanchor-Xpos||_2  counter: 
[ 876 2726 3889 4116 3588 2750 1937 1361  894  573  400  192  100   61   26
   14    5    6    3    0]
||Xanchor-Xneg||_2  counter: 
[ 379 1348 2419 3512 3716 3268 2614 2047 1402 1025  713  431  310  161   87
   42   25    9    6    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[   5.76223326   19.29322407   32.82421489   46.3552057    59.88619652
   73.41718733   86.94817815  100.47916896  114.01015978  127.54115059
  141.07214141  154.60313222  168.13412304  181.66511385  195.19610467
  208.72709548  222.2580863   235.78907712  249.32006793  262.85105875
  276.38204956]
distance difference  counter: 
(array([    2,     1,     3,     4,     8,    12,    13,    19,    28,
          41,    63,   110,   169,   333,   687,  1489,  3940, 11117,
        5319,   160]), array([-7.30667257, -6.89790583, -6.48913908, -6.08037233, -5.67160559,
       -5.26283884, -4.85407209, -4.44530535, -4.0365386 , -3.62777185,
       -3.21900511, -2.81023836, -2.40147161, -1.99270487, -1.58393812,
       -1.17517138, -0.76640463, -0.35763788,  0.05112886,  0.45989561,
        0.86866236]))
||Xanchor-Xpos||_2  counter: 
[  49  176  365  578  747  966 1054 1120  966  807  570  397  234  127   54
   20   13    2    1    0]
||Xanchor-Xneg||_2  counter: 
[   9   25  103  233  448  705  882 1037 1081 1062  919  674  452  293  179
   77   47   14    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[   9.86181164   15.16404042   20.46626921   25.76849799   31.07072678
   36.37295556   41.67518435   46.97741313   52.27964191   57.5818707
   62.88409948   68.18632827   73.48855705   78.79078584   84.09301462
   89.39524341   94.69747219   99.99970098  105.30192976  110.60415854
  115.90638733]
distance difference  counter: 
(array([   2,    2,    1,    1,    3,    6,    9,   18,   21,   26,   41,
         91,  167,  305,  628, 1221, 2677, 2464,  527,   36]), array([-3.83064055, -3.60596251, -3.38128447, -3.15660643, -2.93192838,
       -2.70725034, -2.4825723 , -2.25789426, -2.03321621, -1.80853817,
       -1.58386013, -1.35918209, -1.13450404, -0.909826  , -0.68514796,
       -0.46046992, -0.23579187, -0.01111383,  0.21356421,  0.43824225,
        0.6629203 ]))
train/val Accuracy = 0.58140573178 / 0.538988600534 
 with threshold: [[ 73.096188]]
============ epoch 2 ===========
training loss:		1.038976
||Xanchor-Xpos||_2  counter: 
[ 519 2443 3679 4057 3648 2966 2124 1541  999  632  418  224  140   74   26
   16    7    3    1    0]
||Xanchor-Xneg||_2  counter: 
[ 215 1084 2047 3064 3729 3508 2827 2210 1649 1149  755  526  322  205  123
   57   32    5    4    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[   1.58213496    6.50922557   11.43631618   16.36340679   21.2904974
   26.21758801   31.14467862   36.07176923   40.99885983   45.92595044
   50.85304105   55.78013166   60.70722227   65.63431288   70.56140349
   75.4884941    80.41558471   85.34267532   90.26976593   95.19685653
  100.12394714]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     3,     9,    14,
          21,    25,    40,    95,   166,   333,   880,  2409,  8350,
       10822,   349]), array([-8.38320065, -7.9208215 , -7.45844235, -6.9960632 , -6.53368405,
       -6.0713049 , -5.60892575, -5.14654661, -4.68416746, -4.22178831,
       -3.75940916, -3.29703001, -2.83465086, -2.37227171, -1.90989257,
       -1.44751342, -0.98513427, -0.52275512, -0.06037597,  0.40200318,
        0.86438233]))
||Xanchor-Xpos||_2  counter: 
[  63  186  374  557  726  950 1025 1114  966  846  570  396  255  115   61
   25   16    0    1    0]
||Xanchor-Xneg||_2  counter: 
[   8   27   99  229  414  640  852  984 1109 1013  914  732  502  327  201
  109   51   20   14    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  4.0240345    5.97185125   7.91966801   9.86748476  11.81530151
  13.76311827  15.71093502  17.65875177  19.60656853  21.55438528
  23.50220203  25.45001879  27.39783554  29.34565229  31.29346905
  33.2412858   35.18910255  37.13691931  39.08473606  41.03255281
  42.98036957]
distance difference  counter: 
(array([   1,    0,    2,    3,    1,    7,    5,   13,   17,   37,   38,
         80,  144,  306,  610, 1331, 2783, 2327,  486,   55]), array([-3.45701814, -3.25087608, -3.04473403, -2.83859198, -2.63244992,
       -2.42630787, -2.22016582, -2.01402377, -1.80788171, -1.60173966,
       -1.39559761, -1.18945555, -0.9833135 , -0.77717145, -0.57102939,
       -0.36488734, -0.15874529,  0.04739676,  0.25353882,  0.45968087,
        0.66582292]))
train/val Accuracy = 0.588166510758 / 0.545719136551 
 with threshold: [[ 27.42873254]]
============ epoch 3 ===========
training loss:		1.032046
||Xanchor-Xpos||_2  counter: 
[ 625 2592 4215 4642 3955 2926 1918 1185  707  383  196   98   35   25   12
    1    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 206  869 1776 3082 3887 3978 3115 2439 1636 1094  639  375  222  103   46
   35    8    6    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.01107097   3.11966945   5.22826793   7.33686641   9.4454649
  11.55406338  13.66266186  15.77126034  17.87985883  19.98845731
  22.09705579  24.20565428  26.31425276  28.42285124  30.53144972
  32.64004821  34.74864669  36.85724517  38.96584365  41.07444214
  43.18304062]
distance difference  counter: 
(array([   2,    2,    2,    5,   11,   10,   15,   26,   30,   54,   72,
        141,  257,  556, 1122, 2651, 6349, 9840, 2264,  109]), array([-5.47096777, -5.15250788, -4.83404799, -4.51558809, -4.1971282 ,
       -3.87866831, -3.56020842, -3.24174852, -2.92328863, -2.60482874,
       -2.28636885, -1.96790895, -1.64944906, -1.33098917, -1.01252928,
       -0.69406939, -0.37560949, -0.0571496 ,  0.26131029,  0.57977018,
        0.89823008]))
||Xanchor-Xpos||_2  counter: 
[  65  221  463  820 1048 1255 1285 1112  844  532  308  170   73   34   12
    4    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   27  120  239  522  795 1078 1237 1155 1018  727  540  336  217  108
   61   29   20    6    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.73882484   2.73235979   3.72589474   4.71942968   5.71296463
   6.70649958   7.70003452   8.69356947   9.68710442  10.68063936
  11.67417431  12.66770926  13.6612442   14.65477915  15.64831409
  16.64184904  17.63538399  18.62891893  19.62245388  20.61598883
  21.60952377]
distance difference  counter: 
(array([   1,    3,    5,    4,   10,   10,   14,   26,   33,   81,  108,
        223,  346,  623, 1105, 1917, 2278, 1156,  272,   31]), array([-2.46345687, -2.30568407, -2.14791127, -1.99013848, -1.83236568,
       -1.67459288, -1.51682009, -1.35904729, -1.20127449, -1.04350169,
       -0.8857289 , -0.7279561 , -0.5701833 , -0.4124105 , -0.25463771,
       -0.09686491,  0.06090789,  0.21868069,  0.37645348,  0.53422628,
        0.69199908]))
train/val Accuracy = 0.633174589676 / 0.593136065971 
 with threshold: [[ 11.45831115]]
============ epoch 4 ===========
training loss:		1.031106
||Xanchor-Xpos||_2  counter: 
[ 310 2177 4099 5277 4690 3321 2070  977  397  129   44   18    4    5    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  86  526 1158 1982 3001 3597 3781 3188 2384 1532  939  563  335  212  128
   53   33   14    2    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.44133562   1.7255957    3.00985579   4.29411587   5.57837596
   6.86263604   8.14689613   9.43115622  10.7154163   11.99967639
  13.28393647  14.56819656  15.85245664  17.13671673  18.42097681
  19.7052369   20.98949698  22.27375707  23.55801715  24.84227724
  26.12653732]
distance difference  counter: 
(array([   1,    1,    4,    8,    8,   12,   18,   29,   34,   68,  134,
        244,  424,  855, 1851, 3431, 6097, 7524, 2613,  162]), array([-5.25748205, -4.94913539, -4.64078873, -4.33244208, -4.02409542,
       -3.71574876, -3.4074021 , -3.09905544, -2.79070878, -2.48236212,
       -2.17401546, -1.8656688 , -1.55732214, -1.24897549, -0.94062883,
       -0.63228217, -0.32393551, -0.01558885,  0.29275781,  0.60110447,
        0.90945113]))
||Xanchor-Xpos||_2  counter: 
[  56  335  894 1378 1463 1414 1062  721  448  248  130   62   19   10    3
    2    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   39  190  446  841 1130 1230 1157 1008  753  538  357  220  137   91
   48   27   17    4    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.99943566   1.89137758   2.7833195    3.67526141   4.56720333
   5.45914525   6.35108716   7.24302908   8.134971     9.02691292
   9.91885483  10.81079675  11.70273867  12.59468058  13.4866225
  14.37856442  15.27050633  16.16244825  17.05439017  17.94633209
  18.838274  ]
distance difference  counter: 
(array([   1,    1,    2,    3,    4,   15,   16,   16,   41,   67,  121,
        204,  335,  573,  937, 1453, 2001, 1822,  569,   65]), array([-2.9461112 , -2.76168715, -2.5772631 , -2.39283905, -2.208415  ,
       -2.02399094, -1.83956689, -1.65514284, -1.47071879, -1.28629474,
       -1.10187069, -0.91744663, -0.73302258, -0.54859853, -0.36417448,
       -0.17975043,  0.00467362,  0.18909768,  0.37352173,  0.55794578,
        0.74236983]))
train/val Accuracy = 0.710009354537 / 0.666444336648 
 with threshold: [[ 7.14720331]]
============ epoch 5 ===========
training loss:		1.030977
||Xanchor-Xpos||_2  counter: 
[ 437 2716 4754 5216 4352 2904 1740  846  358  127   48   11    5    3    1
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  89  552 1199 2016 2810 3373 3477 3138 2439 1673 1125  669  422  236  149
   83   37   19    9    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.396321     1.58727536   2.77822973   3.9691841    5.16013846
   6.35109283   7.5420472    8.73300156   9.92395593  11.1149103
  12.30586466  13.49681903  14.68777339  15.87872776  17.06968213
  18.26063649  19.45159086  20.64254523  21.83349959  23.02445396
  24.21540833]
distance difference  counter: 
(array([   3,    5,    7,   10,   12,   14,   26,   44,   84,  127,  257,
        448,  763, 1512, 2418, 4007, 5822, 5795, 2028,  136]), array([-4.89469624, -4.60333593, -4.31197563, -4.02061532, -3.72925502,
       -3.43789472, -3.14653441, -2.85517411, -2.56381381, -2.2724535 ,
       -1.9810932 , -1.68973289, -1.39837259, -1.10701229, -0.81565198,
       -0.52429168, -0.23293138,  0.05842893,  0.34978923,  0.64114954,
        0.93250984]))
||Xanchor-Xpos||_2  counter: 
[  87  546 1169 1565 1523 1230  918  586  324  161   83   36   14    3    0
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   5   83  285  649 1001 1221 1232 1108  888  648  430  287  177   97   67
   33   22    7    5    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.84105754   1.79253503   2.74401252   3.69549001   4.64696751
   5.598445     6.54992249   7.50139998   8.45287747   9.40435497
  10.35583246  11.30730995  12.25878744  13.21026493  14.16174242
  15.11321992  16.06469741  17.0161749   17.96765239  18.91912988
  19.87060738]
distance difference  counter: 
(array([   1,    2,    0,    1,    4,   10,   11,   26,   33,   67,  113,
        187,  295,  545,  838, 1328, 1851, 2014,  801,  119]), array([-3.2994926 , -3.09676231, -2.89403202, -2.69130173, -2.48857144,
       -2.28584115, -2.08311086, -1.88038057, -1.67765028, -1.47492   ,
       -1.27218971, -1.06945942, -0.86672913, -0.66399884, -0.46126855,
       -0.25853826, -0.05580797,  0.14692232,  0.34965261,  0.5523829 ,
        0.75511318]))
train/val Accuracy = 0.730525554894 / 0.674933300994 
 with threshold: [[ 6.51823068]]
============ epoch 6 ===========
training loss:		1.030958
||Xanchor-Xpos||_2  counter: 
[ 555 3274 5257 5254 4066 2588 1459  666  259   99   27    8    5    1    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 112  632 1360 2244 3072 3560 3566 3021 2244 1462  961  579  325  192  103
   55   19    6    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.37091365   1.62253198   2.87415031   4.12576865   5.37738698
   6.62900531   7.88062364   9.13224197  10.3838603   11.63547863
  12.88709696  14.13871529  15.39033362  16.64195195  17.89357028
  19.14518861  20.39680694  21.64842527  22.9000436   24.15166193
  25.40328026]
distance difference  counter: 
(array([   1,    0,    1,    2,    7,    8,   14,   22,   37,   80,  104,
        237,  446,  941, 1762, 3119, 5356, 7099, 3957,  325]), array([-5.95793247, -5.61430765, -5.27068282, -4.927058  , -4.58343318,
       -4.23980835, -3.89618353, -3.5525587 , -3.20893388, -2.86530905,
       -2.52168423, -2.17805941, -1.83443458, -1.49080976, -1.14718493,
       -0.80356011, -0.45993528, -0.11631046,  0.22731436,  0.57093919,
        0.91456401]))
||Xanchor-Xpos||_2  counter: 
[  61  506 1158 1503 1520 1296  894  596  328  215   97   48   14    8    0
    1    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   3   73  265  638  902 1185 1262 1134  905  667  449  305  185  138   55
   41   22   12    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.71865153   1.66577493   2.61289833   3.56002172   4.50714512
   5.45426852   6.40139191   7.34851531   8.2956387    9.2427621
  10.1898855   11.13700889  12.08413229  13.03125569  13.97837908
  14.92550248  15.87262588  16.81974927  17.76687267  18.71399606
  19.66111946]
distance difference  counter: 
(array([   2,    0,    0,    0,    2,    5,    9,   18,   28,   40,  101,
        159,  289,  478,  847, 1342, 1883, 2105,  838,  100]), array([-3.57668853, -3.35835016, -3.1400118 , -2.92167343, -2.70333507,
       -2.48499671, -2.26665834, -2.04831998, -1.82998161, -1.61164325,
       -1.39330488, -1.17496652, -0.95662816, -0.73828979, -0.51995143,
       -0.30161306, -0.0832747 ,  0.13506367,  0.35340203,  0.57174039,
        0.79007876]))
train/val Accuracy = 0.733714601582 / 0.677722532137 
 with threshold: [[ 6.4919722]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488, 0.70571856685928036]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.018701
||Xanchor-Xpos||_2  counter: 
[ 339 1324 1999 2363 2718 3069 3026 2592 2081 1565 1072  644  381  182   94
   37   18   10    3    1]
||Xanchor-Xneg||_2  counter: 
[ 139  592  904 1321 1707 2262 2827 3113 2998 2565 1905 1289  863  495  265
  158   76   23    9    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  31.26516151   68.06133642  104.85751133  141.65368624  178.44986115
  215.24603605  252.04221096  288.83838587  325.63456078  362.43073568
  399.22691059  436.0230855   472.81926041  509.61543531  546.41161022
  583.20778513  620.00396004  656.80013494  693.59630985  730.39248476
  767.18865967]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     1,     1,     9,     7,
          11,    28,    32,    48,   110,   202,   475,  1330,  4911,
       15274,  1078]), array([-11.51447105, -10.89572767, -10.27698429,  -9.65824091,
        -9.03949753,  -8.42075415,  -7.80201077,  -7.18326739,
        -6.56452401,  -5.94578063,  -5.32703725,  -4.70829386,
        -4.08955048,  -3.4708071 ,  -2.85206372,  -2.23332034,
        -1.61457696,  -0.99583358,  -0.3770902 ,   0.24165318,   0.86039656]))
||Xanchor-Xpos||_2  counter: 
[  57  197  392  575  757  955 1115 1107  968  736  614  371  221   96   59
   17    5    3    1    0]
||Xanchor-Xneg||_2  counter: 
[   7   38  102  254  463  731  915 1037 1108 1079  863  656  460  265  148
   62   30   20    6    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  66.36061096  101.4127037   136.46479645  171.51688919  206.56898193
  241.62107468  276.67316742  311.72526016  346.77735291  381.82944565
  416.88153839  451.93363113  486.98572388  522.03781662  557.08990936
  592.14200211  627.19409485  662.24618759  697.29828033  732.35037308
  767.40246582]
distance difference  counter: 
(array([   1,    3,    3,    1,    0,    3,   10,    9,   19,   22,   35,
         58,  126,  219,  458,  919, 2115, 3261,  921,   63]), array([-4.48420334, -4.22834332, -3.9724833 , -3.71662328, -3.46076326,
       -3.20490324, -2.94904323, -2.69318321, -2.43732319, -2.18146317,
       -1.92560315, -1.66974313, -1.41388311, -1.1580231 , -0.90216308,
       -0.64630306, -0.39044304, -0.13458302,  0.121277  ,  0.37713702,
        0.63299704]))
train/val Accuracy = 0.608959095161 / 0.58379820519 
 with threshold: [[ 284.72808091]]
============ epoch 1 ===========
training loss:		0.017235
||Xanchor-Xpos||_2  counter: 
[ 265 1292 1999 2348 2763 3153 3067 2571 2109 1601 1060  600  376  162   85
   42   13    6    3    2]
||Xanchor-Xneg||_2  counter: 
[ 105  575  895 1305 1759 2234 2923 3175 2932 2606 1948 1269  817  461  266
  162   47   24   13    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.26550293   59.22315674   93.18081055  127.13846436  161.09611816
  195.05377197  229.01142578  262.96907959  296.9267334   330.88438721
  364.84204102  398.79969482  432.75734863  466.71500244  500.67265625
  534.63031006  568.58796387  602.54561768  636.50327148  670.46092529
  704.4185791 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     0,     0,     2,     8,
          12,    18,    31,    45,    76,   161,   408,  1159,  4201,
       15957,  1439]), array([-12.22501755, -11.57074397, -10.9164704 , -10.26219682,
        -9.60792325,  -8.95364967,  -8.29937609,  -7.64510252,
        -6.99082894,  -6.33655537,  -5.68228179,  -5.02800822,
        -4.37373464,  -3.71946107,  -3.06518749,  -2.41091391,
        -1.75664034,  -1.10236676,  -0.44809319,   0.20618039,   0.86045396]))
||Xanchor-Xpos||_2  counter: 
[  63  186  391  572  770  930 1061 1053 1003  799  578  389  226  127   56
   30    7    5    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   40  118  247  431  707  909 1009 1076 1095  850  707  431  310  154
   91   32   17   10    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.84632111   94.11742363  125.38852615  156.65962868  187.9307312
  219.20183372  250.47293625  281.74403877  313.0151413   344.28624382
  375.55734634  406.82844887  438.09955139  469.37065392  500.64175644
  531.91285896  563.18396149  594.45506401  625.72616653  656.99726906
  688.26837158]
distance difference  counter: 
(array([   3,    1,    2,    2,    3,    4,    7,    6,   26,   18,   33,
         58,  137,  224,  460,  953, 2203, 3146,  884,   76]), array([-4.40448761, -4.15261542, -3.90074322, -3.64887103, -3.39699883,
       -3.14512664, -2.89325445, -2.64138225, -2.38951006, -2.13763787,
       -1.88576567, -1.63389348, -1.38202128, -1.13014909, -0.8782769 ,
       -0.6264047 , -0.37453251, -0.12266032,  0.12921188,  0.38108407,
        0.63295627]))
train/val Accuracy = 0.608852793605 / 0.585556633519 
 with threshold: [[ 259.01740866]]
============ epoch 2 ===========
training loss:		0.016026
||Xanchor-Xpos||_2  counter: 
[ 229 1291 1942 2396 2807 3113 3071 2622 2161 1592  995  636  351  160   86
   30   20    8    6    2]
||Xanchor-Xneg||_2  counter: 
[  81  571  875 1286 1716 2248 2821 3226 3056 2605 1943 1293  824  461  262
  138   78   23    4    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  21.80434799   52.72612095   83.64789391  114.56966686  145.49143982
  176.41321278  207.33498573  238.25675869  269.17853165  300.1003046
  331.02207756  361.94385052  392.86562347  423.78739643  454.70916939
  485.63094234  516.5527153   547.47448826  578.39626122  609.31803417
  640.23980713]
distance difference  counter: 
(array([   2,    1,    2,    3,    5,    6,   11,   17,   19,   38,   33,
         68,  113,  243,  489, 1018, 2766, 9025, 9419,  240]), array([-8.8115015 , -8.32671248, -7.84192346, -7.35713443, -6.87234541,
       -6.38755639, -5.90276737, -5.41797834, -4.93318932, -4.4484003 ,
       -3.96361127, -3.47882225, -2.99403323, -2.50924421, -2.02445518,
       -1.53966616, -1.05487714, -0.57008812, -0.08529909,  0.39948993,
        0.88427895]))
||Xanchor-Xpos||_2  counter: 
[  62  188  346  537  682  906  985 1113  977  844  593  457  260  157   82
   34   22    0    1    0]
||Xanchor-Xneg||_2  counter: 
[   6   31  109  212  406  645  828  932 1098 1031  916  739  516  358  218
  112   49   26    8    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  56.41539764   84.03441963  111.65344162  139.27246361  166.8914856
  194.51050758  222.12952957  249.74855156  277.36757355  304.98659554
  332.60561752  360.22463951  387.8436615   415.46268349  443.08170547
  470.70072746  498.31974945  525.93877144  553.55779343  581.17681541
  608.7958374 ]
distance difference  counter: 
(array([   1,    0,    0,    2,    0,    4,    1,    3,   10,   11,   24,
         24,   50,  131,  242,  574, 1475, 3565, 1969,  160]), array([-5.46477699, -5.16019658, -4.85561616, -4.55103574, -4.24645532,
       -3.94187491, -3.63729449, -3.33271407, -3.02813365, -2.72355324,
       -2.41897282, -2.1143924 , -1.80981199, -1.50523157, -1.20065115,
       -0.89607073, -0.59149032, -0.2869099 ,  0.01767052,  0.32225094,
        0.62683135]))
train/val Accuracy = 0.610851262862 / 0.584889643463 
 with threshold: [[ 235.20736445]]
============ epoch 3 ===========
training loss:		0.015029
||Xanchor-Xpos||_2  counter: 
[ 225 1253 1950 2473 2835 3219 3073 2637 2113 1579  967  575  332  153   78
   37    9    5    2    3]
||Xanchor-Xneg||_2  counter: 
[  79  556  874 1277 1788 2292 2964 3275 3031 2567 1872 1278  778  430  242
  124   57   23    7    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  18.8687458    47.41671782   75.96468983  104.51266184  133.06063385
  161.60860586  190.15657787  218.70454988  247.2525219   275.80049391
  304.34846592  332.89643793  361.44440994  389.99238195  418.54035397
  447.08832598  475.63629799  504.18427     532.73224201  561.28021402
  589.82818604]
distance difference  counter: 
(array([    1,     0,     0,     0,     0,     4,     4,    10,    13,
          21,    27,    41,    64,   128,   266,   615,  1604,  6166,
       13953,   601]), array([-10.61210346, -10.03781312,  -9.46352277,  -8.88923242,
        -8.31494207,  -7.74065173,  -7.16636138,  -6.59207103,
        -6.01778069,  -5.44349034,  -4.86919999,  -4.29490964,
        -3.7206193 ,  -3.14632895,  -2.5720386 ,  -1.99774826,
        -1.42345791,  -0.84916756,  -0.27487721,   0.29941313,   0.87370348]))
||Xanchor-Xpos||_2  counter: 
[  55  175  354  538  695  872  992 1062 1006  826  633  467  267  181   69
   36   11    4    3    0]
||Xanchor-Xneg||_2  counter: 
[   8   29  100  225  361  629  859  917 1062 1068  934  713  565  344  221
  120   46   27   12    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  50.71928406   75.7842659   100.84924774  125.91422958  150.97921143
  176.04419327  201.10917511  226.17415695  251.23913879  276.30412064
  301.36910248  326.43408432  351.49906616  376.564048    401.62902985
  426.69401169  451.75899353  476.82397537  501.88895721  526.95393906
  552.0189209 ]
distance difference  counter: 
(array([   1,    0,    0,    2,    2,    3,    1,    3,   10,   12,   22,
         36,   51,  131,  240,  606, 1485, 3693, 1809,  139]), array([-5.39065886, -5.08958269, -4.78850653, -4.48743036, -4.1863542 ,
       -3.88527803, -3.58420187, -3.2831257 , -2.98204954, -2.68097337,
       -2.37989721, -2.07882104, -1.77774488, -1.47666871, -1.17559255,
       -0.87451638, -0.57344022, -0.27236405,  0.02871211,  0.32978828,
        0.63086444]))
train/val Accuracy = 0.610893783485 / 0.584162017948 
 with threshold: [[ 214.24726578]]
============ epoch 4 ===========
training loss:		0.014206
||Xanchor-Xpos||_2  counter: 
[ 224 1267 2005 2483 2890 3207 3122 2625 2101 1505  962  554  318  140   73
   22   12    3    5    0]
||Xanchor-Xneg||_2  counter: 
[  83  569  851 1314 1783 2300 3032 3229 3052 2553 1844 1284  748  437  230
  124   52   23    8    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  17.35626602   43.44574642   69.53522682   95.62470722  121.71418762
  147.80366802  173.89314842  199.98262882  226.07210922  252.16158962
  278.25107002  304.34055042  330.43003082  356.51951122  382.60899162
  408.69847202  434.78795242  460.87743282  486.96691322  513.05639362
  539.14587402]
distance difference  counter: 
(array([    1,     0,     0,     2,     2,     8,     7,    21,    14,
          32,    26,    47,   103,   207,   366,   871,  2225,  7884,
       11356,   346]), array([-9.39770603, -8.88432485, -8.37094367, -7.85756249, -7.34418131,
       -6.83080013, -6.31741895, -5.80403777, -5.29065659, -4.77727541,
       -4.26389423, -3.75051305, -3.23713187, -2.72375069, -2.21036951,
       -1.69698833, -1.18360715, -0.67022597, -0.15684479,  0.35653639,
        0.86991757]))
||Xanchor-Xpos||_2  counter: 
[ 101  230  449  659  824 1005 1132 1126  949  666  513  292  164   80   38
   12    5    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  13   46  142  312  536  793  948 1111 1131 1055  801  569  365  235   99
   51   23   11    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  51.07322693   75.29425735   99.51528778  123.73631821  147.95734863
  172.17837906  196.39940948  220.62043991  244.84147034  269.06250076
  293.28353119  317.50456161  341.72559204  365.94662247  390.16765289
  414.38868332  438.60971375  462.83074417  487.0517746   511.27280502
  535.49383545]
distance difference  counter: 
(array([   4,    0,    1,    4,    2,    7,    5,    9,   23,   20,   42,
         69,  156,  227,  455, 1002, 2222, 3112,  814,   72]), array([-4.33189297, -4.08388358, -3.8358742 , -3.58786482, -3.33985543,
       -3.09184605, -2.84383667, -2.59582728, -2.3478179 , -2.09980851,
       -1.85179913, -1.60378975, -1.35578036, -1.10777098, -0.8597616 ,
       -0.61175221, -0.36374283, -0.11573344,  0.13227594,  0.38028532,
        0.62829471]))
train/val Accuracy = 0.611765456246 / 0.585799175358 
 with threshold: [[ 195.06428989]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488, 0.70571856685928036, 0.59878231580201424]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.145415
||Xanchor-Xpos||_2  counter: 
[ 724 2726 3931 4125 3636 2832 1968 1402  869  571  312  211  108   48   33
   13    7    1    0    0]
||Xanchor-Xneg||_2  counter: 
[ 310 1294 2438 3490 3794 3410 2680 1993 1472 1019  693  407  227  127   87
   35   25   10    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  12.32870197   49.29939761   86.27009325  123.24078889  160.21148453
  197.18218017  234.1528758   271.12357144  308.09426708  345.06496272
  382.03565836  419.006354    455.97704964  492.94774528  529.91844091
  566.88913655  603.85983219  640.83052783  677.80122347  714.77191911
  751.74261475]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     1,     1,     9,    12,
          12,    23,    40,    54,   124,   227,   566,  1549,  5596,
       14549,   753]), array([-10.94723034, -10.35613416,  -9.76503798,  -9.1739418 ,
        -8.58284562,  -7.99174944,  -7.40065325,  -6.80955707,
        -6.21846089,  -5.62736471,  -5.03626853,  -4.44517235,
        -3.85407617,  -3.26297999,  -2.67188381,  -2.08078763,
        -1.48969145,  -0.89859527,  -0.30749909,   0.28359709,   0.87469327]))
||Xanchor-Xpos||_2  counter: 
[  72  236  456  691  867 1106 1185 1158  926  640  442  262  120   55   23
    3    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   46  135  342  563  865 1074 1209 1141  989  778  483  319  161   79
   34   12    6    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.05155182   43.39204369   58.73253555   74.07302742   89.41351929
  104.75401115  120.09450302  135.43499489  150.77548676  166.11597862
  181.45647049  196.79696236  212.13745422  227.47794609  242.81843796
  258.15892982  273.49942169  288.83991356  304.18040543  319.52089729
  334.86138916]
distance difference  counter: 
(array([   1,    3,    2,    2,    5,    3,    7,    8,   16,   37,   36,
         66,  132,  227,  503,  995, 2219, 3102,  808,   74]), array([-4.26489735, -4.0202457 , -3.77559404, -3.53094239, -3.28629074,
       -3.04163909, -2.79698744, -2.55233579, -2.30768414, -2.06303248,
       -1.81838083, -1.57372918, -1.32907753, -1.08442588, -0.83977423,
       -0.59512258, -0.35047092, -0.10581927,  0.13883238,  0.38348403,
        0.62813568]))
train/val Accuracy = 0.581001785866 / 0.538685423236 
 with threshold: [[ 196.19054674]]
============ epoch 1 ===========
training loss:		0.108956
||Xanchor-Xpos||_2  counter: 
[ 740 2667 3926 4290 3575 2832 1956 1374  874  546  348  188  102   53   22
   13    6    2    2    1]
||Xanchor-Xneg||_2  counter: 
[ 301 1216 2295 3507 3803 3333 2716 2150 1522 1006  675  418  280  133   87
   40   24    7    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[   5.2654624    18.93815424   32.61084609   46.28353794   59.95622978
   73.62892163   87.30161347  100.97430532  114.64699717  128.31968901
  141.99238086  155.6650727   169.33776455  183.0104564   196.68314824
  210.35584009  224.02853193  237.70122378  251.37391562  265.04660747
  278.71929932]
distance difference  counter: 
(array([    1,     0,     0,     0,     1,     1,     1,    11,    14,
          18,    19,    41,    74,   132,   287,   644,  1822,  6612,
       13350,   490]), array([-10.12985039,  -9.57915883,  -9.02846727,  -8.47777571,
        -7.92708415,  -7.37639259,  -6.82570103,  -6.27500947,
        -5.72431791,  -5.17362635,  -4.62293479,  -4.07224323,
        -3.52155167,  -2.97086011,  -2.42016855,  -1.86947699,
        -1.31878543,  -0.76809387,  -0.21740231,   0.33328925,   0.88398081]))
||Xanchor-Xpos||_2  counter: 
[  62  208  447  722  900 1136 1241 1175  894  649  443  206   99   45   16
    3    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   36  131  305  566  887 1079 1231 1192  989  781  491  287  148   65
   28   18    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  10.06613731   15.95744715   21.84875698   27.74006681   33.63137665
   39.52268648   45.41399632   51.30530615   57.19661598   63.08792582
   68.97923565   74.87054548   80.76185532   86.65316515   92.54447498
   98.43578482  104.32709465  110.21840448  116.10971432  122.00102415
  127.89233398]
distance difference  counter: 
(array([   2,    4,    0,    1,    2,    3,   10,   10,   19,   34,   37,
         74,  148,  288,  521, 1206, 2531, 2738,  570,   48]), array([-3.99388433, -3.76152866, -3.52917299, -3.29681733, -3.06446166,
       -2.83210599, -2.59975033, -2.36739466, -2.135039  , -1.90268333,
       -1.67032766, -1.437972  , -1.20561633, -0.97326066, -0.740905  ,
       -0.50854933, -0.27619367, -0.043838  ,  0.18851767,  0.42087333,
        0.653229  ]))
train/val Accuracy = 0.586827111149 / 0.54426388552 
 with threshold: [[ 73.54473717]]
============ epoch 2 ===========
training loss:		0.103927
||Xanchor-Xpos||_2  counter: 
[ 449 2277 3797 4421 3851 3033 2085 1365  965  577  319  200   96   38   22
   12    6    4    1    0]
||Xanchor-Xneg||_2  counter: 
[ 150  788 1642 2707 3717 3691 3141 2395 1832 1286  874  557  308  216  103
   52   31   15    8    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[   2.10596848    7.23145962   12.35695076   17.4824419    22.60793304
   27.73342419   32.85891533   37.98440647   43.10989761   48.23538876
   53.3608799    58.48637104   63.61186218   68.73735332   73.86284447
   78.98833561   84.11382675   89.23931789   94.36480904   99.49030018
  104.61579132]
distance difference  counter: 
(array([    2,     3,     4,     5,    12,     8,    14,    20,    28,
          48,    73,   122,   195,   367,   818,  1772,  4745, 11097,
        4057,   128]), array([-6.97344971, -6.58118437, -6.18891903, -5.79665368, -5.40438834,
       -5.012123  , -4.61985766, -4.22759232, -3.83532698, -3.44306164,
       -3.0507963 , -2.65853096, -2.26626562, -1.87400028, -1.48173494,
       -1.0894696 , -0.69720426, -0.30493892,  0.08732643,  0.47959177,
        0.87185711]))
||Xanchor-Xpos||_2  counter: 
[  74  211  462  712  960 1158 1270 1081  943  616  357  246   98   36   13
    9    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   32  103  231  459  738 1011 1193 1189 1035  850  567  391  213  126
   49   28   18    2    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  4.93349457   7.17260113   9.41170769  11.65081425  13.88992081
  16.12902737  18.36813393  20.60724049  22.84634705  25.08545361
  27.32456017  29.56366673  31.80277328  34.04187984  36.2809864
  38.52009296  40.75919952  42.99830608  45.23741264  47.4765192
  49.71562576]
distance difference  counter: 
(array([   2,    4,    6,    6,    8,    5,   20,   29,   35,   53,  111,
        180,  292,  499,  836, 1600, 2402, 1685,  420,   53]), array([-2.89776826, -2.72356799, -2.54936771, -2.37516744, -2.20096717,
       -2.0267669 , -1.85256662, -1.67836635, -1.50416608, -1.32996581,
       -1.15576553, -0.98156526, -0.80736499, -0.63316472, -0.45896444,
       -0.28476417, -0.1105639 ,  0.06363637,  0.23783665,  0.41203692,
        0.58623719]))
train/val Accuracy = 0.620418402925 / 0.562454523405 
 with threshold: [[ 29.2761051]]
============ epoch 3 ===========
training loss:		0.103242
||Xanchor-Xpos||_2  counter: 
[ 160 1450 3101 4450 4767 3919 2728 1534  828  349  160   35   28    6    3
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  37  340  857 1522 2415 3303 3643 3548 2749 2006 1299  782  452  269  130
   80   50   23   10    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.06638229   3.501386     5.93638972   8.37139344  10.80639715
  13.24140087  15.67640458  18.1114083   20.54641201  22.98141573
  25.41641945  27.85142316  30.28642688  32.72143059  35.15643431
  37.59143803  40.02644174  42.46144546  44.89644917  47.33145289
  49.7664566 ]
distance difference  counter: 
(array([   2,    0,    1,    4,    4,   12,   16,   27,   40,   60,  102,
        181,  357,  694, 1497, 3059, 5983, 8668, 2687,  124]), array([-6.08156157, -5.73492461, -5.38828765, -5.04165069, -4.69501374,
       -4.34837678, -4.00173982, -3.65510287, -3.30846591, -2.96182895,
       -2.615192  , -2.26855504, -1.92191808, -1.57528113, -1.22864417,
       -0.88200721, -0.53537025, -0.1887333 ,  0.15790366,  0.50454062,
        0.85117757]))
||Xanchor-Xpos||_2  counter: 
[  84  343  797 1314 1596 1484 1148  720  419  206   88   29   14    1    3
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   3   48  166  473  839 1153 1418 1273 1013  757  462  289  191   82   35
   16   19    6    1    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.66862011   4.46628823   6.26395636   8.06162448   9.8592926
  11.65696073  13.45462885  15.25229697  17.0499651   18.84763322
  20.64530134  22.44296947  24.24063759  26.03830571  27.83597383
  29.63364196  31.43131008  33.2289782   35.02664633  36.82431445
  38.62198257]
distance difference  counter: 
(array([   2,    1,    1,    2,    3,    6,   20,   21,   29,   52,   99,
        157,  278,  427,  747, 1305, 1977, 2215,  805,   99]), array([-3.47219896, -3.26744946, -3.06269996, -2.85795046, -2.65320096,
       -2.44845146, -2.24370196, -2.03895246, -1.83420296, -1.62945346,
       -1.42470396, -1.21995445, -1.01520495, -0.81045545, -0.60570595,
       -0.40095645, -0.19620695,  0.00854255,  0.21329205,  0.41804155,
        0.62279105]))
train/val Accuracy = 0.699825665448 / 0.662684938152 
 with threshold: [[ 15.14537879]]
============ epoch 4 ===========
training loss:		0.103152
||Xanchor-Xpos||_2  counter: 
[ 289 2058 4201 5409 4849 3433 1960  877  293   98   32   15    3    0    0
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  53  394 1020 1820 2777 3558 3756 3339 2641 1717 1076  634  380  176   87
   47   27   11    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.06412756   3.25935125   5.45457493   7.64979861   9.8450223
  12.04024598  14.23546966  16.43069335  18.62591703  20.82114071
  23.0163644   25.21158808  27.40681176  29.60203544  31.79725913
  33.99248281  36.18770649  38.38293018  40.57815386  42.77337754
  44.96860123]
distance difference  counter: 
(array([   6,    1,    5,    8,   10,   17,   22,   53,   67,  127,  218,
        410,  659, 1261, 2319, 3817, 6063, 6677, 1699,   79]), array([-5.542768  , -5.2218136 , -4.90085919, -4.57990479, -4.25895039,
       -3.93799599, -3.61704158, -3.29608718, -2.97513278, -2.65417837,
       -2.33322397, -2.01226957, -1.69131516, -1.37036076, -1.04940636,
       -0.72845195, -0.40749755, -0.08654315,  0.23441126,  0.55536566,
        0.87632006]))
||Xanchor-Xpos||_2  counter: 
[ 118  619 1282 1744 1616 1260  774  446  231   99   33   17    5    2    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   94  320  781 1194 1403 1362 1059  771  506  320  210  105   67   25
   14    4    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.36034179   4.3272       6.2940582    8.26091641  10.22777462
  12.19463283  14.16149104  16.12834924  18.09520745  20.06206566
  22.02892387  23.99578208  25.96264029  27.92949849  29.8963567
  31.86321491  33.83007312  35.79693133  37.76378953  39.73064774
  41.69750595]
distance difference  counter: 
(array([   3,    0,    0,    1,    1,    6,    7,   24,   28,   52,   82,
        125,  231,  410,  652, 1180, 1780, 2307, 1213,  144]), array([-4.14674044, -3.90649018, -3.66623993, -3.42598968, -3.18573942,
       -2.94548917, -2.70523891, -2.46498866, -2.22473841, -1.98448815,
       -1.7442379 , -1.50398765, -1.26373739, -1.02348714, -0.78323689,
       -0.54298663, -0.30273638, -0.06248612,  0.17776413,  0.41801438,
        0.65826464]))
train/val Accuracy = 0.732609065397 / 0.682148920689 
 with threshold: [[ 12.63251787]]
============ epoch 5 ===========
training loss:		0.103140
||Xanchor-Xpos||_2  counter: 
[ 248 1988 4271 5373 4841 3447 1871  960  340  128   35   11    3    2    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  30  356 1001 1713 2684 3490 3651 3402 2616 1837 1162  677  429  235  124
   61   25   16    7    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.80261111   2.98909608   5.17558105   7.36206602   9.54855099
  11.73503596  13.92152092  16.10800589  18.29449086  20.48097583
  22.6674608   24.85394577  27.04043074  29.22691571  31.41340067
  33.59988564  35.78637061  37.97285558  40.15934055  42.34582552
  44.53231049]
distance difference  counter: 
(array([   1,    0,    4,    4,    6,   15,   10,   34,   70,   87,  168,
        329,  539,  966, 1834, 3315, 5429, 7280, 3242,  185]), array([-6.13610315, -5.7877923 , -5.43948144, -5.09117058, -4.74285972,
       -4.39454886, -4.04623801, -3.69792715, -3.34961629, -3.00130543,
       -2.65299457, -2.30468372, -1.95637286, -1.608062  , -1.25975114,
       -0.91144028, -0.56312943, -0.21481857,  0.13349229,  0.48180315,
        0.83011401]))
||Xanchor-Xpos||_2  counter: 
[  60  359  837 1344 1527 1342 1096  755  451  251  114   69   27    6    4
    2    2    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   3   38  197  412  763 1016 1213 1193  984  798  579  430  268  147  111
   49   19   18    4    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  2.06181431   3.74228225   5.42275019   7.10321813   8.78368607
  10.46415401  12.14462194  13.82508988  15.50555782  17.18602576
  18.8664937   20.54696164  22.22742958  23.90789752  25.58836546
  27.2688334   28.94930134  30.62976928  32.31023722  33.99070516
  35.6711731 ]
distance difference  counter: 
(array([   2,    3,    1,    0,    4,   10,   14,   32,   49,   80,  120,
        197,  306,  559,  777, 1306, 1748, 2024,  888,  126]), array([-3.67683578, -3.46020293, -3.24357009, -3.02693725, -2.8103044 ,
       -2.59367156, -2.37703872, -2.16040587, -1.94377303, -1.72714019,
       -1.51050735, -1.2938745 , -1.07724166, -0.86060882, -0.64397597,
       -0.42734313, -0.21071029,  0.00592256,  0.2225554 ,  0.43918824,
        0.65582108]))
train/val Accuracy = 0.736776086402 / 0.684392432695 
 with threshold: [[ 12.4672765]]
============ epoch 6 ===========
training loss:		0.103138
||Xanchor-Xpos||_2  counter: 
[ 255 2174 4300 5230 4799 3300 1968  927  366  124   56   12    5    1    0
    1    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  41  362  985 1767 2570 3387 3672 3265 2681 1950 1255  732  412  236  126
   43   21    8    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.89210159   3.05960836   5.22711514   7.39462191   9.56212869
  11.72963546  13.89714224  16.06464901  18.23215579  20.39966256
  22.56716934  24.73467611  26.90218289  29.06968966  31.23719644
  33.40470321  35.57220999  37.73971677  39.90722354  42.07473032
  44.24223709]
distance difference  counter: 
(array([   1,    0,    2,    3,    6,    9,   10,   27,   45,   80,  146,
        245,  456,  887, 1747, 3095, 5287, 7638, 3627,  207]), array([-6.51954174, -6.15125451, -5.78296729, -5.41468006, -5.04639283,
       -4.67810561, -4.30981838, -3.94153115, -3.57324393, -3.2049567 ,
       -2.83666947, -2.46838225, -2.10009502, -1.7318078 , -1.36352057,
       -0.99523334, -0.62694612, -0.25865889,  0.10962834,  0.47791556,
        0.84620279]))
||Xanchor-Xpos||_2  counter: 
[  23  255  758 1249 1524 1429 1168  828  454  285  146   75   33   14    1
    4    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   1   26  144  364  666 1047 1192 1221 1015  833  644  431  294  166  105
   57   24    9    4    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.5347923    3.24591566   4.95703901   6.66816236   8.37928572
  10.09040907  11.80153242  13.51265578  15.22377913  16.93490248
  18.64602584  20.35714919  22.06827254  23.7793959   25.49051925
  27.2016426   28.91276596  30.62388931  32.33501266  34.04613602
  35.75725937]
distance difference  counter: 
(array([   1,    0,    2,    2,    1,    3,    6,   10,   28,   50,   81,
        116,  217,  360,  639, 1060, 1787, 2287, 1395,  201]), array([-4.30482817, -4.05725783, -3.8096875 , -3.56211716, -3.31454682,
       -3.06697649, -2.81940615, -2.57183582, -2.32426548, -2.07669514,
       -1.82912481, -1.58155447, -1.33398414, -1.0864138 , -0.83884346,
       -0.59127313, -0.34370279, -0.09613246,  0.15143788,  0.39900821,
        0.64657855]))
train/val Accuracy = 0.738689514414 / 0.681663837012 
 with threshold: [[ 12.48268145]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488, 0.70571856685928036, 0.59878231580201424, 0.71058425954827231]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.3, batch size: 1500, triplet_alpha: 2, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.098978
||Xanchor-Xpos||_2  counter: 
[19648  1180   591   520   357   241   186   169   178   136   119    71
    45    40    13    12    11     1     0     0]
||Xanchor-Xneg||_2  counter: 
[19300  1218   538   496   443   247   165   161   180   182   182   140
   102    70    40    26    16     5     4     3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  4.13031697e-01   3.67264530e+01   7.30398743e+01   1.09353296e+02
   1.45666717e+02   1.81980138e+02   2.18293559e+02   2.54606981e+02
   2.90920402e+02   3.27233823e+02   3.63547245e+02   3.99860666e+02
   4.36174087e+02   4.72487508e+02   5.08800930e+02   5.45114351e+02
   5.81427772e+02   6.17741194e+02   6.54054615e+02   6.90368036e+02
   7.26681458e+02]
distance difference  counter: 
(array([   1,    2,    1,    4,    7,    8,   14,   12,   28,   29,   56,
        101,  203,  354,  781, 1626, 3660, 8165, 7709,  757]), array([-7.86832857, -7.42949137, -6.99065417, -6.55181697, -6.11297977,
       -5.67414257, -5.23530537, -4.79646817, -4.35763097, -3.91879377,
       -3.47995657, -3.04111937, -2.60228217, -2.16344497, -1.72460777,
       -1.28577057, -0.84693336, -0.40809616,  0.03074104,  0.46957824,
        0.90841544]))
||Xanchor-Xpos||_2  counter: 
[  72  614 1301 1749 1564 1221  766  442  260  145   68   26    9    3    6
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   7  125  479 1001 1390 1456 1244  938  667  397  260  134   85   31   16
    5    7    1    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.67564511   2.12058572   3.56552632   5.01046692   6.45540752
   7.90034813   9.34528873  10.79022933  12.23516994  13.68011054
  15.12505114  16.56999174  18.01493235  19.45987295  20.90481355
  22.34975415  23.79469476  25.23963536  26.68457596  28.12951657
  29.57445717]
distance difference  counter: 
(array([   1,    0,    0,    0,    1,    1,    2,    7,    7,   24,   29,
         63,  125,  254,  505,  986, 1852, 2554, 1609,  226]), array([-4.72212696, -4.44611838, -4.1701098 , -3.89410121, -3.61809263,
       -3.34208405, -3.06607547, -2.79006689, -2.5140583 , -2.23804972,
       -1.96204114, -1.68603256, -1.41002398, -1.13401539, -0.85800681,
       -0.58199823, -0.30598965, -0.02998106,  0.24602752,  0.5220361 ,
        0.79804468]))
train/val Accuracy = 0.507462369249 / 0.5 
 with threshold: [[ 37.14680201]]
============ epoch 1 ===========
training loss:		1.030992
||Xanchor-Xpos||_2  counter: 
[1645 5839 6499 4735 2675 1282  530  191   72   32   12    5    1    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 409 1739 3445 4414 4288 3492 2353 1502  872  463  267  137   73   29   16
   11    3    1    2    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.43343943   2.54006679   4.64669415   6.75332151   8.85994887
  10.96657623  13.07320359  15.17983095  17.28645831  19.39308567
  21.49971303  23.60634039  25.71296775  27.81959511  29.92622247
  32.03284983  34.13947719  36.24610455  38.35273191  40.45935927
  42.56598663]
distance difference  counter: 
(array([   3,    2,    0,    3,    5,    9,   10,   15,   24,   56,   80,
        176,  310,  605, 1167, 2182, 4194, 7205, 6784,  688]), array([-7.53908968, -7.11487664, -6.69066361, -6.26645057, -5.84223753,
       -5.4180245 , -4.99381146, -4.56959842, -4.14538538, -3.72117235,
       -3.29695931, -2.87274627, -2.44853324, -2.0243202 , -1.60010716,
       -1.17589413, -0.75168109, -0.32746805,  0.09674498,  0.52095802,
        0.94517106]))
||Xanchor-Xpos||_2  counter: 
[ 371 1590 2171 1850 1208  611  255  113   50   16    9    1    0    1    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  58  490 1265 1709 1696 1267  808  439  246  118   57   39   31    8    9
    1    2    1    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  1.13309753   2.86251653   4.59193553   6.32135453   8.05077353
   9.78019252  11.50961152  13.23903052  14.96844952  16.69786852
  18.42728752  20.15670652  21.88612552  23.61554452  25.34496351
  27.07438251  28.80380151  30.53322051  32.26263951  33.99205851
  35.72147751]
distance difference  counter: 
(array([   1,    0,    1,    1,    1,    4,    4,    7,   16,   22,   35,
         91,  123,  248,  484,  941, 1675, 2535, 1803,  254]), array([-5.00346565, -4.71283881, -4.42221196, -4.13158512, -3.84095827,
       -3.55033143, -3.25970458, -2.96907774, -2.67845089, -2.38782405,
       -2.0971972 , -1.80657036, -1.51594352, -1.22531667, -0.93468983,
       -0.64406298, -0.35343614, -0.06280929,  0.22781755,  0.5184444 ,
        0.80907124]))
train/val Accuracy = 0.689875839782 / 0.648435605142 
 with threshold: [[ 8.12714891]]
============ epoch 2 ===========
training loss:		1.030993
||Xanchor-Xpos||_2  counter: 
[1229 5179 6337 4900 3042 1588  713  338  114   47   20    8    3    0    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 307 1462 2955 3995 4257 3530 2660 1735 1067  643  397  211  143   74   38
   24    8    9    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.35525763   2.32988538   4.30451313   6.27914088   8.25376863
  10.22839639  12.20302414  14.17765189  16.15227964  18.12690739
  20.10153514  22.07616289  24.05079064  26.02541839  28.00004615
  29.9746739   31.94930165  33.9239294   35.89855715  37.8731849
  39.84781265]
distance difference  counter: 
(array([   2,    2,    0,    1,    3,    8,    6,   20,   26,   47,   51,
        115,  215,  464,  898, 1778, 3639, 6614, 8262, 1367]), array([-8.18301392, -7.72904072, -7.27506751, -6.82109431, -6.36712111,
       -5.91314791, -5.45917471, -5.00520151, -4.55122831, -4.09725511,
       -3.64328191, -3.18930871, -2.73533551, -2.2813623 , -1.8273891 ,
       -1.3734159 , -0.9194427 , -0.4654695 , -0.0114963 ,  0.4424769 ,
        0.8964501 ]))
||Xanchor-Xpos||_2  counter: 
[ 187 1014 1777 1855 1432  926  517  274  144   73   28    9    5    0    3
    2    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  24  265  785 1347 1536 1420 1049  761  465  260  151   95   34   25   16
    5    4    2    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.86571491   2.50166195   4.13760899   5.77355604   7.40950308
   9.04545012  10.68139716  12.31734421  13.95329125  15.58923829
  17.22518533  18.86113238  20.49707942  22.13302646  23.76897351
  25.40492055  27.04086759  28.67681463  30.31276168  31.94870872
  33.58465576]
distance difference  counter: 
(array([   2,    0,    1,    2,    1,    3,    4,   12,   23,   33,   56,
         80,  153,  327,  552, 1037, 1702, 2431, 1563,  264]), array([-4.77640343, -4.49743406, -4.2184647 , -3.93949533, -3.66052597,
       -3.3815566 , -3.10258723, -2.82361787, -2.5446485 , -2.26567914,
       -1.98670977, -1.70774041, -1.42877104, -1.14980168, -0.87083231,
       -0.59186295, -0.31289358, -0.03392422,  0.24504515,  0.52401451,
        0.80298388]))
train/val Accuracy = 0.689641976359 / 0.647586708707 
 with threshold: [[ 8.10982258]]
============ epoch 3 ===========
training loss:		1.030992
||Xanchor-Xpos||_2  counter: 
[1287 5545 6707 4866 2902 1320  564  216   74   31    2    3    0    1    0
    0    0    0    0    0]
||Xanchor-Xneg||_2  counter: 
[ 322 1645 3108 4439 4516 3469 2525 1579  864  511  251  140   71   37   16
   16    3    2    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.29921106   2.36874376   4.43827646   6.50780916   8.57734187
  10.64687457  12.71640727  14.78593998  16.85547268  18.92500538
  20.99453808  23.06407079  25.13360349  27.20313619  29.2726689
  31.3422016   33.4117343   35.481267    37.55079971  39.62033241
  41.68986511]
distance difference  counter: 
(array([   1,    0,    1,    3,    3,    4,    7,   16,   16,   28,   57,
        115,  197,  416,  843, 1695, 3510, 6793, 8359, 1454]), array([-8.34461403, -7.88232904, -7.42004405, -6.95775906, -6.49547408,
       -6.03318909, -5.5709041 , -5.10861911, -4.64633412, -4.18404914,
       -3.72176415, -3.25947916, -2.79719417, -2.33490918, -1.87262419,
       -1.41033921, -0.94805422, -0.48576923, -0.02348424,  0.43880075,
        0.90108573]))
||Xanchor-Xpos||_2  counter: 
[ 232 1025 1652 1618 1394  917  609  324  216  129   58   35   18    9    4
    2    3    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  26  302  803 1220 1460 1279 1040  749  494  346  216  133   65   63   27
   10    8    2    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.8998971    2.6817354    4.46357369   6.24541199   8.02725029
   9.80908859  11.59092689  13.37276518  15.15460348  16.93644178
  18.71828008  20.50011837  22.28195667  24.06379497  25.84563327
  27.62747157  29.40930986  31.19114816  32.97298646  34.75482476
  36.53666306]
distance difference  counter: 
(array([   1,    0,    0,    1,    4,    7,    5,   13,   15,   29,   51,
         75,  127,  227,  441,  830, 1612, 2486, 2008,  314]), array([-5.73000622, -5.40104618, -5.07208614, -4.74312611, -4.41416607,
       -4.08520603, -3.75624599, -3.42728596, -3.09832592, -2.76936588,
       -2.44040585, -2.11144581, -1.78248577, -1.45352573, -1.1245657 ,
       -0.79560566, -0.46664562, -0.13768559,  0.19127445,  0.52023449,
        0.84919453]))
train/val Accuracy = 0.693043626159 / 0.631882124667 
 with threshold: [[ 8.0307363]]
============ epoch 4 ===========
training loss:		1.030994
||Xanchor-Xpos||_2  counter: 
[1060 4587 6104 5019 3342 1805  881  413  174   85   26   15    3    2    1
    0    0    0    1    0]
||Xanchor-Xneg||_2  counter: 
[ 268 1291 2588 3685 4078 3687 2811 1929 1283  788  491  279  142   91   38
   30   19   12    3    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.31685311   2.20510019   4.09334727   5.98159435   7.86984143
   9.75808851  11.6463356   13.53458268  15.42282976  17.31107684
  19.19932392  21.087571    22.97581809  24.86406517  26.75231225
  28.64055933  30.52880641  32.41705349  34.30530058  36.19354766
  38.08179474]
distance difference  counter: 
(array([   2,    3,    2,    7,    2,    5,    9,   22,   44,   40,   98,
        163,  329,  590, 1135, 2179, 4096, 6959, 6982,  851]), array([-7.56487799, -7.13996392, -6.71504986, -6.2901358 , -5.86522174,
       -5.44030768, -5.01539361, -4.59047955, -4.16556549, -3.74065143,
       -3.31573737, -2.8908233 , -2.46590924, -2.04099518, -1.61608112,
       -1.19116706, -0.76625299, -0.34133893,  0.08357513,  0.50848919,
        0.93340325]))
||Xanchor-Xpos||_2  counter: 
[ 211 1055 1747 1753 1355  921  558  327  146   91   48   20    8    5    0
    0    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  29  326  847 1301 1431 1268  999  732  519  311  233  110   66   35   21
   11    4    1    0    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  0.76062751   2.67180325   4.58297899   6.49415473   8.40533047
  10.31650621  12.22768195  14.13885769  16.05003343  17.96120917
  19.87238491  21.78356065  23.69473639  25.60591213  27.51708786
  29.4282636   31.33943934  33.25061508  35.16179082  37.07296656
  38.9841423 ]
distance difference  counter: 
(array([   1,    1,    1,    4,    3,    5,   10,   13,   26,   33,   63,
        127,  199,  316,  545,  980, 1639, 2346, 1692,  242]), array([-5.51914883, -5.199193  , -4.87923718, -4.55928136, -4.23932554,
       -3.91936971, -3.59941389, -3.27945807, -2.95950224, -2.63954642,
       -2.3195906 , -1.99963478, -1.67967895, -1.35972313, -1.03976731,
       -0.71981148, -0.39985566, -0.07989984,  0.24005598,  0.56001181,
        0.87996763]))
train/val Accuracy = 0.691066417212 / 0.636369148678 
 with threshold: [[ 8.12836753]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488, 0.70571856685928036, 0.59878231580201424, 0.71058425954827231, 0.66915572246209076]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019479
||Xanchor-Xpos||_2  counter: 
[ 307 1284 1900 2196 2675 2963 2893 2629 2170 1663 1183  747  449  235  111
   72   23   10    4    4]
||Xanchor-Xneg||_2  counter: 
[ 124  572  851 1209 1697 2043 2638 3032 2950 2663 2030 1457  967  571  360
  194   95   42   15    8]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.59531784   70.84636555  108.09741325  145.34846096  182.59950867
  219.85055637  257.10160408  294.35265179  331.60369949  368.8547472
  406.10579491  443.35684261  480.60789032  517.85893803  555.10998573
  592.36103344  629.61208115  666.86312885  704.11417656  741.36522427
  778.61627197]
distance difference  counter: 
(array([    1,     1,     3,     4,     3,     7,    15,    18,    24,
          39,    60,   104,   183,   370,   745,  1763,  4579, 11712,
        3765,   122]), array([-6.58640385, -6.212699  , -5.83899416, -5.46528931, -5.09158447,
       -4.71787962, -4.34417478, -3.97046993, -3.59676509, -3.22306024,
       -2.8493554 , -2.47565055, -2.10194571, -1.72824087, -1.35453602,
       -0.98083118, -0.60712633, -0.23342149,  0.14028336,  0.5139882 ,
        0.88769305]))
||Xanchor-Xpos||_2  counter: 
[  74  219  417  659  814 1005 1196 1100  945  698  485  327  176   75   38
   12    3    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   45  134  301  539  816  980 1106 1145  979  826  581  371  216  109
   55   21    9    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  76.40969849  115.91535187  155.42100525  194.92665863  234.43231201
  273.93796539  313.44361877  352.94927216  392.45492554  431.96057892
  471.4662323   510.97188568  550.47753906  589.98319244  629.48884583
  668.99449921  708.50015259  748.00580597  787.51145935  827.01711273
  866.52276611]
distance difference  counter: 
(array([   3,    4,    1,    1,    1,    6,    6,   12,   20,   41,   52,
         76,  147,  300,  615, 1218, 2504, 2553,  626,   60]), array([-3.61387372, -3.40170325, -3.18953279, -2.97736232, -2.76519185,
       -2.55302139, -2.34085092, -2.12868045, -1.91650999, -1.70433952,
       -1.49216905, -1.27999859, -1.06782812, -0.85565765, -0.64348719,
       -0.43131672, -0.21914625, -0.00697578,  0.20519468,  0.41736515,
        0.62953562]))
train/val Accuracy = 0.608214984267 / 0.577613388309 
 with threshold: [[ 297.57536212]]
============ epoch 1 ===========
training loss:		0.019461
||Xanchor-Xpos||_2  counter: 
[ 224 1253 2007 2504 2941 3196 3042 2627 2138 1480  997  562  296  140   70
   25    9    3    4    0]
||Xanchor-Xneg||_2  counter: 
[  76  574  914 1333 1896 2313 3022 3354 3057 2496 1845 1164  700  394  221
  104   33   17    4    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.22409248   65.46251554  105.70093861  145.93936167  186.17778473
  226.41620779  266.65463085  306.89305391  347.13147697  387.36990004
  427.6083231   467.84674616  508.08516922  548.32359228  588.56201534
  628.8004384   669.03886147  709.27728453  749.51570759  789.75413065
  829.99255371]
distance difference  counter: 
(array([    5,     1,     5,     3,     8,    17,    20,    24,    38,
          56,    92,   138,   258,   490,  1052,  2293,  5913, 10893,
        2130,    82]), array([-5.86820698, -5.53049   , -5.19277302, -4.85505604, -4.51733906,
       -4.17962208, -3.84190511, -3.50418813, -3.16647115, -2.82875417,
       -2.49103719, -2.15332021, -1.81560323, -1.47788625, -1.14016927,
       -0.8024523 , -0.46473532, -0.12701834,  0.21069864,  0.54841562,
        0.8861326 ]))
||Xanchor-Xpos||_2  counter: 
[  72  224  480  713  923 1098 1208 1067  912  680  450  222  108   60   19
    6    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   46  160  355  596  911 1073 1173 1149  986  766  468  290  145   80
   27    8    3    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.95467377  115.44911842  156.94356308  198.43800774  239.93245239
  281.42689705  322.92134171  364.41578636  405.91023102  447.40467567
  488.89912033  530.39356499  571.88800964  613.3824543   654.87689896
  696.37134361  737.86578827  779.36023293  820.85467758  862.34912224
  903.84356689]
distance difference  counter: 
(array([   1,    2,    4,    1,    2,    5,    8,   12,    9,   23,   43,
         81,  147,  263,  532, 1176, 2412, 2801,  663,   61]), array([-3.80446911, -3.58214655, -3.35982399, -3.13750143, -2.91517887,
       -2.69285631, -2.47053375, -2.24821119, -2.02588863, -1.80356607,
       -1.58124352, -1.35892096, -1.1365984 , -0.91427584, -0.69195328,
       -0.46963072, -0.24730816, -0.0249856 ,  0.19733696,  0.41965952,
        0.64198208]))
train/val Accuracy = 0.608214984267 / 0.578462284744 
 with threshold: [[ 297.23144084]]
============ epoch 2 ===========
training loss:		0.019444
||Xanchor-Xpos||_2  counter: 
[ 248 1241 2039 2359 2861 3129 3055 2662 2121 1561 1008  613  332  159   75
   33   11    5    5    1]
||Xanchor-Xneg||_2  counter: 
[  87  566  890 1345 1816 2266 2967 3278 2996 2568 1852 1266  760  417  252
  115   50   18    5    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.91630173   66.45911884  106.00193596  145.54475307  185.08757019
  224.63038731  264.17320442  303.71602154  343.25883865  382.80165577
  422.34447289  461.88729     501.43010712  540.97292423  580.51574135
  620.05855846  659.60137558  699.1441927   738.68700981  778.22982693
  817.77264404]
distance difference  counter: 
(array([    3,     3,     4,     3,     9,    12,    24,    14,    42,
          50,    86,   162,   261,   515,   988,  2219,  5572, 11074,
        2378,    99]), array([-5.86560631, -5.52877483, -5.19194336, -4.85511189, -4.51828041,
       -4.18144894, -3.84461746, -3.50778599, -3.17095451, -2.83412304,
       -2.49729156, -2.16046009, -1.82362862, -1.48679714, -1.14996567,
       -0.81313419, -0.47630272, -0.13947124,  0.19736023,  0.5341917 ,
        0.87102318]))
||Xanchor-Xpos||_2  counter: 
[  69  218  466  697  903 1112 1198 1112  933  672  419  237  130   53   21
    3    3    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   42  163  337  593  896 1050 1218 1118 1024  765  486  279  147   75
   32    9    3    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  72.18144989  113.7218586   155.2622673   196.80267601  238.34308472
  279.88349342  321.42390213  362.96431084  404.50471954  446.04512825
  487.58553696  529.12594566  570.66635437  612.20676308  653.74717178
  695.28758049  736.8279892   778.3683979   819.90880661  861.44921532
  902.98962402]
distance difference  counter: 
(array([   1,    0,    1,    2,    1,    1,    3,    9,    9,   13,   33,
         47,  100,  186,  391,  878, 2039, 3392, 1040,  100]), array([-4.30160904, -4.05450309, -3.80739713, -3.56029118, -3.31318523,
       -3.06607927, -2.81897332, -2.57186737, -2.32476141, -2.07765546,
       -1.83054951, -1.58344356, -1.3363376 , -1.08923165, -0.8421257 ,
       -0.59501974, -0.34791379, -0.10080784,  0.14629812,  0.39340407,
        0.64051002]))
train/val Accuracy = 0.606237775321 / 0.579371816638 
 with threshold: [[ 297.12762194]]
============ epoch 3 ===========
training loss:		0.019426
||Xanchor-Xpos||_2  counter: 
[ 291 1219 1920 2195 2627 2915 2977 2644 2212 1681 1162  779  444  227  114
   74   18    9    5    5]
||Xanchor-Xneg||_2  counter: 
[ 111  548  838 1209 1635 2041 2673 3050 2940 2680 2035 1457 1012  592  342
  191   99   42   16    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  31.71305656   68.94412737  106.17519817  143.40626898  180.63733978
  217.86841059  255.09948139  292.3305522   329.561623    366.79269381
  404.02376461  441.25483541  478.48590622  515.71697702  552.94804783
  590.17911863  627.41018944  664.64126024  701.87233105  739.10340185
  776.33447266]
distance difference  counter: 
(array([    1,     1,     2,     4,     6,     5,    13,    16,    28,
          38,    51,   120,   186,   338,   758,  1704,  4441, 11586,
        4089,   131]), array([-6.58044338, -6.20766335, -5.83488331, -5.46210328, -5.08932325,
       -4.71654321, -4.34376318, -3.97098314, -3.59820311, -3.22542308,
       -2.85264304, -2.47986301, -2.10708297, -1.73430294, -1.36152291,
       -0.98874287, -0.61596284, -0.24318281,  0.12959723,  0.50237726,
        0.8751573 ]))
||Xanchor-Xpos||_2  counter: 
[  72  215  466  666  892 1107 1254 1098  912  633  470  235  132   62   24
    5    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   46  151  342  561  884 1057 1175 1158  998  769  500  299  168   78
   30   11    8    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.81407166  114.83065567  155.84723969  196.8638237   237.88040771
  278.89699173  319.91357574  360.93015976  401.94674377  442.96332779
  483.9799118   524.99649582  566.01307983  607.02966385  648.04624786
  689.06283188  730.07941589  771.09599991  812.11258392  853.12916794
  894.14575195]
distance difference  counter: 
(array([   2,    0,    1,    3,    2,    4,    5,    8,   14,   19,   32,
         54,  120,  215,  463, 1032, 2222, 3143,  838,   69]), array([-4.05440998, -3.81966333, -3.58491668, -3.35017002, -3.11542337,
       -2.88067672, -2.64593006, -2.41118341, -2.17643676, -1.94169011,
       -1.70694345, -1.4721968 , -1.23745015, -1.00270349, -0.76795684,
       -0.53321019, -0.29846354, -0.06371688,  0.17102977,  0.40577642,
        0.64052308]))
train/val Accuracy = 0.608002381155 / 0.580281348533 
 with threshold: [[ 296.66483317]]
============ epoch 4 ===========
training loss:		0.019410
||Xanchor-Xpos||_2  counter: 
[ 180 1118 1824 2274 2608 2984 2944 2714 2268 1686 1219  775  491  222  117
   56   26    4    3    4]
||Xanchor-Xneg||_2  counter: 
[  64  486  816 1192 1672 2009 2618 3077 3035 2683 2111 1493  983  567  354
  201   96   41   14    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.16858101   62.95204954  100.73551807  138.51898661  176.30245514
  214.08592367  251.8693922   289.65286074  327.43632927  365.2197978
  403.00326633  440.78673487  478.5702034   516.35367193  554.13714046
  591.920609    629.70407753  667.48754606  705.2710146   743.05448313
  780.83795166]
distance difference  counter: 
(array([    1,     0,     2,     3,     7,     6,    14,    19,    31,
          41,    55,   114,   192,   383,   763,  1742,  4525, 11554,
        3928,   138]), array([-6.52562189, -6.15553338, -5.78544487, -5.41535636, -5.04526786,
       -4.67517935, -4.30509084, -3.93500233, -3.56491382, -3.19482531,
       -2.8247368 , -2.4546483 , -2.08455979, -1.71447128, -1.34438277,
       -0.97429426, -0.60420575, -0.23411724,  0.13597127,  0.50605977,
        0.87614828]))
||Xanchor-Xpos||_2  counter: 
[  56  200  434  721  893 1077 1213 1135  957  645  470  249  112   59   19
    5    1    0    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   32  141  312  600  873 1065 1184 1157 1025  788  497  302  143   83
   22   11    2    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  68.50984955  110.14850197  151.78715439  193.42580681  235.06445923
  276.70311165  318.34176407  359.98041649  401.61906891  443.25772133
  484.89637375  526.53502617  568.17367859  609.81233101  651.45098343
  693.08963585  734.72828827  776.36694069  818.00559311  859.64424553
  901.28289795]
distance difference  counter: 
(array([   1,    0,    0,    3,    1,    3,    4,    7,    7,   19,   26,
         47,  103,  192,  425,  908, 2070, 3349, 1003,   78]), array([-4.24748135, -4.00300627, -3.7585312 , -3.51405613, -3.26958106,
       -3.02510598, -2.78063091, -2.53615584, -2.29168077, -2.04720569,
       -1.80273062, -1.55825555, -1.31378047, -1.0693054 , -0.82483033,
       -0.58035526, -0.33588018, -0.09140511,  0.15306996,  0.39754503,
        0.64202011]))
train/val Accuracy = 0.607300790884 / 0.579614358477 
 with threshold: [[ 296.43030539]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488, 0.70571856685928036, 0.59878231580201424, 0.71058425954827231, 0.66915572246209076, 0.5941418648437411]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.193790
||Xanchor-Xpos||_2  counter: 
[ 288 1379 2130 2581 3006 3256 3125 2542 2024 1394  892  460  241   96   65
   22    9    5    3    0]
||Xanchor-Xneg||_2  counter: 
[ 104  626  974 1442 1956 2527 3190 3340 2980 2405 1643 1068  614  333  173
   90   34   13    4    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.03104782   68.89384785  109.75664787  150.6194479   191.48224792
  232.34504795  273.20784798  314.070648    354.93344803  395.79624805
  436.65904808  477.52184811  518.38464813  559.24744816  600.11024818
  640.97304821  681.83584824  722.69864826  763.56144829  804.42424831
  845.28704834]
distance difference  counter: 
(array([    1,     0,     0,     1,     7,     4,    15,    13,    20,
          39,    47,    96,   168,   299,   635,  1489,  4039, 11224,
        5258,   163]), array([-6.86502171, -6.47840873, -6.09179576, -5.70518279, -5.31856982,
       -4.93195684, -4.54534387, -4.1587309 , -3.77211792, -3.38550495,
       -2.99889198, -2.61227901, -2.22566603, -1.83905306, -1.45244009,
       -1.06582712, -0.67921414, -0.29260117,  0.0940118 ,  0.48062477,
        0.86723775]))
||Xanchor-Xpos||_2  counter: 
[  58  187  383  576  709  926 1076 1099 1002  786  578  424  214  136   52
   25   12    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   37  104  235  455  685  889  985 1110 1068  883  673  456  341  160
   83   49   19    5    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.11774445  110.52967644  147.94160843  185.35354042  222.76547241
  260.1774044   297.5893364   335.00126839  372.41320038  409.82513237
  447.23706436  484.64899635  522.06092834  559.47286034  596.88479233
  634.29672432  671.70865631  709.1205883   746.53252029  783.94445229
  821.35638428]
distance difference  counter: 
(array([   2,    4,    1,    1,    4,    6,    8,   12,   18,   27,   56,
         94,  143,  338,  599, 1224, 2470, 2571,  608,   60]), array([-3.61392641, -3.40170349, -3.18948058, -2.97725766, -2.76503475,
       -2.55281183, -2.34058892, -2.128366  , -1.91614308, -1.70392017,
       -1.49169725, -1.27947434, -1.06725142, -0.8550285 , -0.64280559,
       -0.43058267, -0.21835976, -0.00613684,  0.20608608,  0.41830899,
        0.63053191]))
train/val Accuracy = 0.608555149247 / 0.5791292748 
 with threshold: [[ 296.74809113]]
============ epoch 1 ===========
training loss:		0.192066
||Xanchor-Xpos||_2  counter: 
[ 389 1466 2151 2524 3010 3186 3092 2499 2024 1339  866  505  250  122   62
   14   11    6    2    0]
||Xanchor-Xneg||_2  counter: 
[ 158  633  997 1482 1925 2499 3147 3286 2944 2382 1605 1109  649  341  196
  110   32   14    6    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.01795959   72.78496933  112.55197906  152.3189888   192.08599854
  231.85300827  271.62001801  311.38702774  351.15403748  390.92104721
  430.68805695  470.45506668  510.22207642  549.98908615  589.75609589
  629.52310562  669.29011536  709.05712509  748.82413483  788.59114456
  828.3581543 ]
distance difference  counter: 
(array([    2,     1,     6,     9,    10,     9,    20,    31,    37,
          49,   101,   146,   295,   540,  1103,  2412,  5734, 10794,
        2127,    92]), array([-5.73116493, -5.40113008, -5.07109522, -4.74106037, -4.41102551,
       -4.08099066, -3.7509558 , -3.42092095, -3.09088609, -2.76085124,
       -2.43081638, -2.10078153, -1.77074667, -1.44071182, -1.11067696,
       -0.78064211, -0.45060725, -0.1205724 ,  0.20946246,  0.53949731,
        0.86953217]))
||Xanchor-Xpos||_2  counter: 
[  79  239  447  657  837 1035 1129 1064  938  737  496  290  178   72   31
   11    5    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  13   54  147  294  562  793 1008 1088 1115 1024  815  565  359  213  112
   48   25   10    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  79.18049622  117.69049606  156.20049591  194.71049576  233.22049561
  271.73049545  310.2404953   348.75049515  387.260495    425.77049484
  464.28049469  502.79049454  541.30049438  579.81049423  618.32049408
  656.83049393  695.34049377  733.85049362  772.36049347  810.87049332
  849.38049316]
distance difference  counter: 
(array([   1,    0,    2,    1,    3,    8,    2,    6,   12,   16,   37,
         68,  133,  239,  468, 1022, 2265, 3051,  829,   83]), array([-3.95935249, -3.72988969, -3.50042689, -3.27096409, -3.0415013 ,
       -2.8120385 , -2.5825757 , -2.3531129 , -2.1236501 , -1.8941873 ,
       -1.6647245 , -1.4352617 , -1.2057989 , -0.9763361 , -0.7468733 ,
       -0.5174105 , -0.2879477 , -0.0584849 ,  0.1709779 ,  0.4004407 ,
        0.6299035 ]))
train/val Accuracy = 0.608193723956 / 0.581494057725 
 with threshold: [[ 293.8656134]]
============ epoch 2 ===========
training loss:		0.190374
||Xanchor-Xpos||_2  counter: 
[ 370 1353 2012 2331 2796 3163 2931 2569 2114 1545 1039  612  347  174   93
   38   16    6    5    3]
||Xanchor-Xneg||_2  counter: 
[ 142  601  929 1330 1801 2225 2893 3123 2963 2487 1918 1302  809  463  273
  141   78   26    8    6]
||Xanchor-X_neg/pos||_2  bins edge: 
[  33.10267258   70.8308672   108.55906181  146.28725643  184.01545105
  221.74364567  259.47184029  297.2000349   334.92822952  372.65642414
  410.38461876  448.11281338  485.841008    523.56920261  561.29739723
  599.02559185  636.75378647  674.48198109  712.2101757   749.93837032
  787.66656494]
distance difference  counter: 
(array([    2,     0,     4,     6,    11,    16,    16,    26,    31,
          46,    93,   140,   236,   487,   967,  2162,  5384, 11200,
        2589,   102]), array([-5.94924212, -5.60829943, -5.26735675, -4.92641406, -4.58547138,
       -4.2445287 , -3.90358601, -3.56264333, -3.22170064, -2.88075796,
       -2.53981528, -2.19887259, -1.85792991, -1.51698723, -1.17604454,
       -0.83510186, -0.49415917, -0.15321649,  0.18772619,  0.52866888,
        0.86961156]))
||Xanchor-Xpos||_2  counter: 
[  75  217  396  650  812  998 1147 1104  991  737  514  299  176   75   40
   11    4    0    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   47  126  295  523  805  969 1086 1130 1041  837  582  355  230  123
   52   30    3    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.68975067  112.06924629  150.44874191  188.82823753  227.20773315
  265.58722878  303.9667244   342.34622002  380.72571564  419.10521126
  457.48470688  495.8642025   534.24369812  572.62319374  611.00268936
  649.38218498  687.7616806   726.14117622  764.52067184  802.90016747
  841.27966309]
distance difference  counter: 
(array([   1,    0,    0,    2,    1,    2,    4,    8,    6,   11,   36,
         58,   93,  170,  396,  890, 2114, 3418,  954,   82]), array([-4.30900335, -4.06092443, -3.8128455 , -3.56476657, -3.31668764,
       -3.06860872, -2.82052979, -2.57245086, -2.32437193, -2.07629301,
       -1.82821408, -1.58013515, -1.33205622, -1.0839773 , -0.83589837,
       -0.58781944, -0.33974051, -0.09166159,  0.15641734,  0.40449627,
        0.65257519]))
train/val Accuracy = 0.608342546135 / 0.579371816638 
 with threshold: [[ 291.13235604]]
============ epoch 3 ===========
training loss:		0.188715
||Xanchor-Xpos||_2  counter: 
[ 227 1297 1955 2378 2819 3172 3056 2617 2171 1564  997  643  323  157   90
   30   10    9    1    2]
||Xanchor-Xneg||_2  counter: 
[  88  575  872 1312 1778 2299 2928 3217 3035 2540 1877 1241  854  431  250
  123   70   17    4    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.67004204   63.94840822  102.22677441  140.50514059  178.78350677
  217.06187296  255.34023914  293.61860533  331.89697151  370.1753377
  408.45370388  446.73207006  485.01043625  523.28880243  561.56716862
  599.8455348   638.12390099  676.40226717  714.68063335  752.95899954
  791.23736572]
distance difference  counter: 
(array([    1,     0,     0,     0,     2,     6,     6,    13,    17,
          28,    36,    64,   139,   245,   539,  1206,  3382, 10401,
        7234,   199]), array([-7.39859152, -6.98515839, -6.57172526, -6.15829212, -5.74485899,
       -5.33142586, -4.91799273, -4.5045596 , -4.09112647, -3.67769333,
       -3.2642602 , -2.85082707, -2.43739394, -2.02396081, -1.61052768,
       -1.19709454, -0.78366141, -0.37022828,  0.04320485,  0.45663798,
        0.87007111]))
||Xanchor-Xpos||_2  counter: 
[  53  198  384  647  818 1014 1108 1123  986  760  519  321  175   84   42
    8    5    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   6   41  121  274  506  771  984 1086 1152 1029  877  584  367  246  115
   53   25    8    0    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  68.8025589   107.02521782  145.24787674  183.47053566  221.69319458
  259.9158535   298.13851242  336.36117134  374.58383026  412.80648918
  451.0291481   489.25180702  527.47446594  565.69712486  603.91978378
  642.1424427   680.36510162  718.58776054  756.81041946  795.03307838
  833.2557373 ]
distance difference  counter: 
(array([   3,    3,    2,    4,    6,    9,   12,   14,   21,   42,   46,
        113,  186,  362,  703, 1397, 2627, 2158,  480,   58]), array([-3.37721586, -3.17680479, -2.97639372, -2.77598265, -2.57557157,
       -2.3751605 , -2.17474943, -1.97433836, -1.77392728, -1.57351621,
       -1.37310514, -1.17269407, -0.97228299, -0.77187192, -0.57146085,
       -0.37104978, -0.1706387 ,  0.02977237,  0.23018344,  0.43059451,
        0.63100559]))
train/val Accuracy = 0.608448847691 / 0.58222168324 
 with threshold: [[ 288.35641821]]
============ epoch 4 ===========
training loss:		0.187087
||Xanchor-Xpos||_2  counter: 
[ 348 1401 2010 2392 2871 3123 3016 2517 2047 1564 1003  583  326  168   95
   31   11    6    3    2]
||Xanchor-Xneg||_2  counter: 
[ 142  612  934 1362 1798 2293 2925 3164 3019 2496 1820 1255  784  435  251
  124   66   22   12    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  31.86089516   69.25998297  106.65907078  144.05815859  181.4572464
  218.85633421  256.25542202  293.65450983  331.05359764  368.45268545
  405.85177326  443.25086107  480.64994888  518.04903669  555.4481245
  592.84721231  630.24630013  667.64538794  705.04447575  742.44356356
  779.84265137]
distance difference  counter: 
(array([    1,     0,     2,     3,     4,     9,    11,    20,    27,
          35,    51,   106,   176,   360,   747,  1682,  4395, 11451,
        4305,   133]), array([-6.58019066, -6.20767623, -5.83516181, -5.46264739, -5.09013296,
       -4.71761854, -4.34510412, -3.97258969, -3.60007527, -3.22756085,
       -2.85504642, -2.482532  , -2.11001757, -1.73750315, -1.36498873,
       -0.9924743 , -0.61995988, -0.24744546,  0.12506897,  0.49758339,
        0.87009782]))
||Xanchor-Xpos||_2  counter: 
[  67  193  388  627  808  932 1085 1120  976  748  563  349  210   96   49
   26    6    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   44  106  288  470  734  931 1054 1082 1086  880  612  408  274  147
   74   30   14    3    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  72.29237366  108.91819687  145.54402008  182.16984329  218.7956665
  255.42148972  292.04731293  328.67313614  365.29895935  401.92478256
  438.55060577  475.17642899  511.8022522   548.42807541  585.05389862
  621.67972183  658.30554504  694.93136826  731.55719147  768.18301468
  804.80883789]
distance difference  counter: 
(array([   1,    0,    1,    3,    3,    7,    4,    8,   16,   25,   37,
         62,  128,  249,  493, 1067, 2321, 3025,  727,   69]), array([-3.91573358, -3.68786086, -3.45998815, -3.23211544, -3.00424273,
       -2.77637002, -2.54849731, -2.3206246 , -2.09275188, -1.86487917,
       -1.63700646, -1.40913375, -1.18126104, -0.95338833, -0.72551562,
       -0.4976429 , -0.26977019, -0.04189748,  0.18597523,  0.41384794,
        0.64172065]))
train/val Accuracy = 0.608852793605 / 0.58076643221 
 with threshold: [[ 285.62807449]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488, 0.70571856685928036, 0.59878231580201424, 0.71058425954827231, 0.66915572246209076, 0.5941418648437411, 0.59533526546574456]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.003, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 1
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		1.867736
||Xanchor-Xpos||_2  counter: 
[ 343 1416 2115 2518 2935 3193 3038 2572 1966 1424  953  544  258  135   61
   27   15    0    3    2]
||Xanchor-Xneg||_2  counter: 
[ 148  612  972 1413 1892 2390 3175 3233 2978 2458 1677 1140  698  353  207
   96   46   20    5    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  30.68637085   68.88063812  107.0749054   145.26917267  183.46343994
  221.65770721  259.85197449  298.04624176  336.24050903  374.43477631
  412.62904358  450.82331085  489.01757812  527.2118454   565.40611267
  603.60037994  641.79464722  679.98891449  718.18318176  756.37744904
  794.57171631]
distance difference  counter: 
(array([    1,     0,     3,     1,     3,    10,     6,    22,    23,
          26,    57,    91,   153,   325,   684,  1548,  4124, 11606,
        4700,   135]), array([-6.83105898, -6.44532327, -6.05958756, -5.67385184, -5.28811613,
       -4.90238042, -4.51664471, -4.130909  , -3.74517329, -3.35943758,
       -2.97370186, -2.58796615, -2.20223044, -1.81649473, -1.43075902,
       -1.04502331, -0.6592876 , -0.27355188,  0.11218383,  0.49791954,
        0.88365525]))
||Xanchor-Xpos||_2  counter: 
[  74  208  395  608  769  993 1129 1110  955  758  561  319  212   93   44
   15    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   44  131  260  494  739  967 1071 1124 1030  843  627  433  237  132
   59   34   10    1    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  69.08907318  104.24636879  139.4036644   174.56096001  209.71825562
  244.87555122  280.03284683  315.19014244  350.34743805  385.50473366
  420.66202927  455.81932487  490.97662048  526.13391609  561.2912117
  596.44850731  631.60580292  666.76309853  701.92039413  737.07768974
  772.23498535]
distance difference  counter: 
(array([   1,    2,    1,    3,    4,    6,    7,   13,   21,   25,   47,
         97,  146,  329,  608, 1276, 2610, 2457,  546,   47]), array([-3.62082076, -3.40718497, -3.19354919, -2.9799134 , -2.76627761,
       -2.55264182, -2.33900604, -2.12537025, -1.91173446, -1.69809867,
       -1.48446289, -1.2708271 , -1.05719131, -0.84355552, -0.62991974,
       -0.41628395, -0.20264816,  0.01098762,  0.22462341,  0.4382592 ,
        0.65189499]))
train/val Accuracy = 0.608555149247 / 0.58385884065 
 with threshold: [[ 284.20661538]]
============ epoch 1 ===========
training loss:		1.721152
||Xanchor-Xpos||_2  counter: 
[ 248 1277 2050 2415 2896 3160 3107 2611 2101 1492  999  613  273  163   71
   18   11    9    4    0]
||Xanchor-Xneg||_2  counter: 
[  97  585  903 1327 1855 2394 3011 3226 3032 2573 1775 1172  748  392  240
  106   47   24    6    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  23.59857559   58.26071529   92.922855    127.5849947   162.2471344
  196.9092741   231.5714138   266.2335535   300.89569321  335.55783291
  370.21997261  404.88211231  439.54425201  474.20639172  508.86853142
  543.53067112  578.19281082  612.85495052  647.51709023  682.17922993
  716.84136963]
distance difference  counter: 
(array([    1,     3,     2,     5,     6,     9,    23,    22,    22,
          39,    79,   133,   219,   432,   884,  1992,  5268, 11425,
        2846,   108]), array([-6.07622719, -5.72831104, -5.38039489, -5.03247874, -4.68456259,
       -4.33664644, -3.98873029, -3.64081414, -3.29289799, -2.94498184,
       -2.59706569, -2.24914954, -1.90123339, -1.55331724, -1.20540109,
       -0.85748494, -0.50956879, -0.16165264,  0.18626351,  0.53417966,
        0.88209581]))
||Xanchor-Xpos||_2  counter: 
[  75  192  406  623  787  962 1101 1126  994  758  548  329  181   96   42
   21    4    1    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   39  130  277  492  739  932 1109 1090 1032  851  635  438  235  130
   61   32   11    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  62.74975967   94.68032589  126.61089211  158.54145832  190.47202454
  222.40259075  254.33315697  286.26372318  318.1942894   350.12485561
  382.05542183  413.98598804  445.91655426  477.84712048  509.77768669
  541.70825291  573.63881912  605.56938534  637.49995155  669.43051777
  701.36108398]
distance difference  counter: 
(array([   1,    1,    4,    1,    5,    4,    7,   13,   12,   24,   52,
         79,  140,  289,  591, 1221, 2571, 2534,  644,   53]), array([ -3.60431385e+00,  -3.39226913e+00,  -3.18022442e+00,
        -2.96817970e+00,  -2.75613499e+00,  -2.54409027e+00,
        -2.33204556e+00,  -2.12000084e+00,  -1.90795612e+00,
        -1.69591141e+00,  -1.48386669e+00,  -1.27182198e+00,
        -1.05977726e+00,  -8.47732544e-01,  -6.35687828e-01,
        -4.23643112e-01,  -2.11598396e-01,   4.46319580e-04,
         2.12491035e-01,   4.24535751e-01,   6.36580467e-01]))
train/val Accuracy = 0.607470873374 / 0.584283288867 
 with threshold: [[ 258.34898384]]
============ epoch 2 ===========
training loss:		1.600245
||Xanchor-Xpos||_2  counter: 
[ 354 1422 2090 2596 2918 3193 3050 2527 2025 1416  899  518  280  127   62
   27    8    3    1    2]
||Xanchor-Xneg||_2  counter: 
[ 156  612  967 1425 1958 2468 3127 3190 3060 2398 1637 1128  645  383  204
   92   42   14    8    4]
||Xanchor-X_neg/pos||_2  bins edge: 
[  25.66694641   57.25976791   88.85258942  120.44541092  152.03823242
  183.63105392  215.22387543  246.81669693  278.40951843  310.00233994
  341.59516144  373.18798294  404.78080444  436.37362595  467.96644745
  499.55926895  531.15209045  562.74491196  594.33773346  625.93055496
  657.52337646]
distance difference  counter: 
(array([    2,     2,     4,     7,     5,    15,    29,    18,    32,
          65,    85,   137,   293,   541,  1073,  2410,  6034, 10665,
        2016,    85]), array([-5.55052328, -5.22931267, -4.90810206, -4.58689145, -4.26568084,
       -3.94447023, -3.62325962, -3.30204901, -2.98083839, -2.65962778,
       -2.33841717, -2.01720656, -1.69599595, -1.37478534, -1.05357473,
       -0.73236412, -0.41115351, -0.0899429 ,  0.23126771,  0.55247833,
        0.87368894]))
||Xanchor-Xpos||_2  counter: 
[  65  189  407  650  832 1052 1106 1146  954  720  514  304  179   75   43
    7    2    1    0    0]
||Xanchor-Xneg||_2  counter: 
[   8   36  141  275  527  804  964 1149 1156 1007  846  586  340  228   98
   49   24    6    1    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  54.21804428   84.15903721  114.10003014  144.04102306  173.98201599
  203.92300892  233.86400185  263.80499477  293.7459877   323.68698063
  353.62797356  383.56896648  413.50995941  443.45095234  473.39194527
  503.33293819  533.27393112  563.21492405  593.15591698  623.0969099
  653.03790283]
distance difference  counter: 
(array([   2,    2,    2,    1,    4,    8,    4,   12,   25,   28,   49,
        106,  162,  341,  672, 1367, 2657, 2216,  534,   54]), array([-3.38416219, -3.18290622, -2.98165025, -2.78039428, -2.57913831,
       -2.37788235, -2.17662638, -1.97537041, -1.77411444, -1.57285847,
       -1.37160251, -1.17034654, -0.96909057, -0.7678346 , -0.56657863,
       -0.36532266, -0.1640667 ,  0.03718927,  0.23844524,  0.43970121,
        0.64095718]))
train/val Accuracy = 0.606662981546 / 0.585071549842 
 with threshold: [[ 234.56367419]]
============ epoch 3 ===========
training loss:		1.500518
||Xanchor-Xpos||_2  counter: 
[ 245 1258 2047 2500 2869 3236 3109 2598 2114 1486  932  565  295  136   84
   19   16    3    3    2]
||Xanchor-Xneg||_2  counter: 
[  88  576  909 1372 1852 2349 3089 3308 2990 2537 1755 1189  704  392  226
  110   47   14    9    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  19.14054108   47.85997276   76.57940445  105.29883614  134.01826782
  162.73769951  191.4571312   220.17656288  248.89599457  277.61542625
  306.33485794  335.05428963  363.77372131  392.493153    421.21258469
  449.93201637  478.65144806  507.37087975  536.09031143  564.80974312
  593.5291748 ]
distance difference  counter: 
(array([    3,     2,     4,     7,     5,    12,    23,    22,    29,
          64,    87,   139,   293,   527,  1139,  2438,  6133, 10545,
        1951,    95]), array([-5.460567  , -5.14374903, -4.82693105, -4.51011308, -4.19329511,
       -3.87647714, -3.55965917, -3.24284119, -2.92602322, -2.60920525,
       -2.29238728, -1.9755693 , -1.65875133, -1.34193336, -1.02511539,
       -0.70829742, -0.39147944, -0.07466147,  0.2421565 ,  0.55897447,
        0.87579244]))
||Xanchor-Xpos||_2  counter: 
[  64  188  373  552  762  891 1054 1080 1014  786  588  411  244  133   67
   28    8    2    1    0]
||Xanchor-Xneg||_2  counter: 
[  12   29  121  236  430  682  871 1014 1067 1071  901  674  482  327  171
   81   42   24    8    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  51.8127327    77.19604626  102.57935982  127.96267338  153.34598694
  178.7293005   204.11261406  229.49592762  254.87924118  280.26255474
  305.6458683   331.02918186  356.41249542  381.79580898  407.17912254
  432.5624361   457.94574966  483.32906322  508.71237679  534.09569035
  559.47900391]
distance difference  counter: 
(array([   1,    1,    4,    0,    3,    4,    6,   10,   23,   26,   42,
        113,  147,  384,  673, 1404, 2778, 2143,  448,   36]), array([-3.38815427, -3.18567309, -2.98319191, -2.78071074, -2.57822956,
       -2.37574838, -2.1732672 , -1.97078603, -1.76830485, -1.56582367,
       -1.36334249, -1.16086132, -0.95838014, -0.75589896, -0.55341778,
       -0.35093661, -0.14845543,  0.05402575,  0.25650693,  0.4589881 ,
        0.66146928]))
train/val Accuracy = 0.607215749639 / 0.582100412321 
 with threshold: [[ 212.93949029]]
============ epoch 4 ===========
training loss:		1.418261
||Xanchor-Xpos||_2  counter: 
[ 302 1247 1949 2307 2690 3054 3000 2625 2080 1654 1099  703  429  201  101
   47   14    7    6    2]
||Xanchor-Xneg||_2  counter: 
[ 117  578  845 1248 1725 2183 2766 3122 3015 2622 2002 1300  869  513  300
  167   92   32   15    7]
||Xanchor-X_neg/pos||_2  bins edge: 
[  20.66918755   45.43025637   70.19132519   94.95239401  119.71346283
  144.47453165  169.23560047  193.99666929  218.75773811  243.51880693
  268.27987576  293.04094458  317.8020134   342.56308222  367.32415104
  392.08521986  416.84628868  441.6073575   466.36842632  491.12949514
  515.89056396]
distance difference  counter: 
(array([    4,     1,     5,     6,     7,    14,    24,    21,    41,
          48,    97,   160,   281,   593,  1243,  2707,  6520, 10017,
        1651,    78]), array([-5.24519491, -4.93874226, -4.6322896 , -4.32583694, -4.01938429,
       -3.71293163, -3.40647898, -3.10002632, -2.79357367, -2.48712101,
       -2.18066835, -1.8742157 , -1.56776304, -1.26131039, -0.95485773,
       -0.64840508, -0.34195242, -0.03549976,  0.27095289,  0.57740555,
        0.8838582 ]))
||Xanchor-Xpos||_2  counter: 
[  60  215  380  629  822  995 1101 1158  985  721  540  323  183   79   36
   16    1    2    0    0]
||Xanchor-Xneg||_2  counter: 
[  10   32  132  281  502  768  967 1123 1122 1021  882  582  391  226  119
   46   26   13    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  44.72253036   69.18534794   93.64816551  118.11098309  142.57380066
  167.03661823  191.49943581  215.96225338  240.42507095  264.88788853
  289.3507061   313.81352367  338.27634125  362.73915882  387.20197639
  411.66479397  436.12761154  460.59042912  485.05324669  509.51606426
  533.97888184]
distance difference  counter: 
(array([   1,    1,    0,    2,    4,    4,    5,    6,   23,   23,   41,
         80,  126,  259,  547, 1188, 2488, 2730,  650,   68]), array([-3.55826259, -3.34818316, -3.13810373, -2.9280243 , -2.71794487,
       -2.50786544, -2.29778602, -2.08770659, -1.87762716, -1.66754773,
       -1.4574683 , -1.24738887, -1.03730944, -0.82723002, -0.61715059,
       -0.40707116, -0.19699173,  0.0130877 ,  0.22316713,  0.43324656,
        0.64332598]))
train/val Accuracy = 0.6080874224 / 0.583676934271 
 with threshold: [[ 193.54132564]]
untile now, the train_val_mean_acc: [0.59420841224777909, 0.59412494373984326, 0.59597351052878889, 0.59492610889359199, 0.59665389721048423, 0.69973676455127798, 0.60031978488587101, 0.69179277938158001, 0.64727173845941532, 0.59530771420622153, 0.59462971499096051, 0.5965011148282251, 0.59484389084053813, 0.59698663423067488, 0.70571856685928036, 0.59878231580201424, 0.71058425954827231, 0.66915572246209076, 0.5941418648437411, 0.59533526546574456, 0.59620699494869855]
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/003_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_val.shape=(25104, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_val.shape=(24738, 3, 64, 64)
lr_coefficient of previous layers: 0
loaded the weight: /home/mengqi/dataset/MVS/lasagne/save_model_2views_triplet/vgg16.pkl
learning rate: 0.03, batch size: 1500, triplet_alpha: 20, shuffle_sample_ON: True, weight_decay: 0.01
============ epoch 0 ===========
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/011_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/066_hard_inputs.data
loaded: /home/mengqi/dataset/MVS/lasagne/save_inputs_target_2views_triplet/006_hard_inputs.data
before filterOutNearPurePatches_4D, triplet_stack_train.shape=(77406, 3, 64, 64)
after filterOutNearPurePatches_4D, triplet_stack_train.shape=(70554, 3, 64, 64)
training loss:		0.019411
||Xanchor-Xpos||_2  counter: 
[ 220 1190 1974 2373 2664 3117 2996 2668 2210 1589 1144  662  367  173   86
   54   16    8    5    1]
||Xanchor-Xneg||_2  counter: 
[  74  546  864 1270 1752 2151 2829 3184 3006 2562 2005 1336  884  497  285
  157   67   32   12    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.76672554   65.45879698  104.15086842  142.84293985  181.53501129
  220.22708273  258.91915417  297.61122561  336.30329704  374.99536848
  413.68743992  452.37951136  491.07158279  529.76365423  568.45572567
  607.14779711  645.83986855  684.53193998  723.22401142  761.91608286
  800.6081543 ]
distance difference  counter: 
(array([    1,     0,     0,     0,     3,     2,     4,    11,    24,
          29,    35,    60,   133,   227,   506,  1185,  3226, 10065,
        7770,   237]), array([-7.5395484 , -7.11917082, -6.69879324, -6.27841566, -5.85803808,
       -5.4376605 , -5.01728292, -4.59690534, -4.17652776, -3.75615018,
       -3.3357726 , -2.91539502, -2.49501745, -2.07463987, -1.65426229,
       -1.23388471, -0.81350713, -0.39312955,  0.02724803,  0.44762561,
        0.86800319]))
||Xanchor-Xpos||_2  counter: 
[  63  188  365  599  745  949 1056 1113 1011  777  556  390  220  128   56
   21    6    3    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   37  106  269  449  720  889 1039 1102 1078  866  670  439  282  157
   91   26   14    3    2]
||Xanchor-X_neg/pos||_2  bins edge: 
[  72.67346954  110.75608635  148.83870316  186.92131996  225.00393677
  263.08655357  301.16917038  339.25178719  377.33440399  415.4170208
  453.4996376   491.58225441  529.66487122  567.74748802  605.83010483
  643.91272163  681.99533844  720.07795525  758.16057205  796.24318886
  834.32580566]
distance difference  counter: 
(array([   1,    1,    1,    3,    1,    3,    5,    9,   19,   22,   28,
         45,  126,  210,  441,  997, 2200, 3163,  881,   90]), array([-4.04009104, -3.80650994, -3.57292884, -3.33934774, -3.10576664,
       -2.87218554, -2.63860444, -2.40502335, -2.17144225, -1.93786115,
       -1.70428005, -1.47069895, -1.23711785, -1.00353675, -0.76995565,
       -0.53637455, -0.30279346, -0.06921236,  0.16436874,  0.39794984,
        0.63153094]))
train/val Accuracy = 0.60740709244 / 0.579250545719 
 with threshold: [[ 296.67935199]]
============ epoch 1 ===========
training loss:		0.019239
||Xanchor-Xpos||_2  counter: 
[ 257 1297 1952 2404 2766 3062 3080 2663 2088 1579 1067  595  381  158   98
   39   17    9    4    1]
||Xanchor-Xneg||_2  counter: 
[ 101  572  895 1312 1790 2231 2885 3166 3008 2560 1943 1251  826  463  272
  140   64   24   10    5]
||Xanchor-X_neg/pos||_2  bins edge: 
[  28.53869438   67.0941968   105.64969921  144.20520163  182.76070404
  221.31620646  259.87170887  298.42721128  336.9827137   375.53821611
  414.09371853  452.64922094  491.20472336  529.76022577  568.31572819
  606.8712306   645.42673302  683.98223543  722.53773785  761.09324026
  799.64874268]
distance difference  counter: 
(array([    1,     0,     0,     1,     8,     5,    11,    19,    20,
          33,    49,   116,   152,   319,   693,  1550,  4245, 11602,
        4545,   149]), array([-6.8060565, -6.4215612, -6.0370659, -5.6525706, -5.2680753,
       -4.88358  , -4.4990847, -4.1145894, -3.7300941, -3.3455988,
       -2.9611035, -2.5766082, -2.1921129, -1.8076176, -1.4231223,
       -1.038627 , -0.6541317, -0.2696364,  0.1148589,  0.4993542,
        0.8838495]))
||Xanchor-Xpos||_2  counter: 
[  66  232  407  631  860 1011 1078 1149  976  709  502  314  185   74   32
   14    4    2    0    0]
||Xanchor-Xneg||_2  counter: 
[   9   45  127  298  536  788  983 1113 1160 1034  828  540  363  227  111
   50   22    9    2    1]
||Xanchor-X_neg/pos||_2  bins edge: 
[  73.64041901  112.79227867  151.94413834  191.095998    230.24785767
  269.39971733  308.551577    347.70343666  386.85529633  426.00715599
  465.15901566  504.31087532  543.46273499  582.61459465  621.76645432
  660.91831398  700.07017365  739.22203331  778.37389297  817.52575264
  856.6776123 ]
distance difference  counter: 
(array([   1,    1,    4,    3,    1,    3,    6,   10,   14,   31,   47,
         86,  137,  264,  494, 1120, 2275, 2908,  756,   85]), array([-3.74512601, -3.52707333, -3.30902064, -3.09096796, -2.87291528,
       -2.6548626 , -2.43680992, -2.21875723, -2.00070455, -1.78265187,
       -1.56459919, -1.3465465 , -1.12849382, -0.91044114, -0.69238846,
       -0.47433577, -0.25628309, -0.03823041,  0.17982227,  0.39787495,
        0.61592764]))
train/val Accuracy = 0.607428352751 / 0.582828037837 
 with threshold: [[ 294.0085329]]
============ epoch 2 ===========
training loss:		0.019070
||Xanchor-Xpos||_2  counter: 
[ 229 1257 2002 2339 2842 3107 3097 2579 2163 1560 1057  621  358  178   73
   33   13    5    3    2]
||Xanchor-Xneg||_2  counter: 
[  84  571  890 1323 1780 2283 2901 3203 3010 2572 1855 1335  783  447  250
  134   67   18    9    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  26.20047569   64.7752389   103.3500021   141.9247653   180.4995285
  219.07429171  257.64905491  296.22381811  334.79858131  373.37334452
  411.94810772  450.52287092  489.09763412  527.67239733  566.24716053
  604.82192373  643.39668694  681.97145014  720.54621334  759.12097654
  797.69573975]
distance difference  counter: 
(array([    1,     0,     2,     4,     6,     5,     9,    13,    28,
          33,    52,    92,   158,   324,   666,  1573,  4133, 11315,
        4930,   174]), array([-6.77103949, -6.3890828 , -6.00712612, -5.62516944, -5.24321276,
       -4.86125608, -4.4792994 , -4.09734271, -3.71538603, -3.33342935,
       -2.95147267, -2.56951599, -2.18755931, -1.80560263, -1.42364594,
       -1.04168926, -0.65973258, -0.2777759 ,  0.10418078,  0.48613746,
        0.86809415]))
||Xanchor-Xpos||_2  counter: 
[  77  204  386  604  794  920 1071 1118  988  748  575  361  206  115   50
   20    5    4    0    0]
||Xanchor-Xneg||_2  counter: 
[   7   46  124  272  475  740  897 1038 1116 1049  846  648  418  284  147
   77   40   14    5    3]
||Xanchor-X_neg/pos||_2  bins edge: 
[  76.57611847  113.6836956   150.79127274  187.89884987  225.006427
  262.11400414  299.22158127  336.3291584   373.43673553  410.54431267
  447.6518898   484.75946693  521.86704407  558.9746212   596.08219833
  633.18977547  670.2973526   707.40492973  744.51250687  781.620084
  818.72766113]
distance difference  counter: 
(array([   2,    0,    0,    1,    3,    3,    7,    5,   14,   19,   38,
         59,  108,  190,  451,  973, 2163, 3211,  909,   90]), array([-4.05975389, -3.82525286, -3.59075183, -3.35625079, -3.12174976,
       -2.88724872, -2.65274769, -2.41824666, -2.18374562, -1.94924459,
       -1.71474355, -1.48024252, -1.24574149, -1.01124045, -0.77673942,
       -0.54223838, -0.30773735, -0.07323632,  0.16126472,  0.39576575,
        0.63026679]))
train/val Accuracy = 0.608044901777 / 0.57749211739 
 with threshold: [[ 291.38262479]]
============ epoch 3 ===========
